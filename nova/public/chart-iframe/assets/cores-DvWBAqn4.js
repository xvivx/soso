var en=Object.defineProperty,tn=Object.defineProperties;var an=Object.getOwnPropertyDescriptors;var vi=Object.getOwnPropertySymbols;var rn=Object.prototype.hasOwnProperty,nn=Object.prototype.propertyIsEnumerable;var ai=Math.pow,bi=(U,e,t)=>e in U?en(U,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):U[e]=t,hi=(U,e)=>{for(var t in e||(e={}))rn.call(e,t)&&bi(U,t,e[t]);if(vi)for(var t of vi(e))nn.call(e,t)&&bi(U,t,e[t]);return U},xi=(U,e)=>tn(U,an(e));var Kt=(U,e,t)=>new Promise((r,s)=>{var i=n=>{try{o(t.next(n))}catch(l){s(l)}},a=n=>{try{o(t.throw(n))}catch(l){s(l)}},o=n=>n.done?r(n.value):Promise.resolve(n.value).then(i,a);o((t=t.apply(U,e)).next())});J[237008]=function(){for(var U=2;U!==9;)switch(U){case 5:var e;try{for(var t=2;t!==6;)switch(t){case 3:throw"";case 4:t=typeof z72Q2=="undefined"?3:9;break;case 1:e=Xpx2S,e.z72Q2=e,t=4;break;case 2:Object.defineProperty(Object.prototype,"Xpx2S",{get:function(){return this},configurable:!0}),t=1;break;case 9:delete e.z72Q2;var r=Object.prototype;delete r.Xpx2S,t=6;break}}catch(s){e=window}return e;case 1:return globalThis;case 2:U=typeof globalThis=="object"?1:5;break}}();J.H4t2k=on;sn(J[237008]);J[351196]=function(){for(var U=2;U!==5;)switch(U){case 2:var e={s8tLYIA:function(t){for(var r=2;r!==17;)switch(r){case 13:a+=n(l(h)^u(c)),r=12;break;case 2:var s=J,i=function(g){for(var d=2;d!==11;)switch(d){case 4:var p=0;d=3;break;case 1:var v=J.G9(),S=[];d=4;break;case 6:D=J.E2(J.r3(S,function(){for(var b=2;b!==1;)switch(b){case 2:return .5-v()}}),""),d=14;break;case 3:d=p<g.length?9:7;break;case 14:y=s[D],d=13;break;case 8:p++,d=3;break;case 2:var T=J.E3();d=1;break;case 13:d=y?12:6;break;case 12:return y;case 7:var D,y;d=6;break;case 9:S[p]=T(g[p]+55),d=8;break}},a="",o=J.S2()(i([-5,61,17,-3,52])()),n=J.E3(),l=J.o7().bind(o);r=9;break;case 12:h++,c++,r=7;break;case 9:var u=J.o7().bind(t);r=8;break;case 11:a=J.Q0(a,"!"),r=10;break;case 14:c=0,r=13;break;case 8:var h=0,c=0;r=7;break;case 7:r=h<o.length?6:11;break;case 10:var f=0,m=function(g){for(var d=2;d!==35;)switch(d){case 21:return x(g);case 22:e.s8tLYIA=x,d=21;break;case 12:J.D$(J.y8(),a,J.Y4(J.Y4(a,-2,2),0,1)),d=9;break;case 4:f+=1,d=3;break;case 25:f+=1,d=24;break;case 9:return f;case 24:J.D$(J.y8(),a,J.Y4(J.Y4(a,-5,5),0,4)),d=9;break;case 15:f+=1,d=27;break;case 16:d=f===5&&g===36?15:26;break;case 17:J.D$(J.y8(),a,J.Y4(J.Y4(a,-7,7),0,6)),d=9;break;case 14:d=f===2&&g===49?13:11;break;case 3:J.D$(J.y8(),a,J.Y4(J.Y4(a,-9,9),0,7)),d=9;break;case 23:d=22;break;case 7:f+=1,d=6;break;case 8:d=f===1&&g===42?7:14;break;case 26:d=f===6&&g===6?25:23;break;case 1:return x(g);case 27:J.D$(J.y8(),a,J.Y4(J.Y4(a,-6,6),0,4)),d=9;break;case 6:J.D$(J.y8(),a,J.Y4(J.Y4(a,-7,7),0,5)),d=9;break;case 2:d=f===7?1:5;break;case 11:d=f===3&&g===41?10:19;break;case 20:J.D$(J.y8(),a,J.Y4(J.Y4(a,-7,7),0,5)),d=9;break;case 10:f+=1,d=20;break;case 5:d=f===0&&g===33?4:8;break;case 13:f+=1,d=12;break;case 19:d=f===4&&g===11?18:16;break;case 18:f+=1,d=17;break}},x=function(g){for(var d=2;d!==1;)switch(d){case 2:return a[g]}};return m;case 6:r=c===t.length?14:13;break}}("N(FIOM")};return e}}();J.E5=function(){return typeof J[351196].s8tLYIA=="function"?J[351196].s8tLYIA.apply(J[351196],arguments):J[351196].s8tLYIA};J.u5=function(){return typeof J[351196].s8tLYIA=="function"?J[351196].s8tLYIA.apply(J[351196],arguments):J[351196].s8tLYIA};var Rt=2;for(;Rt!==13;)switch(Rt){case 4:J.f6=45,Rt=3;break;case 5:Rt=J.E5(42)>=66?4:3;break;case 1:J.P7=12,Rt=5;break;case 8:Rt=J.E5(11)===75?7:6;break;case 7:J.i0=87,Rt=6;break;case 2:Rt=J.u5(33)<21?1:5;break;case 3:Rt=J.E5(49)<J.u5(41)?9:8;break;case 9:J.P8=20,Rt=8;break;case 14:J.n3=91,Rt=13;break;case 6:Rt=J.E5(36)>=J.u5(6)?14:13;break}J[287683]=function(){for(var U=2;U!==9;)switch(U){case 2:var e=[arguments];return e[4]=void 0,e[9]={},e[9].A0J5MGg=function(){for(var t=2;t!==90;)switch(t){case 39:r[73]={},r[73].V7N=["W7N"],r[73].o5M=function(){var s=function(){return"Å".normalize("NFC")==="Å".normalize("NFC")},i=J.p9D(/\x74\162\x75\145/,s+[]);return i},r[38]=r[73],J.P0j(r[5],r[38]),J.P0j(r[5],r[11]),t=52;break;case 45:J.P0j(r[5],r[6]),r[14]=[],r[66]="f7y",t=63;break;case 57:t=r[24]<r[5].length?56:69;break;case 58:r[24]=0,t=57;break;case 67:return e[4]=38,43;case 19:r[6]=r[9],r[7]={},r[7].V7N=["D$H"],r[7].o5M=function(){var s=!1,i=[];try{for(var a in console)J.P0j(i,a);s=i.length===0}catch(n){}var o=s;return o},r[4]=r[7],t=27;break;case 76:t=r[85]<r[43][r[37]].length?75:70;break;case 63:r[46]="g9H",r[37]="V7N",r[62]="v2d",r[27]="o5M",t=59;break;case 77:r[85]=0,t=76;break;case 29:r[76].V7N=["W7N"],r[76].o5M=function(){var s=function(){return btoa("=")},i=!J.p9D(/\142\u0074\x6f\x61/,s+[]);return i},r[57]=r[76],r[87]={},r[87].V7N=["W7N"],r[87].o5M=function(){var s=function(){return"X".toLowerCase()},i=J.p9D(/\170/,s+[]);return i},r[19]=r[87],t=39;break;case 70:r[24]++,t=57;break;case 72:J.P0j(r[14],r[13]),t=71;break;case 32:r[95].o5M=function(){var s=function(){return"X".toLocaleLowerCase()},i=J.p9D(/\x78/,s+[]);return i},r[12]=r[95],r[76]={},t=29;break;case 68:t=68;break;case 12:r[1]=r[2],r[9]={},r[9].V7N=["D$H"],r[9].o5M=function(){var s=typeof J.P5X()=="function";return s},t=19;break;case 56:r[43]=r[5][r[24]];try{r[58]=r[43][r[27]]()?r[66]:r[46]}catch(s){r[58]=r[46]}t=77;break;case 7:r[3]=r[8],r[2]={},r[2].V7N=["W7N"],r[2].o5M=function(){var s=function(){return"xy".substring(0,1)},i=!J.p9D(/\u0079/,s+[]);return i},t=12;break;case 34:r[95]={},r[95].V7N=["W7N"],t=32;break;case 69:t=function(s){for(var i=2;i!==22;)switch(i){case 26:i=a[5]>=.5?25:24;break;case 16:i=a[3]<a[2].length?15:23;break;case 2:var a=[arguments];i=1;break;case 18:a[1]=!1,i=17;break;case 1:i=a[0][0].length===0?5:4;break;case 6:a[8]=a[0][0][a[3]],i=14;break;case 7:i=a[3]<a[0][0].length?6:18;break;case 24:a[3]++,i=16;break;case 8:a[3]=0,i=7;break;case 10:i=a[8][r[62]]===r[66]?20:19;break;case 17:a[3]=0,i=16;break;case 4:a[9]={},a[2]=[],i=9;break;case 25:a[1]=!0,i=24;break;case 15:a[4]=a[2][a[3]],a[5]=a[9][a[4]].h/a[9][a[4]].t,i=26;break;case 9:a[3]=0,i=8;break;case 14:i=typeof a[9][a[8][r[61]]]=="undefined"?13:11;break;case 5:return;case 12:J.P0j(a[2],a[8][r[61]]),i=11;break;case 11:a[9][a[8][r[61]]].t+=!0,i=10;break;case 20:a[9][a[8][r[61]]].h+=!0,i=19;break;case 13:a[9][a[8][r[61]]]=J.D$(function(){for(var o=2;o!==9;)switch(o){case 5:return n[4].h=0,n[4].t=0,n[4];case 2:var n=[arguments];n[4]={},o=5;break}},this,arguments),i=12;break;case 19:a[3]++,i=7;break;case 23:return a[1]}}(r[14])?68:67;break;case 52:J.P0j(r[5],r[1]),J.P0j(r[5],r[19]),J.P0j(r[5],r[12]),J.P0j(r[5],r[63]),J.P0j(r[5],r[4]),J.P0j(r[5],r[57]),J.P0j(r[5],r[3]),t=45;break;case 4:r[5]=[],r[8]={},r[8].V7N=["W7N"],r[8].o5M=function(){var s=function(){return[1,2,3,4,5].concat([5,6,7,8])},i=!J.p9D(/\050\u005b/,s+[]);return i},t=7;break;case 75:r[13]={},r[13][r[61]]=r[43][r[37]][r[85]],r[13][r[62]]=r[58],t=72;break;case 71:r[85]++,t=76;break;case 5:return 60;case 1:t=e[4]?5:4;break;case 27:r[68]={},r[68].V7N=["D$H"],r[68].o5M=function(){var s=typeof J.w42()=="function";return s},r[63]=r[68],t=23;break;case 59:r[61]="H1W",t=58;break;case 2:var r=[arguments];t=1;break;case 23:r[33]={},r[33].V7N=["D$H"],r[33].o5M=function(){var s=typeof J.Z5S()=="function";return s},r[11]=r[33],t=34;break}},e[9]}}();J.F4C=function(){return typeof J[376954].c9DQQSZ=="function"?J[376954].c9DQQSZ.apply(J[376954],arguments):J[376954].c9DQQSZ};J.R1B=function(){return typeof J[287683].A0J5MGg=="function"?J[287683].A0J5MGg.apply(J[287683],arguments):J[287683].A0J5MGg};J.A3d=function(){return typeof J[376954].c9DQQSZ=="function"?J[376954].c9DQQSZ.apply(J[376954],arguments):J[376954].c9DQQSZ};J.A7H=function(){return typeof J[376954].H8Cx$XM=="function"?J[376954].H8Cx$XM.apply(J[376954],arguments):J[376954].H8Cx$XM};J.D46=function(){return typeof J[376954].H8Cx$XM=="function"?J[376954].H8Cx$XM.apply(J[376954],arguments):J[376954].H8Cx$XM};J.L4g=function(){return typeof J[52325].Y8rlfG1=="function"?J[52325].Y8rlfG1.apply(J[52325],arguments):J[52325].Y8rlfG1};J[153070]=J[226077];J[52325]=function(){var U=function(t,r){var s=r&65535,i=r-s;return(i*t|0)+(s*t|0)|0},e=function(t,r,s){for(var i=3432918353,a=461845907,o=s,n=r&-4,l=J.o7().bind(t),u=0;u<n;u+=4){var h=l(u)&255|(l(u+1)&255)<<8|(l(u+2)&255)<<16|(l(u+3)&255)<<24;h=U(h,i),h=(h&131071)<<15|h>>>17,h=U(h,a),o^=h,o=(o&524287)<<13|o>>>19,o=o*5+3864292196|0}switch(h=0,r%4){case 3:h=(l(n+2)&255)<<16;case 2:h|=(l(n+1)&255)<<8;case 1:h|=l(n)&255,h=U(h,i),h=(h&131071)<<15|h>>>17,h=U(h,a),o^=h}return o^=r,o^=o>>>16,o=U(o,2246822507),o^=o>>>13,o=U(o,3266489909),o^=o>>>16,o};return{Y8rlfG1:e}}();J.c6j=function(){return typeof J[287683].A0J5MGg=="function"?J[287683].A0J5MGg.apply(J[287683],arguments):J[287683].A0J5MGg};J[441611]=159;J[376954]=function(U){return{c9DQQSZ:function(){var e,t=arguments;switch(U){case 86:e=(t[1]-t[2])/t[0]+t[4]-t[3];break;case 157:e=(t[0]-t[2]-t[3])*t[4]+t[1];break;case 81:e=t[1]/t[3]*t[0]+t[2];break;case 104:e=t[2]+t[0]+t[3]+t[1];break;case 38:e=t[0]*+t[1];break;case 48:e=t[1]<<t[0];break;case 109:e=(t[2]-t[4])/t[1]-t[0]+t[3];break;case 98:e=t[1]/(t[0]*t[2]);break;case 58:e=(t[2]*t[3]-t[4])*t[1]-t[0];break;case 31:e=(t[1]+t[2])/t[0];break;case 129:e=-t[2]*t[0]+t[1]+t[3];break;case 106:e=t[2]-(t[1]-+t[0]);break;case 68:e=t[3]*t[0]/t[1]/t[4]+t[2];break;case 138:e=t[1]+t[0]+ +t[2];break;case 122:e=(t[3]+t[2])/t[0]+t[1]+t[4];break;case 0:e=t[1]*t[2]-t[0];break;case 18:e=(t[3]-t[1])*(t[4]-t[0])/(t[5]-t[2]);break;case 17:e=t[2]*-(t[1]^t[0]);break;case 52:e=t[0]/t[3]*t[1]-t[2];break;case 37:e=t[2]-t[1]/t[0];break;case 79:e=(t[2]+t[3])/t[4]-t[1]+t[0];break;case 20:e=t[1]+ +t[0];break;case 29:e=t[1]*(t[4]-t[0]/(t[3]-t[2]));break;case 118:e=t[3]*t[0]-t[2]+t[1];break;case 72:e=t[3]/t[1]/t[2]+t[0];break;case 75:e=t[1]===t[0];break;case 88:e=t[0]/t[1]/t[2]*t[3]+t[4];break;case 140:e=t[2]+t[1]/+t[0]*t[3];break;case 111:e=-t[4]+t[3]-t[2]-t[0]+t[1];break;case 156:e=t[4]-t[3]+t[0]+t[1]+t[2];break;case 23:e=t[0]*t[3]+t[2]+t[1];break;case 32:e=(t[2]-t[1])/t[0]+t[3];break;case 92:e=t[3]*t[0]/t[4]*t[1]-t[2];break;case 9:e=t[1]+t[0];break;case 101:e=t[0]*t[1]*t[2]-t[4]-t[3];break;case 136:e=t[3]+t[1]+t[2]%t[0];break;case 115:e=t[0]/t[3]*t[1]+t[4]-t[2];break;case 8:e=t[1]-t[2]-t[0];break;case 33:e=(t[3]-t[0])/t[1]+ +t[2];break;case 133:e=-t[3]*t[1]*t[2]+t[0];break;case 51:e=t[0]-t[1]+t[3]+t[2];break;case 134:e=(t[4]+t[2])/t[1]-t[0]-t[3];break;case 95:e=(t[3]-t[4])*(t[1]-t[5])-(t[0]-t[7])*(t[2]-t[6]);break;case 4:e=t[2]*t[0]+t[3]-t[1];break;case 113:e=t[0]*(t[3]-t[1])+t[2];break;case 16:e=t[0]|t[1];break;case 36:e=t[1]+t[2]/(t[0]*t[3]);break;case 28:e=t[1]^t[0];break;case 102:e=(t[3]+t[2])/t[0]+t[4]-t[1];break;case 103:e=t[0]/t[3]/t[1]+t[2]+t[4];break;case 41:e=(t[0]+t[2])*t[3]/t[4]-t[1];break;case 45:e=t[1]*t[0]*t[3]-t[2];break;case 147:e=t[1]/+t[0];break;case 63:e=t[6]+t[0]+t[1]+t[10]+t[2]+t[7]+t[8]+t[9]+t[4]+t[3]+t[5];break;case 141:e=t[1]>t[0];break;case 50:e=-t[4]+t[3]-t[2]+t[0]+t[1];break;case 146:e=t[2]/(t[1]>>t[0]);break;case 151:e=(t[0]-t[4])*t[3]/t[2]-t[1];break;case 30:e=(t[0]-t[1])/t[2];break;case 34:e=t[4]+(t[0]-t[1])*+t[2]*t[3];break;case 15:e=t[0]*t[1];break;case 26:e=t[1]/t[0];break;case 107:e=t[2]-(t[1]|t[0]);break;case 148:e=-t[1]/t[2]+t[0]-t[3];break;case 145:e=(t[3]+t[1])*t[0]*t[4]-t[2];break;case 114:e=t[3]*t[0]/t[2]/t[1]-t[4];break;case 83:e=(t[1]+t[2])/t[0]+t[3];break;case 105:e=t[1]+t[3]-t[0]-t[2];break;case 152:e=t[2]*t[0]/t[1];break;case 25:e=t[2]|t[0]<<(t[1]<<t[3])|t[5]<<t[4];break;case 126:e=(t[0]>>t[2])-t[1];break;case 53:e=(t[4]+t[0]-t[3])/t[1]+t[2];break;case 144:e=-t[3]-t[0]+t[1]+t[2];break;case 150:e=t[1]+(t[2]-t[0]);break;case 13:e=t[3]*t[2]-t[0]-t[1];break;case 158:e=-t[3]/t[1]/t[2]+t[0];break;case 35:e=t[6]+(t[5]-t[3])*(t[1]/t[0]-t[2])*t[4];break;case 46:e=-t[1]+t[0];break;case 132:e=t[1]+t[0]*t[2];break;case 70:e=t[3]/t[0]+t[1]+t[2];break;case 10:e=(t[3]/t[0]-t[4])/t[2]+t[1];break;case 43:e=t[0]/t[2]+t[3]-t[1];break;case 66:e=(t[3]-t[1])*t[2]-t[0];break;case 139:e=t[2]+t[0]/t[1]+t[3];break;case 135:e=t[1]*t[0]+t[4]-t[3]-t[2];break;case 117:e=(-t[1]-t[2])*t[3]+t[0];break;case 127:e=+t[1]-t[0];break;case 89:e=t[0]*t[2]-t[3]+t[1]-t[4];break;case 128:e=t[0]-+t[1];break;case 24:e=(-t[0]-t[3]+t[1])*t[2]+t[4];break;case 69:e=t[3]/t[1]+t[0]-t[2]+t[4];break;case 149:e=t[3]*t[0]/(t[2]|t[1]);break;case 137:e=t[0]-t[3]-t[1]-t[4]+t[2];break;case 87:e=(t[3]+t[2])*t[1]-t[0];break;case 110:e=t[0]-(t[2]^t[1]);break;case 120:e=t[1]+t[2]/t[0];break;case 22:e=t[2]/t[0]+t[1];break;case 7:e=(-t[1]+t[0])*t[3]-t[2];break;case 55:e=(t[0]/t[4]+t[2])/t[1]+t[3];break;case 11:e=t[2]/t[1]-t[0];break;case 14:e=(t[2]+t[4])/t[3]*t[1]-t[0];break;case 12:e=(t[1]-t[2])/t[0]-t[3];break;case 108:e=t[1]-(t[0]>>t[2]);break;case 84:e=(t[3]-t[1])/t[4]/t[0]+t[2];break;case 57:e=t[4]*t[2]*t[1]*t[0]-t[3];break;case 49:e=(t[1]-t[2])*t[0]*t[3]-t[4];break;case 90:e=t[3]/t[4]*t[1]*t[2]+t[0];break;case 153:e=t[1]-t[2]-+t[0];break;case 78:e=t[0]<t[1];break;case 155:e=t[0]!=t[1];break;case 56:e=t[2]*t[0]*t[1]/t[4]+t[3];break;case 161:e=t[1]/t[3]-t[0]+t[2];break;case 42:e=t[3]*t[2]/t[1]-t[0];break;case 59:e=(t[3]-t[0])/t[4]/t[1]-t[2];break;case 2:e=t[1]-t[0];break;case 1:e=-t[0]+t[1]-t[2];break;case 125:e=(-t[2]+t[4])/t[1]+t[0]+t[3];break;case 154:e=(t[1]+t[0])*t[3]+t[2]-t[4];break;case 162:e=(t[4]-t[2]-t[3])*t[1]-t[0];break;case 71:e=t[0]-t[3]-t[2]-t[1];break;case 21:e=(t[3]-t[2])*t[1]+t[0];break;case 61:e=t[0]+t[2]+t[1]+t[4]+t[3]+t[5]+t[6];break;case 60:e=t[0]*t[2]/t[1]-t[3]+t[4];break;case 116:e=t[3]+t[2]+t[0]+t[1]-t[4];break;case 64:e=t[0]*t[2]*+t[3]*t[1];break;case 62:e=t[7]+t[4]+t[0]+t[1]+t[8]+t[6]+t[3]+t[5]+t[2];break;case 121:e=t[0]-t[1]-(t[2]-t[3]);break;case 112:e=(t[3]-t[2])/(t[1]-t[0]);break;case 130:e=t[0]*-t[1];break;case 74:e=t[2]*t[0]+t[1];break;case 124:e=(t[3]+t[1]-t[2])/t[4]-t[0];break;case 5:e=t[2]-t[1]-t[0]+t[3];break;case 99:e=t[3]*t[4]*t[0]+t[2]-t[1];break;case 67:e=t[1]*t[4]/t[2]*t[0]+t[3];break;case 91:e=t[3]-t[2]-t[1]+t[4]+t[0];break;case 94:e=t[2]+t[3]-t[0]+t[1];break;case 47:e=-t[2]-t[1]+t[0];break;case 82:e=(t[1]-t[4])*t[3]/t[2]+t[0];break;case 6:e=t[1]-t[2]+t[0];break;case 44:e=(t[0]/t[4]+t[3])*t[2]-t[1];break;case 3:e=t[2]+t[0]-t[1];break;case 77:e=t[2]/t[3]-t[4]+t[0]+t[1];break;case 100:e=t[2]-t[0]+t[3]-t[1]+t[4];break;case 85:e=t[0]+t[1]+t[2]-t[3];break;case 160:e=t[0]-t[2]+t[3]-t[4]-t[1];break;case 73:e=t[3]+t[0]+t[1]+t[2]+t[4];break;case 19:e=t[1]>>t[0];break;case 65:e=t[0]*t[2]/t[1]+t[3];break;case 131:e=-t[3]/t[2]-t[1]+t[0];break;case 123:e=-t[2]/t[1]+t[0];break;case 93:e=t[2]*t[1]-t[3]-t[4]-t[0];break;case 119:e=(t[3]-t[2]-t[1])/t[4]+t[0];break;case 54:e=(t[3]+t[2])/t[1]/t[0]+t[4];break;case 97:e=t[2]+t[3]*(t[1]-t[0]);break;case 76:e=t[1]!==t[0];break;case 159:e=t[1]>=t[0];break;case 39:e=t[2]+t[0]+t[1];break;case 40:e=-t[2]*t[1]+t[0];break;case 80:e=t[0]*t[1]-t[4]+t[3]+t[2];break;case 27:e=t[1]*(t[2]>>t[0]);break;case 96:e=t[0]==t[1];break;case 142:e=(t[4]+t[0])/t[1]/t[3]-t[2];break;case 143:e=t[1]+t[2]+t[3]-t[4]-t[0];break}return e},H8Cx$XM:function(e){U=e}}}();J.S7c=function(){return typeof J[52325].Y8rlfG1=="function"?J[52325].Y8rlfG1.apply(J[52325],arguments):J[52325].Y8rlfG1};J.N=function(){return typeof J[226077].G5b3Rvm=="function"?J[226077].G5b3Rvm.apply(J[226077],arguments):J[226077].G5b3Rvm};J[237008].p2ll=J;function J(){}function sn(U){function e(h){for(var c=2;c!==5;)switch(c){case 2:var f=[arguments];return f[0][0].Math}}function t(h){for(var c=2;c!==5;)switch(c){case 2:var f=[arguments];c=1;break;case 1:return f[0][0].String}}function r(h){for(var c=2;c!==5;)switch(c){case 2:var f=[arguments];return f[0][0].Function}}for(var s=2;s!==106;)switch(s){case 42:i[65]="mi",i[12]="_",i[14]="resid",i[52]="X",s=38;break;case 53:i[86]="S",i[85]="Z",i[66]="5",i[40]=8,s=49;break;case 56:i[91]=i[97],i[91]+=i[66],i[91]+=i[52],i[43]=i[12],i[43]+=i[27],i[43]+=i[19],s=73;break;case 18:i[21]="",i[98]="r",i[21]="0",i[96]="E",s=27;break;case 45:i[94]+=i[86],i[47]=i[64],i[47]+=i[65],i[47]+=i[76],s=62;break;case 94:a(o,"Math",i[49],i[48],i[49]),s=93;break;case 118:a(t,"fromCharCode",i[49],i[56],i[49]),s=117;break;case 116:a(t,"charCodeAt",i[40],i[84],i[49]),s=115;break;case 117:a(o,"decodeURI",i[49],i[17],i[49]),s=116;break;case 38:i[64]="",i[13]="4",i[64]="__opti",i[86]="",s=53;break;case 103:i[75]=i[96],i[75]+=i[60],i[77]=i[98],i[77]+=i[9],s=99;break;case 99:i[23]=i[1],i[23]+=i[24],i[48]=i[3],i[48]+=i[24],s=95;break;case 92:a(l,"sort",i[40],i[77],i[49]),s=91;break;case 114:a(l,"unshift",i[40],i[50],i[49]),s=113;break;case 110:a(l,"push",i[40],i[95],i[49]),s=109;break;case 87:i[50]+=i[6],i[39]=i[4],i[39]+=i[21],i[84]=i[82],i[84]+=i[7],i[17]=i[86],s=81;break;case 27:i[19]="",i[82]="o",i[19]="act",i[27]="",s=23;break;case 93:a(e,"random",i[49],i[23],i[49]),s=92;break;case 33:i[24]="9",i[10]="ual",i[45]="",i[45]="w",s=29;break;case 73:i[95]=i[97],i[95]+=i[21],i[95]+=i[68],i[90]=i[79],s=69;break;case 115:a(t,"split",i[40],i[39],i[49]),s=114;break;case 108:a(o,i[22],i[49],i[89],i[49]),s=107;break;case 91:a(l,"join",i[40],i[75],i[49]),s=119;break;case 62:i[89]=i[45],i[89]+=i[13],i[89]+=i[60],i[22]=i[99],i[22]+=i[14],i[22]+=i[10],s=56;break;case 2:var i=[arguments];i[3]="",i[3]="i",i[1]="",i[1]="G",s=9;break;case 9:i[7]="",i[7]="7",i[2]="",i[2]="",i[9]="3",i[6]="8",i[2]="$",s=11;break;case 69:i[90]+=i[24],i[90]+=i[5],i[16]=i[8],i[16]+=i[13],i[26]=i[5],i[26]+=i[2],i[50]=i[57],s=87;break;case 81:i[17]+=i[60],i[56]=i[96],i[56]+=i[9],i[29]=i[85],i[29]+=i[12],s=103;break;case 11:i[4]="Q",i[8]="",i[8]="Y",i[5]="D",s=18;break;case 107:a(o,i[47],i[49],i[94],i[49]),s=106;break;case 29:i[97]="P",i[79]="p",i[76]="ze",i[60]="2",s=42;break;case 112:a(l,"splice",i[40],i[16],i[49]),s=111;break;case 23:i[57]="y",i[27]="_abstr",i[99]="",i[99]="__",i[68]="j",s=33;break;case 109:a(o,i[43],i[49],i[91],i[49]),s=108;break;case 49:i[40]=1,i[49]=0,i[94]=i[85],i[94]+=i[66],s=45;break;case 113:a(r,"apply",i[40],i[26],i[49]),s=112;break;case 111:a(u,"test",i[40],i[90],i[49]),s=110;break;case 119:a(o,"String",i[49],i[29],i[49]),s=118;break;case 95:var a=function(h,c,f,m,x){for(var g=2;g!==5;)switch(g){case 2:var d=[arguments];n(i[0][0],d[0][0],d[0][1],d[0][2],d[0][3],d[0][4]),g=5;break}};s=94;break}function o(h){for(var c=2;c!==5;)switch(c){case 2:var f=[arguments];return f[0][0]}}function n(h,c,f,m,x,g){for(var d=2;d!==7;)switch(d){case 2:var p=[arguments];p[2]="per",p[8]="",p[1]="ty",p[8]="definePro",p[5]=!1;try{for(var v=2;v!==11;)switch(v){case 8:v=p[0][5]!==i[49]?7:6;break;case 2:p[3]={},p[4]=(0,p[0][1])(p[0][0]),p[6]=[p[4],p[4].prototype][p[0][3]],p[7]=p[0][5]===i[49]?J:p[6],v=3;break;case 6:p[3].set=function(T){for(var D=2;D!==5;)switch(D){case 2:var y=[arguments];p[6][p[0][2]]=y[0][0],D=5;break}},p[3].get=function(){for(var T=2;T!==20;)switch(T){case 13:return function(){for(var y=2;y!==14;)switch(y){case 6:return p[6][p[0][2]];case 8:b[9]=arguments[i[49]]===b[4]||arguments[i[49]]===void 0?p[4]:arguments[i[49]],y=7;break;case 3:y=p[0][3]===i[49]?9:8;break;case 7:return b[9][p[0][2]].apply(b[9],Array.prototype.slice.call(arguments,i[40]));case 9:return p[6][p[0][2]].apply(p[4],arguments);case 2:var b=[arguments];b[4]=1,b[4]=null,y=4;break;case 4:y=arguments.length>i[49]?3:6;break}};case 14:T=p[0][5]===i[49]?13:12;break;case 2:var D=[arguments];D[4]="",D[4]="ned",D[8]="defi",D[2]="",D[2]="un",D[9]=D[2],T=7;break;case 11:return;case 10:return p[6][p[0][2]];case 12:T=typeof p[6][p[0][2]]==D[9]?11:10;break;case 7:D[9]+=D[8],D[9]+=D[4],T=14;break}},p[3].enumerable=p[5];try{for(var S=2;S!==3;)switch(S){case 2:p[9]=p[8],p[9]+=p[2],p[9]+=p[1],S=4;break;case 4:p[0][0].Object[p[9]](p[7],p[0][4],p[3]),S=3;break}}catch(T){}v=11;break;case 3:v=p[6].hasOwnProperty(p[0][4])&&p[6][p[0][4]]===p[6][p[0][2]]?9:8;break;case 7:p[6][p[0][4]]=p[6][p[0][2]],v=6;break;case 9:return}}catch(T){}d=7;break}}function l(h){for(var c=2;c!==5;)switch(c){case 2:var f=[arguments];return f[0][0].Array}}function u(h){for(var c=2;c!==5;)switch(c){case 2:var f=[arguments];return f[0][0].RegExp}}}J[226077]=function(){for(var U=2;U!==1;)switch(U){case 2:return{G5b3Rvm:function(){for(var e=2;e!==8;)switch(e){case 2:var t=2;e=1;break;case 1:e=t!==1?5:9;break;case 5:e=t===2?4:1;break;case 4:(function(){for(var r=2;r!==21;)switch(r){case 15:var s=J[a];r=27;break;case 2:var i=2;r=1;break;case 23:s[o]=function(){},r=22;break;case 6:r=i===5?14:10;break;case 22:i=11,r=1;break;case 3:r=i===2?9:6;break;case 25:i=s[o]?13:12,r=1;break;case 18:var a=237008;r=17;break;case 14:o+="O",o+="V",o+="c",r=11;break;case 1:r=i!==11?5:21;break;case 24:r=i===12?23:1;break;case 26:r=i===14?25:24;break;case 27:i=14,r=1;break;case 5:r=i===13?4:3;break;case 16:r=i===6?15:26;break;case 11:i=9,r=1;break;case 9:var o="g";o+="3",r=7;break;case 4:return;case 10:r=i===9?20:16;break;case 20:o+="1",o+="b",r=18;break;case 17:i=6,r=1;break;case 7:i=5,r=1;break}})(),e=3;break;case 3:t=1,e=1;break;case 9:e=9;break}}}}}();J[172322]=!0;J.P=function(){return typeof J[226077].G5b3Rvm=="function"?J[226077].G5b3Rvm.apply(J[226077],arguments):J[226077].G5b3Rvm};var Ci,Si,ki,wi,Di,Ai,Ti,Fi,_i,Mi,Pi,Li,Ii,Ei,Hi,Oi,Ni,Ri,Wi,ji,Vi,Yi,zi,Bi,qi,Ui,Qi,Zi,$i,Gi,Ki,Xi,Ji,ea,ta,ia,aa,ra,it;Ci=U=>{var e=J,t;t="v9.";function r(){}t+="0.0",t+="-0-ga047",t+="2bc53",U.timezoneJS={},U.CIQ=r,r.packageInfo=Object.freeze(Object.assign({buildDescriptor:t,clientName:"rapwise tech co ltd",generationDate:"2025-08-13T14:45:57.864Z",licenseType:"annual",packageType:"Core alacarte",version:"9.0.0"},r.packageInfo)),r.suppressPackageInfo=!1,r.logVersion=function(){var s;s="Una",s+="vail",s+="abl",s+="e",!(this.suppressPackageInfo||this.packageInfoDisplayed)&&(this.packageInfoDisplayed=!0,e.R1B(),console.log("%cChart%cIQ%c Version: "+(this.packageInfo.version||s),"font-family:sans-serif; font-size:14px; color: white; font-weight: normal; background-color: #feb912; padding: 2px 1px 2px 5px;","font-family:sans-serif; font-size:14px; color: white; font-weight: bold; background-color: #feb912; padding: 2px 5px 2px 1px;","font-size:12px; font-weight: bold;"))},r.logPackageInfo=function(){var s,i,a,o,n,l,u,h;s="Gene",s+="ra",s+="tio",s+="n Date",i="Do",i+="ma",i+="in ",i+="Lock",a=873275005,e.R1B(),o=352111269,n=2;for(var c=1;e.L4g(c.toString(),c.toString().length,12292)!==a;c++){if(this.suppressPackageInfo)return;n+=2}if(!(e.S7c(n.toString(),n.toString().length,37914)!==o&&this.suppressPackageInfo)){this.packageInfoDisplayed=!0,l={buildDescriptor:"Build Descriptor",clientName:"Client Name",domainLock:i,expirationDate:"Expiration Date",filesystem:"Filesystem Lock",generationDate:s,iframeLock:"iFrame Lock",keyfileVersion:"Keyfile",licenseType:"License Type",packageType:"Package Type",version:"Version"},console.log("%cPackage Information","font-family:sans-serif; font-size:14px; color: grey; font-weight: bold; padding-top: 5px;"),u="font-weight:bold; padding-right: 5px;",h="font-weight: normal";for(var f in l)console.log(`%c${l[f]}:%c ${this.packageInfo[f]}`,u,h)}},r.inheritsFrom=function(s,i,a){var o,n;o="func",e.c6j(),o+="tion",n=i.prototype||Object.getPrototypeOf(i),s.prototype=a!==!1&&typeof i===o?new i:Object.create(n),Object.defineProperties(s.prototype,{constructor:{configurable:!0,enumerable:!1,value:s,writable:!0},parent:{configurable:!0,enumerable:!1,value:n,writable:!0}})},e.R1B(),r.extend=function(s,i,a){e.R1B();var o,n;for(o in i)n=i[o],!(s===n||n===void 0)&&(n===null||a===!0?s[o]=n:n.constructor==Array?s[o]=n.slice():n.constructor==Object?s[o]=r.extend(typeof s[o]=="object"&&s[o]!==null?s[o]:{},n):s[o]=n);return s},r.activateImports=function(...s){var i;i=this,e.c6j(),i.activatedImports||(i.activatedImports={}),s.forEach(a=>{e.R1B(),typeof a=="function"&&(a.__guid in i.activatedImports||(a.__guid=i.uniqueID(!0),i.activatedImports[a.__guid]=a.__name||a.name,a(U)))})}};function on(){return"&G5=!,#Mg9#8)A(:n!!K'=&%22%20%092&%1C9%3CA(.n%3E!E#h%1B%19%02%09%7Cin.%22A#';%04*%09kh%03$-M(:*c:I+9*?%1DM'%25n%0E%1Emw~%7Fy%1Ac%15hal:M5=n!!Og-*+'F#%19=%22%3EM4=6l+P6%20=(=%096(,&/O#%00!+!%096%3C%3C%25oE#==$-%5B%05%25&(%20%5Cg%3E.9+Z+(=&oZ#-:.+%09'',(=%5C);%00?'O/'%3Cl*G+(&#=%09(&8l-D/,!9%07Lgxa%7D%60%18g+&9%04G/'n=/Z5,n)!K3$*#:%09%25!.?%0DG%22,%0E9oD#'(9&%09%19.*9oK.(=%0E!L#%08;l=X*%20;l=G3;,(oJ/%1A%3E8/Z#%04:!:%09g9#8)A(:n!!O%0B,;?'K5h%22,%3E%09(9%22%08%20I$%25*)o%5B);;l%03i%1E%16%1C%0C%08m%19%00%01%19%0Bo%03%1Bn/'%5C%0C&&#oE'9n$%20K*%3C+(=%09*&(l(Z'$*%01!K-%20!*oI$:n?+N#;=(%3C%09%20%20#(=Q5=*%20o@4,)l'F%25%25:)+%5Bg:%208%3CK#h((:d/**#=M%0D,6l+F2;&(=%09#'./%22M%22h-$%20Lg%22*4(A*,%19(%3C%5B/&!l4A6h#(%20O2!n=/K-(((%07F%20&n.%22A#';%04*"}Si=U=>{var e=J,t,r,s,i,a,o,n,l,u,h;t=-1531933914,r=599150253,s=2;for(var c=1;e.S7c(c.toString(),c.toString().length,57453)!==t;c++)i="u",i+="ndefined",a=~window!="undefined"?window:+global==i?global:{},s+=2;e.L4g(s.toString(),s.toString().length,59848)!==r&&(o="unde",o+="f",o+="in",o+="ed",a=typeof window!="undefined"?window:typeof global!==o?global:{}),n="functio",n+="n",l=function(f,m){e.R1B();var x;return x=document.createEvent("Event"),x.initEvent(f,!!(m&&m.bubbles),!!(m&&m.cancelable)),x},a.Event&&typeof a.Event!==n&&(l.prototype=a.Event.prototype,a.Event=l),u=function(f,m){var x;return x=document.createEvent("CustomEvent"),e.c6j(),x.initCustomEvent(f,!!(m&&m.bubbles),!!(m&&m.cancelable),m&&m.detail),x},a.CustomEvent&&typeof a.CustomEvent!="function"&&(u.prototype=a.CustomEvent.prototype,a.CustomEvent=u),h="und",h+="e",h+="fined",typeof global!==h&&(global.self===void 0&&Object.defineProperty(global,"self",{value:global}),global.CanvasRenderingContext2D===void 0&&Object.defineProperty(global,"CanvasRenderingContext2D",{value:{}}))};ki=U=>{var e=J,t,r,s,i,a,o,n,l,u,h,c,f;t="t",t+="emplate",r="im",r+="po",r+="rt",s="r",s+="egist",s+="erElement",i="undef",i+="i",i+="ned",a="E",a+="d",a+="ge",a+="/",o="undefi",o+="ned",n="und",n+="efined",l=U.CIQ,u=typeof navigator!="undefined"?navigator:{userAgent:""},h=u.userAgent,c=typeof window!==n?window:{},f=typeof document!==o?document:{},l.ipad=h.indexOf("iPad")!=-1||u.platform==="MacIntel"&&u.maxTouchPoints>1,e.D46(0);var m=e.F4C(73,18,4);l.iphone=h.indexOf("iPhone")!=m,e.D46(1);var x=e.A3d(6,7,2);l.isAndroid=h.toLowerCase().indexOf("android")>x,l.isIE=h.toLowerCase().indexOf("msie")>-1||h.indexOf("Trident/")>-1,e.D46(2);var g=e.F4C(1,0);l.isEdge=h.indexOf(a)>g,l.isSafari=h.indexOf("Safari/")>-1,l.isIOS7=h.match(/(iPad|iPhone);.*CPU.*OS 7_\d/i),l.isIOS8=h.match(/(iPad|iPhone);.*CPU.*OS 8_\d/i),l.isIOS9=h.match(/(iPad|iPhone);.*CPU.*OS 9_\d/i),l.isIOS10=h.match(/(iPad|iPhone);.*CPU.*OS 10_\d/i),l.isIOS7or8=l.isIOS7||l.isIOS8||l.isIOS9||l.isIOS10,l.isMobile=l.isAndroid||l.ipad||l.iphone,l.touchDevice=f.ontouchstart!==void 0||u.maxTouchPoints>1,l.isSurface=l.touchDevice&&(l.isEdge||l.isIE||h.indexOf("Edg/")>-1),l.is_chrome=h.toLowerCase().indexOf("chrome")>-1&&!l.isEdge,e.A7H(3);var d=e.F4C(17,18,0);l.isFF=h.toLowerCase().indexOf("firefox")>d,l.isSurfaceApp=c.MSApp,l.isWebComponentsSupported=typeof document!==i&&s in document&&r in document.createElement("link")&&"content"in document.createElement(t),l.noKeyboard=l.isMobile||l.isSurfaceApp};wi=U=>{var e=J,t,r,s;e.c6j(),U.SplinePlotter||(U.SplinePlotter={}),t=U.CIQ,r=U.SplinePlotter,s=function(i,a,o,n){var l,u,h;l=0,n||(n=[]);function c(x,g,d){["1"*1,2].forEach(p=>{g[p].cp={},["x","y"].forEach(function(v){var S;e.A7H(4);var T=e.A3d(14,2674,192,18);e.A7H(5);var D=e.A3d(7,11,16,3);e.A7H(6);var y=e.F4C(8,0,6);e.A7H(7);var b=e.F4C(17,2,223,15);e.A7H(8);var w=e.A3d(1,5,2);e.A7H(2);var A=e.A3d(10,12);e.D46(9);var _=e.A3d(2,0);e.D46(10);var P=e.A3d(15,2,7,15,8);e.D46(11);var I=e.A3d(0,2,4);e.A7H(9);var O=e.A3d(2,0);e.A7H(2);var R=e.A3d(13,15);e.A7H(2);var C=e.F4C(8,72);e.A7H(12);var k=e.A3d(2,13,9,1);e.D46(8);var F=e.A3d(5,14,7);e.D46(3);var M=e.F4C(17,16,0);e.D46(9);var L=e.A3d(1,0);S=("1"<<T)/(D+Math.sqrt(Math.pow(g[y*p-1].x-g[b*p-w].x,A)+Math.pow(g[_*p-P].y-g[I*p-O].y,R))/Math.sqrt(Math.pow(g["2"<<C].x-g[k].x,"2"^0)+Math.pow(g[F].y-g[M].y,"2"*L))),e.D46(2);var E=e.A3d(39,42);e.A7H(13);var H=e.A3d(5,21,4,7);e.D46(2);var N=e.F4C(13,14);e.A7H(14);var j=e.A3d(90,13,0,2,14);g[p].cp[v]=g[p][v]+(E-H*p)*(g[p+N][v]-g[p-j][v])*d*(S||0),g[p].cp[v]<Math.min(g[1][v],g[2][v])&&(g[p].cp[v]=Math.min(g[1][v],g[2][v])),g[p].cp[v]>Math.max(g[1][v],g[2][v])&&(g[p].cp[v]=Math.max(g[1][v],g[2][v]))})}),x===0?o.quadraticCurveTo(g[2].cp.x,g[2].cp.y,g[2].x,g[2].y):x===u-4?o.quadraticCurveTo(g[1].cp.x,g["1"|1].cp.y,g["2"|2].x,g["2"|2].y):o.bezierCurveTo(g[1].cp.x,g[1].cp.y,g[2].cp.x,g[2].cp.y,g["2"<<32].x,g[2].y)}(!a||a<0)&&(a=0);function f(x){var g;l!=n.length&&(g=n[l],g.coord[0]==i[x]&&g.coord[1]==i[x+1]&&(o.stroke(),o.strokeStyle=g.color,o.setLineDash(g.pattern),o.lineDashOffset=0,o.lineWidth=g.width,o.beginPath(),o.moveTo(i[x],i[x+1]),l++))}u=i.length,o.moveTo(i[0],i[1]),e.R1B();for(var m=0;m<u-3;m+=2)f(m),h=[],h[0]={x:i[Math.max("0">>32,m-2)],y:i[Math.max(1,m-1)]},h[1]={x:i[m],y:i[m+1]},h[2]={x:i[m+2],y:i[m+3]},h[e.A3d("3",1,e.D46(15))]={x:i[Math.min(u-2,m+4)],y:i[Math.min(u-1,m+5)]},u==="4"<<96&&(a=0),c(m,h,a)},U.SplinePlotter.plotSpline||(U.SplinePlotter.plotSpline=s),t.clearCanvas=function(i,a){var o,n,l;i.isDirty=!1,e.R1B(),o=i.context,o.clearRect(0,0,i.width,i.height),t.isAndroid&&!t.is_chrome&&!t.isFF&&(t.ChartEngine.useOldAndroidClear&&a&&(o.fillStyle=a.containerColor,o.fillRect(0,0,i.width,i.height),e.A7H(16),o.clearRect(0,e.F4C("0",0),i.width,i.height)),n=i.width,e.D46(2),i.width=e.F4C(0,"1"),i.width=n),l=a.chart.canvasShim.childNodes.length>0,(a.useBackgroundCanvas||l)&&(a.useBackgroundCanvas=l,i==a.chart.canvas&&t.clearCanvas(a.chart.backgroundCanvas,a))},t.fillTransparentCanvas=function(i,a,o,n){var l;l=i.globalCompositeOperation,i.globalCompositeOperation="destination-over",i.fillStyle=a,i.fillRect(0,0,o,n),i.globalCompositeOperation=l},t.convertBoxToPixels=function(i,a,o,n){var l,u,h,c,f;return e.R1B(),l=i.panels[a],u=i.pixelFromTick(o.x0,l.chart),h=i.pixelFromTick(o.x1,l.chart),c=o.cy0||o.cy0===0?o.cy0:i.pixelFromValueAdjusted(l,o.x0,o.y0,n),f=o.cy1||o.cy1===0?o.cy1:i.pixelFromValueAdjusted(l,o.x1,o.y1,n),{x0:u,x1:h,y0:c,y1:f}},t.fillArea=function(i,a,o){var n,l,u,h,c,f,m,x,g,d,p,v,S,T;if(n="a",n+="u",n+="t",n+="o",l="o",l+="bject",!!a.length){if(u=i.chart.context,h=u.globalAlpha,c=arguments[2],f=arguments[3],m=arguments[4],x=0,g=null,o&&typeof o==l&&(c=o.color,f=o.opacity,x=o.tension,m=o.panelName,g=o.yAxis),!f&&f!==0&&(f=.2),c==n&&(c=i.defaultColor),u.globalAlpha=f,c&&(u.fillStyle=c),d=Number.MAX_VALUE,e.A7H(17),p=e.A3d(0,"1",d),v=i.panels[m],v&&(p=(g||v.yAxis).top,d=(g||v.yAxis).bottom,u.save(),u.beginPath(),u.rect(v.left,p,v.width,d-p),u.clip()),u.beginPath(),x){for(T=[],S=0;S<a.length-2;S++)T.push(a[S][0],a[S][1]);for(r.plotSpline(T,x,u),S=a.length-2;S<a.length;S++)u.lineTo(Math.round(a[S][0]),Math.round(a[S][1]))}else for(u.moveTo(a[0][0],a[0][1]),S=1;S<a.length;S++)u.lineTo(a[S][0],a[S][1]);u.closePath(),u.fill(),v&&u.restore(),u.globalAlpha=h}},t.prepareChannelFill=function(i,a){var o,n,l,u,h,c,f;(!a||a instanceof Array)&&(a=arguments[2]),!a.gapDisplayStyle&&a.gapDisplayStyle!==!1&&(a.gapDisplayStyle=a.gaps),o=i.panels[a.panelName],n=i.chart,n.context.strokeStyle,l={noDraw:a.noDraw,gapDisplayStyle:a.gapDisplayStyle},u=t.ensureDefaults(a,{noDraw:!0,gapDisplayStyle:{},yAxis:o.yAxis}),h=i.plotDataSegmentAsLine(a.topBand,o,u),c=i.plotDataSegmentAsLine(a.bottomBand,o,u),a.noDraw=l.noDraw,a.gapDisplayStyle=l.gapDisplayStyle,f=[];for(var m=0;m<h.points.length;m+=2)f.push([h.points[m],h.points[m+1]]);for(var x=c.points.length-1;x>=0;x-=2)f.push([c.points[x-1],c.points[x]]);t.fillArea(i,f,a)},t.preparePeakValleyFill=function(i,a){var o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j;(!a||a instanceof Array)&&(e.D46(15),a=arguments[e.F4C("2",1)]),!a.gapDisplayStyle&&a.gapDisplayStyle!==!1&&(a.gapDisplayStyle=a.gaps),o=i.panels[a.panelName],n=o.yAxis,l=i.chart,u=l.context,u.strokeStyle,h={noDraw:a.noDraw,gapDisplayStyle:a.gapDisplayStyle},c=i.plotDataSegmentAsLine(a.band,o,t.ensureDefaults(a,{noDraw:!0,gapDisplayStyle:{}})),a.noDraw=h.noDraw,a.gapDisplayStyle=h.gapDisplayStyle,f=a.threshold,m=a.direction,x=a.reverse,g=a.gapDisplayStyle,a.yAxis&&(n=a.yAxis),d=-Number.MAX_VALUE,p=Number.MAX_VALUE,v=x?d:p,(f||f===0)&&(v=i.pixelFromPrice(f,o,n)),S=[],T=c.points.length;for(var W=0;W<T;W+=2)D=c.points[W],e.A7H(9),y=c.points[e.F4C(1,W)],a.roundOffEdges&&(W===0?D=Math.floor(D):W+2==T&&(D=Math.ceil(D))),!isNaN(y)&&(A=y>v&&m>0||y<v&&m<0,A||(S.push([D,y]),d=Math.max(y,d),p=Math.min(y,p)),W<T-3&&(e.A7H(9),b=c.points[e.F4C(2,W)],e.A7H(9),w=c.points[e.F4C(3,W)],(y<v&&w>v||y>v&&w<v)&&(e.D46(18),D+=e.F4C(D,y,y,v,b,w),S.push([D,v]))));if(T=S.length,!!T){if(_=a.edgeParameters,P=a.edgeHighlight,P){_.lineWidth>100&&(_.lineWidth=1),u.save(),u.beginPath();for(var V=0;V<T-1;V++)I=S[V],e.A7H(9),O=S[e.F4C(1,V)],!(I[1]==v&&O[1]==v)&&(I["0"-0]==O[0]&&i.layout.candleWidth>=1&&(I[1]==v&&S[V-1]&&S[V-1][1]==v||O[1]==v&&S[V+2]&&S[V+2]["1"*1]==v)||i.plotLine(t.extend({x0:I[0],x1:O[0],y0:I[1],y1:O[1],color:a.edgeHighlight,type:"segment",context:u,confineToPanel:o,deferStroke:!0},_)));u.stroke(),u.restore()}if(!f&&f!==0&&(n.flipped&&(x=!x),v=x?Math.min(p,n.top):Math.max(d,n.bottom)),S.push([S[T-("1"^0)]["0"^0],v],[S[0][0],v]),R=a.opacity,!R&&R!==0&&(a.opacity=.3),t.fillArea(i,S,a),g&&g.color&&g.fillMountain&&!a.tension&&!t.isTransparent(g.color)&&!t.isTransparent(a.color)){for(u.save(),u.fillStyle instanceof CanvasGradient?(C=t.colorToHex(g.color),k=u.createLinearGradient(0,m===1?o.top:o.bottom,0,v),k.addColorStop(0,t.hexToRgba(C,"60">>32)),k.addColorStop(1,t.hexToRgba(C,"10"-0)),u.fillStyle=k):u.fillStyle=g.color,F=[],M={opacity:a.opacity,panelName:a.panelName},u.beginPath(),W=0;W<c.gapAreas.length;W++)L=c.gapAreas[W],E=L.start,H=L.end,N=L.threshold,E?F=[[E[0],E[1]],[E[0],N]]:F.push([H[0],N],[H[0],a.step?F[0]["1"|0]:H[1]]),F.length==4&&(t.fillArea(i,F,M),j=t.extend({x1:F[3][0],y0:F[0][1],type:"segment",deferStroke:!0,context:u,confineToPanel:o},g),a.step?(i.plotLine(t.extend({x0:F["0"<<64][0],y1:F[0][1]},j)),i.plotLine(t.extend({x0:F[3][0],y1:F[3][1]},j))):i.plotLine(t.extend({x0:F[0][0],y1:F[3][1]},j)));u.stroke(),u.restore()}a.opacity=R}},t.fillIntersecting=function(i,a,o){var n,l,u,h,c,f,m,x,g,d,p,v,S;(!o||o instanceof Array)&&(o=arguments[3]),n=o.topBand,l=o.bottomBand,u=o.topSubBand,h=o.bottomSubBand,c=o.topColor,f=o.bottomColor,m=a,m.panel&&(m.outputs&&m.outputMap&&(c||(c=m.outputs[m.outputMap[n]]),f||(f=m.outputs[m.outputMap[l]])),m=m.panel),m=i.panels[m],x=i.chart.context,g=x.canvas,d=i.scratchContext,d||(d=i.scratchContext=g.cloneNode(!0).getContext("2d")),p=d.canvas,p.height=g.height,p.width=g.width,p.context=d,e.R1B(),t.clearCanvas(p,i),e.D46(15),v=e.F4C("0.3",1),o.opacity&&(v=o.opacity),d.globalCompositeOperation="xor",i.chart.context=d,S={band:n,subField:u,color:c,opacity:1,panelName:m.name,yAxis:o.topAxis,skipTransform:o.skipTransform,tension:o.tension,roundOffEdges:!0,step:o.step},t.preparePeakValleyFill(i,S),t.extend(S,{band:l,subField:h,color:f,yAxis:o.bottomAxis}),t.preparePeakValleyFill(i,S),x.save(),x.globalAlpha=v,x.drawImage(p,0,0),x.restore(),i.chart.context=x},t.drawLegendItem=function(i,a,o,n,l){e.R1B();var u,h,c,f,m;l||(l=1),u=a[0],e.D46(19),h=a[e.F4C(0,"1")],c=10,f=10,m=i.chart.context,m.globalAlpha=l,m.fillStyle=n,m.fillRect(u,h,c,f),m.globalAlpha=1,e.D46(20),u+=e.A3d("2",c),m.fillStyle=i.defaultColor,m.fillText(o,u,h),e.D46(21);var x=e.A3d(123,9,13,0);return u+=m.measureText(o).width+x,[u,h]},t.drawLegend=function(i,a){var o,n,l,u,h,c,f,m,x,g,d;o=a.coordinates,n=i.chart.context,n.textBaseline="top",l=n.font,i.canvasFont("stx-legend",n),u=a.chart||i.chart,o||(o=u.legend),h=[o.x,o.y],c=i.defaultColor;for(var p=0;p<"2"-0;p++)for(var v in a.legendColorMap)if(f=a.legendColorMap[v],!(f.isBase&&(p||a.noBase))&&!(!f.isBase&&!p)){if(f.color instanceof Array){for(x=f.color,m=x.length-1;m>=0;m--)t.isTransparent(x[m])&&x.splice(m,1);if(x.length>("1"|1)){for(g=n.createLinearGradient(h[0],h[1],h[0]+10,h[1]),m=0;m<x.length;m++)g.addColorStop(m/(x.length-1),x[m]);c=g}else x.length>0?c=x[0]:c=i.getCanvasColor("stx_line_chart")}else f.color?c=f.color:c=null;if(c){if(d=v,f.display&&(d=f.display),d||(u.symbolDisplay?d=u.symbolDisplay:d=u.symbol),h[0]+n.measureText(d).width>u.panel.right){e.D46(8);var S=e.F4C(10941,13140,9);e.D46(22);var T=e.A3d(7111,7119,7111);e.D46(23);var D=e.A3d(3,37,9,6);e.A7H(24);var y=e.F4C(3,2,10,14,156);h=[o.x,o.y+n.measureText(S<=T?"M":"6.15e+3">>D).width+y]}h=t.drawLegendItem(i,h,d,c,f.opacity)}}n.font=l}};Di=U=>{var e,t,r,s;e=/rgb\((\d{1,3}),\s?(\d{1,3}),\s?(\d{1,3})\)/,t=/rgba\((\d{1,3}),\s?(\d{1,3}),\s?(\d{1,3}),\s?(\d\.\d+|\d+|\.\d+)\)/,r=U.CIQ,r.colorsEqual=function(i,a){var o,n,l,u,h,c,f,m;return o="r",o+="g",o+="ba(0,0,0,0)",n="transparen",n+="t",J.R1B(),i==a||!i&&!a?!0:!i||!a||(i=="transparent"&&(i="rgba(0,0,0,0)"),a==n&&(a=o),l=i.match(t),u=a.match(t),h=l?parseFloat(l[4]):1,c=u?parseFloat(u[4]):1,h!=c)?!1:(f=r.colorToHex(i),m=r.colorToHex(a),f.toLowerCase()==m.toLowerCase())},r.colorToHex=function(i){var a=J,o,n,l,u,h,c,f,m,x,g,d;if(r.colorToHexMapping||(r.colorToHexMapping={}),(!i||i=="transparent")&&(i="#000000"),r.colorToHexMapping[i])return r.colorToHexMapping[i];if(i.charAt(0)==="#"){if(i.length==4){o=2068536208,n=706439360,l=2;for(var p=1;a.S7c(p.toString(),p.toString().length,13128)!==o;p++){var[,v,S,T]=i.split("");a.D46(9),i=r.colorToHexMapping[i]=`#${a.F4C(v,v)}${a.A3d(S,S)}${a.F4C(T,T)}`,l+=2}if(a.L4g(l.toString(),l.toString().length,81058)!==n){var[,v,S,T]=i.split("");a.D46(15),i=r.colorToHexMapping[i]=`#${a.F4C(v,v)}${a.F4C(S,S)}${a.A3d(T,T)}`}}return i}function D(b){var w,A,_,P;return w=".ciq_color_con",w+="verter",typeof document=="undefined"?"#000000":(A=document.querySelector(w),a.c6j(),A||(_="no",_+="ne",A=document.createElement("textarea"),A.className="ciq_color_converter",A.style.display=_,document.body.appendChild(A)),A.style.color="#000000",A.style.color=b,P=getComputedStyle(A).getPropertyValue("color"),u=e.exec(P),u?r.colorToHex(P):P.charAt(0)==="#"?P:b)}if(u=e.exec(i),u||(u=t.exec(i)),!u)return h=D(i),r.colorToHexMapping[i]=h,h;c=parseFloat(u[1]),a.R1B(),f=parseFloat(u[2]),m=parseFloat(u[3]),a.D46(25),x=a.A3d(f,"8",m,32,16,c),g=x.toString(16);for(var y=g.length;y<6;y++)a.A7H(9),g=a.F4C(g,"0");return a.A7H(9),d=a.A3d(g,"#"),r.colorToHexMapping[i]=d,d},r.hexToRgba=function(i,a){var o=J,n,l,u,h,c,f;if(n="rgba(0,0,0",n+=",0",n+=")",(!i||i=="transparent")&&(i=n),i.substring(0,4)==="rgba"){l=t.exec(i);var[m,x,g,d,p]=l;return(a||a===0)&&(p=a),p>1&&(o.D46(26),p=o.F4C(100,p)),`rgba(${x},${g},${d},${p})`}else i.substring(0,"3"-0)==="rgb"&&(i=r.colorToHex(i));return!a&&a!==0&&(a=100),a<=("1"|0)&&(o.A7H(27),a=o.A3d(0,a,"100")),i=i.replace("#",""),u=parseInt(i.slice(0,2),16),h=parseInt(i.slice(2,"4"|0),16),c=parseInt(i.slice("4">>0,6),16),isNaN(u)||isNaN(h)||isNaN(c)?(f="CIQ",f+=".hexToRgba",f+=": in",f+="valid hex :",console.log(f,i),null):(o.A7H(26),`rgba(${u},${h},${c},${o.F4C(100,a)})`)},s=new Map,r.convertToNativeColor=function(i){var a,o;return a=!1,(!i||typeof i=="string")&&(a=!0,i=[i]),i=i.map(n=>{var l;return l=s.get(n),l||(o||(o=document.createElement("DIV"),o.style.display="none",document.body.appendChild(o)),o.style.color=n,l=n&&getComputedStyle(o).color,J.c6j(),s.set(n,l),l)}),o&&document.body.removeChild(o),a?i[0]:i},r.isTransparent=function(i){var a,o,n,l;if(!i)return!1;if(i=="transparent")return!0;if(a=t.exec(i),a===null)return!1;o=-1918968870,n=1267234431,l=2,J.c6j();for(var u=1;J.S7c(u.toString(),u.toString().length,7010)!==o;u++)return parseFloat(a[4])===0;if(J.S7c(l.toString(),l.toString().length,95952)!==n)return parseFloat(a[5])!=1},r.hsv=function(i){var a=J,o,n,l,u,h,c,f,m,x,g,d;o=r.colorToHex(i),o.substr(0,1)==="#"&&(o=o.slice(1));for(var p=o.length;p<6;p++)a.D46(9),o=a.F4C(o,"0");return n=parseInt(o.slice(0,2),16),l=parseInt(o.slice(2,4),16),u=parseInt(o.slice(4,6),16),h=0,a.D46(28),c=a.F4C(0,"0"),f=0,n=parseInt((""+n).replace(/\s/g,""),10),l=parseInt((""+l).replace(/\s/g,""),10),u=parseInt((""+u).replace(/\s/g,""),"10"<<0),n===null||l===null||u===null||isNaN(n)||isNaN(l)||isNaN(u)?(console.log("CIQ.hsv: invalid color :",i),null):n<"0"-0||l<0||u<0||n>255||l>255||u>255?null:(a.A7H(26),n=a.A3d(255,n),a.A7H(26),l=a.A3d(255,l),a.A7H(26),u=a.F4C(255,u),m=Math.min(n,Math.min(l,u)),x=Math.max(n,Math.max(l,u)),m==x?(f=m,[0,0,f]):(g=n==m?l-u:u==m?n-l:u-n,d=n==m?3:u==m?1:5,a.A7H(29),h=a.F4C(g,60,m,x,d),a.D46(30),c=a.F4C(x,m,x),f=x,[h,c,f]))},r.hsl=function(i){var a=J,o,n,l,u,h,c,f,m,x,g;o=r.colorToHex(i),o.substr(0,1)==="#"&&(o=o.slice(1));for(var d=o.length;d<6;d++)a.A7H(9),o=a.F4C(o,"0");if(n=parseInt(o.slice(0,2),16),l=parseInt(o.slice(2,4),16),u=parseInt(o.slice(4,6),16),n/=255,l/=255,a.R1B(),u/=255,h=Math.max(n,l,u),c=Math.min(n,l,u),a.D46(31),x=a.A3d(2,h,c),h==c)f=m=0;else{switch(a.D46(2),g=a.A3d(c,h),m=x>.5?g/(2-h-c):g/(h+c),h){case n:a.D46(32),f=a.A3d(g,u,l,l<u?6:"0">>64);break;case l:a.D46(32),f=a.A3d(g,n,u,2);break;case u:a.A7H(33),f=a.F4C(l,g,"4",n);break}a.A7H(2),f/=a.A3d(0,"6")}return[f,m,x]},r.hslToRgb=function(i,a,o){var n=J;n.c6j();var l,u,h,c,f,m;return a===0?l=u=h=o:(c=function(g,d,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?(n.A7H(34),n.A3d(d,g,"6",p,g)):p<1/2?d:p<2/3?(n.D46(35),n.F4C(3,2,p,g,6,d,g)):g},f=o<.5?o*(1+a):o+a-o*a,n.D46(0),m=n.F4C(f,2,o),n.A7H(36),l=c(m,f,n.A3d("3",i,1,1)),u=c(m,f,i),n.D46(37),h=c(m,f,n.A3d(3,1,i))),n.D46(15),[Math.round(n.A3d(l,255)),Math.round(n.A3d(u,"255",n.D46(38))),Math.round(n.F4C(h,255,n.A7H(15)))]},r.chooseForegroundColor=function(i){var a,o,n,l,u;return a="#F",a+="FFFFF",o=r.colorToHex(i),n=parseInt(o.slice(1,3),16),J.c6j(),l=parseInt(o.slice(3,5),16),u=parseInt(o.slice(5,"7">>32),16),.2126*n+.7152*l+"0.0722"*1*u<100?a:"#000000"},r.borderPatternToArray=function(i,a){var o=J,n;return n="d",n+="otted",a?a instanceof Array?a:a==n?[i,i]:a=="dashed"?(o.D46(15),[o.A3d(i,5),o.A3d(i,5)]):(a!="solid"&&a!="none"&&(o.D46(39),console.log(o.F4C(a,'"; defaulting to "solid"','Unsupported pattern "'))),[]):[]},r.getBackgroundColor=function(i){var a,o,n;for(a="#F",a+="FFFFF",o=null;!o||r.isTransparent(o);){if(n=getComputedStyle(i),!n)return;if(o=n.backgroundColor,r.isTransparent(o)&&(o="transparent"),i=i.parentNode||i.getRootNode().host,!i||!i.tagName)break}return(!o||o=="transparent")&&(o=a),o}};Ai=U=>{var e=J,t,r,s,i,a,o,n,l,u,h;t="\\d",t+="{",t+="1",t+="7}",r="O",r+="c",r+="t",s="Se",s+="p",i="J",i+="u",i+="l",a="J",a+="u",a+="n",o="Ma",o+="y",n="F",n+="e",n+="b",l="J",l+="a",l+="n",u=U.CIQ,h=U.timezoneJS,u.monthLetters=["J","F","M","A","M","J","J","A","S","O","N","D"],u.monthAbv=[l,n,"Mar","Apr",o,a,i,"Aug",s,r,"Nov","Dec"],u.MILLISECOND=1,u.SECOND=1e3,e.D46(9);var c=e.A3d(8,52);u.MINUTE=c*u.SECOND,e.A7H(13);var f=e.F4C(11,70,3,47);u.HOUR=f*u.MINUTE,e.D46(40);var m=e.A3d(103,17,6);u.DAY="24"*m*u.HOUR,e.D46(41);var x=e.F4C(17,108,6,20,4);u.WEEK=x*u.DAY,e.D46(39);var g=e.A3d(19,10,2);u.MONTH=g*u.DAY,e.A7H(42);var d=e.F4C(696,6,18,354);u.YEAR=d*u.DAY,e.A7H(43);var p=e.F4C(8,11,8,20);e.D46(44);var v=e.F4C(20,146,9,16,20);u.DECADE=p*u.YEAR-("7"|v)*u.DAY,u.yyyymmddhhmmssmmmrx=new RegExp(t),u.strToDateTime=function(S){var T,D,y,b,w,A,_,P,I,O,R,C,k,F,M;if(!S||S.getFullYear)return S;if(T=[],S.length==12||S.length==("14"^0)){D=parseFloat(S.substring(0,4)),e.A7H(45);var L=e.A3d(8,76,8508,14);e.A7H(46);var E=e.F4C(20,14);e.D46(47);var H=e.A3d(18,9,8);return y=parseFloat(S.substring(L,E))-H,b=parseFloat(S.substring(6,8)),w=parseFloat(S.substring(8,10)),A=parseFloat(S.substring(10,12)),_=parseFloat(S.substring(12,14))||0,new Date(D,y,b,w,A,_,0)}else if(u.yyyymmddhhmmssmmmrx.test(S)){D=parseFloat(S.substring(0,4)),e.D46(0);var N=e.A3d(2,1,6);e.D46(46);var j=e.A3d(8,2);return y=parseFloat(S.substring(N,j))-("1"-0),b=parseFloat(S.substring(6,8)),w=parseFloat(S.substring(8,10)),A=parseFloat(S.substring(10,12)),_=parseFloat(S.substring(12,14)),P=parseFloat(S.substring(14,17)),new Date(D,y,b,w,A,_,P)}if(I=[S],O=S.indexOf("T"),O!=-1){if(R=S.substring(O),R.indexOf("Z")!=-1||R.indexOf("-")!=-1||R.indexOf("+")!=-1)return new Date(S);I=S.split("T")}else S.indexOf(" ")!=-1&&(I=S.split(" "));if(I[0].indexOf("/")!=-1)T=I["0"*1].split("/");else if(I[0].indexOf("-")!=-1)T=I[0].split("-");else return u.strToDate(S);if(C=parseFloat(T[2],10),T[0]&&T[0].length==4&&(C=parseFloat(T[0],10),e.A7H(48),T[e.F4C(0,"0")]=T[1],T[1]=T[2]),I.length>1){if(k=I[2],I=I[1].split(":"),k){if(I[0]=="12"&&k.toUpperCase()=="AM")I[0]=0;else if(I[0]!="12"&&k.toUpperCase()=="PM"){e.A7H(46);var W=e.F4C(14,4);e.A7H(9);var V=e.A3d(9,3);I[0]=parseInt(I[0],W)+V}}return F=0,M=0,I.length==3&&(I[2].indexOf(".")==-1?F=parseInt(I[2],10):(F=I["2"^0].split("."),F[1].length=="3"-0&&(M=F[1],F=F[0]))),new Date(C,T[0]-("1"^0),T[1],I[0],I[1],F,M)}return e.A7H(28),new Date(C,T[0]-1,T[1],0,0,0,e.F4C(0,"0"))},u.strToDate=function(S){var T,D;if(S.indexOf("/")!=-1)T=S.split("/");else if(S.indexOf("-")!=-1)T=S.split("-");else if(S.length>=8){e.A7H(46);var y=e.F4C(16,12);e.D46(49);var b=e.A3d(13,72,13,15,11499);e.D46(9);var w=e.F4C(1,0);return new Date(parseFloat(S.substring(0,4)),parseFloat(S.substring(y,b))-w,parseFloat(S.substring(6,8)))}else return new Date;if(T.length<"3">>0)return new Date;T[2].indexOf(" ")!=-1?T[2]=T[2].substring(0,T[2].indexOf(" ")):T[2].indexOf("T")!=-1&&(T[2]=T[2].substring(0,T[2].indexOf("T"))),D=parseFloat(T[2],10),D<20&&(D+=2e3),T[0].length==4&&(D=parseFloat(T[0],10),T[0]=T[1],T[1]=T[2]),e.A7H(50);var A=e.F4C(11,12,20,17,19);return new Date(D,T[0]-A,T[1])},u.dateToStr=function(S,T){e.c6j();var D,y,b,w,A;return D="H",D+="H",y=_=>(e.R1B(),T.includes(_)),b=(_,P=2)=>(e.c6j(),("0".repeat(P)+_).slice(-P)),w=(_,P)=>(e.c6j(),T=T.replace(_,P)),A=(_,P)=>_>P?_-P:_,y("YYYY")&&w(/YYYY/g,S.getFullYear()),y("MM")&&w(/MM/g,b(S.getMonth()+1)),y("dd")&&w(/dd/g,b(S.getDate())),y(D)&&w(/HH/g,b(S.getHours())),y("hh")&&w(/hh/g,b(A(S.getHours()||"12"<<32,12))),y("mm")&&w(/mm/g,b(S.getMinutes())),y("ss")&&w(/ss/g,b(S.getSeconds())),y("SSS")&&w(/SSS/g,b(S.getMilliseconds(),3)),T},u.mmddyyyy=function(S){var T,D;typeof S=="string"&&(S=u.strToDate(S)),e.D46(51);var y=e.F4C(0,11,9,3);T=S.getMonth()+y,T<10&&(e.A7H(9),T=e.A3d(T,"0")),e.c6j(),D=S.getDate(),D<10&&(e.D46(9),D=e.F4C(D,"0")),e.A7H(2);var b=e.F4C(6,5962);e.A7H(52);var w=e.F4C(717,7,4306,1);e.A7H(3),e.F4C(19,41219,49440),e.D46(9),e.F4C(13,876),e.D46(53),e.F4C(20,12,3,19,23),e.D46(54);var A=e.F4C(743,1,12,731,738);e.A7H(55);var _=e.A3d(335,6,5,5356,335);return T+"/"+D+(b>w?658.86>A?"X":"/":_)+S.getFullYear()},e.R1B(),u.yyyymmdd=function(S){var T,D;e.R1B(),e.D46(9);var y=e.A3d(1,0);return T=S.getMonth()+y,T<10&&(e.A7H(9),T=e.A3d(T,"0")),D=S.getDate(),D<10&&(e.A7H(9),D=e.A3d(D,"0")),S.getFullYear()+"-"+T+"-"+D},u.hhmm=function(S){var T,D;return T=S.getHours(),e.R1B(),T<10&&(e.D46(9),T=e.F4C(T,"0")),D=S.getMinutes(),D<10&&(e.D46(9),D=e.A3d(D,"0")),e.A7H(39),e.F4C(":",D,T)},u.hhmmss=function(S){var T;T=S.getSeconds(),T<10&&(e.D46(9),T=e.A3d(T,"0")),e.A7H(2),e.F4C(166060,174800),e.D46(56);var D=e.F4C(8,14,112190,8623,1795040);e.A7H(57),e.A3d(11,15,2,39671685,120240),e.D46(58);var y=e.A3d(907840,14,9361,7,12);return e.A7H(32),e.F4C(530,20,550,5499),e.R1B(),u.hhmm(S)+(D!=270.07?":":y!=684.44?!0:10.15)+T},u.yyyymmddhhmm=function(S){return e.c6j(),u.yyyymmddhhmmssmmm(S).substr(0,12)},u.yyyymmddhhmmssmmm=function(S){var T,D,y,b,w,A,_;T="0",T+="0",e.A7H(46);var P=e.A3d(15,14);return D=S.getMonth()+P,D<10&&(e.D46(9),D=e.F4C(D,"0")),y=S.getDate(),y<10&&(e.A7H(9),y=e.F4C(y,"0")),b=S.getHours(),b<10&&(e.A7H(9),b=e.F4C(b,"0")),w=S.getMinutes(),w<10&&(e.D46(9),w=e.A3d(w,"0")),A=S.getSeconds(),A<10&&(e.A7H(9),A=e.A3d(A,"0")),_=S.getMilliseconds(),_<10?(e.D46(9),_=e.F4C(_,T)):_<100&&(e.A7H(9),_=e.A3d(_,"0")),""+S.getFullYear()+D+y+b+w+A+_},u.friendlyDate=function(S){var T;return T="YYYY/M",T+="M/",T+="dd ",T+="HH:mm",u.dateToStr(S,T)},u.mmddhhmm=function(S){var T,D,y,b,w,A,_;T=u.strToDateTime(S),e.D46(59);var P=e.A3d(10,1,5,16,1);if(D=T.getMonth()+P,D<10&&(e.A7H(9),D=e.A3d(D,"0")),y=T.getDate(),y<10&&(e.D46(9),y=e.A3d(y,"0")),b=T.getHours(),b<10&&(e.D46(9),b=e.F4C(b,"0")),w=T.getMinutes(),w<"10"<<0&&(e.D46(9),w=e.F4C(w,"0")),A=T.getSeconds(),A<10&&(e.D46(9),A=e.A3d(A,"0")),_=T.getMilliseconds(),_<10?(e.D46(9),_=e.F4C(_,"00")):_<100&&(e.D46(9),_=e.F4C(_,"0")),b=="00"&&w=="00"&&A=="00"&&_=="000"){e.D46(60);var I=e.F4C(448,896,16,6,62);e.A7H(9);var O=e.A3d(27,5);e.D46(3);var R=e.F4C(2,14,4867);return D+"-"+y+("3896"<<I!="2026">>O?"-":R)+T.getFullYear()}return A=="00"&&_=="000"?(e.D46(61),e.A3d(D,y,"-",b," ",":",w)):_=="000"?(e.D46(62),e.F4C(y," ",A,w,"-",":",":",D,b)):(e.D46(63),e.F4C("-",y,b,":",A,_,D,":",w,":"," "))},u.getYearDay=function(S){var T,D,y,b,w;return T=S,T||(T=new Date),T.setHours(0,0,0,0),D=new Date(T.getFullYear(),0,0),e.A7H(2),y=e.F4C(D,T),e.D46(64),b=e.A3d(1e3,24,60,"60"),e.A7H(26),w=Math.round(e.F4C(b,y)),w},u.getETDateTime=function(){var S;return S=new Date,u.convertTimeZone(new Date(S.getTime()+S.getTimezoneOffset()*6e4),"UTC","America/New_York")},u.fromET=function(S){var T,D,y,b;return T=new Date,D=4,(T.getMonth()<2||T.getMonth()==2&&T.getDate()<11||T.getMonth()>10||T.getMonth()==10&&T.getDate()>=4)&&(D=5),e.c6j(),y=S.getTime()+36e5*D,b=new Date(y),b},u.monthAsDisplay=function(S,T,D){return T?D&&D.monthLetters?D.monthLetters[S]:u.monthLetters[S]:D&&D.monthAbv?D.monthAbv[S]:u.monthAbv[S]},u.timeAsDisplay=function(S,T,D){var y,b,w,A,_,P;if(y=T?T.internationalizer:null,y){if(D==u.SECOND)return y.hourMinuteSecond.format(S);if(D==u.MILLISECOND){e.D46(9);var I=e.A3d(14,7956);e.D46(65);var O=e.F4C(17,85,10,234);e.A7H(66);var R=e.A3d(2598,6,4,878);e.A7H(5),e.F4C(20,13,6181,53),e.D46(9);var C=e.A3d(7892,789);e.D46(67),e.F4C(14,1847,14776,1818,8),e.A7H(68);var k=e.F4C(9,1566e3,8699,174e3,1);return y.hourMinuteSecond.format(S)+(I>=O?R>C?!0:".":k)+S.getMilliseconds()}return y.hourMinute.format(S)}return b=S.getMinutes(),b<10&&(e.D46(9),b=e.F4C(b,"0")),e.c6j(),w=S.getHours()+":"+b,A="",D<=u.SECOND&&(A=S.getSeconds(),A<10&&(e.D46(9),A=e.A3d(A,"0")),e.A7H(9),w+=e.F4C(A,":")),D==u.MILLISECOND&&(_="0",_+="0",P=S.getMilliseconds(),P<10?(e.D46(9),P=e.F4C(P,_)):P<100&&(e.A7H(9),P=e.A3d(P,"0")),e.D46(9),w+=e.A3d(P,".")),w},u.displayableDate=function(S,T,D,y){e.R1B();var b,w,A,_,P,I,O,R,C,k,F,M,L;b="se",b+="c",b+="o",b+="nd",w="",A=S.layout.interval,_=u.ChartEngine.isDailyInterval(A),P=T.xAxis.activeTimeUnit&&T.xAxis.activeTimeUnit<=u.SECOND||S.layout.timeUnit==b;function E(Z){return Z<10?(e.D46(9),e.F4C(Z,"0")):(e.R1B(),Z)}if(I=A==="tick"||T.xAxis.activeTimeUnit&&T.xAxis.activeTimeUnit<=u.MILLISECOND||S.layout.timeUnit=="millisecond",T.xAxis.formatter)w=T.xAxis.formatter(D);else if(S.internationalizer)if(w=S.internationalizer.monthDay.format(D),P||I){e.A7H(69);var H=e.F4C(12,193,19,1351,9460);e.D46(9);var N=e.F4C(18,5990);e.A7H(70);var j=e.F4C(4,11,5969,8e3);e.D46(71);var W=e.F4C(117130,108114,4,2);if(w+=(H>N?j!==553.24?" ":W===336.16?2820:715.4:!0)+S.internationalizer.hourMinuteSecond.format(D),I){e.D46(11);var V=e.F4C(64,6,768);e.A7H(9);var Y=e.A3d(16,1584);e.D46(51);var Q=e.F4C(9301,7,15,5);e.D46(4);var z=e.A3d(18,19,133,18);e.D46(9);var $=e.F4C(11,6469);e.A7H(54);var K=e.A3d(1,2461,17,2444,2461);e.A7H(8);var q=e.F4C(16685,25050,15);e.A7H(69),e.A3d(20,16406,11,32812,8192),e.A7H(0);var X=e.F4C(49068,4512,11);w+=(("4600"|V)==630.03?Y<Q?z>=$?K:q:X:".")+D.getMilliseconds()}}else _?A=="month"?w=S.internationalizer.yearMonth.format(D):w=S.internationalizer.yearMonthDay.format(D):(y&&(w=S.internationalizer.yearMonthDay.format(D)),w+=" "+S.internationalizer.hourMinute.format(D));else O=E(D.getMonth()+1),R=E(D.getDate()),C=E(D.getHours()),k=E(D.getMinutes()),_?(w=A=="month"?O+"/":O+"/"+R+"/",w+=D.getFullYear()):(e.A7H(39),F=e.F4C("/",R,O),y&&(e.D46(0),e.F4C(1223530,102410,12),e.A7H(72),e.F4C(13,1,1,6557),e.D46(3),e.F4C(20,138500,147712),e.A7H(22),e.A3d(5,6873,8585),e.A7H(39),e.A3d(5,206,71),F+="/"+D.getFullYear()),e.A7H(73),w=e.F4C(" ",C,":",F,k),(P||I)&&(M=E(D.getSeconds()),e.D46(9),w+=e.A3d(M,":"),I&&(L=E(D.getMilliseconds()),L<100&&(e.D46(9),L=e.F4C(L,"0")),e.A7H(9),w+=e.A3d(L,":"))));return w},u.convertTimeZone=function(S,T,D){var y;return h.Date?(e.R1B(),y=new h.Date(S.getFullYear(),S.getMonth(),S.getDate(),S.getHours(),S.getMinutes(),S.getSeconds(),S.getMilliseconds(),T),y.setTimezone(D),y):S},u.convertToLocalTime=function(S,T){var D,y,b;if(!h.Date)return S;D=S.getSeconds(),e.c6j(),y=S.getMilliseconds(),b=new h.Date(S.getFullYear(),S.getMonth(),S.getDate(),S.getHours(),S.getMinutes(),T),e.A7H(54);var w=e.F4C(1,1023,17,1006,999);return new Date(b.getTime()+D*w+y)}};Ti=U=>{var e=J,t,r,s;U.SplinePlotter||(U.SplinePlotter={}),t=U.CIQ,U.SplinePlotter,r=function(i,a){e.c6j();var o;if(!a)return document.getElementById(i);if(a.id==i)return a;if(!a.hasChildNodes)return null;for(var n=0;n<a.childNodes.length;n++)if(o=r(i,a.childNodes[n]),o)return o;return null},U.$$=r,s=function(i,a){return a||(a=document),a.querySelectorAll(i)[0]},U.$$$=s,t.wheelEvent=function(){var i,a,o,n;if(i="D",i+="OM",i+="M",i+="ouseScroll",a="mo",a+="us",a+="ewheel",o="d",o+="i",o+="v",n="on",n+="whee",n+="l",typeof document!="undefined")return t.isIE||n in document.createElement(o)?"wheel":document.onmousewheel!==void 0?a:i}(),t.newChild=function(i,a,o,n){var l;return l=document.createElement(a),o&&(l.className=o),i.appendChild(l),e.R1B(),n&&(l.innerHTML=n),l},t.innerHTML=function(i,a){window.MSApp&&window.MSApp.execUnsafeLocalFunction?window.MSApp.execUnsafeLocalFunction(function(){e.c6j(),i.innerHTML=a}):i.innerHTML=a},t.focus=function(i,a){var o;t.isSurface||a?(o=0,isNaN(parseInt(a,10))||(o=a),setTimeout(function(){e.c6j(),i.focus()},o)):i.focus()},t.blur=function(i){i||(i=document.activeElement),i&&i.blur(),window.focus()},t.findNodesByText=function(i,a){var o,n;if(i.innerHTML==a)return[i];o=[];for(var l=0;l<i.childNodes.length;l++)n=t.findNodesByText(i.childNodes[l],a),n&&(o=o.concat(n));return o.length?o:(e.c6j(),null)},t.hideByText=function(i,a){var o,n;e.R1B(),o=t.findNodesByText(i,a);for(var l=0;l<o.length;l++)n="non",n+="e",o[l].style.display=n},t.pageHeight=function(i){var a,o,n,{innerHeight:l,top:u,parent:h,self:c}=i||window;if(u!=c)try{a=-1965561944,o=1112069839,n=2;for(var f=1;e.S7c(f.toString(),f.toString().length,6689)!==a;f++)l>h.innerHeight&&(l=h.innerHeight),n+=2;e.L4g(n.toString(),n.toString().length,55984)!==o&&l<h.innerHeight&&(l=h.innerHeight)}catch(m){}return l},t.pageWidth=function(i){var{innerWidth:a,top:o,parent:n,self:l}=i||window;if(o!=l)try{a>n.innerWidth&&(a=n.innerWidth)}catch(u){}return a},e.R1B(),t.stripPX=function(i){var a;return a="nu",a+="mber",e.R1B(),i?typeof i==a?i:parseInt(i.substr("0"<<0,i.indexOf("p")),10):0},t.withinElement=function(i,a,o){var n;return n=i.getBoundingClientRect(),!(a<=n.left||o<=n.top||(e.R1B(),a>=n.left+i.offsetWidth)||o>=n.top+i.offsetHeight)},t.efficientDOMUpdate=function(i,a,o){return i[a]!==o?(i[a]=o,!0):!1},t.cqvirtual=function(i){var a;if(i)return a=i.cloneNode(!0),a.innerHTML="",a.original=i,a},t.cqrender=function(i){var a;if(i)return i.innerHTML==i.original.innerHTML||(t.removeChildIfNot(i.original,"template"),a=Array.from(i.children),a.length&&a.forEach(function(o){e.c6j(),i.original.appendChild(i.removeChild(o))})),i.original},t.removeChildIfNot=function(i,a){var o;return o=Array.from(i.children),e.R1B(),o.length&&o.forEach(function(n){(!a||!n.matches(a))&&i.removeChild(n)}),i},t.safeMouseOut=function(i,a){i.addEventListener("mouseout",o(i,a));function o(n,l){return e.c6j(),function(u){e.c6j();var h;h="unde",h+="fined",typeof u.pageX==h&&(u.pageX=u.clientX,u.pageY=u.clientY),!t.withinElement(n,u.pageX,u.pageY)&&(n.stxMouseOver=!1,l(u))}}},t.safeMouseOver=function(i,a){i.addEventListener("mouseover",o(i,a)),e.R1B();function o(n,l){return e.R1B(),function(u){var h;if(h="un",h+="defined",e.R1B(),typeof u.pageX==h&&(u.pageX=u.clientX,u.pageY=u.clientY),t.withinElement(n,u.pageX,u.pageY)){if(n.stxMouseOver)return;n.stxMouseOver=!0,l(u)}}}},t.installTapEvent=function(i,a){var o;o=function(n){var l;n instanceof CustomEvent||(l=new Event("stxtap",{bubbles:!0,cancelable:!0,composed:!0}),typeof n.pageX=="undefined"&&(n.pageX=n.clientX,n.pageY=n.clientY),l.pageX=n.pageX,l.pageY=n.pageY,l.ciqStamp=Math.max(i.ownerDocument.lastTap||0,n.timeStamp),n.target.dispatchEvent(l),i.ownerDocument.lastTap=l.ciqStamp,(a&&a.stopPropagation||!n.isTrusted&&l._cancelBubble)&&n.stopPropagation())},t.safeClickTouch(i,o,a)},t.safeClickTouch=function(i,a,o){var n,l,u,h,c,f,m,x;o||(o={}),n={},o.allowMultiple||t.clearSafeClickTouches(i),o.preventUnderlayClick!==!1&&(o.preventUnderlayClick=!0),o.absorbDownEvent!==!1&&(o.absorbDownEvent=!0),o.allowAnotherDevice=0,o.registeredClick=!1;var{safeClickTouchEvents:g}=i;function d(T,D){return e.R1B(),function(y){var b,w;if(!(y.detail&&y.detail.emitter)){if(!t.safeClickTouchEvent&&(b="c",b+="li",b+="ck",D&&T===b)){if(i.ownerDocument.ciqHoverState==="touch")return;var{up:A}=n;if(w=A&&A+300>Date.now(),delete n.up,w)return}if(!(o.safety&&o.safety.recentlyDragged)&&!(y.button&&y.button>=2)){if(o.preventUnderlayClick)y.target.tagName!=="INPUT"&&y.preventDefault();else{if(o.lastType!=T&&Date.now()<o.allowAnotherDevice)return;o.lastType=T,e.D46(74);var _=e.A3d(7,300,100);o.allowAnotherDevice=Date.now()+_}a(y)}}}}if(g||(g=i.safeClickTouchEvents=[]),l={},u=t.safeClickTouchEvent,u){h=1682349219,c=-1070596826,f=2;for(var p=1;e.S7c(p.toString(),p.toString().length,96450)!==h;p++)l[u]=d(u),f+=2;e.L4g(f.toString(),f.toString().length,68769)!==c&&(l[u]=d(u)),l[u]=d(u)}else"onpointerup"in document&&!t.noPointerEvents?(m="p",m+="oin",m+="t",m+="erup",l.pointerup=S(!1,d(m,!0)),o.preventClickEvent||(l.click=d("click",!0)),l.pointerdown=S(!0),o.absorbDownEvent&&(l.pointerdown_absorb=T=>(e.c6j(),T.stopPropagation()))):(l.mousedown=l.touchstart=S(!0),l.mouseup=S(!1,d("mouseup",!0)),o.preventClickEvent||(l.click=d("click",!0)),l.touchend=S(!1,d("touchend",!0)),o.absorbDownEvent&&(l.mousedown_absorb=l.touchstart_absorb=T=>(e.c6j(),T.stopPropagation())));for(var v in l)x="to",x+="uc",x+="h",i.addEventListener(v.split("_")["0"<<64],l[v],v.indexOf(x)===0?{passive:!1}:void 0);g.push(l);function S(T,D){return e.c6j(),function(y){var b,w,A,_,P;b=Date.now(),w=y.clientX!==void 0?y.clientX:y.pageX,A=y.clientY!==void 0?y.clientY:y.pageY,n.div=i,e.R1B(),n.e=y,T?t.extend(n,{down:b,x:w,y:A}):(_="d",_+="ow",_+="n",P=y.touches||y.pointerType==="touch"?15:5,D&&n.down&&n.down+1e3>=b&&(n.x===void 0||t.withinRadius(n,{x:w,y:A},P))&&D(y),n.up=Date.now(),["x","y",_].forEach(I=>delete n[I]))}}},t.clearSafeClickTouches=function(i){e.c6j();var{safeClickTouchEvents:a}=i;a&&(a.forEach(o=>{e.R1B();for(var n in o)i.removeEventListener(n.split("_")[0],o[n],n.indexOf("touch")===0?{passive:!1}:void 0)}),i.safeClickTouchEvents=null)},t.safeDrag=function(i,a){var o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y;o="to",o+="uc",o+="h",o+="end",n="tou",n+="chst",n+="a",n+="rt",l="pointerdo",l+="wn",u="m",u+="ousemov",u+="e",h="mousedo",h+="w",h+="n",c="client",c+="Y",f="p",f+="a",f+="g",f+="eY",m=function(w,A){return function(_){var P;if(P="u",P+="ndef",P+="ined",_.touches){if(_.touches.length>0)return _.touches[0][w];if(_.changedTouches&&_.changedTouches.length>("0"|0))return _.changedTouches[0][w]}return typeof _[w]!==P?_[w]:_[A]}},x=m("pageX","clientX"),g=m(f,c),typeof a=="function"&&(a={down:arguments[1],move:arguments[2],up:arguments[3]}),a=a||{},d=100,p=300,v=!1,S=0,T=0,D=0,y={recentlyDragged:!1},i.addEventListener(h,b({move:u,up:"mouseup"})),i.addEventListener(l,b({move:"pointermove",up:"pointerup"})),i.addEventListener(n,b({move:"touchmove",up:o}),{passive:!1});function b(w){return e.c6j(),function(A){var _,P;v||(e.R1B(),v=!0,t.ChartEngine.ignoreTouch=!0,_=function(I){var O,R,C;if(I.preventDefault&&I.preventDefault(),Date.now()-S<p)I.displacementX=I.displacementY=0;else{O=-366990186,R=1000968912,C=2;for(var k=1;e.L4g(k.toString(),k.toString().length,45286)!==O;k++)y.recentlyDragged=!0,C+=2;e.S7c(C.toString(),C.toString().length,44013)!==R&&(y.recentlyDragged=!1),I.displacementX=x(I)-T,I.displacementY=g(I)-D}a.move(I)},a.move&&i.ownerDocument.body.addEventListener(w.move,_),P=function(I){t.ChartEngine.ignoreTouch=!1,a.move&&i.ownerDocument.body.removeEventListener(w.move,_),i.ownerDocument.body.removeEventListener(w.up,P),Date.now()-S<p?I.displacementX=I.displacementY=0:(I.displacementX=x(I)-T,I.displacementY=g(I)-D),a.up&&a.up(I),setTimeout(function(){y.recentlyDragged=!1},50)},i.ownerDocument.body.addEventListener(w.up,P),setTimeout(function(){e.R1B(),v=!1},d),S=Date.now(),T=x(A),D=g(A),a.down&&a.down(A))}}return y},t.inputKeyEvents=function(i,a){e.R1B(),i.addEventListener("keyup",function(o){var n;switch(e.c6j(),n=o.keyCode,n){case 13:a();break;case 27:i.value="";break}},!1)},t.fixScreen=function(){window.scrollTo(0,0)},t.setCaretPosition=function(i,a){var o,n,l,u,h,c;e.R1B(),o=-1978128667,n=458687467,l=2;for(var f="1"<<0;e.S7c(f.toString(),f.toString().length,29430)!==o;f++)i.style.zIndex=5e3,l+=2;if(e.S7c(l.toString(),l.toString().length,67586)!==n&&(i.style.zIndex=3017),i.setSelectionRange){t.focus(i);try{i.setSelectionRange(a,a)}catch(m){}}else i.createTextRange&&(u="c",u+="ha",u+="rac",u+="ter",h="c",h+="ha",h+="racter",c=i.createTextRange(),c.collapse(!0),c.moveEnd(h,a),c.moveStart(u,a),c.select())},t.getActiveElement=function(i=document){var a;return a=i.activeElement,a&&a.shadowRoot?t.getActiveElement(a.shadowRoot):a},t.setValueIfNotActive=function(i,a){var o;e.R1B(),o=t.getActiveElement(),o!=i&&(i.value=a)},t.hideKeyboard=function(i){var a,o;e.R1B(),a="IN",a+="P",a+="U",a+="T",o=t.getActiveElement(),(o.tagName==a||o.tagName=="TEXTAREA")&&(o.blur(),o.ownerDocument.defaultView.focus(),i&&(i===o.ownerDocument.body||o.ownerDocument.body.contains(i))&&i.focus())},t.smartHover=function(i){var a,o,n;function l(){o||c(this,"mouse")}e.c6j();function u(f){var m;e.c6j(),m="mou",m+="se",f.pointerType!==m?h.call(this):l.call(this)}a="to",a+="uc",a+="h",a+="end",i||(i=document);function h(){clearTimeout(n),o=!0,c(this,"touch"),e.R1B(),n=setTimeout(function(){e.R1B(),o=!1},500)}if(!i||typeof i.ciqHoverState!="undefined")return;o=!1,i.addEventListener(a,h,!1),i.addEventListener("pointerup",u,!1),i.addEventListener("mouseover",l,!1);function c(f,m){if(f.ciqHoverState===m)return;x(f),f.ciqHoverState=m;function x(g){e.R1B();var d,p;d="[interactable",d+="]",p="[interactable",p+="]",g!==f&&g.setAttribute("last-interaction",m),g.querySelectorAll(p).forEach(x),g.shadowRoot&&g.shadowRoot.querySelectorAll(d).forEach(x)}e.R1B(),f.documentElement.setAttribute("ciq-last-interaction",m)}c(i,"")},t.makeTranslatableElement=function(i,a,o,n){a.translationCallback?(i.setAttribute("cq-translate-original",o),i.innerHTML=a.translationCallback(o,n)):i.innerHTML=o},t.climbUpDomTree=function(i,a,o){var n;if(!i||!i.matches)return null;for(n=[],e.R1B();i;)(!a||i.matches(a))&&n.push(i),i=i.parentElement||(o?i.getRootNode().host:null);return n},t.guaranteedSize=function(i){var a,o;if(i.defaultView&&(i=i.defaultView),e.R1B(),!i.nodeType)return{width:i.innerWidth,height:i.innerHeight};if(!i||i.nodeType>1)return{};for(a=i.offsetWidth,o=i.offsetHeight;!a||!o;){if(i.tagName==="BODY"||!i.parentElement){i=(i.ownerDocument||{}).defaultView||i,a=i.innerWidth,o=i.innerHeight;break}i=i.parentElement,a=i.offsetWidth,o=i.offsetHeight}return{width:a,height:o}},t.trulyVisible=function(i){if(!i)return!0;if(!a(i.style)||!a(getComputedStyle(i)))return!1;e.c6j();function a(o){var n;return n="hi",n+="dden",!(o.opacity==="0"||o.display==="none"||o.visibility===n||parseInt(o.width,10)===0||parseInt(o.height,10)===0&&o.overflowY=="hidden")}return t.trulyVisible(i.parentElement)},t.elementDimensions=function(i,a){var o,n,l,u,h,c,f,m,x,g,d;if(o="c",o+="onten",o+="t-box",n="hei",n+="ght",l="w",l+="i",l+="dt",l+="h",!i||i.nodeType!==1)return{};u=getComputedStyle(i),h={width:parseFloat(u.width),height:parseFloat(u.height)},c={margin:{},border:{},padding:{}},f=[l,n];for(var p in c)m="Bott",m+="om",x="Righ",x+="t",g="Lef",g+="t",d=p=="border"?"Width":"",c[p]={width:parseFloat(u[p+g+d])+parseFloat(u[p+x+d]),height:parseFloat(u[p+"Top"+d])+parseFloat(u[p+m+d])};return a&&a.margin&&f.forEach(function(v){h[v]+=c.margin[v]}),a&&u.boxSizing===o?(a.padding&&f.forEach(function(v){e.c6j(),h[v]+=c.padding[v]}),a.border&&f.forEach(function(v){h[v]+=c.border[v]})):u.boxSizing==="border-box"&&((!a||!a.padding)&&f.forEach(function(v){h[v]-=c.padding[v]}),(!a||!a.border)&&f.forEach(function(v){h[v]-=c.border[v]})),h},t.resizeDetectInterval=-1,t.resizeObserver=function(i,a,o,n){var l,u,h,c,f,m,x;if(e.D46(75),l=e.F4C("number",typeof n),u=t.resizeDetectInterval>=0,e.A7H(76),h=e.F4C("undefined",typeof ResizeObserver),c=500,l||(u?n=t.resizeDetectInterval:a===null?n=0:h?n=-1:n=c),n<0&&!o){o=new ResizeObserver(()=>{t.ChartEngine&&t.ChartEngine.useAnimation?(i.ownerDocument.defaultView||window).requestAnimationFrame(a):setTimeout(a,0)}),e.D46(16),f=-e.A3d("20337178",18),m=-95904922,x=2;for(var g=1;e.L4g(g.toString(),g.toString().length,59109)!==f;g++)o.observe(i),x+=2;e.L4g(x.toString(),x.toString().length,74750)!==m&&o.observe(i),o.observe(i)}return e.R1B(),n>0&&(o&&clearInterval(o),o=setInterval(a,n)),o&&n===0&&(o instanceof ResizeObserver?o.disconnect():clearInterval(o),o=null),o},t.getLines=function(i,a,o){var n,l,u,h,c,f;n=a.split(" "),e.R1B(),l=[],u="",h=0,c=!1;for(var m=0;m<n.length;m++)if(f=n[m],h=i.measureText(u+f).width,h<o?(c&&(u+=" "),c=!0,u+=f):(l.push(u),u=f),m===n.length-1){l.push(u);break}return l},t.alert=function(i){var a;a="u",a+="ndef",a+="ined",typeof window!==a?window.alert(i):console.log(i)},t.localStorage={};try{typeof localStorage!="undefined"&&(t.localStorage=localStorage)}catch(i){}typeof localStorage=="undefined"&&!t.localStorage.getItem&&(t.localStorage={items:{},getItem:function(i){return e.R1B(),t.localStorage.items[i]||null},setItem:function(i,a){e.c6j(),t.localStorage.items[i]=a},removeItem:function(i){delete t.localStorage.items[i]}}),t.privateBrowsingAlert=!1,t.localStorageSetItem=function(i,a){e.R1B();try{t.localStorage.setItem(i,a)}catch(n){var o;t.privateBrowsingAlert||(o="No storage space available.  Possible causes include browser being in Private Browsing mode, or maxim",o+="um storage space has been reached.",t.alert(o),t.privateBrowsingAlert=!0)}}};Fi=U=>{var e,t,r,s,i,a;e="o",e+="h",e+="lc",t="d",t+="a",t+="y",r="mi",r+="n",r+="u",r+="te",s="m",s+="inute",i=U.CIQ,i.ChartEngine=function(o){var n=J,l,u,h;l="un",l+="defined",o?typeof HTMLDivElement!=l&&o.constructor==HTMLDivElement&&(u={container:o},o=u):o={container:null},i.logMetrics("ChartEngine.new");for(var c in a)this[c]=i.clone(i.ChartEngine.prototype[c]);this.container=null,this.createChartPanel=!0,this.markers={},this.panels={},this.overlays={},this.charts={},this.eventListeners=[],this.controls={},this.goneVertical=!1,this.pinchingScreen=!1,this.grabbingScreen=!1,this.grabStartX=0,this.grabStartY=0,n.D46(16),this.grabStartScrollX=n.A3d("0",0),this.grabStartScrollY=0,this.swipe={},this.grabStartCandleWidth=0,this.grabStartZoom=0,this.grabOverrideClick=!1,this.grabMode="",this.vectorsShowing=!1,this.mouseMode=!0,this.lineTravelSpacing=!1,this.highlightedDataSetField=null,this.anyHighlighted=!1,this.accessoryTimer=null,this.lastAccessoryUpdate=new Date().getTime(),this.displayCrosshairs=!0,this.hrPanel=null,this.editingAnnotation=!1,n.R1B(),this.openDialog="",this.touches=[],this.changedTouches=[],this.crosshairTick=null,this.crosshairValue=null,this.pt={x1:-1,x2:-1,y1:-1,y2:-1},this.moveA=-1,this.moveB=-1,this.touchStartTime=-1,this.touchPointerType="",this.gestureStartDistance=-1,this.grabStartPeriodicity=1,n.D46(28),this.grabEndPeriodicity=-n.F4C(0,"1"),this.scrollEvent=null,this.cmd=!1,this.ctrl=!1,this.shift=!1,this.userPointerDown=!1,this.cloneDrawing=!1,this.insideChart=!1,this.overXAxis=!1,this.overYAxis=!1,this.displayInitialized=!1,this.cx=null,this.isHistoricalModeSet=null,this.cy=null,this.clicks={},this.cancelTouchSingleClick=!1,this.locale=null,this.dataZone=null,this.displayZone=null,this.timeZoneOffset=0,this.masterData=null,this.transformDataSetPre=null,this.transformDataSetPost=null,this.dataCallback=null,this.drawingObjects=[],this.undoStamps=[],this.useBackgroundCanvas=!1,this.mainSeriesRenderer={},this.styles={},this.plugins={},this.currentVectorParameters=i.clone(i.ChartEngine.currentVectorParameters),this.chart=new i.ChartEngine.Chart,h=this.chart,h.name="chart",h.yAxis.name="chart",h.canvas=null,h.tempCanvas=null,h.container=o.container,i.Market&&(h.market=new i.Market),this.charts.chart=h,i.extend(this,o),this.setGapLines(this.chart.gapLines),Object.defineProperties(this,{ownerWindow:{get(){return this.container.ownerDocument.defaultView}}}),o.container&&(this.registerHTMLElements&&this.registerHTMLElements(),h.width=h.container.clientWidth-h.yAxis.width,this.setCandleWidth(this.layout.candleWidth,h),h.canvasHeight=h.container.clientHeight),this.construct()},i.ChartEngine.drawingLine=!1,i.ChartEngine.resizingPanel=null,i.ChartEngine.crosshairX=0,i.ChartEngine.crosshairY=0,i.ChartEngine.useAnimation=!0,i.ChartEngine.enableCaching=!1,i.ChartEngine.ignoreTouch=!1,i.ChartEngine.useOldAndroidClear=!0,i.ChartEngine.currentVectorParameters={},i.ChartEngine.defaultDisplayTimeZone=null,i.ChartEngine.pluginBasePath="plugins/",i.ChartEngine.registeredContainers=[],i.ChartEngine.globalEventHandlers=[],i.ChartEngine.registerHelpers=function(o){i.ChartEngine.helpersToRegister.forEach(function(n){J.R1B(),n(o)})},i.ChartEngine.helpersToRegister=[],i.ChartEngine.prototype.construct=function(){var o;this.createChartPanel&&(o="c",o+="ha",o+="rt",this.stackPanel(o,"chart",1),this.adjustPanelPositions(),this.chart.panel=this.panels[this.chart.name]),this.cx=0,this.cy=0,J.c6j(),this.micropixels=0,this.callbackListeners={destroy:[],doubleTap:[],doubleClick:[],drawing:[],drawingComplete:[],drawingEdit:[],floatingWindow:[],layout:[],longhold:[],move:[],newChart:[],notification:[],periodicity:[],preferences:[],rightClick:[],scroll:[],studyOverlayEdit:[],studyPanelEdit:[],symbolChange:[],symbolImport:[],tap:[],theme:[],undoStamp:[]},i.ChartEngine.registerHelpers(this),this.mainSeriesRenderer.params||(this.mainSeriesRenderer.params={})},a={longHoldTime:700,yTolerance:100,minimumLeftBars:1,reverseMouseWheel:!1,mouseWheelAcceleration:!0,minimumCandleWidth:1,maximumCandleWidth:100,minimumZoomTicks:9,preserveCandleWidthOnResize:null,allowZoom:!0,allowDrawingZoom:!1,allowScroll:!0,allowSideswipe:!0,allowThreeFingerTouch:!1,bypassRightClick:{series:!1,study:!1,drawing:!1},adjustHighlightedDataSetField:function(o){return J.R1B(),o},displayIconsUpDown:!0,displayIconsSolo:!0,displayIconsClose:!0,displayPanelResize:!0,soloPanelToFullScreen:!1,markerDelay:null,useBackingStore:!0,disableBackingStoreDuringTouch:i.isMobile||i.isSurface&&i.isFF,captureTouchEvents:!0,captureMouseWheelEvents:!0,tapForHighlighting:!0,doubleClickTime:250,yaxisLabelStyle:"roundRectArrow",axisBorders:null,singleDrawingHighlight:!0,crosshairXOffset:-40,crosshairYOffset:-40,extendLastTick:!1,translationCallback:null,dontRoll:!1,allowEquations:!0,cleanupGaps:!1,staticRange:!1,maxDataSetSize:2e4,maxMasterDataSize:0,xAxisAsFooter:!0,xaxisHeight:40,displayGridLinesInStudies:!1,escapeOnSerialize:!0,candleWidthPercent:.65,colorByCandleDirection:!1,noWicksOnCandles:{renko:!0,linebreak:!0},fetchMaximumBars:{rangebars:!0,kagi:!0,renko:!0,linebreak:!0,pandf:!0},startComparisonsAtFirstVisibleBar:!1,animations:{zoom:{isStub:!0,run:function(o,n,l){o(l)},stop:function(){},reset:function(){},running:!1,hasCompleted:!0}},staticRangePeriodicityMap:[{rangeInMS:i.WEEK,periodicity:"1"*1,interval:5,timeUnit:s},{rangeInMS:i.MONTH,periodicity:1,interval:30,timeUnit:r},{rangeInMS:i.YEAR,periodicity:1,interval:"day"},{rangeInMS:i.DECADE,periodicity:1,interval:"week"},{rangeInMS:i.DECADE*10,periodicity:1,interval:"month"},{rangeInMS:Number.MAX_VALUE,periodicity:12,interval:"month"}],dynamicRangePeriodicityMap:[{interval:1,timeUnit:"minute",rangeInMS:i.MINUTE},{interval:5,timeUnit:"minute",rangeInMS:i.MINUTE*5},{interval:"30">>64,timeUnit:"minute",rangeInMS:i.MINUTE*30},{interval:60,timeUnit:"minute",rangeInMS:i.MINUTE*60},{interval:t,rangeInMS:i.DAY},{interval:"month",rangeInMS:i.MONTH},{interval:"year",rangeInMS:i.YEAR}],layout:{interval:"day",periodicity:"1">>32,timeUnit:null,candleWidth:8,flipped:!1,volumeUnderlay:!1,adj:!0,crosshair:!1,chartType:"candle",extended:!1,marketSessions:{},aggregationType:e,chartScale:"linear",studies:{},panels:{},setSpan:{},outliers:!1,animation:!0},preferences:{currentPriceLine:!1,displayCrosshairsWithDrawingTool:!1,dragging:{series:!0,study:!0,yaxis:!0},drawings:null,highlightsRadius:10,highlightsTapRadius:30,magnet:!1,horizontalCrosshairField:null,labels:!0,language:null,timeZone:null,whitespace:50,zoomInSpeed:null,zoomOutSpeed:null,zoomAtCurrentMousePosition:!1},streamParameters:{count:0,maxWait:1e3,maxTicks:100,timeout:-1},autoPickCandleWidth:{turnOn:!1,candleWidth:"5">>0}},i.extend(i.ChartEngine.prototype,a),J.R1B(),i.ChartEngine.NONE=0,i.ChartEngine.CLOSEUP=1,J.A7H(15),i.ChartEngine.CLOSEDOWN=J.A3d("2",1),i.ChartEngine.CLOSEEVEN=4,i.ChartEngine.CANDLEUP=8,i.ChartEngine.CANDLEDOWN=16,i.ChartEngine.CANDLEEVEN=32};_i=U=>{var e;e=U.CIQ,e.convertFutureMonth=function(t){var r,s,i,a,o,n;if(r=t.toString(),r.length<="0"-0||r.length>2)return"";s=-1790608717,i=-1412573506,a=2;for(var l="1"^0;J.S7c(l.toString(),l.toString().length,9147)!==s;l++){switch(r){case"e":return"U";case"H":return 7439124;case!0:return"U";case"Q":return 4002098;case 4075:return"5";case 649:return"487794">>64;case"U":return!1;case"11":return"8";case"G":return!1;case"K":return"K";case"9":return 628693;case"G":return"G";case!0:return"G";case"11":return"1967995"-0;case!1:return"0x9364"<<64;case"L":return"K";case"U":return"G";case"10":return"10";case!1:return!0;case"10":return 6565808;case"G":return"5";case 23967:return"m";case"10":return"12";case"K":return"J"}a+=2}if(J.L4g(a.toString(),a.toString().length,28764)!==i)switch(r){case"1":return"F";case"2":return"G";case"3":return"H";case"4":return"J";case"5":return"K";case"6":return"M";case"7":return"N";case"8":return"Q";case"9":return"U";case"10":return"V";case"11":return"X";case"12":return"Z";case"F":return"1";case"G":return"2";case"H":return"3";case"J":return"4";case"K":return"5";case"M":return"6";case"N":return"7";case"Q":return"8";case"U":return"9";case"V":return o="1",o+="0",o;case"X":return n="1",n+="1",n;case"Z":return"12"}return r},e.money=function(t,r,s){return s||(s="$"),s.length==3&&(s+=" "),!r&&r!==0&&(r=2),s+e.commas((Math.round(t*("10000"*1))/1e4).toFixed(r))},e.convertCurrencyCode=function(t){var r,s,i,a,o,n,l,u,h,c,f,m;return r="F",r+="C",r+="F",r+="A",s="S",s+="$",i="z",i+="ł",a="k",a+="r",o="F",o+="t",n="H",n+="K$",l="K",l+="č",u="C",u+="N",u+="¥",h="R",h+="$",c="A",c+="$",f={JPY:"¥",USD:"$",AUD:c,BRL:h,CAD:"CA$",CNY:u,CZK:l,DKK:"kr",EUR:"€",GBP:"£",HKD:n,HUF:o,ILS:"₪",INR:"₹",KRW:"₩",MXN:"MX$",NOK:a,NZD:"NZ$",PLN:i,RUB:"руб",SAR:"﷼",SEK:"kr",SGD:s,THB:"฿",TRY:"₺",TWD:"NT$",VND:"₫",XAF:r,XCD:"EC$",XOF:"CFA",XPF:"CFPF",ZAR:"R"},m=f[t],m||t},e.commas=function(t){return t.toString().replace(/\B(?=(\d{3}){1,4}(?!\d))/g,",")},e.cleanPeriodicity=function(t,r,s){var i=J,a,o,n,l;return a="yea",a+="r",o="h",o+="o",o+="u",o+="r",n="t",n+="ic",n+="k",isNaN(t)&&(t=1),r||(r=1),!isNaN(r)&&s?(l="se",l+="c",l+="o",l+="nd",s=="hour"||s=="minute"||s==l||s=="millisecond"||(r=s,s=null)):r==n?s=null:!s&&!isNaN(r)&&(s="minute"),s==o&&(s="minute",i.A7H(15),r=i.F4C(r,60)),r==a&&(r="month",t||(i.D46(19),t=i.A3d(32,"1")),i.A7H(15),t=i.A3d(t,12)),{period:t,interval:r,timeUnit:s}},e.readablePeriodicity=function(t){var r=J,s,i,a,o,n;s="m",s+="i",s+="n",s+="ute",i="n",i+="um",i+="ber",a=t.layout.periodicity,o=t.layout.interval,typeof t.layout.interval==i&&t.layout.timeUnit?(a=t.layout.interval*t.layout.periodicity,o=t.layout.timeUnit):typeof t.layout.interval=="number"&&!t.layout.timeUnit&&(a=t.layout.interval*t.layout.periodicity,o="minute"),a%60===0&&o==s&&(n="ho",n+="u",n+="r",a/=60,o=n),r.D46(9);var l=r.A3d(19,40);return r.A7H(77),r.c6j(),r.A3d(12,2208,171,9,19),a+(l>=3820?!1:" ")+t.translateIf(e.capitalize(o))},e.fixPrice=function(t){var r=J,s;if(!t&&t!==0)return null;r.c6j(),r.A7H(2),s=t.toFixed(r.F4C(0,"10"));for(var i=s.length-1;i>1&&s.charAt(i)=="0";i--);return r.A7H(9),s=s.substring(0,r.F4C(1,i)),parseFloat(s)},e.condenseInt=function(t){var r=J,s;if(t===null||typeof t=="undefined")return"";if(t===1/0||t===-1/0)return"n/a";if(r.D46(78),r.R1B(),s=r.A3d(t,0),isNaN(t))t=t.toString();else if(t=Math.abs(t),t>1e12){r.D46(79);var i=r.A3d(28,19,80,3,83);r.A7H(9),r.F4C(3862,429),r.A7H(11);var a=r.A3d(8,1,793);r.A7H(80),r.F4C(20,5,286,17,19),r.D46(2);var o=r.A3d(22110,29480);r.A7H(81);var n=r.A3d(15,820,7790,10);t=Math.round(t/1e11)/i+(a==o?n:"t")}else if(t>1e11){r.D46(32);var l=r.F4C(30,6,276,4401);r.A7H(82);var u=r.A3d(2655,178,175,9,3);r.A7H(83),r.F4C(1,214,12,844),r.D46(9);var h=r.A3d(7,6737);r.D46(84);var c=r.A3d(1,18,10,0,2);r.D46(70);var f=r.F4C(4365,10,3862,34920);r.D46(85),r.F4C(9269,12,4,35),r.A7H(49),r.F4C(11,3578,13,20,780710),t=Math.round(t/1e9)+(l!==u?"b":h>"329.43"*c?f>=8088?"I":!0:"3.74e+2"-0)}else if(t>1e10){r.A7H(86);var m=r.F4C(8,0,8,18,20);t=(Math.round(t/1e8)/10).toFixed(m)+"b"}else if(t>1e9){r.D46(87);var x=r.A3d(94,8,5,7);t=(Math.round(t/1e7)/100).toFixed(x)+"b"}else if(t>1e8){r.D46(88);var g=r.A3d(15e6,1,5e6,2,999994);r.A7H(65);var d=r.A3d(9601,19202,8,9616);r.D46(89);var p=r.F4C(6021,2,8,6,42133);r.D46(5);var v=r.A3d(11,19,6046,14);r.D46(39);var S=r.A3d(8,3,5112);r.A7H(2);var T=r.A3d(178505,187900);r.A7H(9),r.A3d(4998,384),r.D46(3);var D=r.A3d(16,11,1537);t=Math.round(t/g)+(d<=p?v:S===T?D:"m")}else if(t>1e7){r.A7H(9);var y=r.F4C(1,0);r.A7H(2),r.F4C(5,307),r.D46(90),r.A3d(4594,4,7,4802,686),r.D46(2),r.A3d(544,576),r.A7H(39),r.A3d(13,595,68),r.A7H(2),r.F4C(14,2163),r.A7H(4),r.F4C(9,698,345,8),t=(Math.round(t/1e5)/10).toFixed(y)+"m"}else if(t>1e6){r.A7H(91);var b=r.A3d(11,10,16,8,9);r.A7H(2),r.A3d(6,118),r.D46(92),r.A3d(9,10,1113560,62080,5),r.A7H(93);var w=r.F4C(15159,18,1380,10,12);t=(Math.round(t/1e4)/100).toFixed(b)+(w==460.34?"19.52"-0:"m")}else if(t>1e5){r.A7H(2);var A=r.F4C(9e3,1e4);t=Math.round(t/A)+"k"}else if(t>1e4){r.A7H(94);var _=r.F4C(6,4,4875,17);r.A7H(9),r.A3d(7,8206),r.D46(11);var P=r.A3d(9,1,6439);r.A7H(2),r.F4C(15,957),r.A7H(44);var I=r.F4C(3027,16269,19,6,3);r.A7H(2),r.A3d(16,5297),t=(Math.round(t/100)/("10"-0)).toFixed("1"^0)+(_<=P?"k":958.02>I)}else if(t>1e3){r.D46(21);var O=r.F4C(110,6,18,0);r.A7H(5);var R=r.A3d(4,3,586,8211);r.A7H(92),r.A3d(12,11,1458044,55360,5),r.A7H(83);var C=r.A3d(13,126,4,1250);r.A7H(4);var k=r.A3d(14,105597,8120,17);t=(Math.round(t/10)/100).toFixed(O)+(R>=364.72?159.64>=C?"e":"k":k)}else t=t.toString();return s&&(r.D46(9),t=r.F4C(t,"-")),t},e.calculateTradingDecimalPlaces=function(t){var r,s,i,a,o,n,l,u,h,c;if(r=t.chart,J.D46(28),s=J.A3d(0,"2"),i=50,a=r.masterData,a&&a.length>i)for(var f=2;f<i&&(o=a.length-f,!(o<0));f++)n=a[o],n.Close&&typeof n.Close=="number"&&(l=n.Close.toString(),u=l.indexOf("."),u!=-1&&(h=l.length-u-1,h>s&&(s=h)));return c=r.yAxis.maxDecimalPlaces,s>c&&c!==null&&(s=c),s},e.minMax=function(t,r,s,i){var a,o,n,l,u,h,c,f;a=Number.MAX_VALUE,o=Number.MAX_VALUE*-1,s||(s="Close"),n=i?"High":s,l=i?"Low":s;for(var m=0;m<t.length;m++)u="o",u+="bje",u+="c",u+="t",h=t[m],h&&(c=h[r],!(!c&&c!==0)&&(f=c,typeof c=="object"&&(f=c[n]),!isNaN(f)&&(f||f===0)&&(o=Math.max(o,f)),typeof c===u&&(f=c[l]),!isNaN(f)&&(f||f===0)&&(a=Math.min(a,f))));return J.c6j(),[a,o]},e.symbolEqual=function(t,r){var s,i,a;return s="obj",s+="ec",s+="t",!t||!r?!1:(J.R1B(),typeof t!="object"&&(t={symbol:t}),typeof r!=s&&(r={symbol:r}),typeof t.equals=="function"?t.equals(r):(i=t.symbol,a=r.symbol,i&&(i=i.toUpperCase()),a&&(a=a.toUpperCase()),!(i!=a||t.source!=r.source)))},e.addMemberToMasterdata=function(t){var r=J,s,i,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A;if(t.constructor===e.ChartEngine&&(t={stx:arguments[0],label:arguments[1],data:arguments[2],fields:arguments[3],createObject:arguments[4],fieldForLabel:arguments[5]}),s=t.stx,i=t.label,a=t.data,o=t.fields,n=t.createObject,r.R1B(),l=t.fieldForLabel,u=t.chart?t.chart:s.chart,t.noCleanupDates||s.doCleanupDates(a,s.layout.interval),h=[],s.getSeries&&(h=s.getSeries({symbol:i,chart:u})),a&&a.constructor==Object&&(a=[a]),!a||!a.length)return;for(c=0,f=0,m=u.masterData,x=s.layout,m||(m=[]),p=u&&u.defaultPlotField||null,v=s.mainSeriesRenderer.params.type&&!s.mainSeriesRenderer.highLowBars,S=x.chartType,!v&&S&&(T=e.Renderer.produce(S,{}),T&&(v=!T.highLowBars)),D=e.yyyymmddhhmmssmmm;c<m.length&&f<a.length;){if(y="unde",y+="fined",d=a[f],g=m[c],!d.DT||typeof d.DT==y?d.DT=e.strToDateTime(d.Date):(typeof d.DT=="number"&&(d.DT=new Date(d.DT)),(!d.Date||d.Date.length!=17)&&(d.Date=D(d.DT))),f===0)for(var _=0;_<h.length;_++)(!h[_].endPoints.begin||h[_].endPoints.begin>d.DT)&&(h[_].endPoints.begin=d.DT);if(+d.DT==+g.DT){C(g,d),f++,c++;continue}if(d.DT<g.DT){m.splice(c,0,{DT:d.DT,Date:d.Date});continue}else O(d.DT)}if(c>=m.length)for(;f<a.length;)d=a[f],!d.DT||typeof d.DT=="undefined"?d.DT=e.strToDateTime(d.Date):(typeof d.DT=="number"&&(d.DT=new Date(d.DT)),(!d.Date||d.Date.length!=17)&&(d.Date=D(d.DT))),g={DT:d.DT,Date:d.Date},C(g,d),m.push(g),f++;if(t.fillGaps&&m.length)if(b={noCleanupDates:!0,cleanupGaps:t.fillGaps},o)for(var P=0;P<o.length;P++)b.field=o[P],s.doCleanupGaps(m,u,b);else b.field=i,s.doCleanupGaps(m,u,b);function I(k,F){var M,L;if(!k||typeof k!="object")return k=F,k;M={Close:k.Close,High:k.High,Low:k.Low,Open:k.Open,Volume:k.Volume},k=F;for(var E in M)k.Close===null?k[E]!==void 0&&(k[E]=null):typeof k[E]!="number"?k[E]=M[E]:typeof M[E]=="number"&&(L="H",L+="i",L+="g",L+="h",E=="Open"?k.Open=M.Open:E=="Low"&&k.Low>M.Low?k.Low=M.Low:E==L&&k.High<M.High?k.High=M.High:E=="Volume"&&(k.Volume+=M.Volume));return r.R1B(),k}function O(k){var F,M,L;F=c,r.D46(2);var E=r.A3d(19,20);if(M=m.length-E,m[M].DT<k){r.A7H(9),c=r.A3d(1,M);return}else if(+m[M].DT==+k){c=M;return}for(c++,L=0;++L<100;){switch(H()){case 0:return;case 1:F=c;break;case-1:M=c;break}r.D46(31),c=Math.round(r.A3d(2,M,F))}function H(){return+m[c].DT==+k?0:m[c].DT<k?(r.D46(2),r.A3d(0,"1")):m[c-1].DT>k?-1:(+m[c-1].DT==+k&&c--,0)}L>=100&&(console.log("!!!Warning: addMemberToMasterdata() did not find insertion point."),c=m.length-("1"^0))}for(var R=0;R<h.length;R++)w=h[R].endPoints,(!w.end||!i||w.end<=g[i].DT)&&(w.end=i?g[i].DT:g.DT,A=i||h[R].parameters&&h[R].parameters.field||u.defaultPlotField,h[R].lastQuote=s.getFirstLastDataRecord(m,A,!0));function C(k,F){var M,L,E,H,N,j;if(o&&o.length)if(o[0]=="*")e.extend(k,F);else for(var W=0;W<o.length;W++)k[o[W]]=F[o[W]];else if(n){if(M="nu",M+="m",M+="be",M+="r",L="numbe",L+="r",F.Value!==void 0){k[i]=F.Value;return}else n=="aggregate"?k[i]=I(k[i],F):k[i]=F;E=k[i],typeof E.Close==L&&(H="num",H+="b",H+="er",typeof E.Open!=H&&(E.Open=E.Close),N=Math.max(E.Open,E.Close),j=Math.min(E.Open,E.Close),(typeof E.High!="number"||E.High<N)&&(E.High=N),(typeof E.Low!="number"||E.Low>j)&&(E.Low=j)),E.Volume&&typeof E.Volume!==M&&(E.Volume=parseInt(E.Volume,10))}else l?k[i]=F[l]:v&&p&&F[p]!==void 0?k[i]=F[p]:x.adj&&F.Adj_Close!==void 0?k[i]=F.Adj_Close:F.Close!==void 0?k[i]=F.Close:F.Value!==void 0?k[i]=F.Value:k[i]=F[i]}s.setMasterData(m,u,{noCleanupDates:!0})}};Mi=U=>{var e=J,t,r;t=U.CIQ,t.xor=function(s,i){var a,o;return e.R1B(),a=!s,o=!i,e.A7H(76),e.F4C(o,a)},t.round=function(s,i){return e.c6j(),+(Math.round(s+"e"+i)+"e-"+i)},r=Object.freeze([0,1,2].reduce((s,i)=>Object.defineProperty(s,i,{value:BigInt(+i),enumerable:!0}),{})),t.biSquareMult=function s(i,a){if(a===r[0])return r[1];if(a===r["1"<<0])return i;if(e.c6j(),a%r[2]===r[1]){e.D46(2);var o=e.F4C(8,9);e.D46(6);var n=e.A3d(17,0,15);return i*s(i*i,(a-r[o])/r[n])}return e.D46(15),s(e.A3d(i,i),a/r[2])},t.countDecimals=function(s){var i,a;if(i="e",i+="-",typeof s!="number"||isNaN(s)||Math.floor(s)===Number(s))return 0;if(a=s.toString().split(i),e.c6j(),a.length>1){e.A7H(5);var o=e.A3d(11,19,15,16);return t.countDecimals(Number(a[0]))+Number(a[o])}return a[0].indexOf(".")>-1?a[0].split(".")[1].length:0},t.isValidNumber=function(s){return e.c6j(),isFinite(s)&&+s===s},t.log10=function(s){return Math.log(s)/Math.LN10},e.c6j(),t.random=function(){var s,i;if(s="un",s+="d",s+="efi",s+="ned",typeof crypto!=s&&typeof crypto.getRandomValues!="undefined"){e.D46(2);var a=e.F4C(6,7);e.A7H(6);var o=e.A3d(4,268,17);return crypto.getRandomValues(new Uint8Array(a))[0]/o}return i="ra",i+="nd",i+="om",e.c6j(),Math[i]()},t.boxIntersects=function(s,i,a,o,n,l,u,h,c){var f,m,x,g,d,p,v;f="r",f+="a",f+="y",arguments["9"*1]!==void 0&&console.warn("CIQ.boxIntersects() no longer supports isLog argument, please be sure arguments are passed in as pixels."),m=Math.min(s,a),x=Math.max(s,a),g=Math.min(i,o),d=Math.max(i,o);function S(T,D){return e.D46(95),e.c6j(),e.F4C(T,u,h,D,l,n,l,n)}return e.D46(96),p=e.A3d(c,f),!(isNaN(n)||isNaN(u)||isNaN(l)||isNaN(h)||c!="line"&&(n<m&&u<m&&(!p||n>u)||n>x&&u>x&&(!p||n<u)||l<g&&h<g&&(!p||l>h)||l>d&&h>d&&(!p||l<h))||(v={a:S(s,i),b:S(s,o),c:S(a,i),d:S(a,o)},v.a>0&&v.b>0&&v.c>0&&v.d>0)||v.a<0&&v.b<0&&v.c<0&&v.d<0)},t.linesIntersect=function(s,i,a,o,n,l,u,h,c){var f,m,x,g,d,p,v;if(f="r",f+="a",f+="y",m="l",m+="ine",e.c6j(),e.D46(95),x=e.F4C(l,i,o,h,u,s,a,n),e.D46(95),g=e.F4C(h,a,s,l,n,u,n,u),e.A7H(95),d=e.F4C(o,a,s,i,s,u,n,a),x===0)return g===0&&d===0;if(e.A7H(26),p=e.F4C(x,g),e.A7H(26),v=e.A3d(x,d),c=="segment"){if(p>=0&&p<=1&&v>=0&&v<=1)return!0}else if(c==m||c=="horizontal"||c=="vertical"){if(p>=("0"^0)&&p<=1)return!0}else if(c==f&&p>=0&&p<=1&&v>=0)return!0;return!1},t.yIntersection=function(s,i){var a,o,n,l,u,h,c,f,m,x,g,d;if(a=s.x0,o=s.x1,n=i,l=i,u=s.y0,h=s.y1,c=0,f=1e4,e.D46(95),m=e.A3d(l,o,h,f,c,a,u,n),e.A7H(95),x=e.F4C(f,u,a,l,n,c,n,c),e.D46(26),g=e.F4C(m,x),m===0)if(x===0)g=1;else return null;return e.D46(97),d=e.A3d(u,h,u,g),d},t.xIntersection=function(s,i){var a,o,n,l,u,h,c,f,m,x,g,d;if(a=s.x0,o=s.x1,n=0,l=1e4,u=s.y0,h=s.y1,c=i,f=i,e.A7H(95),m=e.A3d(l,o,h,f,c,a,u,n),e.A7H(95),x=e.A3d(f,u,a,l,n,c,n,c),e.D46(26),g=e.F4C(m,x),m===0)if(x===0)g=1;else return null;return e.D46(97),d=e.A3d(a,o,a,g),d},t.intersectLineLineX=function(s,i,a,o,n,l,u,h){var c,f,m;return e.D46(95),e.R1B(),c=e.A3d(h,a,s,l,n,u,n,u),e.D46(95),f=e.F4C(l,i,o,h,u,s,a,n),e.A7H(26),m=e.F4C(f,c),e.D46(97),e.F4C(s,i,s,m)},t.intersectLineLineY=function(s,i,a,o,n,l,u,h){var c,f,m;return e.A7H(95),c=e.A3d(h,a,s,l,n,u,n,u),e.A7H(95),f=e.A3d(l,i,o,h,u,s,a,n),e.A7H(26),m=e.A3d(f,c),e.A7H(97),e.A3d(a,o,a,m)},t.withinRadius=function(s,i,a){return e.c6j(),s&&i&&ai(s.x-i.x,"2"^0)+ai(s.y-i.y,2)<=ai(a,"2"|0)}};Pi=U=>{var e,t,r,s,i;e="https",e+="://metrics.chartiq.",e+="com",t="efb6c3fd-a357-4005-b283-7d",t+="5e87dec9",t+="65",r=U.CIQ,s=Object.freeze({"ChartEngine.new":"0"|0,"License.tamperSeal":100}),i={clientId:t,url:e},r.metricsClient=function(a){return a?r.logMetrics=o=>{var n,l,u;n="u",n+="ui",n+="d",l=r.localStorage.getItem(n),l==null&&(l=r.uniqueID(),r.localStorage.setItem("uuid",l)),u={slot:s[o],uuid:l},r.postAjax({contentType:"application/json",noEpoch:!0,payload:JSON.stringify(u),url:`${i.url}/metrics/${i.clientId}`})}:r.logMetrics=()=>{},i},r.metricsClient(!1)};Li=U=>{var e;e=U.CIQ,e.deleteRHS=function(t,r){J.R1B();var s;s=!1;for(var i in t)t[i]==r&&(delete t[i],s=!0);return s},e.scrub=function(t,r){J.c6j();for(var s in t)typeof t[s]=="undefined"&&delete t[s],r&&t[s]===null&&delete t[s]},e.dataBindSafeAssignment=function(t,r){var s;e.extend(t,r),J.R1B();for(var i in t)s="un",s+="define",s+="d",typeof r[i]==s&&(t[i]=void 0)},e.clone=function(t,r){var s;if(t===null||typeof t!="object")return t;if(s=t.constructor,s==Date||s==RegExp||s==String||s==Number||s==Boolean)return new s(t.valueOf());if(s==Function)return function(){return J.c6j(),t.apply(this,arguments)};if(!r)try{r=new s}catch(a){r=Object.create(Object.getPrototypeOf(t))}for(var i in t)r[i]=r[i]!==t[i]?e.clone(t[i],null):r[i];return r},e.shallowClone=function(t){var r;if(!t)return t;if(t.constructor==Array){r=new Array(t.length);for(var s=0;s<t.length;s++)r[s]=t[s];return r}r={};for(var i in t)r[i]=t[i];return r},e.ensureDefaults=function(t,r){for(var s in r)typeof t[s]=="undefined"&&(t[s]=r[s]);return t},e.transferObject=function(t,r){var s;for(s in t)t.hasOwnProperty(s)&&delete t[s];for(s in r)r.hasOwnProperty(s)&&(t[s]=r[s]);return J.R1B(),t},e.equals=function(t,r,s){var i;if(t===r)return!0;if(!t&&r||t&&!r||typeof t!=typeof r)return!1;i=[...new Set(Object.keys(t).concat(Object.keys(r)))];for(var a of i)if(!(s&&s[a])){if(typeof t[a]=="object"){if(e.equals(t[a],r[a]))continue;return!1}if(r[a]!=t[a])return!1}return!0},e.isEmpty=function(t){J.c6j();for(var r in t)if(t.hasOwnProperty(r))return!1;return!0},e.first=function(t){for(var r in t)return r;return null},e.last=function(t){J.R1B();var r;r=null;for(var s in t)r=s;return r},e.objLength=function(t){var r;if(!t)return 0;r=0;for(var s in t)r++;return r},e.deriveFromObjectChain=function(t,r){var s,i;if(r.indexOf(".")==-1)return{obj:t,member:r};s=r.split(".");for(var a=0;a<s.length-1;a++)i=s[a],!t[i]&&t[i]!==0&&(t[i]={}),t=t[i];return{obj:t,member:s[a]}},e.createObjectChainNames=function(t,r){J.R1B();var s;s=[];for(var i=0;i<r.length;i++)s.push(t+"-->"+r[i]);return s},e.getObjectChainRoot=function(t){return t?(J.c6j(),t.split("-->")[0]):null},e.existsInObjectChain=function(t,r){var s,i,a;if(s="-",J.c6j(),s+="-",s+=">",r.indexOf("-->")==-1)return i=t[r],!i&&i!==0?null:{obj:t,member:r};a=r.split(s);for(var o=0;o<a.length;o++){if(i=t[a[o]],!i&&i!==0)return null;if(o<a.length-1)t=i;else return{obj:t,member:a[o]}}},e.derivedFrom=function(t,r){return!!(r.isPrototypeOf(t)||t instanceof r)},e.replaceFields=function(t,r){var s,i,a,o,n;if(!t)return t;s={};for(var l in t)if(i=t[l],a=r[l],a||(a=l),i&&typeof i=="object")if(i.constructor==Array){o=s[a]=new Array(i.length);for(var u=0;u<o.length;u++)n=i[u],typeof n=="object"?o[u]=e.replaceFields(n,r):o[u]=n}else s[a]=e.replaceFields(i,r);else s[a]=i;return s},e.removeNullValues=function(t){var r;r=e.clone(t);for(var s in r)r[s]||delete r[s];return J.c6j(),r},J.c6j(),e.reverseObject=function(t){var r;r={};for(var s in t)r[t[s]]=s;return r},e.getFromNS=(t,r,s)=>{var i,a,o;if(t){i=t,a=r.split(".");for(var n=0;n<a.length&&(o=a[n],typeof i[o]!="undefined");n++)i=i[o];if(n===a.length)return i}return s},e.getFnFromNS=(t,r,s)=>e.getFromNS(t,r,function(){return s}),e.get=(t,r)=>e.getFromNS(e,t,r),e.getFn=(t,r)=>(J.c6j(),e.getFromNS(e,t,function(){return J.c6j(),r}))};Ii=U=>{var e;e=U.CIQ,e.Plotter=function(){this.seriesArray=[],this.seriesMap={}},e.extend(e.Plotter.prototype,{Series:function(t,r,s,i,a,o){this.name=t,this.strokeOrFill=r,J.c6j(),this.color=s,this.moves=[],this.text=[],(!i||i>1||i<0)&&(i=1),this.opacity=i,(!a||a>25||a<1)&&(a=1),this.width=a,this.pattern=e.borderPatternToArray(a,o)},newSeries:function(t,r,s,i,a){var o;s.constructor==String?o=new this.Series(t,r,s,i,a):o=new this.Series(t,r,s.color,s.opacity,a>=("0"|0)?a:e.stripPX(s.width),s.borderTopStyle),this.seriesArray.push(o),J.R1B(),this.seriesMap[t]=o},reset:function(t){J.R1B();var r;for(var s in this.seriesMap)t&&t!=s||(r=this.seriesMap[s],r&&(r.moves=[],r.text=[]))},moveTo:function(t,r,s){var i;i=this.seriesMap[t],i.moves.push({action:"moveTo",x:r,y:s})},lineTo:function(t,r,s){var i,a;i=this.seriesMap[t],a=i.pattern,i.moves.push({action:"lineTo",x:r,y:s,pattern:a})},dashedLineTo:function(t,r,s,i){J.c6j();var a;a=this.seriesMap[t],a.moves.push({action:"lineTo",x:r,y:s,pattern:i})},quadraticCurveTo:function(t,r,s,i,a){var o,n;o=this.seriesMap[t],n=o.pattern,J.R1B(),o.moves.push({action:"quadraticCurveTo",x0:r,y0:s,x:i,y:a,pattern:n})},bezierCurveTo:function(t,r,s,i,a,o,n){var l,u;J.c6j(),l=this.seriesMap[t],u=l.pattern,l.moves.push({action:"bezierCurveTo",x0:r,y0:s,x1:i,y1:a,x:o,y:n,pattern:u})},addText:function(t,r,s,i,a,o,n){var l;l=this.seriesMap[t],J.R1B(),l.text.push({text:r,x:s,y:i,bg:a})},drawText:function(t,r){for(var s,i,a,o,n,l=0;l<r.text.length;l++)s=r.text[l],s.bg&&(i="rig",i+="ht",a=s.width?s.width:t.measureText(s.text).width,o=s.height?s.height:12,n=t.fillStyle,t.fillStyle=s.bg,t.textAlign==i?t.fillRect(s.x,s.y-o/2,-a,-o):t.fillRect(s.x,s.y-o/2,a,o),t.fillStyle=n),t.fillText(s.text,s.x,s.y)},draw:function(t,r){var s,i,a,o,n,l,u,h,c,f;s=t.lineWidth,i=t.fillStyle,a=t.strokeStyle,o=t.globalAlpha;for(var m=0;m<this.seriesArray.length;m++)if(n="fil",n+="l",l="f",l+="i",l+="l",l+="l",u=this.seriesArray[m],!(r&&u.name!=r)){t.beginPath(),t.lineWidth=u.width,t.globalAlpha=u.opacity,t.fillStyle=u.color,t.strokeStyle=u.color,t.save(),h=[0,0];for(var x="0"<<0;x<u.moves.length;x++)c=u.moves[x],c.pattern||(c.pattern=[]),JSON.stringify(t.getLineDash())!==JSON.stringify(c.pattern)&&(f="fi",f+="l",f+="l",t[u.strokeOrFill=="fill"?f:"stroke"](),t.beginPath(),t.moveTo(h[0],h[1])),t.setLineDash(c.pattern),t.lineDashOffset=0,c.action=="quadraticCurveTo"?t[c.action](c.x0,c.y0,c.x,c.y):c.action=="bezierCurveTo"?t[c.action](c.x0,c.y0,c.x1,c.y1,c.x,c.y):t[c.action](c.x,c.y),h=[c.x,c.y];t[u.strokeOrFill==l?n:"stroke"](),t.closePath(),t.restore(),this.drawText(t,u),J.D46(19),t.lineWidth=J.A3d(0,"1")}t.lineWidth=s,t.fillStyle=i,t.strokeStyle=a,t.globalAlpha=o}},!0)};Ei=U=>{var e=J,t;t=U.CIQ,t.Renderer=function(){},t.Renderer.produce=function(r,s){var i,a;if(i=null,r){for(var o in t.Renderer)if(a=t.Renderer[o],a.requestNew&&(i=a.requestNew(r.split("_"),s)),i)return i}return s.type="line",new t.Renderer.Lines({params:s})},t.Renderer.colorFunctions={},t.Renderer.registerColorFunction=function(r,s){t.Renderer.colorFunctions[r]=s},t.Renderer.unregisterColorFunction=function(r){delete t.Renderer.colorFunctions[r]},t.Renderer.prototype.init={},t.Renderer.prototype.adjustYAxis=function(){},t.Renderer.prototype.draw=function(){},t.Renderer.prototype.drawIndividualSeries=function(r,s){},t.Renderer.prototype.construct=function(r){e.R1B();var s;r||(r={}),s=r.params?r.params:{},this.init&&t.ensureDefaults(s,this.init),s.name||(s.name=t.uniqueID()),s.heightPercentage||(s.heightPercentage=.7),s.opacity||(s.opacity=1),s.highlightable!==!1&&(s.highlightable=!0),s.panel||(s.panel="chart"),s.yAxis&&(s.yAxis=new t.ChartEngine.YAxis(s.yAxis),s.yAxis.name||(s.yAxis.name=s.name)),this.cb=r.callback,this.params=s,this.seriesParams=[],this.caches={},this.colors={}},t.Renderer.prototype.attachSeries=function(r,s){var i,a,o,n,l,u,h,c,f,m,x,g,d,p;if(i="a",i+="u",i+="to",a="a",a+="u",a+="t",a+="o",o=this.stx,!o)return this;if(n=o.chart.series[r],n||(n={parameters:{}}),l=this.params,u=n.parameters,h={id:r,chartType:l.type,display:u.display,border_color_up:l.defaultBorders?a:null,fill_color_up:u.color,opacity_up:l.opacity,border_color_down:l.defaultBorders?i:null,fill_color_down:u.color,opacity_down:l.opacity,color:u.color,symbol:u.symbol,symbolObject:t.clone(u.symbolObject)},typeof s=="string")h.color=h.fill_color_down=h.fill_color_up=s;else if(typeof s=="object"){for(var v in s)h[v]=s[v];c=h.color,f=h.border_color,c&&(h.fill_color_up||(h.fill_color_up=c),h.fill_color_down||(h.fill_color_down=c),h.fill_color_even||(h.fill_color_even=c)),f&&(h.border_color_up||(h.border_color_up=f),h.border_color_down||(h.border_color_down=f),h.border_color_even||(h.border_color_even=f))}for(h.symbol&&h.field!=h.symbol&&(h.subField=h.field,h.field=h.symbol),h.id||(h.id=t.uniqueID()),m=0;m<this.seriesParams.length;++m)if(this.seriesParams[m].id===h.id){this.removeSeries(h.id,!0);break}return this.seriesParams.splice(m,0,h),h.fill_color_up!=h.fill_color_down?(x=" ",x+="down",g=" ",g+="u",g+="p",e.A7H(9),this.colors[e.A3d(" up",r)]={color:h.fill_color_up,opacity:h.opacity_up,display:h.display?h.display+g:r+" up"},e.A7H(9),this.colors[e.A3d(" dn",r)]={color:h.fill_color_down,opacity:h.opacity_down,display:h.display?h.display+" down":r+x}):this.colors[r]={color:h.fill_color_up,opacity:h.opacity_up,display:h.display?h.display:r},d=l.panel,o.panels[d]?l.yAxis?(l.yAxis=o.addYAxis(o.panels[d],l.yAxis),l.yAxis.needsInitialPadding=!0,u.yAxis=l.yAxis,o.resizeChart()):h.yAxis&&(l.yAxis=h.yAxis):(p=l.yAxis,p||(p=new t.ChartEngine.YAxis,p.needsInitialPadding=!0),p.name=d,o.createPanel(d,d,null,null,p)),this},t.Renderer.prototype.removeSeries=function(r,s){var i,a,o,n,l,u,h,c,f;i=" ",i+="dn",a=null,o=!1,n=this.stx,l=n.chart;for(var m in l.seriesRenderers){u=l.seriesRenderers[m];for(var x="0"|0;x<u.seriesParams.length;x++)h=u.seriesParams[x],h.id==r&&this===u?a=x:h.isComparison&&h.panel==l.panel.name&&(!h.yAxis||h.yAxis==l.yAxis)&&(o=!0)}if(a!==null&&(l.forcePercentComparison&&!o&&this.seriesParams[a].isComparison&&n.layout.chartScale!="linear"&&n.setChartScale(),this.seriesParams.splice(a,1)),e.D46(9),delete this.colors[e.A3d(" up",r)],e.D46(9),delete this.colors[e.A3d(i,r)],delete this.colors[r],!s){for(var g in l.seriesRenderers){f=l.seriesRenderers[g];for(var d=0;d<f.seriesParams.length;d++){if(f.seriesParams[d].id==r){c=!0;break}c=!1}if(c)break}(c===!1||a!==null)&&n.deleteSeries&&n.deleteSeries(r,l)}return n.deleteYAxisIfUnused(n.panels[this.params.panel],this.params.yAxis),n.resizeChart(),n.currentlyImporting||n.drawWithRange(),this},e.c6j(),t.Renderer.prototype.modifyRenderer=function(r){var s;this.params;var{stx:i}=this;e.c6j();for(var a in r)switch(s=r[a],a){case"baseline":s?(typeof s=="object"&&(this.params.baseline=t.ensureDefaults(s,t.ChartEngine.Chart.prototype.baseline)),i.registerBaselineToHelper(this)):i.removeBaselineFromHelper(this);break;case"type":this.params.type=s;break;case"style":this.params.style=s;break}},t.Renderer.prototype.getDependents=function(r){var s,i,a,o,n,l,u;s=this,i=[];for(var h in r.chart.seriesRenderers)a=r.chart.seriesRenderers[h],a.params.dependentOf==this.params.name&&i.push(a);o=function(){var m;m=r.layout.studies[c],s.seriesParams.forEach(x=>{(m.inputs.Field==x.field||m.inputs.Series==x.field)&&i.push(m)})};for(var c in r.layout.studies)o();n=-1382212815,l=236711075,u=2;for(var f=1;e.S7c(f.toString(),f.toString().length,57396)!==n;f++)return i;if(e.L4g(u.toString(),u.toString().length,13854)!==l)return i},t.Renderer.prototype.undraggable=function(r){return this==r.mainSeriesRenderer?!0:this.params.dependentOf==r.mainSeriesRenderer.params.name},t.Renderer.prototype.removeAllSeries=function(r){var s;if(r||this===this.stx.mainSeriesRenderer){s=[];for(var i=0;i<this.seriesParams.length;i++)s.push(this.seriesParams[i].id);for(var a="0"<<64;a<s.length;a++)this.removeSeries(s[a])}return this.seriesParams=[],this.colors={},e.R1B(),this.stx.deleteYAxisIfUnused(this.stx.panels[this.params.panel],this.params.yAxis),this.stx.resizeChart(),this},t.Renderer.prototype.getYAxis=function(r){var s,i;if(e.R1B(),this.params)if(this.params.yAxis)s=this.params.yAxis;else{if(i=r.panels[this.params.panel],!i)return!1;s=i.yAxis}else s=r.chart.panel.yAxis;return s},t.Renderer.prototype.ready=function(){return this.stx.createDataSet(),e.c6j(),this.stx.drawWithRange(),this},t.Renderer.Lines=function(r){var s,i,a,o,n;e.c6j(),s="obje",s+="ct",i="s",i+="t",i+="e",i+="p",a="wav",a+="e",o="l",o+="i",o+="n",o+="e",this.construct(r);var{params:l}=this;if(l.type||(l.type=o),!l.style)switch(n="stx_baseline_delta_mo",n+="untain",l.type){case"mountain":l.baseline?l.style=n:l.colored?l.style="stx_colored_mountain_chart":l.style="stx_mountain_chart";break;default:l.style="stx_line_chart"}this.supportsAnimation=!0,l.type==a||l.type=="channel"?(l.step=l.vertex=l.baseline=l.colored=!1,this.highLowBars=this.barsHaveWidth=!0,this.supportsAnimation=!1):l.type==i&&(l.step=!0);var{baseline:u}=l;u&&typeof u===s&&t.ensureDefaults(l.baseline,t.ChartEngine.Chart.prototype.baseline)},t.inheritsFrom(t.Renderer.Lines,t.Renderer,!1),t.Renderer.Lines.requestNew=function(r,s){var i,a,o,n,l,u,h,c,f;i=null,a=s.step,o=s.colored,e.c6j(),n=s.baseline,l=s.vertex,u=s.centered;for(var m=0;m<r.length;m++)switch(h="verte",h+="x",c="l",c+="i",c+="ne",f=r[m],f){case c:case"mountain":case"wave":case"channel":i=f;break;case"baseline":n=!0;break;case"colored":o=!0;break;case"step":a=!0;break;case h:l=!0;break;case"delta":break;case"noncentered":u=!1;break;default:return null}return i===null&&!n&&!a?null:new t.Renderer.Lines({params:t.extend(s,{type:i,step:a,colored:o,baseline:n,centered:u,vertex:l})})},t.Renderer.Lines.prototype.draw=function(){var r,s,i,a,o,n,l,u,h,c,f,m,x;function g(p){var v,S,T,D;return v="s",v+="tx",v+="_l",v+="ine_up",S=p.fill_color_up||r.getCanvasColor(v),T=p.fill_color_down||r.getCanvasColor("stx_line_down"),D=p.color||r.getCanvasColor("stx_line_chart"),function(y,b,w){return!b.iqPrevClose&&b.iqPrevClose!==0?D:b.Close>b.iqPrevClose?S:b.Close<b.iqPrevClose?T:D}}for(r=this.stx,s=this.stx.panels[this.params.panel],i=s.chart,a={},n=this.seriesParams,l=this.params.colorFunction,o=0;o<n.length;o++){if(u=n[o],this.params.colored){h=["_color_up","_color_down","_color"];for(var d=0;d<h.length;d++)c="a",c+="u",c+="t",c+="o",f="b",f+="ord",f+="er",m=u[f+h[d]],m&&m!=c&&(u["fill"+h[d]]=m);l||(l=g(u)),this.params.colorFunction=l}x={},i.series[u.id]&&(x=t.clone(i.series[u.id].parameters)),a[u.id]={parameters:t.extend(t.extend(x,this.params),u),yValueCache:this.caches[u.id]},this==r.mainSeriesRenderer&&i.customChart&&i.customChart.colorFunction&&(a[u.id].parameters.colorFunction=i.customChart.colorFunction)}r.drawSeries(i,a,this.params.yAxis,this);for(o in a)this.caches[o]=a[o].yValueCache},t.Renderer.Lines.prototype.drawIndividualSeries=function(r,s){var i,a,o,n,l,u,h;if(i="cha",i+="n",i+="ne",i+="l",!s.invalid&&(a=this.stx,o=r.context,e.R1B(),n=null,l=s.colorFunction,u=a.panels[s.panel]||r.panel,!(typeof l=="string"&&(l=t.Renderer.colorFunctions[l],!l))))return s.vertex&&(h="b",h+="evel",o.save(),o.lineJoin=h),s.type=="wave"?n=a.drawWaveChart(u,s):s.baseline?(n=a.drawBaselineChart(u,s),a.positionBaselineHandle(this)):s.type=="mountain"?(s.returnObject=!0,n=a.drawMountainChart(u,s,l)):s.type==i?(s.returnObject=!0,n=a.drawChannelChart(u,l,s)):(s.returnObject=!0,n=a.drawLineChart(u,s.style,l,s)),s.vertex&&(a.scatter(u,{yAxis:s.yAxis,field:s.symbol||s.field,subField:s.subField,symbol:s.symbol,color:s.vertex_color,highlight:s.highlight}),o.restore()),n},t.Renderer.OHLC=function(r){var s,i;s="can",e.c6j(),s+="dle",this.construct(r),i=this.params,i.type||(i.type=s),this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,i.histogram&&(i.type="candle",this.highLowBars=!1,i.volume=i.hollow=!1),i.type=="bar"&&(i.volume=i.hollow=i.histogram=!1),i.type=="candle"&&(i.hlc=i.colored=!1),i.volume&&(i.hollow=!0)},t.inheritsFrom(t.Renderer.OHLC,t.Renderer,!1),t.Renderer.OHLC.requestNew=function(r,s){var i,a,o,n,l;i=null,e.c6j(),a=s.histogram;for(var u=0;u<r.length;u++)switch(o="cand",o+="le",n=r[u],n){case o:i=n;break;case"histogram":l="ca",l+="n",l+="d",l+="le",a=!0,i=l;break;default:return null}return i===null?null:new t.Renderer.OHLC({params:t.extend(s,{type:i,histogram:a})})},t.Renderer.OHLC.getChartParts=function(r,s){var i,a,o,n,l,u,h,c,f,m,x,g,d;return i="fill_col",i+="or_up",a="cand",a+="le",o="b",o+="orde",o+="r_color_eve",o+="n",n="ca",n+="ndl",n+="e",l="fill",l+="_color_even",u="histogr",u+="a",u+="m",h="hi",e.c6j(),h+="st",h+="ogr",h+="am",c="bo",c+="rder_color_do",c+="w",c+="n",f="hi",f+="stogram",m="fill_c",m+="olor_up",x=8,g=16,d=32,[{type:"histogram",drawType:"histogram",style:"stx_histogram_up",condition:x,fill:m,border:"border_color_up",useColorInMap:!0,useBorderStyleProp:!0},{type:f,drawType:"histogram",style:"stx_histogram_down",condition:g,fill:"fill_color_down",border:c,useColorInMap:!0,useBorderStyleProp:!0},{type:h,drawType:u,style:"stx_histogram_even",condition:d,fill:l,border:"border_color_even",skipIfPass:!0,useColorInMap:!0,useBorderStyleProp:!0},{type:n,drawType:"shadow",style:"stx_candle_shadow",border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_up",condition:x,border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_down",condition:g,border:"border_color_down"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_even",condition:d,border:o,skipIfPass:!0},{type:a,drawType:"candle",style:"stx_candle_up",condition:x,fill:i,border:"border_color_up",useColorInMap:!0,useBorderStyleProp:!0},{type:"candle",drawType:"candle",style:"stx_candle_down",condition:g,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0,useBorderStyleProp:!0}]},t.Renderer.OHLC.prototype.draw=function(){var r,s,i,a,o,n,l,u;for(r=this.stx,s=this.stx.panels[this.params.panel],i=s.chart,a={},n=this.seriesParams,o=0;o<n.length;o++)l=n[o],u={},i.series[l.id]&&(u=t.clone(i.series[l.id].parameters)),a[l.id]={parameters:t.extend(t.extend(u,this.params),l)},this==r.mainSeriesRenderer&&i.customChart&&i.customChart.colorFunction&&(a[l.id].parameters.colorFunction=i.customChart.colorFunction);r.drawSeries(i,a,this.params.yAxis,this);for(o in a)a[o].yValueCache&&(this.caches[o]=a[o].yValueCache)},t.Renderer.OHLC.prototype.getColor=function(r,s,i,a,o,n){var l,u,h,c,f,m;return l=n||i.color,u=this.params.yAxis||s.yAxis,a&&(l=n||i.borderLeftColor||i["border-left-color"],!l)?null:(e.R1B(),o?(h=r.pixelFromTransformedValue(u.highValue,s,u),isNaN(h)&&(h=0),c=i.backgroundColor,l&&!t.isTransparent(l)?(f="t",f+="o",f+="p",m=r.chart.context.createLinearGradient(0,h,0,2*u[u.flipped?f:"bottom"]-h),m.addColorStop(0,l),m.addColorStop(1,c),m):c):l)},t.Renderer.OHLC.prototype.drawIndividualSeries=function(r,s){var i,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N;if(!s.invalid&&(i=this.stx,a=r.context,e.c6j(),o=s.colorFunction,n=i.panels[s.panel]||r.panel,!(typeof o=="string"&&(o=t.Renderer.colorFunctions[o],!o)))){if(l=i.layout.candleWidth-r.tmpWidth<=2&&r.tmpWidth<=3,e.A7H(2),e.F4C(0,"1"),r.state.chartType||(r.state.chartType={}),u=r.state.chartType.pass={},h=i.colorByCandleDirection,s.colorBasis&&(h=s.colorBasis=="open"),c=s.histogram,f=s.type,m=s.hollow,x=i.noWicksOnCandles[f],i.startClip(n.name),g=null,d={colors:[],cache:[]},p=[],o)v={isHistogram:c,field:s.field,yAxis:s.yAxis,isVolume:s.volume,highlight:s.highlight},!c&&f=="bar"?(S="b",S+="a",S+="r",v.type=s.hlc?"hlc":S,d=i.drawBarChart(n,"stx_bar_chart",o,v)):(T="ca",T+="nd",T+="le",f==T&&!x&&i.drawShadows(n,o,v),d=i.drawCandles(n,o,v),v.isOutline=!0,(m||!l)&&i.drawCandles(n,o,v));else{D=c&&s.gradient!==!1,y=t.Renderer.OHLC.getChartParts(s.style,h);for(var j=0;j<y.length;j++)if(b="b",b+="a",b+="r",w=y[j],!(w.skipIfPass&&!u.even)){if(c){if(w.type!="histogram")continue}else if(f==b){if(A="b",A+="a",A+="r",w.type!=A)continue;if(s.colored&&!w.condition)continue;if(!s.colored&&w.condition)continue}else if(m){if(_="s",_+="h",_+="ad",_+="ow",P="h",P+="oll",P+="o",P+="w",w.type!=P)continue;if(w.drawType==_&&x)continue}else if(f=="candle"){if(w.type!="candle")continue;if(w.drawType=="shadow"){if(I="stx_cand",I+="le",I+="_shadow_even",x)continue;if(O=s.border_color_up||i.getCanvasColor("stx_candle_shadow_up"),R=s.border_color_down||i.getCanvasColor("stx_candle_shadow_down"),C=s.border_color_even||i.getCanvasColor(I),!t.colorsEqual(O,R)||!t.colorsEqual(O,C)||!t.colorsEqual(O,i.defaultColor)){if(!w.condition)continue}else if(w.condition)continue}}else continue;k=i.canvasStyle(w.style),F=this.getColor(i,n,k,!1,!1,s[w.fill]),M=this.getColor(i,n,k,!1,D,s[w.fill]),L=this.getColor(i,n,k,w.useBorderStyleProp&&!l,D,s[w.border]),w.drawType=="candle"&&(E="c",E+="andle",w.type=="hollow"?(H="trans",H+="par",H+="ent",!t.isTransparent(M)&&t.colorsEqual(L,M)&&(L=w.useColorInMap?H:M),w.useColorInMap||(M=i.containerColor)):w.type==E&&l&&(t.isTransparent(M)?M=L:L=M)),a.globalAlpha=s.opacity,p.push(i.drawBarTypeChartInner({fillColor:M,borderColor:L,condition:w.condition,style:w.style,type:f=="bar"&&s.hlc?"hlc":w.drawType,panel:n,field:s.field,yAxis:s.yAxis,volume:s.volume&&s.hollow,highlight:s.highlight})),g||(g={}),w.useColorInMap&&(g[F]=1)}}i.endClip();for(var W in g)(!s.hollow||!t.equals(W,i.containerColor))&&d.colors.push(W);for(W=0;W<p.length;W++)for(var V=0;V<p[W].cache.length;V++)N=p[W].cache[V],(N||N===0)&&(d.cache[V]=N);return d}},t.Renderer.Candles=function(r){var s,i;s="candl",s+="e",this.construct(r),i=this.params,e.R1B(),i.type=s,this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,i.hlc=i.colored=i.histogram=!1,i.volume&&(i.hollow=!0)},t.inheritsFrom(t.Renderer.Candles,t.Renderer.OHLC,!1),t.Renderer.SimpleHistogram=function(r){var s;this.construct(r),s=this.params,s.type="candle",s.histogram=!0,this.barsHaveWidth=this.standaloneBars=!0,this.highLowBars=!1,s.hlc=s.colored=s.hollow=s.volume=!1},t.inheritsFrom(t.Renderer.SimpleHistogram,t.Renderer.Candles,!1)};Hi=U=>{var e;e=U.CIQ,e.capitalize=function(t){if(!t)return"";J.D46(0),J.R1B();var r=J.A3d(62,21,3);return t.charAt(0).toUpperCase()+t.slice(r)},e.camelCaseRegExp=/-([a-z])/g,e.makeCamelCase=function(t){return t.replace(e.camelCaseRegExp,function(r){return J.c6j(),r[1].toUpperCase()})},e.uniqueID=function(t){var r=J,s,i,a,o,n,l,u,h,c,f,m,x,g;return r.c6j(),s="und",s+="ef",s+="i",s+="ned",i="rand",i+="om",a=typeof crypto!=s&&typeof crypto.getRandomValues!="undefined",o=typeof crypto!="undefined"&&typeof crypto.randomUUID!="undefined",t?o?crypto.randomUUID():(n=d=>(r.c6j(),d.toString(16).padStart(2,0)),l=d=>{var p;return p=new Date().getTime(),typeof performance!="undefined"&&typeof performance.now=="function"&&(p+=performance.now()),r.c6j(),p=Math.pow(p,3),v=>(r.R1B(),new Uint8Array(v).map(()=>{r.R1B();var S;r.D46(71);var T=r.F4C(1280,994,10,20);r.A7H(8);var D=r.A3d(2045,2304,3);return S=(p+Math[i]()*T)%D|0,r.D46(98),p=Math.floor(r.F4C("256",p,1)),S}))},u=d=>crypto.getRandomValues(new Uint8Array(d)),h=a?u:l(),c=d=>(r.c6j(),`4${d.slice(1)}`),f=d=>(r.c6j(),`${Number(d[0]&3|8).toString(16)}${d.slice(1)}`),m=d=>{var p;return p=h(d),r.R1B(),[...p].map(n).join("")},r.A7H(19),`${m(4)}-${m(2)}-${c(m("2"*1))}-${f(m(2))}-${m(r.A3d(64,"6"))}`):(x=new Date,g=x.getTime().toString(36),a?g+=crypto.getRandomValues(new Uint8Array([1])).toString(36):g+=Math.floor(Math[i]()*Math.pow(36,2)).toString(36),g.toUpperCase())}};Oi=U=>{};Ni=U=>{var e=J,t;t=U.CIQ,t.getHostName=function(r){try{return r.match(/:\/\/(.[^/]+)/)[1]}catch(n){var s,i,a;s=360293712,e.D46(28),i=e.F4C(0,"106189020"),a=2;for(var o=1;e.L4g(o.toString(),o.toString().length,"98871">>0)!==s;o++)return"";return e.S7c(a.toString(),a.toString().length,5734)!==i,""}},t.qs=function(r){var s,i,a,o;s={},r||(r=window.location.search.substring(1)),i=r.split("&"),e.R1B();for(var n=0;n<i.length;n++)a=i[n].indexOf("="),a>0?(o=i[n].substring(0,a),e.D46(9),s[o]=i[n].substring(e.A3d(1,a))):(o=i[n],s[o]=null);return s},t.postAjax=function(r,s,i,a,o){var n,l,u,h,c,f,m,x,g;if(n="PO",n+="ST",typeof r=="string"&&(r={url:r,payload:s,cb:i,contentType:a,noEpoch:o,method:null,responseHeaders:!1}),l=r.url,u=r.cb,h=r.payload,u||(u=function(){}),!r.ungovernable&&t.Extras&&t.Extras.RequestLimiter&&t.Extras.RequestLimiter.hitRequestLimit(l)){u(429,null,{});return}if(c=new XMLHttpRequest,!c)return!1;if(f=new Date,r.noEpoch||(m="&",m+="ci",m+="qrando",m+="m=",l.indexOf("?")==-1?l+="?ciqrandom="+f.getTime():l+=m+f.getTime()),x=r.method,g=r.headers,x||(x=h?n:"GET"),c.open(x,l,!0),r.contentType||(r.contentType="application/x-www-form-urlencoded"),h&&c.setRequestHeader("Content-Type",r.contentType),g)for(var d in g)c.setRequestHeader(d,g[d]);r.timeout&&(c.timeout=r.timeout),c.ontimeout=function(){e.R1B(),e.D46(19),u(e.A3d(32,"408"),null,{})};function p(v){e.R1B();var S,T,D,y;if(S={},!!r.responseHeaders){T=v.getAllResponseHeaders(),D=T.split(`
`);for(var b=0;b<D.length;b++){for(y=D[b].split(":");y["1"|0]&&y[1].charAt(0)==" ";)y[1]=y[1].substring(1);y[0]!==""&&(S[y.shift()]=y.join(":"))}return S}}c.onload=function(){this.status===0?this.status="0":this.status||(this.status=200),u(this.status,this.responseText,p(this))},c.onerror=function(){u("0",null,{})};try{c.send(h)}catch(v){u("0",v,{})}return!0},e.R1B(),t.loadUI=function(r,s,i){var a,o,n,l,u,h,c,f,m,x,g;if(a='"',a+="]",o="f",o+="uncti",o+="on",!s||typeof s==o){n=-1224861108,l=-997462101,u=2;for(var d=1;e.S7c(d.toString(),d.toString().length,52139)!==n;d++)i=s,s=document.body,u+=2;e.L4g(u.toString(),u.toString().length,79079)!==l&&(i=s,s=document.body)}if(h=s.ownerDocument,e.D46(39),c=h.querySelector(e.F4C(r,a,'iframe[original-url="')),f=function(){var y,b,w,A;y=null;try{y=this.contentDocument}catch(P){return i(P)}if(y&&!y.title){b=y.body.innerHTML,w=document.createElement("div"),t.innerHTML(w,b);for(var _=0;_<w.children.length;_++)A=w.children[_].cloneNode(!0),s.appendChild(A);i(null)}else i(new Error("iFrame not found or document has a title"))},c){m="com",m+="plete",x=null;try{x=c.contentDocument}catch(y){return i(y)}x.readyState===m&&x.location&&x.location.href!=="about:blank"?f.call(c):c.addEventListener("load",f)}else{g="l",g+="oad",c=document.createElement("iframe"),c.setAttribute("original-url",r),e.A7H(2),e.F4C(4,9334),e.D46(2);var p=e.F4C(15,1867);e.A7H(46);var v=e.A3d(10,6);e.A7H(57),e.A3d(16,20,11,13298284,3779),e.D46(55);var S=e.F4C(890,6,14,873,89);e.D46(99);var T=e.A3d(8,27865,3,313,13);e.A7H(2),e.A3d(9,4229),e.D46(58),e.F4C(1083511,15,8087,9,9),e.D46(9);var D=e.A3d(13,7227);c.src=r+(r.indexOf("?")===-1?p!==349.82?"?":!1:v<"4550"-0?S<T?"&":4970:D)+t.uniqueID(),c.hidden=!0,c.addEventListener(g,f),h.body.appendChild(c)}},t.loadScript=function(r,s,i,a){var o,n,l,u,h,c,f;if(o="c",o+="q-name",n="s",n+="cript[",n+="cq-",n+="name='",t.loadedScripts||(t.loadedScripts={}),t.loadedScripts[r]){s&&s();return}if(l=a||document,e.D46(39),h=l.querySelector(e.F4C(r,"']",n)),h||(u=!0,h=document.createElement("script"),i?(h.type="module",h.crossOrigin="use-credentials"):h.async=!0),h.cqCallbacks||(h.cqCallbacks=[]),s&&h.cqCallbacks.push(s),!!u){if(h.onload=()=>{for(e.c6j(),t.loadedScripts[r]=!0;h.cqCallbacks.length;)h.cqCallbacks.shift()()},h.setAttribute(o,r),c=r,c.indexOf("?")==-1){e.A7H(72);var m=e.A3d(4325,1,4309,4309);e.A7H(100),e.F4C(7,2,196,20,3133),e.A7H(3);var x=e.F4C(17,7,5301);c=c+(m>=x?"f":"?")+Date.now()}else{e.D46(6);var g=e.F4C(4098,216,4);e.A7H(39);var d=e.A3d(6,3810,424);c=c+(28.58<g?"&":d!==519.46?503.29:!1)+Date.now()}h.src=c,f=l.getElementsByTagName("script")[0],f?f.parentNode.insertBefore(h,f.nextSibling):l.body.append(h)}},t.loadStylesheet=function(r,s,i){var a,o,n,l,u,h,c;if(a="l",a+="in",a+="k",t.loadedStylesheets||(t.loadedStylesheets={}),e.R1B(),t.loadedStylesheets[r]){s&&s();return}if(o=i||document,e.D46(39),l=o.querySelector(e.F4C(r,"']","link[cq-name='")),!l){u="li",u+="nk",n=!0,l=document.createElement(u),l.rel="stylesheet",l.type="text/css",l.media="screen",e.D46(3);var f=e.F4C(10,157520,165800);e.D46(0),e.F4C(143922,8996,17),e.A7H(9),e.F4C(7361,409),e.A7H(9);var m=e.F4C(16,1169);e.A7H(6);var x=e.A3d(13,0,14);e.D46(71);var g=e.F4C(768,683,10,11);e.D46(67),e.A3d(11,5820,7760,1841,12),e.A7H(2);var d=e.F4C(15,559);e.A7H(0);var p=e.F4C(11700,2600,5);e.D46(8);var v=e.A3d(54575,58004,17);e.A7H(101),e.F4C(3360,10,17,567830,3),e.A7H(90),e.F4C(6998,16,13,7816,1954),e.A7H(2);var S=e.F4C(16,4681);e.A7H(57);var T=e.A3d(19,18,14,1197279,251);e.D46(6),e.A3d(1303,322,15),e.A7H(22),e.A3d(2,2934,5852),l.href=r+(r.indexOf(105.16<=f?"?":m)===x?"5256">>g==d?p==55.58?v:!1:"?":S=="336.98"-0?272.96:T!==109.66?"&":!0)+Date.now(),l.setAttribute("cq-name",r)}if(l.cqCallbacks||(l.cqCallbacks=[]),s&&l.cqCallbacks.push(s),!!n){l.onload=()=>{if(!t.loadedStylesheets[r])for(t.loadedStylesheets[r]=!0,o.dispatchEvent(new CustomEvent("stylesheetload",{detail:{link:this}})),e.c6j();l.cqCallbacks.length;)l.cqCallbacks.shift()()},h=o.getElementsByTagName(a),e.A7H(0);var D=e.A3d(168,13,13);c=h[h.length-D],c?c.parentNode.insertBefore(l,c.nextSibling):o.head.append(l)}},t.loadWidget=function(r,s,i,a){var o;(!s||typeof s=="function")&&(i=s,s=document.body),o=s.ownerDocument,e.A7H(9),t.loadStylesheet(e.F4C(".css",r),function(){var n;n=".",n+="h",n+="t",n+="ml",e.D46(9),t.loadUI(e.F4C(n,r),s,function(l){e.R1B(),l?i(l):(e.D46(9),t.loadScript(e.F4C(".js",r),i,a,o))})},o)},t.waitForPlugins=function(r,s,i){var a,o,n,l;if(a=0,o=r.length,!o){s();return}for(var u=0;u<o;u++)n="cq-"+r[u],l=(i||document).getElementsByTagName(n)[0],l&&l.hasAttribute("loaded")&&a++;if(o!==a)return setTimeout(function(){t.waitForPlugins(r,s,i)},0);s()},t.addInternalStylesheet=function(r,s,i){var a,o,n;a="p",a+="a",a+="th",o="st",o+="ri",o+="n",o+="g",r&&(r.default&&(r=r.default),typeof r===o&&(s&&(i||document).querySelector('style[path="'+s+'"]')||(n=document.createElement("style"),n.setAttribute("type","text/css"),n.setAttribute(a,s||""),n.innerText=r,(i||document).head.appendChild(n))))}};Ri=U=>{var e=J,t,r,s,i;t=-816733230,r=19494919,s=2;for(var a=1;e.S7c(a.toString(),a.toString().length,28999)!==t;a++)i=U.CIQ,s+=2;e.L4g(s.toString(),s.toString().length,80627)!==r&&(i=U.CIQ),i=U.CIQ,i.ChartEngine.prototype.registerHTMLElements=function(){var o,n,l,u,h,c,f;e.R1B(),o=this.chart.container,o.setAttribute("interactable","");for(var m in i.ChartEngine.htmlControls)if(typeof this.chart[m]=="undefined"&&typeof this.controls[m]=="undefined"){if(!this.allowZoom&&m=="chartControls")continue;if(e.A7H(9),n=o.querySelector(e.F4C(m,".")),n)this.chart[m]=n,this.controls[m]=n;else{if(l="DI",l+="V",u=i.ChartEngine.htmlControls[m],!u)continue;h=document.createElement(l),h.innerHTML=u.replace(/[\t\n\r]/gm,""),n=h.firstChild,o.appendChild(n),this.chart[m]=n,this.controls[m]=n,n.classList.add(m)}}var{chartControls:x,home:g}=this.controls;x&&(c=x.querySelector(".stx-zoom-in"),f=x.querySelector(".stx-zoom-out"),i.safeClickTouch(c,function(d){return function(p){if(!d.allowZoom||d.activeDrawing&&!d.allowDrawingZoom){p.stopPropagation();return}d.zoomIn(p),p.stopPropagation()}}(this)),i.safeClickTouch(f,function(d){return e.R1B(),function(p){if(e.R1B(),!d.allowZoom||d.activeDrawing&&!d.allowDrawingZoom){p.stopPropagation();return}d.zoomOut(p),p.stopPropagation()}}(this)),i.touchDevice||(this.makeModal(c),this.makeModal(f))),g&&(i.safeClickTouch(g,function(d){return e.c6j(),function(p){if(p.stopPropagation(),!d.isHistoricalMode()){d.home({animate:!0});return}e.c6j(),delete d.layout.range,d.isHistoricalModeSet=!1,d.loadChart(d.chart.symbol,function(){e.R1B(),d.home({animate:!1})})}}(this)),i.touchDevice||this.makeModal(g)),this.allowDragControls&&this.allowDragControls()},i.ChartEngine.prototype.home=function(o){var n,l,u,h,c,f,m;this.swipe.amplitude=0;function x(v){var S;for(var T in v.panels){S=v.panels[T].yaxisLHS.concat(v.panels[T].yaxisRHS);for(var D="0"<<32;D<S.length;D++)S[D].lockScale||v.calculateYAxisMargins(S[D])}}n=this.layout,typeof o!="object"&&(o={maintainWhitespace:o}),typeof o.maintainWhitespace=="undefined"&&(o.maintainWhitespace=!0);function g(v,S,T){return e.c6j(),function(){x(v),S.scroll=T,v.draw()}}if(this.chart.draggingControls=null,this.cancelTouchSingleClick=!0,!this.chart.dataSet||!this.chart.dataSet.length){this.draw();return}this.micropixels=0,l=Math.floor(this.chart.width/n.candleWidth),e.c6j();for(var d in this.charts)if(u=this.charts[d],!(o.chart&&o.chart!=u)){for(h=0,o.maintainWhitespace&&this.preferences.whitespace>="0"-0&&(h=this.preferences.whitespace),(o.whitespace||o.whitespace===0)&&(h=o.whitespace),c=this.getLabelOffsetInPixels(u,n.chartType),c>h&&(h=c),f=Math.min(l,u.dataSet.length),this.chart.allowScrollPast&&(f=l),this.micropixels=this.chart.width-f*n.candleWidth-h,this.preferences.whitespace=h;this.micropixels>n.candleWidth;)f++,this.micropixels-=n.candleWidth;for(;this.micropixels<0;)f--,this.micropixels+=n.candleWidth;if(this.micropixels-=n.candleWidth,f++,!this.mainSeriesRenderer.standaloneBars){e.D46(52);var p=e.A3d(15,16,238,1);this.micropixels+=n.candleWidth/p}o.animate?(m=this,this.scrollTo(u,f,g(m,u,f))):(u.scroll=f,x(this))}this.draw()},i.ChartEngine.prototype.headsUpHR=function(){var o,n,l,u,h,c;o="h",o+="e",o+="adsUp",o+="HR",e.c6j();function f(m){i.efficientDOMUpdate(u,"innerHTML",m)}this.runPrepend("headsUpHR",arguments)||(n=this.currentPanel,n&&(l=n.chart,this.updateFloatHRLabel(n),u=this.controls.floatDate,u&&!l.xAxis.noDraw&&(h=this.barFromPixel(this.cx),c=l.xaxis[h],c&&c.DT?f(i.displayableDate(this,l,c.DT)):c&&c.index?f(c.index):f("")),this.runAppend(o,arguments)))},i.ChartEngine.prototype.modalBegin=function(){e.c6j(),this.openDialog||(this.openDialog=[]),this.openDialog.includes("modal")||this.openDialog.push("modal"),this.undisplayCrosshairs()},i.ChartEngine.prototype.modalEnd=function(){this.cancelTouchSingleClick=!0,this.openDialog&&(this.openDialog=this.openDialog.filter(o=>{var n;return n="m",e.c6j(),n+="o",n+="dal",e.D46(76),e.A3d(n,o)})),this.openDialog.length||(this.openDialog=""),this.doDisplayCrosshairs()},i.ChartEngine.prototype.makeModal=function(o){var n;n=this,o.onmouseover=function(l){n.modalBegin()},o.onmouseout=function(l){e.c6j(),n.modalEnd()}},i.ChartEngine.prototype.updateChartAccessories=function(){var o,n,l,u,h,c,f,m,x,g;if(o="updateC",o+="hartAccessories",n="u",n+="pdateChartAcce",n+="ssori",n+="es",this.accessoryTimer!==null&&clearTimeout(this.accessoryTimer),!i.ChartEngine.drawingLine&&i.touchDevice&&new Date().getTime()-this.lastAccessoryUpdate<100){this.accessoryTimer=setTimeout(function(S){return e.c6j(),function(){e.c6j(),S.updateChartAccessories()}}(this),10);return}if(e.R1B(),!!this.chart.dataSet&&!this.runPrepend(n,arguments)){if(this.accessoryTimer=null,this.lastAccessoryUpdate=new Date().getTime(),l=this.controls.floatDate,l&&(u=this.currentPanel,u||(u=this.chart.panel),u)){h="p",h+="x",c="bott",c+="om",f=u.chart,m=this.xAxisAsFooter===!0?0:this.chart.canvasHeight-u.chart.bottom,e.D46(9);var d=e.A3d(2,0);if(x=l.offsetWidth/d-.5,g=this.pixelFromTick(this.crosshairTick,f)-x,g<0)g=0;else if(g>this.width-2*x-1){e.A7H(46);var p=e.A3d(4,2);e.D46(46);var v=e.F4C(7,6);g=this.width-p*x-v}i.efficientDOMUpdate(l.style,"left",g+"px"),i.efficientDOMUpdate(l.style,c,m+h)}this.positionCrosshairsAtPointer(),this.headsUpHR(),this.runAppend(o,arguments)}},i.ChartEngine.prototype.positionSticky=function(o){var n,l,u,h;n="p",n+="x",l=Math.max(this.cy-o.offsetHeight-60,0),u=Math.min(this.chart.canvasWidth-(this.cx-50),this.chart.canvasWidth-o.offsetWidth),h=o.style,e.D46(9),i.efficientDOMUpdate(h,"top",e.F4C(n,l)),i.efficientDOMUpdate(h,"left","auto"),e.A7H(9),i.efficientDOMUpdate(h,"right",e.A3d("px",u))},i.ChartEngine.prototype.displaySticky=function(o){var n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P;if(n=".stickyLongP",n+="r",n+="ess",e.c6j(),n+="Text",l=".mSt",l+="ic",l+="k",l+="yInterior",u=this.controls.mSticky,!!u&&(h=u.querySelector(l),!!h)){c=u.querySelector(".overlayTrashCan"),f=u.querySelector(".overlayEdit"),m=u.querySelector(".overlayText"),x=u.querySelector(".mouseDeleteInstructions"),g=u.querySelector(n),d=u.querySelector(".customInstructions"),x.classList.remove("no_edit"),(!o||typeof o!="object")&&(o={message:arguments[0],backgroundColor:arguments[1],forceShow:arguments[2],noDelete:arguments[3],type:arguments[4]});var{forceShow:I,noDelete:O,noEdit:R,type:C,noText:k}=o,{message:F,backgroundColor:M}=o;if(!I&&!F)p="no",p+="ne",v="no",v+="ne",h.innerHTML="",u.style.display="none",c&&(c.style.display="none"),f&&(f.style.display=v),m&&(m.style.display=p),x&&(x.style.display="none"),g&&(g.style.display="none");else{F||(F="");var{defaultColor:L,highlightedDraggable:E}=this;M=="auto"&&(M=L),I&&!F?(h.style.backgroundColor="",h.style.color="",h.style.display="none"):M?(h.style.backgroundColor=M,h.style.color=i.isTransparent(M)?L:i.chooseForegroundColor(M),h.style.display="inline-block"):(S="inline-",S+="block",h.style.backgroundColor="",h.style.color="",h.style.display=S),h.innerHTML=F,T=u.querySelector(".mStickyRightClick"),T.className="mStickyRightClick",C&&(e.A7H(9),T.classList.add(e.A3d(C,"rightclick_"))),T.style.display="",u.style.display="inline-block",(!E||E&&E.undraggable&&E.undraggable(this))&&(g.style.display="none"),O||this.bypassRightClick===!0||this.bypassRightClick[C]?T.style.display="none":this.highlightViaTap||this.touches.length?(D="n",D+="o",D+="ne",c&&(c.style.display="inline-block"),f&&!R&&(f.style.display="inline-block"),m&&!k&&(m.style.display="inline-block"),x&&(x.style.display="none"),g&&(g.style.display=D),u.classList[F===""?"add":"remove"]("hide")):(R&&x.classList.add("no_edit"),x&&(x.style.display="block"),g&&(g.style.display="none",y=this.preferences.dragging,y&&!o.noDrag&&o.panel&&!o.panel.noDrag&&(b="se",b+="r",b+="ie",b+="s",((y===!0||y.study)&&C=="study"||(y===!0||y.series)&&C==b)&&(g.style.display="block")))),d&&C&&(w="bloc",w+="k",A=d.querySelector(`[type=${C}]`),d.style.display=A?w:"none"),_=C||"default",u.setAttribute("cq-sticky-type",_),P=o.positioner||this.positionSticky,P.call(this,u)}}},e.c6j(),i.ChartEngine.prototype.displayNotification=function(o,n,l={}){var u,h,c,f,m,x,g,d,p;if(u=".messa",u+="ge",!!this.controls.notificationTray){var{callback:v,dismissalListeners:S}=l;e.A7H(28),h=-e.A3d(0,"817863369"),c=942695482,e.c6j(),f=2;for(var T=1;e.S7c(T.toString(),T.toString().length,44495)!==h;T++)m=this.controls.notificationTray,x=m.querySelector("").content.cloneNode(!1),g=x.firstElementChild,g.className=o,f+=2;e.L4g(f.toString(),f.toString().length,"30703">>32)!==c&&(m=this.controls.notificationTray,x=m.querySelector("").content.cloneNode(!0),g=x.firstElementChild,g.className=o),m=this.controls.notificationTray,x=m.querySelector("template").content.cloneNode(!0),g=x.firstElementChild,g.className=o,g.querySelector(u).textContent=n,v&&(d="po",d+="int",d+="erup",p=window.PointerEvent?d:"touchend",g.handler=g.addEventListener(p,v)),S&&(g.listeners={},S.forEach(D=>{g.listeners[o]=this.addEventListener(D.type,D.callback)})),this.makeModal(g),m.appendChild(g)}},i.ChartEngine.prototype.removeNotification=function(o){var n,l;if(this.controls.notificationTray&&(n=this.controls.notificationTray,l=n.querySelector(`.${o}`),l)){if(l.handler&&l.removeEventListener(l.handler),l.listeners)for(var u in l.listeners)this.removeEventListener(l.listeners[u]);this.modalEnd(),n.removeChild(l)}},i.ChartEngine.prototype.setMeasure=function(o,n,l,u,h,c){var f,m,x,g,d,p,v,S;if(!this.runPrepend("setMeasure",arguments)){if(f=(this.drawingContainer||document).querySelector(".mMeasure"),m="",!o&&o!==0)!this.anyHighlighted&&this.currentVectorParameters.vectorType===""&&this.clearMeasure();else{if(n!==!1&&(x=Math.round(Math.abs(o-n)*this.chart.roundit)/this.chart.roundit,x=x.toFixed(this.chart.yAxis.printDecimalPlaces),this.internationalizer?m+=this.internationalizer.numbers.format(x):m+=x,o>0&&n>0)){if(e.D46(30),g=e.F4C(n,o,o),Math.abs(g)>.1)e.A7H(15),g=Math.round(e.A3d(g,100));else if(Math.abs(g)>.01){e.D46(102);var T=e.F4C(7,14,7,140,3);g=Math.round(g*1e3)/T}else{e.D46(103);var D=e.F4C(8,1,2,4,96);g=Math.round(g*1e4)/D}this.internationalizer?(e.A7H(98),g=this.internationalizer.percent.format(e.A3d("100",g,1))):(e.D46(9),g=e.F4C("%",g)),e.A7H(39),m+=e.A3d(g,")"," (")}if(u!==!1){e.A7H(2),d=Math.abs(e.A3d(l,u)),e.A7H(89);var y=e.F4C(3,7,13,18,27);d=Math.round(d)+y,p=this.translateIf("Bars"),e.D46(104),m+=e.A3d(d,p," "," ")}f&&(f.innerHTML=m)}this.activeDrawing||(f=this.controls.mSticky,f&&(v=".mSti",v+="ck",v+="yInterior",S=f.querySelector(v),h?(f.style.display="inline-block",S&&(S.style.display="inline-block",(o||o===0)&&(S.innerHTML=m)),f.classList[m===""?"add":"remove"]("hide"),this.positionSticky(f)):(f.style.display="none",S&&(S.innerHTML=""))),this.runAppend("setMeasure",arguments))}},i.ChartEngine.prototype.clearMeasure=function(){var o,n;o=".mMeasu",o+="r",o+="e",n=(this.drawingContainer||document).querySelector(o),n&&(n.innerHTML="")},i.ChartEngine.prototype.zoomSet=function(o,n){e.R1B();var l,u,h,c,f,m,x,g,d;if(l="non",l+="e",n||(n=this.chart),!!n.dataSet){if(o=this.constrainCandleWidth(o),n.tempCanvas.style.display!=l&&i.clearCanvas(n.tempCanvas,this),u=this.mainSeriesRenderer,!u.params||!u.params.volume){h="z",h+="oo",h+="m-",h+="x",c=1875444269,f=1536341170,m=2;for(var p=1;e.S7c(p.toString(),p.toString().length,47182)!==c;p++)m+=2;if(e.S7c(m.toString(),m.toString().length,4152),this.preferences.zoomAtCurrentMousePosition&&this.zoomInitiatedByMouseWheel&&this.crosshairTick<n.dataSet.length)x=this.crosshairTick||this.tickFromPixel(this.cx,n);else if(this.isHome()){e.D46(2);var v=e.A3d(5,6);x=n.dataSet.length-v}else n.scroll>n.dataSet.length?x=0:this.grabMode==h?x=this.tickFromPixel(this.chart.width,n):x=this.tickFromPixel(this.chart.width/2,n);this.animations.zoom.hasCompleted&&(this.zoomInitiatedByMouseWheel=!1),e.A7H(105);var S=e.F4C(13,11,3,6);g=n.dataSet.length-S-x,d=n.scroll,e.A7H(71);var T=e.A3d(17,6,5,5);n.scroll=Math.round((this.pixelFromTick(x,n)-n.left)/o)+T+g,this.micropixels+=(d-g)*this.layout.candleWidth-(n.scroll-g)*o}this.setCandleWidth(o),n.spanLock=!1,this.draw(),this.doDisplayCrosshairs(),this.updateChartAccessories()}}};Wi=U=>{var e;e=U.CIQ,e.ChartEngine.prototype.currentBaseline=null,e.ChartEngine.prototype.baselineHelper=null,e.ChartEngine.helpersToRegister.push(function(t){t.baselineHelper=new Map}),e.ChartEngine.prototype.registerBaselineToHelper=function(t){var r,s;if(!t.params.baseline)return;var{baselineHelper:i}=this;function a(n){var l,u;return l="cq-baseli",l+="ne-han",l+="dle",n=n.replace(" ","_"),u=document.createElement(l),u.classList.add("stx-baseline-handle",n),r.container.append(u),r.controls[`${n} cq-baseline-handle`]=u,u}if(r=this,!i.has(t)){var{name:o}=t.params;s=this.controls.baselineHandle,i.set(t,{styleCache:null,display:!1,handle:o==="_main_series"&&s?s:a(o)})}},e.ChartEngine.prototype.removeBaselineFromHelper=function(t){var r,s,{baselineHelper:i}=this;i.has(t)&&(r=t.params.name.replace(" ","_"),r!=="_main_series"&&(s=i.get(t).handle,delete this.controls[`${r} cq-baseline-handle`],this.container.removeChild(s)),i.delete(t))},e.ChartEngine.prototype.findBaselineHandle=function(t,r){for(var s of this.baselineHelper){var[i,a]=s,{handle:o}=a;if(t.target===o||t.composedPath&&t.composedPath().includes(o))return r&&(this.repositioningBaseline={lastDraw:Date.now(),handle:o,renderer:i},o.classList.add("stx-grab")),this.currentBaseline=i,!0}return!1},e.ChartEngine.prototype.setBaselines=function(t){var r;function s(a,o){var n,l,u,h,c,f,{dataSegment:m,dataSet:x,defaultPlotField:g}=t;if(n=g,o||(n=a),l=r.getFirstLastDataRecord(m,"tick"),!l)return null;for(u=l.tick;;){if(h=x[u],h){if(!o||n!="Close"){if(J.A7H(2),c=x[J.F4C(1,u)],c&&(c[n]||c[n]===0))return f=c[n],typeof f=="object"?f[g]:f}else if(h.iqPrevClose||h.iqPrevClose===0)return h.iqPrevClose}if(u--,u<0)break}}t||(t=this.chart),J.R1B(),r=this;var{baselineHelper:i}=this;i.forEach(function(a,o){var n,l,u,h,c,{baseline:f}=o.params;J.A7H(75),n=J.F4C(!0,f),n&&(f=t.baseline);var{defaultLevel:m,userLevel:x}=f;l=o.getYAxis(r),l&&(u=r.getYAxisBaselineRenderer(l),h=u&&u!=r.mainSeriesRenderer&&u.seriesParams.length&&u.seriesParams["0">>32].id,f.actualLevel=x||x===0?x:m,!f.actualLevel&&f.actualLevel!==0&&(c=s(h,n),c!==null&&(f.actualLevel=c)),a.display=u===o,i.set(o,a))})},e.ChartEngine.prototype.setBaselineUserLevel=function(){var t,r,s,{chart:i,currentPanel:a}=this;J.R1B();var{lastDraw:o,renderer:n}=this.repositioningBaseline;if(n.params.panel==a.name){var{baseline:l}=i;t=typeof n.params.baseline=="object"?n.params.baseline:l,r=n.getYAxis(this),s=this.valueFromPixel(this.backOutY(e.ChartEngine.crosshairY),a,r),t.userLevel=this.adjustIfNecessary(a,this.crosshairTick,s),Date.now()-o>100&&(this.draw(),this.repositioningBaseline.lastDraw=Date.now())}},e.ChartEngine.prototype.setBaselineMinMax=function(t,r){var s,i,a,{baselineHelper:o,chart:n,repositioningBaseline:l}=this,{baseline:u,seriesRenderers:h}=n;if(s=n.transformFunc&&r===n.panel.yAxis,i=r.renderers.find(g=>(J.c6j(),o.get(h[g]))),!i)return t;var{baseline:c,type:f,centered:m}=h[i].params;if(c=typeof c=="object"?c:u,f==="mountain"||m===!1)return t;var{actualLevel:x}=c;return(x||x===0)&&(s&&(x=n.transformFunc(this,n,x)),a=Math.max(x-t[0],t[1]-x),t[0]=l?r.lowValue:x-a,t[1]=l?r.highValue:x+a),t},e.ChartEngine.prototype.positionBaselineHandle=function(t){var r=J,s,i,a,o,n,l,u,h,c,f,m,x,g,d,p;if(this.manageTouchAndMouse){var{baselineHelper:v,chart:S,panels:T}=this,{baseline:D,panel:y}=t.params;s=t.params.yAxis||t.getYAxis(this);var{display:b,handle:w,styleCache:A}=v.get(t);if(D===!0&&(D=S.baseline),D.userLevel===!1||!b){i="n",i+="o",i+="n",i+="e",w.style.display=i;return}a=T[y],o=w.classList.contains("stx-grab"),n="block",l=D.actualLevel,s===S.yAxis&&S.transformFunc&&(l=S.transformFunc(this,S,l)),l>s.high?(l=s.high,o||(n="none")):l<s.low&&(l=s.low,o||(n="none")),s===S.yAxis&&S.untransformFunc&&(l=S.untransformFunc(this,S,l)),u=this.pixelFromPrice(l,a,s),A||(A=getComputedStyle(w)),h=e.stripPX(A.width),r.A7H(0);var _=r.F4C(271,21,13);c=`${u-e.stripPX(A.height)/_}px`,m=this.baselineHandleBuffer||2,r.D46(3);var P=r.F4C(17,16,0);if(x=a.yaxisRHS.indexOf(s)+P,x)g=x===1?m:m*x,f=`${S.right-h*x-g}px`;else{r.D46(46);var I=r.F4C(18,17);d=a.yaxisLHS.slice("0"*1).reverse().indexOf(s)+I,p=d==="1"*1?m:m*d,r.D46(9),f=`${S.left+h*d+p-h}${r.A3d("x","p")}`}Object.assign(w.style,{display:n,top:c,left:f})}},e.ChartEngine.prototype.getYAxisBaselineRenderer=function(t){var r;if(!t.renderers.length)return null;var{baselineHelper:s,chart:i}=this;return r=t.renderers.find(a=>s.get(i.seriesRenderers[a])),r?i.seriesRenderers[r]:null},e.ChartEngine.prototype.getYAxisBaseline=function(t){var r,{baseline:s}=this.chart;if(r=this.getYAxisBaselineRenderer(t),!r)return s;J.R1B();var{baseline:i}=r.params;return typeof i=="object"?i:s}};ji=U=>{var e,t;J.c6j(),e="Clo",e+="se",t=U.CIQ,t.ChartEngine.Chart=function(){this.xAxis=new t.ChartEngine.XAxis,this.yAxis=new t.ChartEngine.YAxis,this.symbolObject={symbol:null},this.series={},J.R1B(),this.seriesRenderers={},this.xaxis=[],this.state={},this.endPoints={},this.defaultChartStyleConfig={},this.baseline=t.clone(this.baseline),this.panel=void 0,this.currentMarketData={}},t.extend(t.ChartEngine.Chart.prototype,{symbol:null,symbolObject:{symbol:null},symbolDisplay:null,series:{},seriesRenderers:{},scroll:0,isComparison:!1,forcePercentComparison:!0,maxTicks:0,tension:null,currentMarketData:{},masterData:null,dataSet:null,scrubbed:null,dataSegment:null,segmentImage:null,baseline:{includeInDataSegment:!1,defaultLevel:null,userLevel:null,actualLevel:null},xAxis:null,xaxis:[],xaxisFactor:30,decimalPlaces:2,dynamicYAxis:!0,roundit:100,breakpoint:null,legendRenderer:t.drawLegend,customChart:null,yaxisPaddingRight:null,yaxisPaddingLeft:null,tickCache:{},yaxisMarginMultiplier:2.5,allowScrollPast:!0,allowScrollFuture:!0,whiteSpaceFutureTicks:"0"*1,hideDrawings:!1,defaultPlotField:e,defaultChartStyleConfig:{},lockScroll:!1,includeOverlaysInMinMax:!0,gaplines:null,lineStyle:null,lineApproximation:!0,highLowBars:!1,standaloneBars:!1,barsHaveWidth:!1,calculateTradingDecimalPlaces:t.calculateTradingDecimalPlaces,width:null,height:null,top:null,bottom:null,left:null,right:null,context:null,endPoints:null},!0)};Vi=U=>{var e;e=U.CIQ,e.ChartEngine.prototype.resolveY=function(t){return J.c6j(),this.top+t},e.ChartEngine.prototype.resolveX=function(t){return J.c6j(),this.left+t},e.ChartEngine.prototype.backOutY=function(t){return J.R1B(),Math.max(0,Math.min(this.height,t-this.top))},e.ChartEngine.prototype.backOutX=function(t){return Math.max(0,Math.min(this.width,t-this.left))},e.ChartEngine.prototype.dateFromTick=function(t,r,s,i="dataSet"){var a,o,n,l,u,h;return r||(r=this.chart),a=r[i],o=a.length,h=!1,o===0&&(a[0]={},a[0].DT=new Date,o=a.length,h=!0),t<0?(l=this.standardMarketIterator(a[0].DT),l?n=l.previous(Math.abs(t)):n=a[0].DT):t>=o?(l=this.standardMarketIterator(a[o-1].DT),l?(J.D46(106),n=l.next(J.F4C("1",o,t))):n=a[o-1].DT):n=a[t].DT,s?u=new Date(n.getTime()):u=e.yyyymmddhhmmssmmm(n).substr(0,12),h&&delete a[0].DT,u},e.ChartEngine.prototype.tickFromDate=function(t,r,s,i,a="dataSet"){var o=J,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D;if(r||(r=this.chart),n=r[a],!(n&&n.length))return 0;if(s||(s=0),l=t.constructor==Date?t:e.strToDateTime(t),e.ChartEngine.isDailyInterval(this.layout.interval)||l.setMinutes(l.getMinutes()+s),u=l.getTime(),r.tickCache[a]||(r.tickCache[a]={}),h=r.tickCache[a][u],h||h===0)return i?Math.ceil(h):Math.floor(h);if(c=n[0].DT,f=n[n.length-1].DT,l>=c&&l<=f){for(m=0,x=n.length,g=0;++g<100;){if(o.D46(31),d=Math.floor(o.F4C(2,x,m)),p=n[d].DT,+p==+l)return r.tickCache[a][u]=d,d;if(p<l&&(m=d),p>l){if(n[d-1].DT<l)return o.A7H(2),r.tickCache[a][u]=o.F4C(.5,d),i?d:d-1;if(+n[d-1].DT==+l)return o.A7H(107),r.tickCache[a][u]=o.A3d(1,"1",d),o.A7H(108),o.F4C("1",d,0);x=d}}if(g>=100)return console.log("!!!Warning: tickFromDate() did not find match."),n.length}return o.A7H(78),v=o.A3d(l,c),S=v?c:f,T=this.standardMarketIterator(S),D=T?T.futureTick({end:l}):"0"^0,h=v?D*-1:n.length-("1"-0)+D,r.tickCache[a][u]=h,h},e.ChartEngine.prototype.pixelFromBar=function(t,r){var s,i;r||(r=this.chart),s=0,i=this.chart.segmentImage,i&&i[t]&&typeof i[t].leftOffset=="number"?s=i[t].leftOffset:s=(t+.5)*this.layout.candleWidth,J.D46(84);var a=J.F4C(2,5,2,3,1);return s=r.panel.left+Math.floor(s+this.micropixels)-a,s},e.ChartEngine.prototype.barFromPixel=function(t,r){var s=J,i,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S;if(r||(r=this.chart),s.R1B(),i=this.chart.segmentImage,a=this.micropixels,o=this.layout.candleWidth,i){n=t-r.panel.left-a,l=2,h=i.length,s.D46(26),c=Math.round(s.A3d(l,h)),s.D46(22);var T=s.F4C(1,59,5);s.A7H(5);var D=s.A3d(15,9,0,25);if(x=i[h-("1">>T)].leftOffset+i[h-D].candleWidth/2,n>x){s.D46(2),g=s.F4C(0,"1523979105"),d=-823131561,p=2;for(var y="1">>0;s.L4g(y.toString(),y.toString().length,62464)!==g;y++)return h*Math.floor((t+x)*r.panel.left+a-o);return s.S7c(p.toString(),p.toString().length,32171)!==d?h*Math.floor((t+x)*r.panel.left+a-o):h+Math.floor((t-x-r.panel.left-a)/o)}for(var b="1"*1;b<h&&(l*=2,u=i[c],!!u);b++){f=u.leftOffset,s.D46(109);var w=s.F4C(13,5,0,16,5);if(m=u.candleWidth/w,s.A7H(2),v=s.F4C(m,f),s.A7H(9),S=s.A3d(m,f),c===0||n>=v&&n<S)break;n<v?c-=Math.max(1,Math.round(h/l)):c+=Math.max(1,Math.round(h/l)),c=Math.max(0,Math.min(h-1,c))}if(!i[c]){for(b=0;b<h;b++)if(u=i[b],!!u){f=u.leftOffset,s.A7H(82);var A=s.A3d(15,9,3,13,12);if(m=u.candleWidth/A,n<f-m)return s.A7H(2),Math.max(0,s.A3d(1,b));if(n<f+m)return b;if(n>=f+m)return s.D46(9),s.F4C(1,b)}}return c}return Math.floor((t-r.panel.left-a)/o)},e.ChartEngine.prototype.tickFromPixel=function(t,r){var s;return r||(r=this.chart),s=r.dataSet.length-r.scroll,r.segmentImage?s+=this.barFromPixel(t,r):s+=Math.floor((t-r.panel.left-this.micropixels)/this.layout.candleWidth),s},e.ChartEngine.prototype.pixelFromTick=function(t,r){var s=J,i,a,o,n,l,u,h,c,f,m,x,g,d;if(i="num",i+="ber",a="numbe",a+="r",r||(r=this.chart),o=r.dataSegment,n=r.dataSet,l=r.segmentImage,u=this.micropixels,h=o?o.length:0,c=r.panel,f=r.scroll,s.c6j(),m=t-n.length+f,x=h?o[m]:null,l&&(x=l[m]),x&&typeof x.leftOffset===a)return c.left+Math.floor(x.leftOffset+u);g=0,d=0,x=h?o[h-1]:null,l&&(s.D46(110),x=l[s.A3d(h,0,"1")]),x&&typeof x.leftOffset===i&&h<=t-n.length+f&&(g=x.leftOffset+x.candleWidth/2,d=h),s.D46(111);var p=s.F4C(20,23,10,10,2);return g+c.left+Math.floor((t-d-n.length+f+"0.5"*p)*this.layout.candleWidth+u)},e.ChartEngine.prototype.pixelFromDate=function(t,r,s,i){return this.pixelFromTick(this.tickFromDate(t,r,s,i),r)},e.ChartEngine.prototype.transformedPriceFromPixel=function(t,r,s){var i=J,a,o,n,l,u,h;if(r||(r=this.chart.panel),a=s||r.yAxis,t=a.bottom-t,a.semiLog)n=t*a.logShadow/a.height,a.flipped?n=a.logHigh-n:n+=a.logLow,o=Math.pow(10,n);else{l=-1324863985,u=-1757646716,h=2;for(var c="1">>64;i.L4g(c.toString(),c.toString().length,59166)!==l;c++){if(!a.multiplier)return null;o=t/a.multiplier,a.flipped?o=a.high-o:o+=a.low,i.D46(28),h+=i.A3d(0,"2")}if(i.L4g(h.toString(),h.toString().length,67866)!==u){if(~a.multiplier)return 1;o=t%a.multiplier,a.flipped?o=a.high/o:o%=a.low}}return o},e.ChartEngine.prototype.priceFromPixel=function(t,r,s){J.R1B();var i;return r||(r=this.chart.panel),i=this.transformedPriceFromPixel(t,r,s),this.charts[r.name]&&r.chart.untransformFunc&&(!s||s==r.yAxis)&&(i=r.chart.untransformFunc(this,r.chart,i,s)),i},e.ChartEngine.prototype.valueFromPixel=function(t,r,s){var i,a,o,n;r||(r=this.whichPanel(t)),r||(i=Object.values(this.panels),i&&i.length&&(t<=0?r=i.shift():r=i.pop())),a=274318573,o=1492127227,n=2,J.R1B();for(var l=1;J.S7c(l.toString(),l.toString().length,17705)!==a;l++)return this.priceFromPixel(t,r,s);if(J.S7c(n.toString(),n.toString().length,83351)!==o)return this.priceFromPixel(t,r,s)},e.ChartEngine.prototype.valueFromInterpolation=function(t,r,s,i,a,o){var n=J,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b;return l="und",l+="efined",u="ob",u+="j",u+="ec",u+="t",h="st",h+="e",h+="p",t===null||t<0||!r||(i||(i=this.chart.panel),a||(a=i.yAxis),s||(s=this.chart.defaultPlotField),c=this.getPreviousBar(this.chart,r,t),!c)?null:(m=e.existsInObjectChain(c,r),m&&(f=m.obj[m.member]),typeof f=="object"&&(f=f[s]),x=this.getRendererFromSeries(r),o||x&&x.params.step||this.layout.chartType===h?f:(g=this.getNextBar(this.chart,r,t),m=e.existsInObjectChain(g,r),m&&(d=m.obj[m.member]),typeof d==u&&(d=d[s]),!g||f===null||typeof f==l||d===null||typeof d=="undefined"?null:(p=this.pixelFromPrice(f,i,a),v=this.pixelFromPrice(d,i,a),S=c.tick,T=g.tick,n.A7H(112),D=n.A3d(S,T,p,v),y=this.chart.dataSegment[t].tick,n.D46(113),b=n.F4C(D,S,p,y),this.priceFromPixel(b,i,a))))},e.ChartEngine.prototype.pixelFromTransformedValue=function(t,r,s){var i,a,o,n,l;return r||(r=this.chart.panel),i=s||r.yAxis,a=(i.high-t)*i.multiplier,i.semiLog&&(o=Math.max(t,0),n=Math.log(o)/Math.LN10,l=i.height,a=l-l*(n-i.logLow)/i.logShadow),a=i.flipped?i.bottom-a:i.top+a,a},e.ChartEngine.prototype.pixelFromPrice=function(t,r,s){return r||(r=this.chart.panel),this.charts[r.name]&&r.chart.transformFunc&&(!s||s==r.yAxis)&&(t=r.chart.transformFunc(this,r.chart,t,s)),J.c6j(),this.pixelFromTransformedValue(t,r,s)},e.ChartEngine.prototype.pixelFromValueAdjusted=function(t,r,s,i){var a,o;return this.layout.adj||!this.charts[t.name]?this.pixelFromPrice(s,t,i):(a=Math.round(r),a>0&&a<t.chart.dataSet.length&&(o=t.chart.dataSet[a].ratio)?(J.D46(15),this.pixelFromPrice(J.F4C(s,o),t,i)):this.pixelFromPrice(s,t,i))},e.ChartEngine.prototype.adjustIfNecessary=function(t,r,s){var i,a;return this.layout.adj||!t||!this.charts[t.name]?s:(i=Math.round(r),i>0&&i<t.chart.dataSet.length&&(a=t.chart.dataSet[i].ratio)?(J.D46(26),J.A3d(a,s)):s)}};Yi=U=>{var e;e=U.CIQ,e.ChartEngine.prototype.positionCrosshairsAtPointer=function(){var t=J,r,s,i,a,o,n,l,u,h;if(r="p",r+="x",s=this.currentPanel,!!s&&!(!this.manageTouchAndMouse||this.mainSeriesRenderer.nonInteractive)&&!this.runPrepend("positionCrosshairsAtPointer",arguments)){i=s.chart,a=this.container.getBoundingClientRect(),this.top=a.top,this.left=a.left,this.right=this.left+this.width,this.bottom=this.top+this.height,o=this.crosshairTick=this.tickFromPixel(this.backOutX(this.crosshairX),i),t.A7H(114);var c=t.A3d(18,1,114,19,2);if(n=this.pixelFromTick(o,i)-c,n>=s.right||n<=s.left){this.undisplayCrosshairs();return}if(this.controls.crossX&&(t.D46(9),this.controls.crossX.style.left=t.F4C("px",n)),l=s.name=="chart"?this.preferences.horizontalCrosshairField:s.horizontalCrosshairField,u=i.dataSet,l&&u&&o<u.length&&o>-1&&(this.crossYActualPos=this.pixelFromPrice(u[o][l],s)),h=this.crossYActualPos>=s.yAxis.bottom&&this.crossYActualPos<=s.bottom,h){this.undisplayCrosshairs();return}this.controls.crossY&&(this.controls.crossY.style.top=this.crossYActualPos+r),this.runAppend("positionCrosshairsAtPointer",arguments)}},e.ChartEngine.prototype.doDisplayCrosshairs=function(){J.c6j();var t;if(!this.runPrepend("doDisplayCrosshairs",arguments)){if(this.displayInitialized){var{floatCanvas:r,controls:s,layout:i,preferences:a}=this,{crossX:o,crossY:n,floatDate:l}=s,{vectorType:u}=this.currentVectorParameters;this.shouldDisplayCrosshair()?(o&&o.style.display!==""&&(o.style.display="",n&&(n.style.display=""),this.magnetizedPrice&&u?(this.container.classList.remove("stx-crosshair-cursor-on"),this.chart.tempCanvas.style.display="block"):(t="stx-crosshair-cu",t+="rso",t+="r-on",this.container.classList.add(t))),l&&!this.chart.xAxis.noDraw&&(l.style.visibility="",this.currentPanel&&this.updateFloatHRLabel(this.currentPanel)),r&&(r.style.display=="none"&&e.clearCanvas(r,this),r.style.display="block")):this.undisplayCrosshairs()}this.runAppend("doDisplayCrosshairs",arguments)}},e.ChartEngine.prototype.undisplayCrosshairs=function(){var t,r,s,i,a,o;this.runPrepend("undisplayCrosshairs",arguments)||(t=this.controls,r=t.crossX,s=t.crossY,r&&r.style.display!="none"&&(i="n",i+="o",i+="n",i+="e",r.style.display=i,s&&(s.style.display="none")),this.displayInitialized&&t.floatDate&&(t.floatDate.style.visibility="hidden"),this.shouldDisplayCrosshairCursor()||this.container.classList.remove("stx-crosshair-cursor-on"),a=this.floatCanvas,a&&a.isDirty&&a.style.display!="none"&&(e.clearCanvas(a,this),a.style.display!="none"&&(a.style.display="none")),!this.activeDrawing&&!this.repositioningDrawing&&!this.editingAnnotation&&(o=this.chart.tempCanvas,o&&o.style.display!="none"&&(o.style.display="none")),this.runAppend("undisplayCrosshairs",arguments))},e.ChartEngine.prototype.hideCrosshairs=function(){J.R1B(),this.displayCrosshairs=!1},e.ChartEngine.prototype.showCrosshairs=function(){J.R1B(),this.displayCrosshairs=!0},e.ChartEngine.prototype.shouldDisplayCrosshair=function(){var t,r,s,i,{layout:a,preferences:o}=this;t=!!a.crosshair,J.c6j(),r=!this.insideChart&&!this.grabbingScreen,s=this.openDialog!=="";var{vectorType:n}=this.currentVectorParameters;if(i=e.Drawing&&e.Drawing[n]&&new e.Drawing[n]().dragToDraw,r||s||i)return!1;if(t)return!0;var{displayCrosshairsWithDrawingTool:l}=o;return!!((l||e.isMobile)&&n)},e.ChartEngine.prototype.shouldDisplayCrosshairCursor=function(){if(this.layout.crosshair)return!0;var{vectorType:t}=this.currentVectorParameters;return!!(t&&t!=="")}};zi=U=>{var e=J,t,r;t=U.CIQ,r=U.timezoneJS,t.ChartEngine.prototype.loadChart=function(s,i,a){var o,n,l,u,h,c,f,m,x,g,d,p;if(o="objec",o+="t",n="funct",n+="i",n+="on",!a&&typeof i==n)a=i,i={};else if(Array.isArray(i)){l=465169327,u=-1262384423,h=2;for(var v=1;e.L4g(v.toString(),v.toString().length,44040)!==l;v++)i={masterData:i},h+=2;e.S7c(h.toString(),h.toString().length,57249)!==u&&(i={masterData:i})}i||(i={});var{chart:S,periodicity:T,range:D,span:y}=i,{layout:b,quoteDriver:w}=this;c={periodicity:b.periodicity,interval:b.interval,timeUnit:b.timeUnit},T&&(f=t.cleanPeriodicity(T.period?T.period:T.periodicity,T.interval,T.timeUnit),b.interval=f.interval,b.periodicity=f.period,b.timeUnit=f.timeUnit),S||(S=this.chart);var{dataSet:A,market:_,masterData:P,symbol:I,moreAvailable:O,upToDate:R}=S;m=t.clone(S.symbolObject),S.dataSet=[],S.masterData=[];function C(){g.layout.symbols=g.getSymbols({"include-parameters":!0,"exclude-studies":!0}),g.dispatch(g.currentlyImporting?"symbolImport":"symbolChange",{stx:g,symbol:S.symbol,symbolObject:S.symbolObject,prevSymbol:I,prevSymbolObject:m,action:"master"}),T&&g.dispatch("periodicity",{stx:g,differentData:!0,prevPeriodicity:c}),e.R1B(),w&&w.paused&&w.resume()}S.moreAvailable=null,S.upToDate=null,s?typeof s==o?s.symbol.toUpperCase&&s.symbol.toUpperCase()==="CIQINFO"?t.logPackageInfo():(S.symbol=s.symbol,S.symbolObject=s):s.toUpperCase&&s.toUpperCase()==="CIQINFO"?t.logPackageInfo():(S.symbol=s,S.symbolObject.symbol=s):(S.symbol=null,S.symbolObject={symbol:null}),S.inflectionPoint=null,this.marketFactory&&(x=this.marketFactory(S.symbolObject),this.setMarket(x,S)),this.setMainSeriesRenderer(!0),!D&&!y&&b?(y=b.range?{}:b.setSpan,D=b.range||{}):D&&y&&(y={}),this.clearCurrentMarketData(S),g=this,!i.masterData&&w?(d=function(k){k&&k!="orphaned"&&(S.symbol=I,S.symbolObject=m,S.market=_,g.masterData=S.masterData=P,S.dataSet=A,S.moreAvailable=O,S.upToDate=R),C(),a&&a.call(g,k)},D&&Object.keys(D).length&&this.setRange?(delete i.span,delete b.setSpan,this.chart.masterData=null,this.displayInitialized=!1,T&&(D.periodicity=T),D.forceLoad=!0,this.setRange(D,d)):y&&y.base&&this.setSpan?(y.multiplier=y.multiplier||1,this.chart.masterData=null,this.displayInitialized=!1,T&&(y.maintainPeriodicity=!0),y.forceLoad=!0,this.setSpan(y,d)):w.newChart({symbol:S.symbol,symbolObject:S.symbolObject,chart:S,initializeChart:!0},function(k){k||(g.adjustPanelPositions(),w.updateSubscriptions(),i.stretchToFillScreen&&g.fillScreen()),d.apply(g,arguments)})):(i.masterData||console.log("Warning: No masterData specified and no QuoteFeed configured"),S.symbol||(S.symbol=""),this.initializeChart(),p=this.doCleanupGaps(i.masterData,S),this.setMasterData(p,S,{noCleanupDates:!0}),S.endPoints={},p&&p.length&&(S.endPoints={begin:p[0].DT,end:p[p.length-("1"-0)].DT}),this.createDataSet(),D&&Object.keys(D).length&&this.setRange?this.setRange(D):y&&y.multiplier&&y.base&&this.setSpan?this.setSpan({maintainPeriodicity:!0,multiplier:y.multiplier,base:y.base}):i.stretchToFillScreen?this.fillScreen():p&&p.length?this.home():this.clear(),this.adjustPanelPositions(),C(),a&&a.call(g)),t.logVersion()},t.ChartEngine.prototype.loadBlankChart=function(){var s,i,a;s=-856795289,i=-231590391,a=2,e.R1B();for(var o=1;e.L4g(o.toString(),o.toString().length,"84290"<<32)!==s;o++)this.loadChart(1,[]),a+=2;e.S7c(a.toString(),a.toString().length,85471)!==i&&this.loadChart(1,[]),this.loadChart(null,[])},t.ChartEngine.prototype.getDataFields=function(s){var i,a,o,n;i="H",i+="i",i+="g",i+="h",s||(s=this.chart),a=s.defaultPlotField||"Close",o=["Open",i,"Low"],o.push(a);for(var l in s.series)n=s.series[l].parameters,o.push(n.symbol);return o},t.ChartEngine.prototype.cleanMasterData=function(s,i){var a,o,n,l,u;if(a=s.symbol,o=i.masterData,!o||!o.length)return;n=this.getDataFields(i),l=0;do{if(u=o[l],delete u[a],h.call(this,u,n)){o.splice(l,1);continue}l++}while(l<o.length);o=this.doCleanupGaps(o,i,{noCleanupDates:!0}),this.setMasterData(o,i,{noCleanupDates:!0});function h(c,f){for(var m,x,g="0"*1;g<f.length;g++)if(m="u",m+="ndef",m+="in",m+="ed",x=c[f[g]],typeof x!=m)return!1;return!0}this.clearCurrentMarketData(i,a)},t.ChartEngine.prototype.calculateATR=function(s,i,a){var o,n,l,u,h,c;a||(a=s.dataSet),o=s.state.calculations.atr,o||(o=s.state.calculations.atr={}),i||(i=20),n=[],o.accum&&(n=o.accum);for(var f=0;f<a.length;f++)if(u=a[f],l=f?a[f-1]:o.q1,!!l){if(h=Math.max(u.High-u.Low,Math.abs(u.High-l.Close),Math.abs(u.Low-l.Close)),n.length<i){if(n.push(h)==i){c=0;for(var m=0;m<n.length;m++)c+=n[m];e.A7H(26),u.atr=e.A3d(i,c)}}else{e.D46(115);var x=e.A3d(16,8,49,4,18);u.atr=(l.atr*(i-x)+h)/i}u.trueRange=h}e.R1B(),s.state.calculations.atr={accum:n,q1:l}},t.ChartEngine.prototype.calculateMedianPrice=function(s,i){var a;i||(i=s.dataSet),e.c6j();for(var o=0;o<i.length;++o){a=i[o],e.D46(116);var n=e.F4C(18,16,8,20,60);a["hl/2"]=(a.High+a.Low)/n}},t.ChartEngine.prototype.calculateTypicalPrice=function(s,i){e.R1B();var a,o;i||(i=s.dataSet);for(var n=0;n<i.length;++n){o="h",o+="l",o+="c/",o+="3",a=i[n],e.D46(117);var l=e.F4C(433,7,20,16);a[o]=(a.High+a.Low+a.Close)/("3"*l)}},t.ChartEngine.prototype.calculateWeightedClose=function(s,i){var a,o;e.c6j(),i||(i=s.dataSet);for(var n=0;n<i.length;++n){o="h",o+="l",o+="cc",o+="/4",a=i[n],e.D46(118);var l=e.F4C(4,4,6,1);e.D46(11);var u=e.A3d(12,1,16);a[o]=(a.High+a.Low+l*a.Close)/u}},t.ChartEngine.prototype.calculateOHLC4=function(s,i){var a;i||(i=s.dataSet);for(var o=0;o<i.length;++o){a=i[o],e.A7H(92);var n=e.A3d(9,5,6,52,234);a["ohlc/4"]=(a.Open+a.High+a.Low+a.Close)/n}},t.ChartEngine.prototype.currentQuote=function(s){var i;if(!this.chart.dataSet)return null;for(var a=this.chart.dataSet.length-1;a>=0;a--)if(this.chart.dataSet[a]){if(!s)return this.chart.dataSet[a];if(i=this.chart.dataSet[a][s],i||i===0)return this.chart.dataSet[a]}return null},t.ChartEngine.prototype.mostRecentClose=function(s){var i,a,o;if(!this.chart.dataSet)return null;for(var n=this.chart.dataSet.length-1;n>=0;n--)if(i="n",i+="u",i+="m",i+="ber",a=this.chart.dataSet[n],!!a&&!(s&&(a=a[s],!a&&a!==0))){if(o=a.iqPrevClose,typeof a=="object"&&(a=a.Close),typeof a=="number")return a;if(typeof o==i)return o}return null},t.ChartEngine.prototype.createDataSegment=function(s){var i,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y;if(i="create",e.R1B(),i+="DataSegment",!this.runPrepend(i,arguments)){for(var b in this.charts){a=this.charts[b],s&&(a=s),t.Comparison&&a.isComparison&&t.Comparison.createComparisonSegmentInner(this,a),o=a.dataSet,n=a.baseline,l=a.scroll,u=a.maxTicks,h=this.layout,c=h.candleWidth,n.actualLevel=n.userLevel?n.userLevel:n.defaultLevel,f=n.includeInDataSegment&&!this.mainSeriesRenderer.standaloneBars,x=0,g=a.dataSegment=[],e.A7H(119);var w=e.F4C(2,4,9,4,9);e.D46(9);var A=e.A3d(1,0);d=o.length-w-l-A,p=a.defaultPlotField;for(var _=-1;_<l&&_<u;_++)d++,!(_==-1&&!f)&&(d<o.length&&d>=0?(m=o[d],m.candleWidth=null,m&&(x+=m.Volume||1),g.push(m),n.actualLevel===null&&_>=0&&(p&&p!="Close"?(e.D46(2),v=o[e.F4C(1,d)],v&&(v[p]||v[p]===0)&&(n.actualLevel=v[p])):(m.iqPrevClose||m.iqPrevClose===0)&&(n.actualLevel=m.iqPrevClose))):d<0&&g.push(null));if(a.segmentImage=null,S=this.mainSeriesRenderer,S.params.volume){e.D46(11);var P=e.F4C(0,4,4);T=a.width-(u-g.length-P)*h.candleWidth,e.A7H(15),D=e.A3d("0",1),a.segmentImage=[];for(var I=0;I<g.length;I++)if(m=g[I],a.segmentImage[I]={},y=null,m){if(m.Volume){m.candleWidth=T*m.Volume/x,e.D46(8);var O=e.A3d(6,28,20);y=D+m.candleWidth/O,D+=m.candleWidth}else m.candleWidth=c,e.A7H(120),y=e.F4C(2,D,c),D+=c;a.segmentImage[I]={tick:m.tick,candleWidth:m.candleWidth,leftOffset:y}}else a.segmentImage[I]={tick:null,candleWidth:c,leftOffset:D+c/2},D+=c}if(s)break}a&&a.isComparison&&this.clearPixelCache(),this.positionCrosshairsAtPointer(),this.runAppend("createDataSegment",arguments)}},t.ChartEngine.prototype.getDataSegment=function(s){var i,a,o;return s||(s=this.chart),i=s.dataSegment,!i||!i.length?[]:(a=0,o=i.length,this.pixelFromBar(a,s)<s.panel.left&&a++,this.pixelFromBar(o-1,s)>s.panel.right&&o--,i.slice(a,o))},t.ChartEngine.prototype.setMasterData=function(s,i,a){var o,n,l,u,h,c,f,m;if(i||(i=this.chart),this.marketFactory&&(o=this.marketFactory(i.symbolObject),this.setMarket(o,i)),a||(a={}),a.noCleanupDates||this.doCleanupDates(s,this.layout.interval),i.masterData=s,i.name=="chart"&&(this.masterData=s),l=null,s)for(n="0"^0;n<s.length;n++)u="setMasterD",u+="ata : Missing DT and ",u+="Date on mas",u+="terData object",h=s[n],l===null&&(typeof h.Close=="number"?l="Close":typeof h.Value=="number"&&(c="Va",c+="l",c+="ue",l=c)),l==="Value"&&typeof h.Value=="number"&&(h.Close=h.Value),h.DT?(f="[o",f+="bject",f+=" Date]",Object.prototype.toString.call(h.DT)!=f&&(h.DT=new Date(h.DT)),(!h.Date||h.Date.length!=17)&&(h.Date=t.yyyymmddhhmmssmmm(h.DT))):h.Date?h.DT=t.strToDateTime(h.Date):console.log(u),h.Volume&&typeof h.Volume!="number"&&(h.Volume=parseInt(h.Volume,"10"-0)),s.length-n<"50"<<64&&this.updateCurrentMarketData(h,i,null,{fromTrade:!0});i.calculateTradingDecimalPlaces&&(i.decimalPlaces=i.calculateTradingDecimalPlaces({stx:this,chart:i,symbol:i.symbolObject.symbol,symbolObject:i.symbolObject})),this.setDisplayDates(s),i.roundit=Math.pow(10,i.decimalPlaces);for(n in this.plugins)m=this.plugins[n],m.display&&m.setMasterData&&m.setMasterData(this,i)},t.ChartEngine.prototype.setMasterDataRender=function(s,i,a){var o,n,l;if(a||(a=this.chart),a.symbol||(a.symbol=""),this.setMasterData(i,a),i&&(a.endPoints={},i.length&&(a.endPoints={begin:i[0].DT,end:i[i.length-1].DT},a.symbol=s)),this.createDataSet(),this.initializeChart(),this.draw(),!i||!i.length){o=-2086017088,n=-1467511882,l=2;for(var u=1;e.L4g(u.toString(),u.toString().length,6284)!==o;u++)a.symbol=null,l+=2;e.L4g(l.toString(),l.toString().length,69867)!==n&&(a.symbol=1),this.clear()}this.adjustPanelPositions()},t.ChartEngine.prototype.getSymbols=function(s){e.R1B();var i,a,o,n,l,u,h;s||(s={}),i=[],o=this.layout;for(var c in this.charts){n=this.charts[c];var{symbol:f,symbolObject:m}=n;m&&m.symbol&&(s.static?m.static&&i.push(w(f,m,o)):i.push(w(f,m,o)));for(var x in n.series){var{parameters:g}=n.series[x];if(!(!(s["include-static"]||s.static)&&g.data&&!g.data.useDefaultQuoteFeed)){var{bucket:d,noStorage:p,symbol:v,symbolObject:S}=g;a=w(v,S,o),a.id=x,s["include-parameters"]&&(a.parameters=t.clone(g),a.parameters.yAxis&&delete a.parameters.yAxis.yAxisPlotter),!(s["exclude-studies"]&&d=="study")&&(s["exclude-generated"]&&S.generator||s["exclude-nostore"]&&p||(s.static?S.static&&i.push(a):i.push(a)))}}}if(s["breakout-equations"]){l={};for(var T=0;T<i.length;T++){var{symbol:D}=i[T];if(this.isEquationChart(D)){if(u=t.formatEquation(D),u){h=u.symbols;for(var y=0;y<h.length;y++)l[h[y]]=w(h[y],i[T].symbolObject,i[T])}}else l[D]=w(D,i[T].symbolObject,i[T])}i=[];for(var b in l)i.push(l[b])}function w(A,_,P){return{symbol:A,symbolObject:_,periodicity:P.periodicity,interval:P.interval,timeUnit:P.timeUnit,setSpan:P.setSpan}}return i},e.c6j(),t.ChartEngine.prototype.setDisplayDate=function(s){var i,a,o,n,l,u;if(e.c6j(),!t.ChartEngine.isDailyInterval(this.layout.interval)){i=721103129,a=-1549151998,o=2;for(var h=1;e.S7c(h.toString(),h.toString().length,3666)!==i;h++){n=s.DT,e.D46(6);var c=e.F4C(12,990,2);l=n.getSeconds()*c+n.getMilliseconds(),o+=2}if(e.S7c(o.toString(),o.toString().length,85667)!==a){n=s.DT,e.D46(3);var f=e.F4C(6,5,0);l=(n.getSeconds()+"2653"*f)/n.getMilliseconds()}r.Date&&this.displayZone&&(u=new r.Date(n.getTime(),this.displayZone),n=new Date(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),u.getMinutes()),n=new Date(n.getTime()+l)),s.displayDate=n}},t.ChartEngine.prototype.setDisplayDates=function(s){var i;if(s&&!t.ChartEngine.isDailyInterval(this.layout.interval))for(var a=0;a<s.length;a++)i=s[a],i.DT&&this.setDisplayDate(i)},t.ChartEngine.prototype.setTimeZone=function(s,i){var a,o,n,l,u,h;if(a="pr",a+="e",a+="feren",a+="ces",!r.Date){this.timeZoneOffset=0;return}o=new Date,n=o.getTimezoneOffset(),l=n,u=n,s&&(this.dataZone=s),this.dataZone&&(l=new r.Date(o,this.dataZone).getTimezoneOffset()),i&&(this.displayZone=i),this.displayZone&&(u=new r.Date(o,this.displayZone).getTimezoneOffset()),e.D46(121),this.timeZoneOffset=e.A3d(l,n,u,n);for(var c in this.charts)h=this.charts[c],this.setDisplayDates(h.masterData);e.R1B(),this.preferences.timeZone=i,this.changeOccurred(a),this.createDataSet()},t.ChartEngine.prototype.updateChartData=function(s,i,a={}){var o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C;o="app",o+="en",o+="d",o+="MasterData",i||(i=this.chart),n=this;var{layout:k}=this,{animationEntry:F,secondarySeries:M}=a,{isValidNumber:L}=t,{masterData:E}=i;function H(){n.createDataSet(null,null,a),n.draw({animationEntry:F}),n.updateChartAccessories(),e.R1B(),n.streamParameters.count=0,n.streamParameters.timeout=-1}if(l=!1,u=!1,a.noCleanupDates||this.doCleanupDates(s,k.interval),(a.useAsLastSale||s.constructor==Object&&(s.Last||s.Last===0))&&Y(),s&&s.constructor==Object&&(s=[s]),!s||!s.length)return;if(f=M?this.getSeries({symbol:M,chart:i}):[i],M&&f&&f.length===1&&(m=f[0],m.parameters.isEvent)){(!m.endPoints.begin||m.endPoints.begin>s[0].DT)&&(m.endPoints.begin=s[0].DT),(!m.endPoints.end||m.endPoints.end<s[s.length-1].DT)&&(m.endPoints.end=s[s.length-1].DT),m.parameters.processResults&&m.parameters.processResults(this,null,m,s);return}function N(){var q,X,Z,ae,te,re,oe,B,G,ie,ne;if(q="w",q+="ee",q+="k",X="m",X+="on",X+="th",!(!t.Market||!i.market)){if(Z={market_tz:t.getFromNS(i,"market.market_def.market_tz",null)},ae=k.interval,(ae==X||ae==q)&&(n.dontRoll||(ae="day"),Z=n.chart.market.market_def),te=new t.Market(Z),re={begin:E&&E.length?E[E.length-1].DT:s.DT,interval:ae,periodicity:1,timeUnit:k.timeUnit},oe=te.newIterator(re),B=oe.next(),!E)s.DT=new Date(+oe.previous());else if(s.DT<B){for(G=0,ne=oe.previous(),ie=s.DT,a.appending=!0;ie<ne&&G<1e3;)a.appending=!1,ne=oe.previous(),G++;s.DT=ne,a.updating=!a.appending}else if(s.DT>=B){for(G=0,ie=s.DT;ie>B&&G<1e3;)s.DT=B,B=oe.next(),G++;a.appending=!0}}}function j(q,X){var Z,ae,te,re,oe;if(Z=E[q],M&&(Z=Z[M]||{}),X.Close===null)Z.Open!==void 0&&(X.Open=null),Z.High!==void 0&&(X.High=null),Z.Low!==void 0&&(X.Low=null),Z.Volume!==void 0&&(X.Volume=null);else{ae="B",ae+="i",ae+="d",te="L",te+="o",te+="w",re="Clo",re+="se",l?(X.Volume&&(X.Volume=parseInt(X.Volume,10)),u||(X.Volume+=Z.Volume)):!L(X.Volume)&&Z.Volume&&(X.Volume=Z.Volume),a.allowReplaceOHL||(L(Z.Open)&&(X.Open=Z.Open),L(Z.High)&&L(X.High)&&Z.High>X.High&&(X.High=Z.High),L(Z.Low)&&L(X.Low)&&Z.Low<X.Low&&(X.Low=Z.Low)),[re,"Open","High",te,ae,"Ask"].forEach(function(B){e.c6j(),L(X[B])||(X[B]=Z[B])});for(h in i.series)oe="u",oe+="ndefine",oe+="d",c=i.series[h].parameters.symbolObject.symbol,typeof X[c]==oe&&typeof Z[c]!="undefined"&&(X[c]=Z[c])}}if(this.runPrepend("appendMasterData",[s,i,a])||this.runPrepend("updateChartData",[s,i,a]))return;E||(E=[]),e.A7H(2);var W=e.A3d(7,8);if(e.c6j(),x=E.length-W,g=!1,a.fillGaps&&K(),!s.length)return;for(var V="0"*1;V<s.length;V++){for(d="[",d+="object ",d+="Da",d+="te]",p=s[V],v=p.DT,S=p.Date,v&&Object.prototype.toString.call(v)!=d&&(p.DT=v=new Date(v)),v&&(!S||S.length!=17)&&(p.Date=t.yyyymmddhhmmssmmm(p.DT)),v||(v=p.DT=t.strToDateTime(S)),!L(p.Close)&&L(p.Value)&&(p.Close=p.Value);x>=0&&x<E.length;){if(T=E[x].DT,T||(T=t.strToDateTime(E[x].Date)),T.getTime()<=v.getTime()){if(g=!0,e.D46(48),D=e.A3d(0,"0"),T.getTime()<v.getTime()){if(x<E.length-1&&(y=E[x+1].DT||t.strToDateTime(E[x+("1"<<0)].Date),y.getTime()<=v.getTime())){x++;continue}D=1}if(a.deleteItems){D||$(x,v);break}else b="t",b+="i",b+="c",b+="k",k.interval==b&&a.firstLoop!==!1&&(D=1),D||j(x,p),L(p.Close)&&(L(p.Open)||(p.Open=p.Close),w=Math.max(p.Open,p.Close),A=Math.min(p.Open,p.Close),(!L(p.High)||p.High<w)&&(p.High=w),(!L(p.Low)||p.Low>A)&&(p.Low=A)),p.Volume&&!L(p.Volume)&&(p.Volume=parseInt(p.Volume,10)),x+=D,M?(s.length-V<50&&this.updateCurrentMarketData(p,i,M,{fromTrade:!0,animationEntry:F}),(k.interval!="tick"||p.Close!==void 0)&&(D&&(E.splice(x,0,{DT:p.DT}),this.setDisplayDate(E[x])),E[x][M]=p)):(s.length-V<50&&this.updateCurrentMarketData(p,i,null,{fromTrade:!0,animationEntry:F}),(k.interval!="tick"||p.Close!==void 0)&&(E.splice(x,D?"0"*1:1,p),this.setDisplayDate(p)));break}x+=g?1:-1}x<0&&(M?(this.updateCurrentMarketData(p,i,M,{fromTrade:!0,animationEntry:F}),(k.interval!="tick"||p.Close!==void 0)&&(E.splice(0,0,{DT:p.DT}),this.setDisplayDate(E[0]),E[0][M]=p)):(_="t",_+="i",_+="ck",this.updateCurrentMarketData(p,i,null,{fromTrade:!0,animationEntry:F}),(k.interval!=_||p.Close!==void 0)&&(E.splice(0,0,p),this.setDisplayDate(p))),g=!0,x=0)}E.length&&(this.masterData=i.masterData=E),this.maxMasterDataSize&&(E=i.masterData=this.masterData=E.slice(-this.maxMasterDataSize));function Y(){var q,X;if(q="[object Da",q+="te]",l=!0,a.useAsLastSale&&a.useAsLastSale.aggregatedVolume&&(u=!0),e.c6j(),s.constructor===Array){e.A7H(105);var Z=e.F4C(3,0,14,18);X=s[s.length-Z],s={},s.DT=X.DT,s.Close=X.Close,s.Volume=X.Volume}else s.Last&&(s.Close=s.Last,delete s.Last);s.DT&&Object.prototype.toString.call(s.DT)!=q&&(s.DT=new Date(s.DT)),(!s.DT||s.DT=="Invalid Date")&&(s.DT=new Date),k.interval!="tick"&&N(),s.Open=s.Close,s.High=s.Close,s.Low=s.Close}for(var Q=0;Q<f.length;Q++)P=f[Q],(!P.endPoints.begin||P.endPoints.begin>s[0].DT)&&(P.endPoints.begin=s[0].DT),(!P.endPoints.end||P.endPoints.end<s[s.length-1].DT)&&(P.endPoints.end=s[s.length-1].DT),I=P.parameters&&P.parameters.field||i.defaultPlotField,O=this.getFirstLastDataRecord(s,I,!0),O&&(!P.lastQuote||P.lastQuote.DT<=O.DT)&&(P.lastQuote=O),M&&a.deleteItems&&(P.lastQuote=this.getFirstLastDataRecord(E,M,!0)[M]);for(var z in this.plugins)R=this.plugins[z],R.display&&R.appendMasterData&&R.appendMasterData(this,s,i);(!this.masterData||!this.masterData.length)&&(this.masterData=E),a.noCreateDataSet||(C=this.streamParameters,++C.count>C.maxTicks||a.bypassGovernor?(clearTimeout(C.timeout),H()):C.timeout==-1&&(C.timeout=setTimeout(H,C.maxWait))),this.runAppend(o,arguments);function $(q,X){var Z,ae,te;if(ae=["gap","stretch"].includes(n.cleanupGaps),e.c6j(),M)delete E[q][M],n.cleanupGaps&&(Z={DT:X,Close:null},!ae&&E[q-("1"|0)]&&E[q-1][M]&&(Z.Close=E[q-1][M].Close,Z.High=Z.Low=Z.Open=Z.Close,Z.Volume=0),E[q][M]=Z);else{te=E.splice(q,1)[0],Z={DT:te.DT,Close:null,needed:!1};for(h in i.series)c=i.series[h].parameters.symbolObject.symbol,typeof te[c]!="undefined"&&(Z[c]=te[c],delete Z.needed);n.cleanupGaps&&n.cleanupGaps!="gap"&&(delete Z.needed,!ae&&E[q-1]&&(Z.Close=E[q-1].Close,Z.High=Z.Low=Z.Open=Z.Close,Z.Volume=0)),Z.needed!==!1&&(E.splice(q,0,Z),n.setDisplayDate(Z))}}this.runAppend("updateChartData",arguments);function K(){var q,X,Z;if(q=null,X=0,E.length&&(q=n.getFirstLastDataRecord(E,M||i.defaultPlotField,!0),q)){if(s[s.length-1].DT<=q.DT)return;for(;X<s.length;X++)if(+s[X].DT==+q.DT){n.getFirstLastDataRecord([s[X]],M||i.defaultPlotField)&&(q=null);break}else if(s[X].DT>q.DT)break}Z=s.slice(X),q&&Z.unshift(M?q[M]:q),Z=n.doCleanupGaps(Z,i),q&&Z.shift(),s=s.slice(0,X).concat(Z)}},t.ChartEngine.prototype.updateCurrentMarketData=function(s,i,a,o={}){var n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b;if(n="B",n+="id",n+="L2",l="D",l+="T",u="updateCur",u+="rentMarketD",u+="ata",!(!s||!s.DT)){i||(i=this.chart);var{fromTrade:w}=o;if(h=s.DT,!w&&this.layout.interval!="tick"&&i.market){if(i.market.market_def&&(!i.market.isMarketDate(s.DT)||!t.ChartEngine.isDailyInterval(this.layout.interval)&&i.market.getSession(s.DT)===null))return;c={begin:s.DT,interval:this.layout.interval,periodicity:this.layout.periodicity,timeUnit:this.layout.timeUnit},f=new t.Market(i.market.market_def),this.extendedHours&&this.extendedHours.filter&&f.enableAllAvailableSessions(),m=f.newIterator(c),m.next(),x=-2111951895,g=78027441,d=2;for(var A=1;e.L4g(A.toString(),A.toString().length,19174)!==x;A++)s.DT=m.previous(),d+=2;e.S7c(d.toString(),d.toString().length,36591)!==g&&(s.DT=m.previous())}if(!this.runPrepend(u,arguments)){p=w?l:"Timestamp";var{currentMarketData:_}=i;if(v=!1,a&&(_[a]||(_[a]={}),_=_[a]),["Last","Bid","Ask"].forEach(function(I){var O,R,C,k;if(s[I]&&typeof s[I]=="number"){O=1595293023,R=-1332332112,e.D46(19),C=e.A3d(64,"2");for(var F=1;e.S7c(F.toString(),F.toString().length,4029)!==O;F++)k=_[I],C+=2;e.L4g(C.toString(),C.toString().length,"29310">>32)!==R&&(k=_[I]),k=_[I],(!k||!k[p]||k[p]<=(w?s.DT:h))&&(_[I]={DT:s.DT,Price:s[I],Size:s[I+"Size"],Timestamp:h},v=!0)}}),[n,"AskL2"].forEach(function(I){var O;s[I]&&s[I]instanceof Array&&(O=_[I],(!O||!O[p]||O[p]<=(w?s.DT:h))&&(_[I]={DT:s.DT,Price_Size:s[I],Timestamp:h},v=!0))}),s.Close&&(!_.Last||_.Last.Timestamp<=(s.LastTime||h))&&(S=s.Close,T=o&&o.finalClose,(T||T===0)&&(S=T),_.Last={DT:s.DT,Price:S,Size:s.LastSize===void 0&&this.layout.interval=="tick"?s.Volume:s.LastSize,Timestamp:s.LastTime||h},v=!0),v&&!o.animationEntry){D=-2028096565,e.A7H(2),y=-e.A3d(0,"2611556"),b=2;for(var P=1;e.L4g(P.toString(),P.toString().length,92049)!==D;P++)_.touched=new Date,b+=2;e.S7c(b.toString(),b.toString().length,97975)!==y&&(_.touched=new Date)}w||delete s.Last,this.runAppend("updateCurrentMarketData",arguments)}}},t.ChartEngine.prototype.clearCurrentMarketData=function(s,i){var a,o,n,l;if(a="clearCurren",a+="tMarketData",!this.runPrepend("clearCurrentMarketData",arguments)){if(n=[],s)n.push(s);else for(o in this.charts)n.push(this.charts[o]);for(o=0;o<n.length;o++)if(l=n[o].currentMarketData,i)delete l[i];else for(var u in l)l[u]=void 0;this.runAppend(a,arguments)}}};Bi=U=>{var e;e=U.CIQ,e.ChartEngine.prototype.changeOccurred=function(t){var r,s,i,a;r="preferen",r+="ces",s="the",s+="m",s+="e",i={stx:this,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,layout:this.layout,drawings:this.drawingObjects},t=="theme"&&this.dispatch(s,i),!this.currentlyImporting&&(t=="layout"?(a="layou",a+="t",this.dispatch(a,i)):t=="vector"?this.dispatch("drawing",i):t==r&&this.dispatch("preferences",i))},e.ChartEngine.prototype.startAsyncAction=function(){this.pendingAsyncs||(this.pendingAsyncs=[]),this.pendingAsyncs.push(!0)},e.ChartEngine.prototype.registerChartDrawnCallback=function(t){return J.R1B(),this.asyncCallbacks||(this.asyncCallbacks=[]),this.asyncCallbacks.push(t),{fc:t}},e.ChartEngine.prototype.unregisterChartDrawnCallback=function(t){J.c6j();for(var r=0;r<this.asyncCallbacks.length;r++)if(this.asyncCallbacks[r]==t.fc){this.asyncCallbacks.splice(r,1);return}},e.ChartEngine.prototype.makeAsyncCallbacks=function(){if(this.asyncCallbacks&&(J.R1B(),!this.pendingAsyncs||!this.pendingAsyncs.length))for(var t=0;t<this.asyncCallbacks.length;t++)this.asyncCallbacks[t]()},e.ChartEngine.prototype.completeAsyncAction=function(){this.pendingAsyncs.pop(),this.makeAsyncCallbacks()},e.ChartEngine.prototype.addDomEventListener=function(t,r,s,i){t.addEventListener(r,s,i),this.eventListeners.push({element:t,event:r,function:s,options:i})},e.ChartEngine.prototype.addEventListener=function(t,r){var s,i;if(t==="*")for(var a in this.callbackListeners)this.callbackListeners[a].push(r);else if(t instanceof Array)for(var o=0;o<t.length;o++)this.callbackListeners[t[o]].push(r);else{if(s=this.callbackListeners[t],!s)throw i="Attempted",i+=" to ",i+="add an inva",i+="lid listener.",new Error(i);s.push(r)}return J.c6j(),{type:t,cb:r}},e.ChartEngine.prototype.removeEventListener=function(t,r){var s,i;if((!t||typeof t!="object")&&(t={type:t,cb:r}),s=function(o,n){for(var l=0;l<o.length;l++)if(o[l]===n){o.splice(l,1);return}},J.R1B(),i=this.callbackListeners,t.type==="*"){for(var a in i)s(i[a],t.cb);return}if(!i[t.type])throw new Error("Attempted to remove an invalid listener.");s(i[t.type],t.cb)},e.ChartEngine.prototype.dispatch=function(t,r){var s;if(s=this.callbackListeners[t],J.R1B(),s){for(var i=0;i<s.length;i++)if(s[i].call(this,r)===!0)return!0}if(s=this.callbackListeners["*"],s){for(var a=0;a<s.length;a++)if(s[a].call(this,r)===!0)return!0}return!1},e.ChartEngine.prototype.updateListeners=function(t){var r;for(var s in this.plugins)r=this.plugins[s],r.display&&r.listener&&r.listener(this,t)},e.ChartEngine.registerGlobalEvent=function(t,r,s,i){J.R1B(),Array.isArray(t)||(t=[t]),t.forEach(a=>{J.c6j(),e.ChartEngine.globalEventHandlers.push({event:a,listener:r,options:s||!1,isWindow:i,applied:[]})}),e.ChartEngine.attachGlobalEventHandlers()},e.ChartEngine.attachGlobalEventHandlers=function(){var t;t=e.ChartEngine.registeredContainers,t.forEach(r=>{var{ownerDocument:s}=r;e.ChartEngine.globalEventHandlers.forEach(function(i){var a,{event:o,listener:n,options:l,isWindow:u,applied:h}=i;h.indexOf(s)===-1&&(a=u?s.defaultView:s,a.addEventListener(o,n,l),h.push(s))})})}};qi=U=>{var e;e=U.CIQ,e.ChartEngine.prototype.prepend=function(t,r){var s,i;return J.c6j(),J.D46(9),s=J.F4C(t,"prepend"),this instanceof e.ChartEngine?(i=this.hasOwnProperty(s)?this[s]:[],this[s]=[r].concat(i)):(i=e.ChartEngine.prototype[s]||[],e.ChartEngine.prototype[s]=[r].concat(i)),{method:s,func:r}},e.ChartEngine.prototype.append=function(t,r){var s,i;return J.D46(9),s=J.F4C(t,"append"),this instanceof e.ChartEngine?(i=this.hasOwnProperty(s)?this[s]:[],this[s]=i.concat(r)):(i=e.ChartEngine.prototype[s]||[],e.ChartEngine.prototype[s]=i.concat(r)),{method:s,func:r}},e.ChartEngine.prototype.runPrepend=function(t,r,s){var i,a,o;if(J.D46(9),i=J.F4C(t,"prepend"),a=this.hasOwnProperty(i)?this[i]:[],a=a.concat(e.ChartEngine.prototype[i]||[]),!a.length)return!1;s||(s=this);for(var n="0">>64;n<a.length;n++)if(o=a[n].apply(s,r),o)return o;return!1},e.ChartEngine.prototype.runAppend=function(t,r,s){var i,a,o;if(J.A7H(9),i=J.A3d(t,"append"),a=this.hasOwnProperty(i)?this[i]:[],J.c6j(),a=a.concat(e.ChartEngine.prototype[i]||[]),!a.length)return!1;s||(s=this);for(var n=0;n<a.length;n++)if(o=a[n].apply(s,r),o)return o;return!1},e.ChartEngine.prototype.removeInjection=function(t){J.c6j();var r,s,i,a,o;if(r=t.method,this instanceof e.ChartEngine){i=-16738538,a=1227373955,o=2;for(var n=1;J.S7c(n.toString(),n.toString().length,90646)!==i;n++){if(!this[r])return;o+=2}if(J.L4g(o.toString(),o.toString().length,20252)!==a&&~this[r])return;for(s=0;s<this[r].length;s++)if(this[r][s]==t.func){this[r].splice(s,1);return}}else{if(!e.ChartEngine.prototype[r])return;for(s=0;s<e.ChartEngine.prototype[r].length;s++)if(e.ChartEngine.prototype[r][s]==t.func){e.ChartEngine.prototype[r].splice(s,1);return}}},e.ChartEngine.prototype.remove=function(t){var r=J;this instanceof e.ChartEngine?(r.A7H(9),delete this[r.A3d(t,"append")],r.D46(9),delete this[r.A3d(t,"prepend")]):(r.A7H(9),delete e.ChartEngine.prototype[r.A3d(t,"append")],r.D46(9),delete e.ChartEngine.prototype[r.A3d(t,"prepend")])}};Ui=U=>{var e,t,r;e="<d",e+="iv cla",e+='ss="stx_sticky"> <span class="mStickyInterior"></span></div>',t=U.CIQ,r=U.timezoneJS,t.ChartEngine.prototype.convertToDataZone=function(s){var i;return(s||s===0)&&this.dataZone&&(i=t.convertTimeZone(s,null,this.dataZone),s=new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())),s},t.ChartEngine.prototype.debug=function(){},t.ChartEngine.prototype.fps=function(s,i){var a,o,n,l;a=" secon",a+="d",a+="s",s=s||5;function u(){var h=J,c,f,m;h.D46(122);var x=h.F4C(6,13,4,500,903);if(c=(new Date().getTime()-o)/x,c>s){f="F",f+="P",f+="S",f+="=",h.D46(26),m=h.F4C(c,n),h.A7H(9),console.log(h.F4C(m,f)),i&&i(m);return}l.draw(),n++,t.ChartEngine.useAnimation?l.ownerWindow.requestAnimationFrame(u):setTimeout(u,0)}o=new Date().getTime(),n=0,l=this,J.c6j(),J.A7H(39),console.log(J.A3d(s,a,"Running fps() for ")),u()},t.ChartEngine.htmlControls={mSticky:e,iconsTemplate:'<div class="stx-panel-control"><div class="stx-panel-title"></div><div class="stx-panel-legend"></div></div>'},t.ChartEngine.prototype.setChartType=function(s){var i,a,o;if(J.c6j(),i="la",i+="you",i+="t",a=this.layout,o=this.chart,a.aggregationType!="ohlc"&&(a.aggregationType="ohlc",o.canvas&&this.createDataSet()),a.chartType=s,this.setMainSeriesRenderer(),this.mainSeriesRenderer.isAggregation&&this.setAggregationType)return this.setAggregationType(s);o.defaultChartStyleConfig={type:s},this.displayInitialized&&this.draw(),this.changeOccurred(i)},t.ChartEngine.prototype.setChartScale=function(s){s||(s="linear"),this.layout.chartScale=s,this.chart.canvas&&this.draw(),this.changeOccurred("layout")},t.ChartEngine.prototype.checkLogScale=function(){var s,i;if(s="check",s+="L",s+="ogScale",!this.runPrepend(s,arguments))return this.layout.chartScale!=="log"?!1:(i=!1,this.chart.yAxis.lowValue<=0&&(this.setChartScale("linear"),this.dispatch("notification","logdeactivated"),i=!0),this.runAppend("checkLogScale",arguments),i)},t.ChartEngine.prototype.setAdjusted=function(s){var i,a,o,n;i="layou",i+="t",this.layout.adj=s,this.chart.canvas&&(this.createDataSet(),this.draw()),a=-105807170,o=-647491413,n=2;for(var l=1;J.L4g(l.toString(),l.toString().length,42259)!==a;l++)this.changeOccurred(""),n+=2;J.S7c(n.toString(),n.toString().length,76520)!==o&&this.changeOccurred(""),J.R1B(),this.changeOccurred(i)},t.ChartEngine.prototype.padOutPrice=function(s,i){var a=J,o,n,l,u;if(s!==0&&(!s||typeof s!="number"))return"";if(!i&&i!==("0"|0)&&(i=s),a.A7H(9),o=a.A3d(i,""),n=0,o.indexOf(".")>-1){a.D46(46);var h=a.A3d(5,4);n=o.substring(o.indexOf(".")).length-h}return i>=1e3?n=Math.max(n,0):i<2?n=Math.max(n,4):n=Math.max(n,2),l=this.internationalizer,l?(u=l.priceFormatters.length,n>=u&&(a.A7H(2),n=a.F4C(1,u)),s=l.priceFormatters[n].format(s)):s=s.toFixed(n),s},t.ChartEngine.prototype.formatPrice=function(s,i){var a,o,n;return s!==0&&(!s||typeof s=="undefined")?"":(i||(i=this.currentPanel),J.R1B(),i||(i=this.chart.panel),!i||(a=i.decimalPlaces,!a&&a!==0&&(a=i.chart.decimalPlaces),!a&&a!==0)?s.toString():(o=this.internationalizer,o?(n=o.priceFormatters.length,a>=n&&(J.A7H(2),a=J.A3d(1,n)),s=o.priceFormatters[a].format(s)):s=s.toFixed(a),s))},t.ChartEngine.prototype.determineMinMax=function(s,i,a,o,n,l,u,h,c){var f=J,m,x,g,d,p,v,S,T,D,y,b;f.A7H(123);var w=f.A3d(1,4,8);m=Number.MAX_VALUE*w,x=Number.MAX_VALUE,g=!1,d=s.length,c||(c=[]),p=[],n&&(d=n);for(var A=0;A<=d+1;A++)if(i.length&&(A==d?v=this.getPreviousBar(this.chart,i["0">>64],0):A==d+1?v=this.getNextBar(this.chart,i[0],d-("1"<<0)):v=s[A]),!!v){if(!o){if(v.transform)g=!0,v=v.transform;else if(g)continue}S=0;for(var _="0">>0;_<i.length;_++)if(T=t.existsInObjectChain(v,i[_]),!!T){D=T.obj[T.member],typeof D=="number"&&(D=[D]);for(var P=0;P<D.length;P++)y=D[P],l&&y instanceof Array&&(y=y[0]),(y||y==="0">>32)&&(a===!0||a instanceof Array&&a.indexOf(i[_])>-1?(S+=y,S>m&&(m=S),S<x&&(x=S)):(y>m&&(m=y),y<x&&(x=y),p.push({value:y,quote:v})))}(a===!0||a instanceof Array&&a.indexOf(i[_])>-1)&&p.push({value:S,quote:v})}return b=[x,m],f.c6j(),c.forEach(function(I){var O,R,C;O=1132990245,R=-1354339267,C=2;for(var k=1;f.S7c(k.toString(),k.toString().length,41230)!==O;k++)b=I(p,u,h)||b,C+=2;f.R1B(),f.S7c(C.toString(),C.toString().length,11588)!==R&&(b=I(p,u,h)&&b)}),b[1]==Number.MAX_VALUE*-1&&(b[1]=0),b[0]==Number.MAX_VALUE&&(b[0]=0),b},t.ChartEngine.prototype.initializeDisplay=function(s){var i=J,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T;if(a="Hi",a+="gh",o="Cl",o+="os",o+="e",this.runPrepend("initializeDisplay",arguments))return;n=[],l=[],u=!1,h=this,c=[o,"Open",a,"Low"],f=[s.defaultPlotField||"Close"];function D(R,C){var k,F,M,L,E,H,N,j,W,V,Y;if(k=!1,F=h.layout&&h.layout.studies&&h.layout.studies[R.name],F&&(!C||C.name==F.panel)){M="_hi",M+="s",M+="t";for(var Q in F.outputMap)n.push(Q),F.study&&(F.study.renderer?n=n.concat(t.createObjectChainNames(Q,c)):F.study.seriesFN||(n=n.concat(t.createObjectChainNames(Q,f))));for(var z=0;z<=2;z++)n.push(F.name+M+(z||""));k=!0}if(C){R.studies=[],R.renderers=[],k&&R.studies.push(R.name);for(var $ in w)if(L=w[$],E=L.params,H=E.panel,(E.yAxis||!h.panels[H]||h.panels[H].yAxis)==R&&H==C.name){N=L.highLowBars?c:f,u=L.bounded;for(var K="0">>96;K<L.seriesParams.length;K++)j=L.seriesParams[K],!j.hidden&&(W=void 0,j.subField?W=t.createObjectChainNames(j.symbol,[j.subField]).concat(j.symbol):j.symbol?W=t.createObjectChainNames(j.symbol,N).concat(j.symbol):j.field?W=j.field:R==s.panel.yAxis&&(W=N),W&&(n=n.concat(W)),L.useSum&&(l=l.concat(W)));R.renderers.push($)}for(var q in h.overlays)V=h.overlays[q],V.panel==C.name&&V.name!=R.name&&(Y=V.getYAxis(h),Y==R&&(R.studies.push(V.name),s.includeOverlaysInMinMax&&D({name:V.name})))}}var{mainSeriesRenderer:y}=this,{dataSegment:b,seriesRenderers:w}=s;if(x=null,g=Math.floor((s.width-this.micropixels)/this.layout.candleWidth),s.scroll>s.maxTicks&&s.maxTicks>g+1){i.D46(124);var A=i.A3d(8,8,17,18,1);x=b.length-A}d=[];for(var _ in this.panels){p=this.panels[_],d=p.yaxisLHS.concat(p.yaxisRHS);for(var P="0"|0;P<d.length;P++){if(v=d[P],n=[],l=[],S=s.transformFunc&&v==s.panel.yAxis,D(v,p),!this.currentlyImporting&&!v.renderers.length&&!v.studies.length){this.deleteYAxisIfUnused(p,v);continue}y.determineMax?m=y.determineMax(b,n,l,!S,x,u,p,v):m=this.determineMinMax(b,n,l,!S,x,u,p,v),this.baselineHelper&&(m=this.setBaselineMinMax(m,v)),v.lowValue=m[0],v.highValue=m[1],v==s.panel.yAxis&&(s.lowValue=v.lowValue,s.highValue=v.highValue)}}if(T=s.state.aggregation,T&&T.box){i.A7H(125);var I=i.A3d(4,1,14,1,11);s.lowValue-=T.box/I,i.D46(92);var O=i.F4C(13,11,141,4,4);s.highValue+=T.box/O}this.runAppend("initializeDisplay",arguments)},t.ChartEngine.prototype.setMarket=function(s,i){if(t.Market){i||(i=this.chart),i.market=new t.Market(s);for(var a in this.layout.marketSessions)i.market.disableSession(a,this.layout.marketSessions[a])}},t.ChartEngine.prototype.setMarketFactory=function(s){this.marketFactory=s},t.ChartEngine.prototype.setResizeTimer=function(s){var i;i=()=>{var{canvas:a,container:o}=this.chart;!a||t.isAndroid||(a.height!==Math.floor(this.devicePixelRatio*o.clientHeight)||a.width!==Math.floor(this.devicePixelRatio*o.clientWidth))&&this.resizeChart()},J.c6j(),this.resizeHandle=t.resizeObserver(this.chart.container,i,this.resizeHandle,s)},t.ChartEngine.prototype.getRenderedItems=function(){var s,i,a,o,n,l,u,h,c;if(s="Cl",s+="o",s+="se",i=this.chart,a=this.currentPanel,!!a){o=["Open","High","Low",s],n=["Close"],l=[],J.R1B();for(var f in this.overlays)this.overlays[f].panel===a.name&&(l=l.concat(Object.keys(this.overlays[f].outputMap)));for(var m in i.seriesRenderers)if(u=i.seriesRenderers[m],u.params.panel==a.name)for(var x in u.seriesParams)h=u.seriesParams[x],c=u.highLowBars?o:n,h.subField?l=l.concat(t.createObjectChainNames(h.symbol,[h.subField])).concat(h.symbol):h.symbol?l=l.concat(t.createObjectChainNames(h.symbol,c)).concat(h.symbol):h.field?l.push(h.field):a==i.panel&&(l=l.concat(c));return l}},t.ChartEngine.prototype.setTransform=function(s,i,a){s.transformFunc=i,s.untransformFunc=a},t.ChartEngine.prototype.unsetTransform=function(s){delete s.transformFunc,delete s.untransformFunc;for(var i=0;s.dataSet&&i<s.dataSet.length;i++)s.dataSet[i].transform=null},t.ChartEngine.prototype.isEquationChart=function(s){var i;return s&&s[0]=="="?!this.allowEquations||!t.fetchEquationChart?(i="Error, equation chart option require",i+="s equationsAdvanced.js",console.warn(i),!1):!0:(J.R1B(),!1)},t.ChartEngine.prototype.correctIfOffEdge=function(s){var i=J,a,o,n,l,u,h,c,f,m,x;if(!this.runPrepend("correctIfOffEdge",arguments)){for(var g in this.charts){if(a=this.charts[g],o=a.dataSet,n=a.maxTicks,l=this.layout,u=this.minimumLeftBars,h=Math.min(u,n),a.allowScrollPast){if(i.D46(2),c=i.F4C(h,n),h>o.length&&(c=n-o.length),a.scroll-c>=o.length){i.D46(3);var d=i.A3d(15,31,17);a.scroll=o.length+c-d,this.micropixels=0}a.scroll<=h&&(a.scroll=h,this.micropixels=0)}else a.scroll<h&&(a.scroll=h),a.scroll>o.length&&(a.scroll=o.length);if(a.allowScrollFuture===!1){f=this.getLabelOffsetInPixels(a,l.chartType)+l.candleWidth*a.whiteSpaceFutureTicks,i.A7H(47);var p=i.A3d(18,15,2);m=n-Math.round(f/l.candleWidth)-p,x=this.micropixels<0?a.scroll-1:a.scroll,x<m&&(a.scroll=m,this.micropixels=0)}}i.c6j(),this.runAppend("correctIfOffEdge",arguments)}},t.ChartEngine.prototype.getStartDateOffset=function(){for(var s=0;s<this.chart.dataSegment.length;s++)if(this.chart.dataSegment[s])return s;return 0},t.ChartEngine.prototype.setStartDate=function(s){for(var i,a=0;a<this.chart.dataSet.length;a++)if(i=this.chart.dataSet[a],i.DT.getTime()==s.getTime()){this.chart.scroll=this.chart.dataSet.length-a,this.draw();return}},t.ChartEngine.prototype.clearPixelCache=function(){var s=J,i,a,o,n;for(var l in this.panels)i=this.panels[l],i.cacheHigh=null,i.cacheLow=null,i.cacheLeft=1e6,i.cacheRight=-1;s.A7H(2),a=s.F4C(0,"657538697"),o=-1901040502,n=2;for(var u=1;s.S7c(u.toString(),u.toString().length,85041)!==a;u++)this.chart.pixelCacheExpired=!0,n+=2;s.L4g(n.toString(),n.toString().length,78050)!==o&&(this.chart.pixelCacheExpired=!1)},t.ChartEngine.prototype.adjustBackingStore=function(s,i){var a=J,o,n,l,u,h;if(a.R1B(),this.devicePixelRatio=window.devicePixelRatio||1,this.devicePixelRatio<1&&(this.devicePixelRatio=1),o=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||"1"<<64,n=this.devicePixelRatio/o,!this.useBackingStore){this.devicePixelRatio=this.adjustedDisplayPixelRatio=1,s.style.width=s.style.height="";return}(!t.isAndroid||t.is_chrome||t.isFF)&&(l="p",l+="x",u=s.width,h=s.height,a.D46(15),s.width=a.A3d(u,n),a.A7H(15),s.height=a.F4C(h,n),a.A7H(9),s.style.width=a.F4C(l,u),a.A7H(9),s.style.height=a.A3d("px",h),i.scale(n,n),this.adjustedDisplayPixelRatio=n,this.backing={ratio:n,width:s.width,height:s.height,styleWidth:u,styleHeight:h})},t.ChartEngine.prototype.reconstituteBackingStore=function(){var s,i;J.R1B(),!(!this.useBackingStore||!this.backing)&&(s=[this.chart.canvas],this.useBackgroundCanvas&&s.push(this.chart.backgroundCanvas),i=this.backing,s.forEach(function(a){a.width!=i.width&&(a.width=i.width,a.height=i.height,a.context.scale(i.ratio,i.ratio))}),this.adjustedDisplayPixelRatio=i.ratio,this.draw())},t.ChartEngine.prototype.disableBackingStore=function(){var s=J,i,a;s.c6j(),!(!this.useBackingStore||!this.backing)&&(i=[this.chart.canvas],this.useBackgroundCanvas&&i.push(this.chart.backgroundCanvas),a=this.backing,i.forEach(function(o){o.width!=a.styleWidth&&(o.width=a.styleWidth,o.height=a.styleHeight,s.R1B(),s.D46(15),o.context.scale(s.F4C("1",1),1))}),this.adjustedDisplayPixelRatio=1,this.draw())},t.ChartEngine.prototype.getBackgroundCanvas=function(s){return s||(s=this.chart),this.useBackgroundCanvas?s.backgroundCanvas:s.canvas},t.ChartEngine.prototype.resizeCanvas=function(){var s=J,i,a,o,n,l,u,h,c,f,m,x;if(i=this.chart.canvas,a=this.chart.context,s.c6j(),i&&a){this.floatCanvas.height=this.chart.tempCanvas.height=this.chart.backgroundCanvas.height=i.height=this.chart.container.clientHeight,o=-1945878671,n=-861810899,s.D46(16),l=s.F4C("2",2);for(var g=1;s.L4g(g.toString(),g.toString().length,53806)!==o;g++)this.floatCanvas.width=this.chart.tempCanvas.width=this.chart.backgroundCanvas.width=i.width=this.chart.container.clientWidth,this.adjustBackingStore(i,a),this.adjustBackingStore(this.chart.tempCanvas,this.chart.tempCanvas.context),this.adjustBackingStore(this.floatCanvas,this.floatCanvas.context),l+=2;s.L4g(l.toString(),l.toString().length,44457)!==n&&(this.floatCanvas.width=this.chart.tempCanvas.width=this.chart.backgroundCanvas.width=i.width=this.chart.container.clientWidth,this.adjustBackingStore(i,a),this.adjustBackingStore(this.chart.tempCanvas,this.chart.tempCanvas.context),this.adjustBackingStore(this.floatCanvas,this.floatCanvas.context)),this.adjustBackingStore(this.chart.backgroundCanvas,this.chart.backgroundCanvas.context)}u=this.container.getBoundingClientRect(),this.top=u.top,this.left=u.left,this.canvasWidth=this.chart.canvasWidth=this.chart.container.clientWidth,this.right=this.left+this.canvasWidth,this.height=this.chart.container.clientHeight,this.width=this.right-this.left,this.width===0&&!this.container.dimensionlessCanvas&&this.container.closest("html")&&!this.container.closest("cq-context-wrapper")&&console.log("warning: zero width chart. Check CSS for chart container."),this.bottom=this.top+this.height,this.calculateYAxisPositions(),this.chart.canvasRight=this.right,this.chart.canvasHeight=this.height,h=this.layout.candleWidth,typeof h=="undefined"&&(h=8);for(var d in this.charts){c=this.charts[d],this.setCandleWidth(h,c),c.scroll<c.width/h&&(c.scroll=Math.floor(c.width/h),f=Math.round(this.preferences.whitespace/this.layout.candleWidth),c.scroll-=f),m=10;try{s.D46(9);var p=s.A3d(2,0);x=a.measureText("10:00").width*p}catch(v){x=100}for(;m>"1"-0&&!(this.chart.width/x>m);)m/=1.5;c.xAxis.autoComputedTickSizePixels=Math.round(this.chart.width/m),c.xAxis.autoComputedTickSizePixels<1&&(c.xAxis.autoComputedTickSizePixels=1)}},t.ChartEngine.prototype.setCandleWidth=function(s,i){i||(i=this.chart),s=this.constrainCandleWidth(s),this.layout.candleWidth=s,J.D46(1);var a=J.F4C(6,15,8);i.maxTicks=Math.round(i.width/s)+a},t.ChartEngine.prototype.constrainCandleWidth=function(s){var i,a,o;return i=this.minimumCandleWidth,a=this.maximumCandleWidth,J.R1B(),o=this.animations.zoom,i&&s<i&&(s=i,o&&o.running&&o.stop(this.ownerWindow)),a&&s>a&&(s=a,o&&o.running&&o.stop(this.ownerWindow)),s},t.ChartEngine.prototype.resizeChart=function(s){J.c6j();var i,a;i="r",i+="esiz",i+="eChart",!this.runPrepend("resizeChart",arguments)&&(s!==!1&&(s=!0),s&&this.preAdjustScroll(),a=this.chart.canvasHeight,this.resizeCanvas(),s&&this.postAdjustScroll(),this.displayInitialized?(this.adjustPanelPositions(),this.draw()):this.chart.canvasHeight!==0&&a===("0"|0)&&(this.adjustPanelPositions(),this.draw()),this.doDisplayCrosshairs(),this.updateChartAccessories(),this.runAppend(i,arguments))},t.ChartEngine.prototype.clear=function(){var s;this.displayInitialized=!1;for(var i in this.layout.studies)s=this.layout.studies[i],t.getFn("Studies.removeStudy")(this,s);this.controls.chartControls&&(this.controls.chartControls.style.display="none"),this.chart.panel.title.innerHTML="",this.chart.panel.title.appendChild(document.createTextNode(this.chart.panel.display))},t.ChartEngine.prototype.fillScreen=function(){var s,i,a,o,n;if(s=this.chart,i=this.layout.candleWidth,a=s.width-this.preferences.whitespace,o=s.dataSet.length,o*i>=a){this.draw();return}this.mainSeriesRenderer.standaloneBars||o--,J.D46(26),n=J.F4C(o,a),this.setCandleWidth(n,s),this.home({maintainWhitespace:!0})},t.ChartEngine.prototype.setMaxTicks=function(s,i){var a,o,n;i||(i={}),s=Math.round(s),s<2&&(s=2),a=i.padding?i.padding:0,o=this.chart,n=(o.width-a)/(s-1)||"8"<<32,this.setCandleWidth(n,o),(i.padding||i.padding===("0"^0))&&(o.scroll=s)},t.ChartEngine.prototype.initializeChart=function(s){var i=J,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C;if(a="initializ",a+="eC",a+="hart",o="in",o+="i",o+="tializeChart",this.runPrepend(o,arguments))return;n=this.chart,n.symbolObject.symbol||(n.symbolObject.symbol=n.symbol),this.locale&&this.setLocale(this.locale),!this.displayZone&&t.ChartEngine.defaultDisplayTimeZone&&this.setTimeZone(null,t.ChartEngine.defaultDisplayTimeZone),this.resetDynamicYAxis({noRecalculate:!0}),this.calculateYAxisPositions();function k(N,j){var W,V,Y;W="n",W+="on",W+="e",V="0",V+="p",V+="x",N.context=N.getContext("2d"),N.context.lineWidth=1,Y=N.style,Y.position="absolute",Y.left=V,j&&(Y.display=W)}this.micropixels=0,s?n.container=s:s=n.container,s.stx=this,s.CIQRegistered||(s.CIQRegistered=!0,t.ChartEngine.registeredContainers.push(s),t.ChartEngine.attachGlobalEventHandlers()),this.registerHTMLElements&&this.registerHTMLElements(),l=807256433,u=780384477,h=2;for(var F=1;i.L4g(F.toString(),F.toString().length,11352)!==l;F++)c=n.canvas,f=n.backgroundCanvas,m=n.tempCanvas,x=this.floatCanvas,g=n.canvasShim,i.A7H(19),h+=i.A3d(32,"2");i.L4g(h.toString(),h.toString().length,66530)!==u&&(c=n.canvas,f=n.backgroundCanvas,m=n.tempCanvas,x=this.floatCanvas,g=n.canvasShim),this.setCandleWidth(this.layout.candleWidth),n.backgroundCanvas||(f=n.backgroundCanvas=document.createElement("canvas"),s.appendChild(f),k(f),g=n.canvasShim=document.createElement("div"),g.className="stx-canvas-shim",s.appendChild(g),c=n.canvas=document.createElement("canvas"),s.appendChild(c),k(c),n.context=c.context,m=n.tempCanvas=document.createElement("canvas"),s.appendChild(m),k(m,!0),x=this.floatCanvas=document.createElement("canvas"),s.appendChild(x),k(x,!0)),this.resizeCanvas(),t.isAndroid&&(d="touch",d+="st",d+="art",p=function(N){N.preventDefault&&N.preventDefault()},m.addEventListener("touchstart",p,{passive:!1}),x.addEventListener(d,p,{passive:!1})),v=this.panels,n.panel.display=n.symbol,n.symbolDisplay&&(n.panel.display=n.symbolDisplay),this.adjustPanelPositions(),n.panel=v[n.name];for(var M in v){S=v[M].yaxisLHS.concat(v[M].yaxisRHS);for(var L=0;L<S.length;L++)S[L].height=v[M].yAxis.height,this.calculateYAxisMargins(S[L])}this.initialWhitespace=this.preferences.whitespace,n.dataSet&&n.dataSet.length>0&&(n.scroll=Math.floor(n.width/this.layout.candleWidth),T=Math.round(this.preferences.whitespace/this.layout.candleWidth),n.scroll-=T),t.touchDevice&&(D=".v",D+="ectorTr",D+="ashCan",y=".ov",y+="e",y+="rl",y+="ayText",b=s.querySelector(".overlayEdit"),w=s.querySelector(y),A=s.querySelector(".overlayTrashCan"),_=s.querySelector(D),P=function(N,j,W,V){return i.c6j(),function(Y){i.c6j(),N.deleteHighlighted(j,W,V)}},w&&t.safeClickTouch(w,P(this,!0,!1,!0)),b?(t.safeClickTouch(b,P(this,!0,!0,!1)),A&&t.safeClickTouch(A,P(this,!1))):A&&t.safeClickTouch(A,P(this,!0)),_&&t.safeClickTouch(_,P(this,!0))),this.manageTouchAndMouse&&this.registerTouchAndMouseEvents(),this.handleMouseOut&&(s.onmouseout=function(N){return function(j){i.R1B(),N.handleMouseOut(j)}}(this),t.smartHover(s.ownerDocument)),this.abortDrawings&&this.abortDrawings(),this.undoStamps=[];for(var E in v)I=v[E],I.markerHolder&&(s.removeChild(I.markerHolder),I.markerHolder=null);for(var H in this.plugins)O=this.plugins[H],O.display&&O.initializeChart&&O.initializeChart(this);this.resizeListenerInitialized||(R=this,this.resizeListenerInitialized=!0,C=function(){return i.c6j(),function(N){R.resizeChart()}},this.addDomEventListener(s.ownerDocument.defaultView,"resize",C(),!0)),n.baseline.userLevel&&(n.baseline.userLevel=null),this.setResizeTimer(),this.runAppend(a,arguments)},t.ChartEngine.prototype.destroy=function(){var s,i,a;J.A7H(16),this.setResizeTimer(J.F4C("0",0)),this.detachQuoteFeed&&this.detachQuoteFeed(),this.styles={};for(var o="0">>64;o<this.eventListeners.length;o++)s=this.eventListeners[o],s.element.removeEventListener(s.event,s.function,s.options);this.touchAndMouseEventsRegistered=!1,this.eventListeners=[],this.streamParameters.timeout&&clearTimeout(this.streamParameters.timeout),i=t.ChartEngine.registeredContainers,a=i.indexOf(this.chart.container),a>-1&&i.splice(a,1),this.destroyed=!0,this.dispatch("destroy",{stx:this})},t.ChartEngine.registerGlobalEvent("unload",function(){var s;s=t.ChartEngine.registeredContainers.slice(0),J.R1B(),s.forEach(i=>{if(i.ownerDocument===this.document)try{i.stx.destroy(),i.stx=null}catch(a){}}),t.ChartEngine.globalEventHandlers.forEach(i=>{var a;if(a=i.applied.indexOf(this.document),a>-1)try{i.applied.splice(a)}catch(o){}}),this.document.body.innerHTML=""},!1,!0),t.ChartEngine.prototype.preAdjustScroll=function(s){J.c6j(),s||(s=this.chart),this.previousAdjust={chart:s,scroll:s.scroll,maxTicks:s.maxTicks}},t.ChartEngine.prototype.postAdjustScroll=function(){var s;this.previousAdjust&&(s=this.previousAdjust.chart,s.scroll=this.previousAdjust.scroll+(s.maxTicks-this.previousAdjust.maxTicks),this.displayInitialized&&this.draw())},t.ChartEngine.prototype.translateIf=function(s){return J.R1B(),this.translationCallback?this.translationCallback(s,this.preferences.language):s},t.ChartEngine.prototype.doCleanupDates=function(s,i){var a,o,n,l,u;if(!(!s||!s.length)){for(var h=0;h<s.length;h++)if(a=s[h],o=a.DT,!(!o&&!a.Date)){if(a.DT&&Object.prototype.toString.call(o)=="[object String]"&&o.length<=10)o=new Date(o),o.setMinutes(o.getMinutes()+o.getTimezoneOffset());else{if(n=!0,a.DT||(o=t.strToDateTime(a.Date),a.Date.length<=10&&(n=!1)),Object.prototype.toString.call(o)!="[object Date]"&&(o=new Date(o)),r.Date&&this.dataZone&&n){l=new r.Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),this.dataZone),J.A7H(65);var c=J.F4C(987,5922,18,997);u=o.getSeconds()*c+o.getMilliseconds(),o=new Date(l.getTime()+u)}t.ChartEngine.isDailyInterval(i)&&o.setHours(0,0,0,0)}a.DT||(a.Date=t.yyyymmddhhmmssmmm(o)),a.DT=o}}},t.ChartEngine.prototype.doCleanupGaps=function(s,i,a){var o=J,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w;if(n="g",n+="ap",!s||!s.length||(l=this.layout.interval,a=a||{},i||(i=this.chart),!t.Market||!i.market))return s;a.noCleanupDates||this.doCleanupDates(s,l),u=a.cleanupGaps;function A(R,C){var k,F,M,L;if(k="undefin",k+="ed",F=a.field,o.c6j(),F){typeof R[F]!="undefined"&&typeof C[F]=="undefined"&&(C[F]=h?null:R[F]);return}h||(M=R[T],L=C[T],typeof M!="undefined"&&typeof L==k&&t.ensureDefaults(C,{Close:M,Open:M,High:M,Low:M,Volume:0,Adj_Close:R.Adj_Close}))}if(u===!1||((!u||u===!0)&&(u=this.cleanupGaps||u),h=[n,"stretch"].includes(u),!u))return s;function _(R,C){var k,F,M,L,E,H;for(k=a.field,F=k?d[k]:d,F===void 0&&(F={}),o.c6j(),M=h?null:F[T],L=h?null:0,E=h?null:F.Adj_Close;+R<+C;)H={DT:R},k||(g.push(H),t.extend(H,{Open:M,High:M,Low:M,Close:M,Volume:L,Adj_Close:E})),R=S.next()}if(l=="tick")return s;if(l=="month"||l=="week"){if(this.dontRoll)return s;c=2122238315,f=-1486670067,m=2;for(var P=1;o.L4g(P.toString(),P.toString().length,65666)!==c;P++)l="",m+=2;o.L4g(m.toString(),m.toString().length,35695)!==f&&(l=""),l="day"}x=function(R){var C,k,F;if(R.DT){C=-723087574,k=-991450964,F=2;for(var M=1;o.L4g(M.toString(),M.toString().length,8072)!==C;M++)return Object.prototype.toString.call(R.DT)!==""?new Date(R.DT):new Date(!R.DT);return o.S7c(F.toString(),F.toString().length,20346)!==k?Object.prototype.toString.call(R.DT)==""?new Date(R.DT):new Date(-R.DT):Object.prototype.toString.call(R.DT)!="[object Date]"?new Date(R.DT):new Date(+R.DT)}return t.strToDateTime(R.Date)},g=[],d=s[0],g.push(d),p={begin:x(d),interval:l,periodicity:1,timeUnit:this.layout.timeUnit},v=new t.Market(i.market.market_def),S=v.newIterator(p),this.extendedHours&&this.extendedHours.filter&&S.market.enableAllAvailableSessions(),T=i.defaultPlotField;for(var I=0;I<s.length&&s[I][T]===void 0;I++)if(s[I].Value!==void 0){D="V",D+="a",D+="lu",D+="e",T=D;break}for(var O="1">>0;O<s.length;O++){for(b=s[O],y=S.next(),w=x(b),y<w&&(_(y,w),y=S.market._convertFromMarketTZ(S.begin,S.outZone));w<y;){if(++O==s.length)return g;A(d,b),g.push(b),d=b,b=s[O],w=x(b)}y<w?(O--,y=S.previous()):(A(d,b),g.push(b),d=b)}return g},t.ChartEngine.prototype.getCreatingLibrary=function(){return U}};Qi=U=>{var e=J,t;t=U.CIQ,t.ChartEngine.Panel=function(r,s){s?this.yAxis=s:this.yAxis=new t.ChartEngine.YAxis,this.name=r,this.state={}},t.extend(t.ChartEngine.Panel.prototype,{name:null,display:null,chart:null,yAxis:null,shareChartXAxis:null,top:null,bottom:null,height:null,percent:null,displayEdgeIfPadded:!0,noDrag:!1,exportable:!0},!0),t.ChartEngine.prototype.whichPanel=function(r){e.R1B();var s;for(var i in this.panels)if(s=this.panels[i],!s.hidden&&r>=s.top&&r<s.bottom)return s;return null},t.ChartEngine.prototype.panelExists=function(r){var s,i,a,o;for(var n in this.panels)if(s=this.panels[n],s.name==r)return!0;i=20727681,a=-1526941747,o=2,e.c6j();for(var l=1;e.S7c(l.toString(),l.toString().length,96884)!==i;l++)return!1;if(e.L4g(o.toString(),o.toString().length,34372)!==a)return!0},t.ChartEngine.prototype.storePanels=function(){var r,s;this.layout||(this.layout={}),r=this.layout,e.c6j(),r.panels={};for(var i in this.panels)s=this.panels[i],r.panels[s.name]={percent:s.percent,display:s.display,yAxis:s.yAxis}},t.ChartEngine.prototype.savePanels=function(r){e.c6j();var s;s="lay",s+="ou",s+="t",this.storePanels(),r!==!1&&this.changeOccurred(s)},t.ChartEngine.prototype.privateDeletePanel=function(r){var s,i,a;for(var o in this.layout.studies)s=this.layout.studies[o],s.panel==r.name&&this.cleanupRemovedStudy(s);delete this.panels[r.name],e.c6j();for(var n in this.overlays)this.overlays[n].panel==r.name&&(this.layout.studies&&this.cleanupRemovedStudy(this.layout.studies[n]),delete this.overlays[n]);for(var l in this.chart.series)this.chart.series[l].parameters.panel==r.name&&this.removeSeries(this.chart.series[l],this.chart);if(r.holder&&(this.chart.container.removeChild(r.holder),this.getMarkerArray)){i="pa",i+="nelName",a=this.getMarkerArray(i,r.name);for(var u=0;u<a.length;u++)this.removeFromHolder(a[u])}r.handle&&r.handle.remove(),this.currentPanel=null},t.ChartEngine.prototype.plotsInPanel=function(r){var s,i,a,o;e.R1B(),s=[],i=r,typeof r=="object"&&(i=r.name);for(var n in this.layout.studies)a=this.layout.studies[n],i===a.panel&&s.push(a);for(var l in this.chart.seriesRenderers)o=this.chart.seriesRenderers[l],i===o.params.panel&&s.push(o);return s},t.ChartEngine.prototype.checkForEmptyPanel=function(r,s,i){var a,o,n;if(a="obj",a+="ec",a+="t",!r||(o=r,typeof r==a&&(o=r.name),o===this.chart.name))return!1;i?i instanceof Array||(i=[i]):i=[],n=this.plotsInPanel(r);for(var l=0;l<n.length;l++)if(i.indexOf(n[l])==-1)return!1;return s||this.panelClose(this.panels[o]),e.R1B(),!0},t.ChartEngine.prototype.panelClose=function(r){var s,i,a;if(s="pane",s+="lClose",i="pan",i+="e",i+="l",i+="Close",!!r&&!this.runPrepend(i,arguments)){if(this.cancelTouchSingleClick=!0,t.ChartEngine.drawingLine=!1,r.soloing&&this.panelSolo(r),this.charts[r.name]){for(var o in this.panels)a=this.panels[o],a.chart.name==r.name&&this.privateDeletePanel(a);delete this.charts[r.name]}else this.privateDeletePanel(r);this.currentlyImporting||(this.showCrosshairs(),this.resetDynamicYAxis({noRecalculate:!0}),this.calculateYAxisPositions(),this.draw(),this.savePanels()),e.R1B(),this.userPointerDown=this.grabbingScreen=!1,this.openDialog&&(this.openDialog=""),this.runAppend(s,arguments)}},t.ChartEngine.prototype.deleteAllPanels=function(){var r;e.R1B();for(var s in this.panels)r=this.panels[s],this.privateDeletePanel(r);this.layout.panels={},this.panels={}},t.ChartEngine.prototype.panelUp=function(r){var s,i,a,o;this.cancelTouchSingleClick=!0,t.ChartEngine.drawingLine=!1,this.showCrosshairs(),s={},i=0;for(a in this.panels){if(a==r.name)break;i++}if(e.c6j(),!!i){o=0;for(a in this.panels)o==i-1&&(s[r.name]=r),a!=r.name&&(s[a]=this.panels[a],o++);this.panels=s,this.adjustPanelPositions(),this.draw(),this.savePanels()}},t.ChartEngine.prototype.panelDown=function(r){var s,i,a,o,n;this.cancelTouchSingleClick=!0,t.ChartEngine.drawingLine=!1,this.showCrosshairs(),s={},i=0;for(a in this.panels){if(a==r.name)break;i++}o=0;for(a in this.panels)o++;if(i!=o-1){e.D46(15),n=e.A3d("0",1);for(a in this.panels){if(a==r.name){n++;continue}s[a]=this.panels[a],n==i+1&&(s[r.name]=r),n++}this.panels=s,this.adjustPanelPositions(),this.draw(),this.savePanels()}},t.ChartEngine.prototype.panelSolo=function(r){var s,i,a,o,n;if(this.cancelTouchSingleClick=!0,t.ChartEngine.drawingLine=!1,this.showCrosshairs(),s=!0,r.soloing){if(a="cha",a+="r",a+="t",s=!1,r.soloing=!1,r.solo.classList.remove("stx_solo_lit"),r.percent=r.oldPercent,r.name!=a)if(this.soloPanelToFullScreen){if(r.percent==1)for(i in this.panels)o=this.panels[i],o!=r&&(r.percent-=o.percent)}else this.chart.panel.percent=this.chart.panel.oldPercent;this.soloPanelToFullScreen&&(this.xAxisAsFooter=this.chart.panel.oldXAxisAsFooter)}else if(n="c",n+="hart",r.soloing=!0,r.solo.classList.add("stx_solo_lit"),r.oldPercent=r.percent,this.chart.panel.oldXAxisAsFooter=this.xAxisAsFooter,r.name!=n)if(this.soloPanelToFullScreen)this.xAxisAsFooter=!0;else{this.chart.panel.oldPercent=this.chart.panel.percent,e.A7H(2);var l=e.A3d(8,9);r.percent=l-this.chart.panel.percent}for(i in this.panels)r!==this.panels[i]&&(i==="chart"&&!this.soloPanelToFullScreen||(this.panels[i].hidden=s));this.resetDynamicYAxis({noRecalculate:!0}),e.c6j(),this.calculateYAxisPositions(),this.draw(),this.savePanels()},t.ChartEngine.prototype.calculatePanelPercent=function(r){var s;s=r.bottom-r.top,this.isPanelWithXAxis(r)&&(s-=this.xaxisHeight),e.c6j(),r.percent=s/(this.chart.canvasHeight-this.xaxisHeight)},t.ChartEngine.prototype.resizePanels=function(){var r,s,i,a,o,n;if(t.ChartEngine.resizingPanel){o=t.ChartEngine.crosshairY>this.resolveY(t.ChartEngine.resizingPanel.top);for(var l in this.panels){if(this.panels[l]==t.ChartEngine.resizingPanel)break;this.panels[l].hidden||(r=this.panels[l])}if(n=this.backOutY(t.ChartEngine.crosshairY),o)for(i=t.ChartEngine.resizingPanel.yaxisLHS.concat(t.ChartEngine.resizingPanel.yaxisRHS),a=0;a<i.length;a++){e.A7H(46);var u=e.A3d(20,10);s=i[a].initialMarginTop+i[a].initialMarginBottom+u,n>i[a].bottom-s&&(n=i[a].bottom-s)}else for(i=r.yaxisLHS.concat(r.yaxisRHS),a="0"<<0;a<i.length;a++){e.A7H(8);var h=e.A3d(3,16,3);s=i[a].initialMarginTop+i[a].initialMarginBottom+h,n<i[a].top+s&&(n=i[a].top+s)}t.ChartEngine.crosshairY=this.resolveY(n),e.c6j(),r.bottom=n,t.ChartEngine.resizingPanel.top=n,this.calculatePanelPercent(r),this.calculatePanelPercent(t.ChartEngine.resizingPanel),this.adjustPanelPositions(),this.draw(),this.savePanels()}},t.ChartEngine.prototype.isPanelAboveChart=function(r){var s;for(var i in this.panels){if(s="c",s+="h",s+="a",s+="rt",i==s)return!1;if(i==r.name)return!0}return!1},t.ChartEngine.prototype.isPanelWithXAxis=function(r){return this.xAxisAsFooter&&r===Object.values(this.panels).filter(function(s){return!s.hidden}).pop()||!this.xAxisAsFooter&&r===this.chart.panel},t.ChartEngine.prototype.adjustPanelPositions=function(){var r,s,i,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,{chart:y,panels:b}=this;if(y.tempCanvas&&t.clearCanvas(y.tempCanvas,this),!this.runPrepend("adjustPanelPositions",arguments)){r=0,s=y.canvasHeight-this.xaxisHeight,i=!1,a=0,o=0,n=!1;for(l in b)u=b[l],(isNaN(u.percent)||u.percent<=0)&&(u.percent=.05),!u.hidden&&(a+=u.percent,o++,u.soloing&&(n=!0));for(l in b){if(e.D46(2),h=e.F4C(0,"0"),u=b[l],u.hidden){u.markerHolder&&(u.markerHolder.style.display="none");continue}if(this.manageTouchAndMouse&&(u.up&&(i?(c="s",c+="t",c+="x-show",this.displayIconsUpDown&&u.up.classList.add(c)):(i=!0,u.up.classList.remove("stx-show"))),u.solo&&(n?u.soloing&&this.displayIconsSolo?u.solo.classList.add("stx-show"):u.solo.classList.remove("stx-show"):o==1||o==2&&!this.soloPanelToFullScreen?u.solo.classList.remove("stx-show"):(f="stx-sh",f+="ow",this.displayIconsSolo&&u.solo.classList.add(f))),u.down&&(o=="1"*1?u.down.classList.remove("stx-show"):(m="stx",m+="-",m+="s",m+="how",this.displayIconsUpDown&&u.down.classList.add(m))),u.edit&&(u.editFunction?u.edit.classList.add("stx-show"):u.edit.classList.remove("stx-show")),u.close&&(this.displayIconsClose?u.close.classList.add("stx-show"):u.close.classList.remove("stx-show"))),u.percent=u.percent/a,u.top=r,u.bottom=u.top+s*u.percent,this.isPanelWithXAxis(u)&&(u.bottom+=this.xaxisHeight),u.height=u.bottom-u.top,u.chart.name==u.name&&(u.chart.top=u.top,u.chart.bottom=u.bottom,u.chart.height=u.height),u.height<27?u.holder.classList.add("stx-panel-is-min-height"):(x="stx",x+="-panel-is-min-hei",x+="ght",u.holder.classList.remove(x)),r=u.bottom,u.yaxisLHS){g=u.yaxisLHS.concat(u.yaxisRHS);for(var w=0;w<g.length;w++)d=g[w],d.zoom&&d.height>0&&(h=d.zoom/d.height),this.adjustYAxisHeightOffset(u,d),d.height=d.bottom-d.top,h&&(d.scroll*=h*d.height/d.zoom,d.zoom=h*d.height,d.zoom>=d.height&&(d.zoom=0,d.scroll=0)),!d.high&&d.high!==0&&(d.high=100,d.low=0,d.shadow=100),d.multiplier=d.height/d.shadow,d.position==="none"&&this.calculateYAxisMargins(d)}u.holder&&(p="p",p+="x",u.holder.style.right="0px",u.holder.style.top=u.top+"px",u.holder.style.left="0px",u.holder.style.height=u.height+"px",u.subholder.style.left=u.left+"px",u.subholder.style.width=u.width+"px",u.subholder.style.top="0px",u.yAxis.height>=0&&(u.subholder.style.height=u.yAxis.height+p))}if(l&&b[l].down&&b[l].down.classList.remove("stx-show"),this.manageTouchAndMouse&&o==2&&!n&&y.panel.solo&&(v="s",v+="tx-s",v+="how",y.panel.solo.classList.add(v)),y.panel){if(n&&this.soloPanelToFullScreen)S=y.canvasHeight-u.yAxis.bottom+12;else{e.D46(0);var A=e.A3d(0,2,6);S=y.canvasHeight-y.panel.yAxis.bottom+A}T=this.controls;var{chartControls:_,home:P,notificationTray:I}=T;D=this.width-y.panel.right,_&&(e.A7H(9),_.style.bottom=e.A3d("px",S)),P&&(e.D46(9),P.style.bottom=e.A3d("px",S),e.A7H(9),P.style.marginRight=e.A3d("px",D)),I&&(e.D46(9),I.style.bottom=e.F4C("px",S),e.D46(9),I.style.marginRight=e.F4C("px",D))}e.c6j(),this.clearPixelCache(),this.drawingObjects.length&&this.adjustDrawings(),this.activeDrawing&&this.undo(),this.runAppend("adjustPanelPositions",arguments)}},t.ChartEngine.prototype.createPanel=function(r,s,i,a,o,n){var l,u,h,c,f,m;if(l="c",l+="hart",!this.runPrepend("createPanel",arguments)){a||(a=l),u=this.chart.canvasHeight,i||(e.A7H(15),i=e.F4C(u,.2)),i>u&&(e.A7H(15),i=e.F4C(u,.5)),e.D46(26),h=e.F4C(u,i),e.D46(126),c=e.F4C("1",h,0),f=!1;for(var x in this.panels)m=this.panels[x],m.percent*=c,m.soloing&&(f=!0);return this.stackPanel(r,s,h,a,o),this.panels[s].hidden=f,this.panels[s].exportable=!n,this.calculateYAxisMargins(this.panels[s].yAxis),this.adjustPanelPositions(),this.savePanels(!1),this.runAppend("createPanel",arguments),this.panels[s]}},t.ChartEngine.prototype.modifyPanel=function(r,s){var i,a,o,n,l,u,h,c,f;i="vec",i+="tor",e.R1B(),a=r.name;var{studies:m}=this.layout,{series:x}=this.chart,{name:g,display:d,yAxis:p}=s||{};g||(g=t.uniqueID()),d||(d=g),p||(p=r.yAxis,p.name=g),o={};for(var v in this.panels)v===r.name?(n=this.panels[v],n.name=g,n.display=d,n.yAxis=p,r=o[g]=n,this.moveMarkers&&a!==g&&this.moveMarkers(a,g)):o[v]=this.panels[v];this.panels=o,l=!1;for(var S in m)u=m[S],u.panel===a&&(u.panel=g,u.parameters&&u.parameters.panelName&&(l=!0,u.parameters.panelName=g));for(var T in x)x[T].parameters.panel===a&&(l=!0,h={panel:g},x[T].parameters.yAxis&&x[T].parameters.yAxis.name===a&&(h.yAxis=p),this.modifySeries(T,h,!!x[T].parameters.dependentOf));l&&this.changeOccurred("layout"),c=!1;for(var D=0;D<this.drawingObjects.length;D++)f=this.drawingObjects[D],a===f.panelName&&(f.panelName=g,c=!0);c&&this.changeOccurred(i),this.calculateYAxisPositions()},t.ChartEngine.prototype.setPanelHeight=function(r,s){var i,a,o,n;if(s){Object.values(this.panels).slice(-1)[0]===r&&(s+=this.xaxisHeight);var{canvasHeight:l}=this.chart,{percent:u}=r;i=s/(l-this.xaxisHeight),e.A7H(127),a=e.A3d(u,"1"),e.D46(2),o=e.A3d(i,1),e.A7H(26),n=e.A3d(o,a),Object.values(this.panels).forEach(h=>{e.c6j();var c,f,m;c=1663802307,f=1398976528,m=2;for(var x=1;e.L4g(x.toString(),x.toString().length,29241)!==c;x++)h.percent%=n,m+=2;e.L4g(m.toString(),m.toString().length,34869)!==f&&(h.percent%=n),h.percent/=n}),r.percent=i,this.adjustPanelPositions(),this.savePanels()}},t.ChartEngine.prototype.electNewPanelOwner=function(r,s){var i,a,o,n,l,u,h,c;function f(x){return x.name!=a.name}if(typeof r=="string"&&(r=this.panels[r]),a=r.yAxis,r&&r!=this.chart.panel){if(o=r.yAxis,n=o.studies[0],(!n||n==a.name)&&(n=o.renderers[0]),(!n||n==a.name)&&(n=o.studies[1]),n||(n=o.renderers[1]),s)o=r.yAxis=s,i=s.name;else if(n)o=this.addYAxis(r,new t.ChartEngine.YAxis({name:n,position:o.position})),o.renderers=r.yAxis.renderers,o.studies=r.yAxis.studies,i=n;else if(r.yaxisLHS){l=r.yaxisRHS.concat(r.yaxisLHS).filter(f),u=l[0];for(var m=0;m<l.length;m++)if(!l[m].position){u=l[m];break}u&&(o=r.yAxis=u,i=u.studies[0]||u.renderers[0])}i?(n=i,a.name!=r.name&&(n=r.name),c=this.layout.studies,c&&c[i]&&(h=c[i].inputs.display),this.modifyPanel(r,{name:n,display:h||i,yAxis:o}),this.deleteYAxisIfUnused(r,a),this.panels[n].yAxis.lockScale||this.calculateYAxisMargins(this.panels[n].yAxis)):this.checkForEmptyPanel(r)}return i},t.ChartEngine.prototype.configurePanelControls=function(r){var s,i,a,o,n,l,u,h,c,f;s=".",s+="st",s+="x-ico-",s+="close",i=".s",i+="tx-i",i+="co-",i+="edit",a=".s",a+="tx-ico",a+="-do",a+="wn",o=".stx",e.R1B(),o+="-ico-",o+="focus",n="iconsTemp",n+="lat",n+="e",l=r.icons,l&&(u=r.name==r.chart.name,l.classList.add("stx-show"),l.classList.remove(n),r.title=l.querySelector(".stx-panel-title"),r.up=l.querySelector(".stx-ico-up"),r.up&&(r.up=r.up.parentNode),r.solo=l.querySelector(o),r.solo&&(r.solo=r.solo.parentNode),r.down=l.querySelector(a),r.down&&(r.down=r.down.parentNode),r.edit=l.querySelector(i),r.edit&&(r.edit=r.edit.parentNode),r.close=l.querySelector(s),r.close&&(r.close=r.close.parentNode),r.title&&(r.title.innerHTML="",r.display&&r.title.appendChild(document.createTextNode(r.display)),u&&(h="cha",h+="rt",h+="-title",r.title.classList.add(h),l.classList.add("stx-chart-panel"))),(!t.touchDevice||t.isSurface)&&this.makeModal(l),r.handle&&((!t.touchDevice||t.isSurface)&&(r.handle.onmouseover=function(m){return function(){m.hideCrosshairs()}}(this)),(!t.touchDevice||t.isSurface)&&(r.handle.onmouseout=function(m){return e.R1B(),function(){m.showCrosshairs()}}(this)),c=function(m,x){return function(g){e.c6j(),!(t.ChartEngine.resizingPanel||m.openDialog!=="")&&m.grabHandle(x)}},t.isSurface?r.handle.onpointerdown=c(this,r):r.handle.onmousedown=c(this,r),t.touchDevice&&r.handle.addEventListener("touchstart",c(this,r),{passive:!1})),r.up&&t.safeClickTouch(r.up,function(m,x){return function(){m.panelUp(x)}}(this,r)),r.down&&t.safeClickTouch(r.down,function(m,x){return e.c6j(),function(){e.c6j(),m.panelDown(x)}}(this,r)),r.solo&&t.safeClickTouch(r.solo,function(m,x){return e.R1B(),function(){m.panelSolo(x)}}(this,r)),r.close&&(r.name=="chart"?(f="n",f+="o",f+="n",f+="e",r.close.style.display=f):t.safeClickTouch(r.close,function(m,x){return e.R1B(),function(){e.R1B(),m.panelClose(x)}}(this,r))))},e.R1B(),t.ChartEngine.prototype.stackPanel=function(r,s,i,a,o){var n,l,u,h,c,f,m,x;n="stack",n+="Pan",n+="el",l="stx-",l+="pan",l+="e",l+="l-chart",u="s",u+="t",u+="a",u+="ckPanel",!this.runPrepend(u,arguments)&&(a||(a="chart"),h=this.charts[a],e.D46(96),c=e.A3d(s,a),c&&(r=h.symbol,h.symbolDisplay&&(r=h.symbolDisplay),o||(o=h.yAxis)),f=this.panels[s]=new t.ChartEngine.Panel(s,o),!c&&h.yAxis&&f.yAxis.position==h.yAxis.position&&(f.yAxis.width=h.yAxis.width),c&&!h.panel&&(h.panel=f),f.percent=i,f.chart=h,f.display=r,f.holder=t.newChild(this.container,"div","stx-holder"),f.subholder=t.newChild(f.holder,"div","stx-subholder"),f.subholder.style.zIndex=1,f.holder.panel=f,m=c?l:"stx-panel-study",f.holder.classList.add(m),this.controls.handleTemplate&&this.manageTouchAndMouse&&(x="handle",x+="Temp",x+="late",f.handle=this.controls.handleTemplate.cloneNode(!0),f.handle.classList.remove(x),this.container.appendChild(f.handle),f.handle.panel=f),this.controls.iconsTemplate&&(f.icons=this.controls.iconsTemplate.cloneNode(!0),f.subholder.appendChild(f.icons),this.configurePanelControls(f)),this.currentlyImporting||this.resizeCanvas(),this.runAppend(n,arguments))},t.ChartEngine.prototype.setPanelEdit=function(r,s){r.editFunction=s,r.edit&&t.safeClickTouch(r.edit,s),this.adjustPanelPositions()},t.ChartEngine.prototype.drawPanels=function(){var r,s,i,a,o,n,l,u,h,c,f,m,x,g;if(e.c6j(),!this.runPrepend("drawPanels",arguments)){r=!1;for(var d in this.panels){if(s="segme",s+="nt",i="stx_",i+="panel_border",a=this.panels[d],a.state={},o=this.translateIf(a.display),a.title&&a.title.textContent!=o&&(a.title.innerHTML="",a.title.appendChild(document.createTextNode(o))),a.icons&&a.icons.classList.add("stx-show"),a.hidden){a.icons&&a.icons.classList.remove("stx-show"),a.handle&&(a.handle.style.display="none"),a.holder.style.display="none";continue}else a.name!="chart"&&(n="n",n+="o",n+="n",n+="e",l="no",l+="ne",u=this.manageTouchAndMouse,a.up&&(a.up.style.display=this.displayIconsUpDown&&u?"":"none"),a.down&&(a.down.style.display=this.displayIconsUpDown&&u?"":"none"),a.solo&&(a.solo.style.display=this.displayIconsSolo&&u?"":l),a.close&&(a.close.style.display=this.displayIconsClose&&u?"":"none"),a.edit&&(a.edit.style.display=a.editFunction&&u?"":n)),a.holder.style.display="block";if(a.displayEdgeIfPadded){h="segme",h+="nt",c="stx_grid_b",c+="order",f=Math.round(a.left)+.5,e.A7H(3);var p=e.F4C(4,3,0);m=a.yAxis.top-"0.5"*p,x=a.yAxis.bottom+.5,a.yaxisCalculatedPaddingLeft&&!a.yaxisTotalWidthLeft&&this.plotLine(f,f,m,x,this.canvasStyle(c),"segment",this.chart.context,!1,{lineWidth:1}),f=Math.round(a.right)+.5,a.yaxisCalculatedPaddingRight&&!a.yaxisTotalWidthRight&&this.plotLine(f,f,m,x,this.canvasStyle("stx_grid_border"),h,this.chart.context,!1,{lineWidth:1})}if(!r){a.handle&&(a.handle.style.display="none"),r=!0;continue}if(g=a.top,g=Math.round(g)+.5,this.plotLine(a.left-.5,a.right+.5,g,g,this.canvasStyle(i),s,this.chart.context,!1,{}),a.handle){this.displayPanelResize?a.handle.style.display="":a.handle.style.display="none",e.D46(3);var v=e.A3d(7,11,6);a.handle.style.top=g-a.handle.offsetHeight/v+"px"}}this.runAppend("drawPanels",arguments)}}};Zi=U=>{var e;e=U.CIQ,e.ChartEngine.isDailyInterval=function(t){var r;return r="m",r+="ont",r+="h",t=="day"||t=="week"||t==r},e.ChartEngine.prototype.setPeriodicity=function(t,r){var s=J,i,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y;if(i="setPeriodic",i+="ity",this.runPrepend(i,arguments))return;if(s.c6j(),typeof arguments[0]!="object"){t={period:arguments[0],interval:arguments[1],timeUnit:arguments[2]},s.D46(115);var b=s.A3d(7,8,65,1,10);r=arguments[arguments.length-b],arguments.length===3&&(t.timeUnit=void 0)}var{period:w,interval:A,timeUnit:_}=t;typeof r!="function"&&(r=null),{period:w,interval:A,timeUnit:_}=e.cleanPeriodicity(w,A,_);var{layout:P}=this;P.setSpan={};function I(){var Y;Y="per",Y+="i",Y+="odic",Y+="ity",h.dispatch(Y,c),r&&r(null)}if(P.range={},this.chart.inflectionPoint=null,a=t.getDifferentData,!a&&this.chart.symbol){o=621776795,n=1138365890,l=2;for(var O=1;s.L4g(O.toString(),O.toString().length,41344)!==o;O++)a=this.needDifferentData({period:w,interval:A,timeUnit:_}),l+=2;s.S7c(l.toString(),l.toString().length,"39817"*1)!==n&&(a=this.needDifferentData({period:w,interval:A,timeUnit:_}))}var{candleWidth:R,periodicity:C,interval:k,timeUnit:F}=P;if(u={prvPeriodicity:C,prvInterval:k,prvTimeUnit:F},P.periodicity=w,P.interval=A,P.timeUnit=_,h=this,c={stx:h,differentData:a,prevPeriodicity:u},a){if(this.changeOccurred("layout"),this.clearCurrentMarketData(),this.quoteDriver)for(var M in this.charts)f=this.charts[M],f.symbol&&(this.displayInitialized?this.quoteDriver.newChart({symbol:f.symbol,symbolObject:f.symbolObject,chart:f},I):this.loadChart(f.symbol,{chart:f},I));else this.dataCallback?(this.dataCallback(),I()):console.log("cannot change periodicity because neither dataCallback or quoteDriver are set");this.home();return}for(var L in this.charts){m=this.charts[L];var{dataSegment:E,dataSet:H,maxTicks:N,scroll:j}=m;if(x=E?E.length:0,g=H?H.length:0,d=void 0,p=Math.round(m.maxTicks/2),this.setCandleWidth(R,m),v=!0,S=!1,j<=N?v=!1:E&&!E[p]&&(v=!1,s.D46(2),S=s.F4C(g,j)),v&&x>0&&(N<(Math.round(this.chart.width/R-.499)-1)/2&&(s.D46(2),p=s.A3d(1,x)),p>=x?(d=E[x-1].DT,s.A7H(128),p=s.F4C(x,"1")):d=E[p].DT),this.createDataSet(),v){if(x>0){for(var W=g-1;W>=0;W--)if(T=H[W].DT,T.getTime()<d.getTime()){s.A7H(5),m.scroll=s.F4C(W,1,g,p);break}}}else S?m.scroll=H.length+S:(D=Math.round(this.preferences.whitespace/R),s.D46(8),m.scroll=s.F4C(1,N,D))}if(this.displayInitialized&&this.draw(),this.changeOccurred("layout"),this.quoteDriver)for(var V in this.charts)y=this.charts[V],y.symbol&&(y.moreAvailable||!y.upToDate)&&this.quoteDriver.checkLoadMore(y);I(),this.runAppend("setPeriodicity",arguments)},e.ChartEngine.prototype.needDifferentData=function(t){var r,s,i,a;return r=this.layout,s=e.ChartEngine.isDailyInterval(t.interval),i=e.ChartEngine.isDailyInterval(r.interval),a=!1,this.dontRoll||!i?r.interval!=t.interval&&(a=!0):s!=i&&(a=!0),!s&&!t.timeUnit&&(t.timeUnit="minute"),!i&&!r.timeUnit&&(r.timeUnit="minute"),t.timeUnit!=r.timeUnit&&(a=!0),(!this.masterData||!this.masterData.length)&&(a=!0),a},J.R1B(),e.ChartEngine.prototype.getPeriodicity=function(){var t,r,s;return t=this.layout,r=t.interval,s=t.timeUnit,s||(s=r,r=1),{period:t.periodicity,interval:r,timeUnit:s}}};$i=U=>{var e;e=U.CIQ,e.ChartEngine.prototype.isHistoricalMode=function(){var t,r,s,i,a,o;return t=new Date,r=!0,s=this.masterData,this.isHistoricalModeSet?(s.length&&(i=this.getFirstLastDataRecord(s,"DT",!0),a=this.standardMarketIterator(i.DT),r=(a?a.next():i.DT)<=t,r&&e.ChartEngine.isDailyInterval(a.interval)&&(o=this.chart.market.getOpen(),o&&t<o&&(t.setHours(0,0,0,0),+t==+a.begin&&(r=!1)))),J.R1B(),r):!1},e.ChartEngine.prototype.isHome=function(){var t,r,s;t=this.chart,r=t.dataSet,s=t.animatingHorizontalScroll,J.A7H(129);var i=J.A3d(13,4,17,218);return this.pixelFromTick(r.length-(s?"2">>0:i),t)<t.width+t.panel.left},e.ChartEngine.prototype.getPreviousBar=function(t,r,s){return J.R1B(),this.getNextBarInternal(t,r,s,-1)},e.ChartEngine.prototype.getNextBar=function(t,r,s){return J.R1B(),this.getNextBarInternal(t,r,s,1)},e.ChartEngine.prototype.getNextBarInternal=function(t,r,s,i){J.R1B();var a,o,n,l;if(a=t.dataSegment&&t.dataSegment[s],a){for(o=a.tick;o>0&&o<t.dataSet.length;)if(J.D46(9),o=J.F4C(i,o),n=t.dataSet[o],n&&(l=e.existsInObjectChain(n,r),l&&l.obj[l.member]))return n}return null},e.ChartEngine.prototype.getFirstLastDataRecord=function(t,r,s){var i;if(t&&t.length)for(i=s?t.length-1:0;i>=0&&i<t.length;){if(t[i]&&typeof t[i][r]!="undefined")return t[i];s?i--:i++}return null},e.ChartEngine.prototype.leftTick=function(){return J.R1B(),this.chart.dataSet.length-this.chart.scroll},e.ChartEngine.prototype.getNextInterval=function(t,r,s){var i;return r||(r=1),s!==!1&&(s=!0),i=this.standardMarketIterator(t,s?this.dataZone:this.displayZone),i?r<1?(J.A7H(130),i.previous(J.A3d(r,1))):i.next(r):t},J.c6j(),e.ChartEngine.prototype.standardMarketIterator=function(t,r,s){var i,a,o;return i="t",i+="i",i+="c",i+="k",a=s||this.chart,a.market?(o={begin:t,interval:this.layout.interval,periodicity:this.layout.interval==i?this.chart.xAxis.futureTicksInterval:this.layout.periodicity,timeUnit:this.layout.timeUnit,outZone:r},a.market.newIterator(o)):null}};Gi=U=>{var e=J,t,r;U.SplinePlotter||(U.SplinePlotter={}),t=U.CIQ,r=U.SplinePlotter,t.ChartEngine.prototype.draw=function(s){var i,a,o,n,l,u,h,c,f,m;if(i="Studies.displayStud",i+="ies",a="unde",a+="r",a+="l",a+="ay",this.debug(),!this.destroyed&&(o=this.chart,n=this.layout,!!o.canvas&&o.dataSet&&o.canvasHeight)){e.D46(102);var x=e.F4C(1,46,8,26,14);if(this.offset=n.candleWidth*this.candleWidthPercent/x,t.clearCanvas(o.canvas,this),!!this.masterData&&!this.runPrepend("draw",arguments)){this.defaultColor||this.getDefaultColor(),e.R1B(),this.vectorsShowing=!1,this.drawPanels(),this.yAxisLabels=[],this.correctIfOffEdge(),this.createDataSegment(),this.setBaselines(o),h=this.createXAxis(o),this.initializeDisplay(o),this.drawXAxis(o,h);try{this.renderYAxis(o)}catch(p){if(p&&p.message==="reboot draw")return this.draw();throw p}this.currentHRParams=this.getCurrentHRParams(),this.drawCurrentPriceLine(),o.tmpWidth=Math.floor(n.candleWidth*this.candleWidthPercent),o.tmpWidth%2==="0">>0&&(o.tmpWidth+=1,o.tmpWidth>n.candleWidth&&(e.D46(28),o.tmpWidth-=e.A3d(0,"2"))),o.tmpWidth<.5&&(o.tmpWidth=.5);for(l in this.plugins)u=this.plugins[l],u.display&&u.drawUnder&&u.drawUnder(this,o);o.legend&&(o.legend.colorMap=null),this.controls.baselineHandle&&(this.controls.baselineHandle.style.display="none"),this.rendererAction(o,a),t.getFn(i)(this,o,!0),this.displayChart(o),t.getFn("Studies.displayStudies")(this,o,!1),this.rendererAction(o,"overlay"),o.legend&&o.legend.colorMap&&o.legendRenderer&&o.legendRenderer(this,{chart:o,legendColorMap:o.legend.colorMap,coordinates:{x:o.legend.x,y:o.legend.y+o.panel.yAxis.top}});for(l in this.plugins)u=this.plugins[l],u.display&&u.drawOver&&u.drawOver(this,o);for(var g in this.panels)this.panels[g].hidden||this.plotYAxisText(this.panels[g]);for(var d=0;d<this.yAxisLabels.length;d++)c=this.yAxisLabels[d],!(c.src=="series"&&c.args[6]&&c.args[6].drawSeriesPriceLabels===!1)&&this.createYAxisLabel.apply(this,c.args);this.createCrosshairs&&this.createCrosshairs(),this.drawVectors&&this.drawVectors(),this.drawCurrentHR(),this.currentHRParams=null,this.displayInitialized=!0,f=this.controls,f&&(m=this.manageTouchAndMouse&&!this.mainSeriesRenderer.nonInteractive,f.home&&(f.home.style.display=m&&!this.isHome()?"block":"none"),f.chartControls&&(f.chartControls.style.display=this.manageTouchAndMouse&&f.chartControls.style.visibility!=="hidden"?"block":"none",f.chartControls.style.display==="block"&&t.efficientDOMUpdate(f.chartControls.style,"left",o.left+o.width/2+"px"))),t.Marker&&this.positionMarkers(),this.quoteDriver&&this.animations.zoom.hasCompleted&&this.quoteDriver.checkLoadMore(o),this.runAppend("draw",arguments),this.makeAsyncCallbacks()}}},t.ChartEngine.prototype.drawWithRange=function(s){this.draw(s)},t.ChartEngine.prototype.setSeriesRenderer=function(s){var{baseline:i,name:a,panel:o,yAxis:n}=s.params;return this.chart.seriesRenderers[a]?this.chart.seriesRenderers[a]:(n&&(s.params.yAxis=this.addYAxis(this.panels[o],n),this.resizeChart()),s.stx=this,this.chart.seriesRenderers[a]=s,i&&this.registerBaselineToHelper(s),s)},t.ChartEngine.prototype.setMainSeriesRenderer=function(s){var i,a,o,n,l;i="bar",i+="sH",i+="aveWi",i+="dth",a="no",a+="n",a+="e";var{chartType:u,aggregationType:h}=this.layout,{chart:c}=this,{customChart:f}=c;o=this.mainSeriesRenderer,n=this.displayInitialized,s&&this.setMasterData(),this.displayInitialized=!1,o.removeAllSeries&&o.removeAllSeries(),this.removeSeriesRenderer(o),o=this.mainSeriesRenderer={params:{}},h&&h!="ohlc"&&(u=h),e.R1B(),f&&f.chartType&&(u=f.chartType),u!=a&&(l=t.Renderer.produce(u,{panel:c.panel.name,name:"_main_series",highlightable:!1,useChartLegend:!0}),l&&(this.setSeriesRenderer(l).attachSeries(null,{display:c.symbol}),o=this.mainSeriesRenderer=l),this.displayInitialized=n,["highLowBars","standaloneBars",i].forEach(function(m){e.R1B(),c[m]=this.mainSeriesRenderer[m]}.bind(this)))},t.ChartEngine.prototype.removeSeriesRenderer=function(s){var i,{baseline:a,name:o}=s.params;i=this.controls[`${o} baseline-handle`],a&&(this.removeBaselineFromHelper(s),i&&(this.container.removeChild(i),delete this.controls[i])),delete this.chart.seriesRenderers[o]},t.ChartEngine.prototype.getSeriesRenderer=function(s){return this.chart.seriesRenderers[s]},t.ChartEngine.prototype.getRendererFromSeries=function(s){var i;i=this.chart.seriesRenderers;for(var a in i)for(var o in i[a].seriesParams)if(i[a].seriesParams[o].id==s)return i[a];return null},t.ChartEngine.prototype.startClip=function(s,i){var a,o,n,l,u;s||(s=this.chart.panel.name),a=this.panels[s],o=a.yAxis,n=this.chart,n.context.save(),n.context.beginPath(),l=a.left,u=a.width,i?(l=0,u=this.width):a.yaxisLHS&&a.yaxisLHS.length&&(l++,u--),n.context.rect(l,o.top,u,o.height),n.context.clip()},t.ChartEngine.prototype.endClip=function(){this.chart.context.restore()},t.ChartEngine.prototype.setLineStyle=function(s,i){var a,o,n;a="obj",a+="e",a+="ct",o={},s&&typeof s==a?o=s:o.color=s,!o.color&&!o.pattern&&!o.width&&!o.baseColor&&(o=null),i||(i=this.chart),e.c6j(),n=1,o&&o.width&&(n=o.width),o&&o.pattern&&(o.pattern=t.borderPatternToArray(n,o.pattern)),i.lineStyle=o},t.ChartEngine.prototype.setGapLines=function(s,i){var a;if(i||(i=this.chart),a={},e.c6j(),s&&typeof s=="object")a=s;else{if(typeof s=="boolean")return i.gaplines=s;a.color=s}!a.color&&!a.pattern&&!a.fillMountain&&(a=null),a&&a.pattern&&(a.pattern=t.borderPatternToArray(a.width,a.pattern)),a&&a.width<=0&&(a.width=null),i.gaplines=a},t.ChartEngine.prototype.getGapColorFunction=function(s,i,a,o,n){e.R1B();var l;return l="obj",l+="e",l+="ct",typeof a!=l&&(a={color:a}),function(u,h,c){var f,m;return f=n?n(u,h,c):a,f||(f=a),f.color&&(f=f.color),m=h[s],!m&&m!==0&&(m=h[i]),!c&&(m||m===0)?{color:f,pattern:a.pattern,width:a.width}:o?(typeof o!="object"&&(typeof o=="string"?o={color:o}:o={}),e.R1B(),{color:o.color||f,pattern:o.pattern||a.pattern,width:o.width||a.width}):null}},t.ChartEngine.prototype.drawLineChart=function(s,i,a,o){var n,l,u,h,c,f,m,x,g,d,p;return n=this.chart,l=n.context,u=n.lineStyle||{},h=this.canvasStyle(i),o||(o={}),this.startClip(s.name),c=o.width||u.width||h.width,c&&parseInt(c,10)<=25?l.lineWidth=Math.max(1,t.stripPX(c)):l.lineWidth=1,o.pattern=o.pattern||u.pattern||h.borderTopStyle,o.pattern=t.borderPatternToArray(l.lineWidth,o.pattern),this.canvasColor(i),f=o.color||u.color,f&&(f=="auto"&&(f=this.defaultColor),o.opacity&&o.opacity!=="1">>32&&(f=t.hexToRgba(t.colorToHex(f),parseFloat(o.opacity))),l.strokeStyle=f),o.skipProjections=!0,m=o.field||n.defaultPlotField,x=o.subField||n.defaultPlotField||"Close",g=o.gapDisplayStyle,!g&&g!==!1&&(g=o.gaps),!g&&g!==!1&&(g=n.gaplines),e.c6j(),g||(g="transparent"),o.gapDisplayStyle=g,d=this.getGapColorFunction(m,x,{color:l.strokeStyle,pattern:o.pattern,width:l.lineWidth},g,a),s.chart.tension&&(o.tension=s.chart.tension),p=this.plotDataSegmentAsLine(m,s,o,d),p.colors.length||p.colors.push(l.strokeStyle),l.lineWidth=1,this.endClip(),o.returnObject?p:p.colors},t.ChartEngine.prototype.drawChannelChart=function(s,i,a){var o,n,l,u,h,c,f,m,x,g,d,p,v,S;for(o="fiel",o+="d",n="s",n+="u",n+="b",n+="Field",l="L",l+="o",l+="w",u="fi",u+="e",u+="l",u+="d",h=Object.assign({},a),h.color=a.color,c=this.drawLineChart(s,h.style,i,h),f=h.border_color_up||this.getCanvasColor("stx_channel_up"),m=h.border_color_down||this.getCanvasColor("stx_channel_down"),h[a.field?"subField":u]=h.field_high||"High",h.color=f,x=this.drawLineChart(s,h.style,i,h),h[a.field?"subField":"field"]=h.field_low||l,h.color=m,g=this.drawLineChart(s,h.style,i,h),h[a.field?n:o]=a.subField||this.chart.defaultPlotField||"Close",p=[],v=[],d=0;d<x.points.length;d+=2)p.push([x.points[d],x.points[d+1]]);for(d=0;d<g.points.length;d+=2)v.push([g.points[d],g.points[d+1]]);e.A7H(131);var T=e.F4C(11,6,3,9);for(S=this.chart.context.lineWidth/T,d=c.points.length-2;d>=0;d-="2"<<32)p.push([c.points[d],c.points[d+1]-S]),v.push([c.points[d],c.points[d+1]+S]);return this.startClip(s.name),h.color=f,t.fillArea(this,p,h),h.color=m,t.fillArea(this,v,h),this.endClip(),c.colors=c.colors.concat(x.colors).concat(g.colors),a.returnObject?c:c.colors},t.ChartEngine.prototype.connectTheDots=function(s,i,a,o,n,l){var u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O;if(u="und",u+="efin",u+="ed",l||(l={}),l.pattern!="none"&&(n===!0&&(n=this.chart.panel),(o===null||typeof o==u)&&(o=this.chart.context),!(s.length<4))){h=0,c=this.chart.canvasHeight,f=0,m=this.chart.width,n&&(c=n.yAxis.bottom,h=n.yAxis.top),o.lineWidth=1.1,typeof i=="object"?(o.strokeStyle=i.color,i.opacity?o.globalAlpha=i.opacity:o.globalAlpha=1,o.lineWidth=t.stripPX(i.width)):!i||i=="auto"||t.isTransparent(i)?o.strokeStyle=this.defaultColor:o.strokeStyle=i,l.opacity&&(o.globalAlpha=l.opacity),l.lineWidth&&(o.lineWidth=l.lineWidth),x=t.borderPatternToArray(o.lineWidth,l.pattern),e.R1B(),o.beginPath();for(var R=0;R<s.length-2;R+=2){if(g=s[R],e.D46(9),d=s[e.A3d(1,R)],e.A7H(9),p=s[e.F4C(2,R)],e.D46(9),v=s[e.A3d(3,R)],isNaN(g)||isNaN(p)||isNaN(d)||isNaN(v))return;S=0,T=1,e.A7H(2),D=e.A3d(g,p),e.A7H(2),y=e.A3d(d,v);for(var C=0;C<4;C++){if(C===0&&(b=-D,e.A7H(2),w=-e.F4C(g,f)),C==1&&(b=D,e.D46(2),w=e.A3d(g,m)),C==2&&(b=-y,e.D46(2),w=-e.F4C(d,h)),C==3&&(b=y,e.D46(2),w=e.F4C(d,c)),e.A7H(26),A=e.A3d(b,w),(v||v===0)&&b===0&&w<0)return!1;if(b<0){if(A>T)return!1;A>S&&(S=A)}else if(b>0){if(A<S)return!1;A<T&&(T=A)}}e.D46(132),_=e.A3d(S,g,D),e.A7H(132),P=e.A3d(S,d,y),e.D46(132),I=e.F4C(T,g,D),e.A7H(132),O=e.F4C(T,d,y);try{o.setLineDash(x&&x.length?x:[]),o.moveTo(_,P),o.lineTo(I,O)}catch(k){}}o.stroke(),o.closePath(),o.globalAlpha=1,o.lineWidth=1}},e.c6j(),t.ChartEngine.prototype.plotSpline=function(s,i,a,o,n,l,u){var h,c,f;h="o",h+="bject",c="u",c+="nd",c+="efine",c+="d",u||(u={}),e.c6j(),u.pattern!="none"&&(l===!0&&(l=this.chart.panel),(n===null||typeof n==c)&&(n=this.chart.context),n.save(),n.lineWidth=1.1,typeof a==h?(n.strokeStyle=a.color,a.opacity?n.globalAlpha=a.opacity:n.globalAlpha=1,n.lineWidth=t.stripPX(a.width)):!a||a=="auto"||t.isTransparent(a)?n.strokeStyle=this.defaultColor:n.strokeStyle=a,u.opacity&&(n.globalAlpha=u.opacity),u.lineWidth&&(n.lineWidth=u.lineWidth),f=t.borderPatternToArray(n.lineWidth,u.pattern),u.pattern&&n.setLineDash&&(n.setLineDash(f),n.lineDashOffset=0),n.beginPath(),r.plotSpline(s,i,n),n.stroke(),n.closePath(),n.restore())},t.ChartEngine.prototype.rawWatermark=function(s,i,a,o){this.canvasFont("stx_watermark",s),s.fillStyle=this.defaultColor,e.c6j(),e.A7H(2),s.globalAlpha=e.A3d(0,"0.5"),this.chart.context.textBaseline="alphabetic",s.fillText(o,i,a),e.D46(16),s.globalAlpha=e.A3d("1",0)},t.ChartEngine.prototype.watermark=function(s,i){var a,o,n,l,u,h,c,f,m,x,g,d;if(a="ce",a+="n",a+="ter",o="stx_w",o+="a",o+="terma",o+="rk",i&&typeof i!="object"){n=315455221,l=-700496106,u=2;for(var p=1;e.S7c(p.toString(),p.toString().length,86706)!==n;p++)i={h:arguments[1],v:arguments[2],text:arguments["3">>32]},u+=2;e.L4g(u.toString(),u.toString().length,85840)!==l&&(i={h:arguments[2],v:arguments[7],text:arguments[1]})}if(i={h:i.h||"left",v:i.v||"bottom",text:i.text||"",hOffset:i.hOffset==0?0:i.hOffset||10,vOffset:i.vOffset=="0"<<64?0:i.vOffset||20,context:i.context||this.chart.context},h=i.context,!!h&&(c=this.panels[s],!(!c||c.hidden))){if(f=c.yAxis.bottom-i.vOffset,e.c6j(),i.v=="top"?f=c.top+i.vOffset:i.v=="middle"&&(f=(c.top+c.yAxis.bottom)/("2"<<0)),h.save(),this.canvasFont(o,h),this.canvasColor("stx_watermark",h),h.textBaseline="alphabetic",m=c.left+i.hOffset,i.h=="right")m=c.right-i.hOffset;else if(i.h==a){e.A7H(15),x=-e.A3d("1995894011",1),g=-1903073621,d=2;for(var v=1;e.S7c(v.toString(),v.toString().length,10967)!==x;v++){e.A7H(0);var S=e.A3d(262,27,10);m=c.right/c.left*h.measureText(i.text).width+S,d+=2}if(e.S7c(d.toString(),d.toString().length,85237)!==g){e.A7H(133);var T=e.A3d(158,4,13,3);m=(c.right+c.left-h.measureText(i.text).width)/T}}h.globalAlpha=.5,this.highlightedDraggable&&(h.globalAlpha*=.3),h.fillText(i.text,m,f),h.restore()}},t.ChartEngine.prototype.displayErrorAsWatermark=function(s,i){e.R1B();var a,o,n,l,u,h,c,f,m,x,g,d;a="c",a+="ha",a+="r",a+="t",i&&(s||(s=a),o=this.panels[s],!(!o||o.hidden)&&(n=o.state,n||(o.state=n={}),l=n.studyErrors,l||(n.studyErrors=l=new Set),!l.has(i)&&(u=n.watermarkOffset||"10"<<32,h=10,c=this.getCanvasFontSize("stx_watermark"),this.chart&&this.chart.chartControls&&(f=o.yAxis.bottom,m=this.chart.chartControls,e.D46(2),x=e.A3d(u,f),e.A7H(2),g=e.F4C(c,x),(x>m.offsetTop&&x<m.offsetTop+m.offsetHeight||g>m.offsetTop&&g<m.offsetTop+m.offsetHeight)&&(u=f-m.offsetTop+h)),l.add(i),d={h:"center",v:"bottom",text:i,vOffset:u},e.A7H(9),u+=e.F4C(h,c),n.watermarkOffset=u,this.watermark(s,d))))},t.ChartEngine.prototype.displayChart=function(s){var i;i="displayC",e.R1B(),i+="hart",!this.runPrepend("displayChart",arguments)&&(this.rendererAction(s,"main"),this.runAppend(i,arguments))}};Ki=U=>{var e=J,t;t=U.CIQ,e.c6j(),t.ChartEngine.prototype.cloneStyle=function(r){var s,i,a,o,n,l,u,h,c,f,m;function x(p){return e.R1B(),p[1].toUpperCase()}e.R1B(),s=-948219232,i=-1628203955,a=2;for(var g=1;e.S7c(g.toString(),g.toString().length,"39826"-0)!==s;g++)o={},n=!0,a+=2;e.L4g(a.toString(),a.toString().length,71473)!==i&&(o={},n=!1),o={},n=!1;for(var d in r)if(l=r[d],d=="backgroundAttachment"&&(n=!0),n)l&&l.constructor==String&&isNaN(d)&&(o[d]=l);else if(isNaN(d))m=d.replace(t.camelCaseRegExp,x),o[m]=l;else if(u=r.getPropertyValue(l),u){for(l=l.split("-"),h=0,c=l.length,f=l[0];++h<c;)f+=l[h].charAt(0).toUpperCase()+l[h].slice("1"^0);o[f]=u}return o},t.ChartEngine.prototype.canvasStyle=function(r,s){var i,a,o;return i=this.styles[r],i||(a=document.createElement("div"),a.className=r,this.container.appendChild(a),o=getComputedStyle(a,s),i=this.styles[r]=this.cloneStyle(o),this.container.removeChild(a),o||(this.styles[r]=null)),e.c6j(),i},t.ChartEngine.prototype.colorOrStyle=function(r){return r.indexOf("#")!=-1||(e.c6j(),r.indexOf("(")!=-1)||r=="transparent"?r:this.canvasStyle(r)},t.ChartEngine.prototype.clearStyles=function(){for(var r in this.styles)delete this.styles[r];this.defaultColor=""},t.ChartEngine.prototype.setStyle=function(r,s,i){var a,o,n;this.styles[r]||this.canvasStyle(r),this.styles[r]||(this.styles[r]={}),a=-1523444419,o=-940624530,e.D46(2),n=e.F4C(0,"2");for(var l=1;e.S7c(l.toString(),l.toString().length,31280)!==a;l++)this.styles[r][t.makeCamelCase(s)]=i,n+=2;e.L4g(n.toString(),n.toString().length,80112)!==o&&(this.styles[r][t.makeCamelCase(s)]=i)},t.ChartEngine.prototype.canvasFont=function(r,s){var i,a;if(s||(s=this.chart.context),i=this.canvasStyle(r),!!i){e.R1B(),e.D46(5);var o=e.F4C(2,8,5433,17);e.D46(3),e.F4C(14,9,9115),e.A7H(49);var n=e.A3d(20,97800,15,4,7817910);e.D46(134);var l=e.A3d(19,1,19,104440,111900);e.A7H(22);var u=e.A3d(456,7298,456);e.A7H(22);var h=e.A3d(1251,4986,5004);e.A7H(87),e.A3d(164588,18,20,9661),e.A7H(135);var c=e.F4C(11,21,225,19,20);e.D46(9);var f=e.F4C(11,499);a=i.fontStyle+" "+i.fontWeight+(o>=361.52?" ":n<=l?u:h)+i.fontSize+(c===469.36?f:" ")+i.fontFamily,a.indexOf("undefined")==-1?s.font=a:(this.styles[r]=null,e.A7H(9),console.log(e.A3d(r,"bad css style for class ")))}},t.ChartEngine.prototype.canvasColor=function(r,s){var i,a,o;s||(s=this.chart.context),i=this.canvasStyle(r),i&&(a=i.color,a||(a=this.defaultColor),s.globalAlpha=1,s.fillStyle=a,s.strokeStyle=a,o=i.opacity,typeof o!="undefined"&&(s.globalAlpha=o))},t.ChartEngine.prototype.getCanvasFontSize=function(r){var s,i,a;return e.R1B(),s="1",s+="2",i=this.canvasStyle(r),a=i.fontSize,a||(a=s),parseInt(t.stripPX(a),10)},t.ChartEngine.prototype.getCanvasColor=function(r){var s;return s=this.canvasStyle(r),s.color},t.ChartEngine.prototype.getDefaultColor=function(){var r,s,i,a,o,n,l;for(this.defaultColor="#000000",r=null,s=this.chart.container,e.c6j();!r||t.isTransparent(r);){if(i="tran",i+="s",i+="par",i+="ent",a=getComputedStyle(s),!a)return;if(r=a.backgroundColor,t.isTransparent(r)&&(r=i),s=s.parentNode,!s||!s.tagName)break}r?(r=="transparent"&&(r="#FFFFFF"),this.containerColor=r,t.isTransparent(r)?(l="#",l+="000000",this.defaultColor=l):(o=t.hsv(r),n=o[2],n>.65?this.defaultColor="#000000":this.defaultColor="#FFFFFF")):this.containerColor="#FFFFFF"},t.ChartEngine.prototype.emojify=function(r){var s,i,a,o,n,l;if(!r)return"";s=[];for(var u=0;u<r.length;u++)r[u]===":"&&s.push(u);for(var h=0;h<s.length-1;h++)if(i=s[h],e.D46(20),a=s[e.A3d("1",h)],e.D46(9),o=r.substring(e.A3d(1,i),a),n=r.substring(s[h+2]+1,s[h+3]),o){if(l=this.canvasStyle("emoji_"+o,":before").content,l==="none")continue;l=l.substring(1,l.length-1),s[h+1]+1===s[h+2]&&n.indexOf("skin-tone-")===0&&l.charCodeAt(l.length-1)===65039&&(l=l.substring(0,l.length-1)),r=this.emojify(r.substring(0,i)+l+r.substring(a+1,r.length));break}return r}};Xi=U=>{var e=J,t;t=U.CIQ,t.ChartEngine.XAxis=function(r){e.R1B();for(var s in r)this[s]=r[s]},t.ChartEngine.XAxis.setPropertiesForInterval={year:(r,s,i,a)=>{e.R1B(),r.level=Number(r.raw)%5===0?"0"|0:1},month:(r,s,i,a)=>{var o,n,l;if(o=Number(r.raw),n=s.DT,l=n.getFullYear(),o===0?r.level=l%5===0?0:1:r.level=o%3===0?2:"3"*1,r.text=t.monthAsDisplay(o,!1,a),r.grid==="boundary"){r.boundaryOnlyText=o?r.text:l.toString(),e.A7H(118);var u=e.F4C(4,1,15,4);r.text+=" '"+l.toString().substring(u),o||(r.alwaysAsBoundary=!0)}},week:null,day:(r,s,i,a)=>{var o,n,l,u,h,c,f;if(o=s.DT,n=o.getDay(),l=o.getDate(),u=o.getMonth(),h=o.getFullYear(),r.grid==="boundary"){if(!r.priorDT||r.priorDT.getMonth()!==u){c=" ",c+="'",f=t.monthAsDisplay(u,!1,a),e.A7H(136),r.text=e.F4C(100,c,h,f),r.boundaryOnlyText=u?f:h.toString(),r.alwaysAsBoundary=!0,r.level=u?u%3===0?1:2:0;return}a.internationalizer?r.text=a.internationalizer.monthDay.format(o):(e.A7H(104),r.text=e.A3d(1,l,u,"/"))}e.c6j(),r.priorDT&&r.priorDT.getDay()>n||!i&&n===0||i&&i.isFirstMarketDayOfWeek(o)?r.level=4:n>"0">>64?r.level=6:r.level=7},minute:(r,s,i,a)=>{var o,n,l,u,h,c;if(o=s.DT,n=o.getDate(),l=o.getMonth(),u=o.getFullYear(),r.grid==="boundary"){if(!r.priorDT||r.priorDT.getMonth()!==l){e.D46(9);var f=e.A3d(67,33);r.text=t.monthAsDisplay(l,!1,a)+" '"+u%f,r.alwaysAsBoundary=!0,r.level=0;return}if(!r.priorDT||r.priorDT.getDate()!==n){e.D46(2);var m=e.A3d(11,12);e.D46(89),e.A3d(6847,4,2,7,6842),e.D46(137);var x=e.A3d(5763,15,50,8,10);e.D46(4);var g=e.F4C(5,7562,1883,17);r.text=l+"1"*m+(x!==g?"/":!1)+o.getDate(),r.alwaysAsBoundary=!0,r.level=1;return}}h=Number(r.raw)+(r.marketOpenOffset||0),e.A7H(19),c=[e.A3d(32,"720"),360,120,60,30,15,5],r.level=c.length;for(var d=0;d<c.length;d++)if(h%c[d]===("0"^0)){r.level=d;break}r.text=t.timeAsDisplay(s.DT,a,t.MINUTE),r.grid==="boundary"&&h===0&&(r.alwaysAsBoundary=!0,a.internationalizer?r.text=a.internationalizer.monthDay.format(o):(e.D46(104),r.text=e.A3d(1,n,l,"/")))},second:(r,s,i,a)=>{var o,n;o=[30,15,5],e.c6j(),r.level=o.length;for(var l=0;l<o.length;l++)if(Number(r.raw)%o[l]===0){r.level=l;break}if(r.text=r.raw+"s",r.grid==="boundary"&&r.raw==0)if(n=s.DT,r.alwaysAsBoundary=!0,n.getHours())r.text=t.timeAsDisplay(n,a,t.MINUTE);else if(a.internationalizer)r.text=a.internationalizer.monthDay.format(n);else{e.D46(11);var u=e.F4C(12,1,13);r.text=n.getMonth()+u+"/"+n.getDate()}},millisecond:(r,s,i,a)=>{var o;e.A7H(48),o=[e.A3d(32,"250"),50,10],r.level=o.length;for(var n=0;n<o.length;n++)if(Number(r.raw)%o[n]===0){r.level=n;break}r.text=r.raw+"ms"},tick:(r,s,i,a)=>{e.c6j(),r.text=t.timeAsDisplay(s.DT,a,t.MILLISECOND)}},t.ChartEngine.XAxis.lineBaseLevel=500,t.extend(t.ChartEngine.XAxis.prototype,{formatter:null,adjustTimeZone:!0,displayBorder:!0,displayGridLines:!0,fitLeftToRight:null,fitTight:null,maxLevelToDisplay:0,noDraw:null,minimumLabelWidth:50,futureTicks:!0,futureTicksInterval:1},!0),t.ChartEngine.XAxisLabel=function(r){typeof r=="number"?(this.hz=r,this.grid=arguments[1],this.text=arguments[2]):Object.assign(this,r),!this.level&&this.level!==0&&(this.level=this.grid==="boundary"?0:t.ChartEngine.XAxis.lineBaseLevel),typeof this.text=="undefined"&&(this.text=this.raw),this.text=this.text.toString()},e.c6j(),t.ChartEngine.prototype.createXAxis=function(r){var s,i;return r.dataSegment.length<=0||r.xAxis.noDraw?null:(s=[r],i=this.runPrepend("createXAxis",s),i||(this.mainSeriesRenderer.createXAxis?i=this.mainSeriesRenderer.createXAxis(r):this.createTickXAxisWithDates&&r.xAxis.fitLeftToRight?i=this.createTickXAxisWithDates(r):i=this.createSpacedDateXAxis(r),this.headsUpHR(),this.runAppend("createXAxis",s),i))},t.ChartEngine.prototype.createXAxisLabel=function(r){var s,i,a,o,n,l,u;arguments[0]instanceof t.ChartEngine.Panel&&(r={panel:arguments[0],txt:arguments[1],x:arguments[2],backgroundColor:arguments[3],color:arguments[4],pointed:arguments[5],padding:arguments[6]});var{panel:h,txt:c,x:f,backgroundColor:m,color:x,pointed:g}=r;s=r.padding===0?0:r.padding||2,i=this.chart.context,e.c6j(),a="stx-float-date",e.A7H(0);var d=e.F4C(88,18,5);o=this.getCanvasFontSize(a)+s*d,this.canvasFont(a,i);try{e.D46(3);var p=e.F4C(12,36,26);n=i.measureText(c).width+s*p}catch(S){n=0}if(l=h.yAxis.bottom,!(f+n/2<h.left||f-n/("2"^0)>h.right)){if(g)l+=o;else{if(f+n/2>h.right){e.A7H(40);var v=e.A3d(206,17,12);f=h.right-n/v}f-n/("2"|2)<h.left&&(f=h.left+n/("2"|0))}h.bottom===h.yAxis.bottom&&(l=h.bottom-o),i.fillStyle=m,t.roundRect({ctx:i,x:f-n/2,top:l,width:n,height:o,radius:"3"^0,fill:!0}),e.D46(26),u=e.F4C(2,o),i.beginPath(),g&&(e.A7H(2),i.moveTo(e.F4C(u,f),l),e.A7H(8),i.quadraticCurveTo(e.A3d(3,f,u),l,f,e.A3d(o,l,e.D46(2))),e.A7H(2),i.moveTo(f,e.A3d(o,l)),e.A7H(138),i.quadraticCurveTo(e.A3d(u,f,"3"),l,e.A3d(u,f,e.A7H(9)),l),e.A7H(2),i.lineTo(e.F4C(u,f),l),i.fill()),i.textAlign="center",i.textBaseline="middle",i.fillStyle=x||t.chooseForegroundColor(m),i.fillStyle==m&&(m.toUpperCase()=="#FFFFFF"?i.fillStyle="#000000":i.fillStyle="#FFFFFF"),e.D46(2),i.fillText(c,e.F4C(1,f),e.A3d(o,2,l,1,e.D46(139)))}}};Ji=U=>{var e=J,t;t=U.CIQ,t.createLabel=function(r){r.ctx.textBaseline="middle",r.ctx.fillStyle=r.color?r.color:t.chooseForegroundColor(r.backgroundColor),r.ctx.fillStyle===r.backgroundColor&&(r.backgroundColor.toUpperCase()=="#FFFFFF"?r.ctx.fillStyle="#000000":r.ctx.fillStyle="#FFFFFF"),r.ctx.fillText(r.txt,r.x+r.margin.left,r.y+r.margin.top),r.ctx.textAlign="left"},t.roundRectArrow=function(r){t.roundRect(r,"arrow")},t.semiRoundRect=function(r){e.c6j(),t.roundRect(r,"flush")},t.rect=function(r){r.radius=0,t.roundRect(r)},t.noop=function(r){e.R1B(),r.color=r.backgroundColor,t.createLabel(r)},t.tickedRect=function(r){var s;e.c6j(),t.rect(r),e.A7H(42);var i=e.A3d(0,91,13,14);s=Math.round(r.top+r.height/i)+.5,r.ctx.beginPath(),r.ctx.moveTo(r.x-2,s),r.ctx.lineTo(r.x,s),r.ctx.stroke(),r.ctx.closePath()},t.roundRect=function(r,s){var i,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T;i="a",i+="r",i+="ro",i+="w",arguments.length===9&&(r={ctx:arguments[0],x:arguments[1],top:arguments[2],width:arguments[3],height:arguments[4],radius:arguments[5],fill:arguments[6],stroke:arguments[7],edge:arguments[8]}),a=r.stroke,o=r.x,n=r.top,l=r.width,u=r.height,h=r.radius,c=r.fill,f=r.ctx,typeof a=="undefined"&&(a=!0),typeof h=="undefined"&&(e.D46(48),h=e.A3d(32,"5"),l<0&&(h=-5)),m=l<0?h*-1:h,h&&!s&&(e.D46(2),o=e.F4C(1,o)),e.D46(9),x=e.A3d(h,o),e.D46(9),g=e.A3d(l,o),e.D46(9),d=e.F4C(m,n),e.A7H(9),p=e.F4C(u,n),e.A7H(2),v=e.A3d(h,g),e.D46(2),S=e.F4C(m,p),f.beginPath(),f.moveTo(x,n),f.lineTo(v,n),f.quadraticCurveTo(g,n,g,d),f.lineTo(g,S),f.quadraticCurveTo(g,p,v,p),f.lineTo(x,p),e.c6j(),s=="flush"?(f.lineTo(o,p),f.lineTo(o,n)):s==i?(e.A7H(2),f.quadraticCurveTo(o,p,e.F4C(h,o),S),T=l<0?1:-1,e.D46(140),f.lineTo(e.F4C("2",u,o,T),e.A3d(2,n,u,e.D46(120))),e.D46(2),f.lineTo(e.A3d(h,o),d),f.quadraticCurveTo(o,n,x,n)):(f.quadraticCurveTo(o,p,o,S),f.lineTo(o,d),f.quadraticCurveTo(o,n,x,n)),f.closePath(),r.backgroundColor&&(f.fillStyle=r.backgroundColor),a&&f.stroke(),c&&f.fill(),r.txt&&t.createLabel(r)},t.ChartEngine.YAxis=function(r){var s;s="n",s+="o",s+="n",s+="e";for(var i in r)this[i]=r[i];this.name||(this.name=t.uniqueID()),this.position==s&&(this.width=0)},t.extend(t.ChartEngine.YAxis.prototype,{name:null,high:null,low:null,shadow:null,logHigh:null,logLow:null,logShadow:null,allowSharing:!0,multiplier:null,bottom:null,top:null,height:null,left:null,renderers:[],studies:[],lowValue:null,highValue:null,semiLog:null,priceTick:null,printDecimalPlaces:null,yAxisPlotter:null,highlight:null},!0),t.ChartEngine.YAxis.defaultShadowBreaks=[[1e3,2],[5,4],[.001,8]],t.ChartEngine.YAxis.smallChartShadowBreaks=[[10,2],[1,4]],t.ChartEngine.YAxis.prototype.maxDecimalPlaces=null,t.ChartEngine.YAxis.prototype.max=null,t.ChartEngine.YAxis.prototype.min=null,t.ChartEngine.YAxis.prototype.decimalPlaces=null,t.ChartEngine.YAxis.prototype.idealTickSizePixels=null,t.ChartEngine.YAxis.prototype.minimumPriceTick=null,t.ChartEngine.YAxis.prototype.fractional=null,t.ChartEngine.YAxis.prototype.displayBorder=!0,t.ChartEngine.YAxis.prototype.displayGridLines=!0,t.ChartEngine.YAxis.prototype.noDraw=null,t.ChartEngine.YAxis.prototype.drawCurrentPriceLabel=!0,t.ChartEngine.YAxis.prototype.drawSeriesPriceLabels=!0,t.ChartEngine.YAxis.prototype.drawPriceLabels=!0,t.ChartEngine.YAxis.prototype.goldenRatioYAxis=!0,t.ChartEngine.YAxis.prototype.yaxisLabelStyle=null,t.ChartEngine.YAxis.prototype.justifyRight=null,t.ChartEngine.YAxis.prototype.flipped=!1,t.ChartEngine.YAxis.prototype.textBackground=!1,t.ChartEngine.YAxis.prototype.priceFormatter=null,t.ChartEngine.YAxis.prototype.bottomOffset=0,t.ChartEngine.YAxis.prototype.topOffset=0,e.A7H(19),t.ChartEngine.YAxis.prototype.initialMarginTop=e.A3d(32,"10"),t.ChartEngine.YAxis.prototype.initialMarginBottom=10,t.ChartEngine.YAxis.prototype.zoom=0,t.ChartEngine.YAxis.prototype.scroll=0,t.ChartEngine.YAxis.prototype.heightFactor=1,Object.defineProperty(t.ChartEngine.YAxis.prototype,"width",{configurable:!0,enumerable:!0,get:function(){e.c6j();var r;return r="n",r+="o",r+="n",r+="e",this.position===r?0:this._dynamicWidth||this._width},set:function(r){this._width=r,this._dynamicWidth<r&&(this._dynamicWidth=NaN)}}),t.ChartEngine.YAxis.prototype.width=60,t.ChartEngine.YAxis.prototype.smallScreenWidth=50,t.ChartEngine.YAxis.prototype.textStyle=null,t.ChartEngine.YAxis.prototype.position=null,t.ChartEngine.YAxis.prototype.pretty=!0,t.ChartEngine.YAxis.prototype.increments=[1,2.5,5],t.ChartEngine.YAxis.prototype.prettySemiLog=!0,t.ChartEngine.YAxis.prototype.shadowBreaks=t.ChartEngine.YAxis.defaultShadowBreaks,t.ChartEngine.YAxis.prototype.getYAxis=function(r){return e.R1B(),this},t.ChartEngine.YAxis.prototype.isShared=function(r,s){e.c6j();var i,a;if(i=this.studies.length,a=this.renderers.length,i>1||a&&i)return!0;if(!a)return!1;if(a>"1"-0&&s)return!0;for(var o=a-1;o>=0;o--)r.chart.seriesRenderers[this.renderers[o]].params.dependentOf&&a--;return e.D46(141),e.F4C(1,a)},t.ChartEngine.YAxis.prototype.setBackground=function(r,s){var i;s||(s={}),s.color||(s.color="auto"),e.c6j(),i=[[this.left,this.top],[this.left,this.bottom],[this.left+this.width,this.bottom],[this.left+this.width,this.top]],t.fillArea(r,i,{color:s.color,opacity:s.opacity})},t.ChartEngine.YAxis.prototype.setBreakpointWidth=function(r){var s;if(r){var{width:i,smallScreenWidth:a}=t.ChartEngine.YAxis.prototype;e.A7H(75),s=e.F4C("break-sm",r),this.width=s?a:i}},t.ChartEngine.prototype.getLabelOffsetInPixels=function(r,s){e.R1B();var i,a,o,n;if(i="roundRe",i+="ctArro",i+="w",a=!this.mainSeriesRenderer.standaloneBars,this.yaxisLabelStyle==i&&!(a&&this.extendLastTick&&r.yaxisPaddingRight!==0)){o=3,e.A7H(91);var l=e.F4C(25,18,14,1,8);return n=this.getCanvasFontSize("stx_yaxis")+o*l,e.A7H(15),e.F4C(n,.66)}return 0},t.ChartEngine.prototype.flipChart=function(r){this.layout.flipped!=r&&(this.layout.flipped=r,this.chart.yAxis.flipped=r,this.changeOccurred("layout"),this.draw())},t.ChartEngine.prototype.calculateYAxisMargins=function(r){var s,i,a;if(e.R1B(),s=this.chart,i=s.panel.yaxisLHS.concat(s.panel.yaxisRHS).includes(r),a=i?s.yaxisMarginMultiplier:1,r.heightFactor){e.A7H(142);var o=e.F4C(9,1,7,2,7);r.zoom=r.height*("1"*o-r.heightFactor)}r.zoom+=(r.initialMarginTop+r.initialMarginBottom)*a,e.D46(2);var n=e.A3d(13,14);r.scroll=(r.initialMarginTop-r.initialMarginBottom)*a/("2"*n),r.zoom>=r.height&&(r.zoom=0,r.scroll=0)},t.ChartEngine.prototype.resetDynamicYAxis=function(r){var s,i,a,o,n,l,u;s="r",s+="esetDyna",s+="micY",s+="Axis",i=-860481180,a=1351499695,o=2;for(var h=1;e.S7c(h.toString(),h.toString().length,96622)!==i;h++){if(this.runPrepend("",arguments))return;o+=2}if(!(e.L4g(o.toString(),o.toString().length,"1174"<<64)!==a&&this.runPrepend("resetDynamicYAxis",arguments))){n=!1;for(var c in this.panels)if(l=this.panels[c],!(r&&r.chartName&&l.chart.name!==r.chartName)&&!(!l.yaxisLHS||!l.yaxisRHS)){u=l.yaxisLHS.concat(l.yaxisRHS);for(var f=0;f<u.length;f++)u[f]._dynamicWidth&&(u[f]._dynamicWidth=NaN,n=!0)}n&&(!r||!r.noRecalculate)&&this.calculateYAxisPositions(),this.runAppend(s,arguments)}},t.ChartEngine.prototype.notifyBreakpoint=function(r){var s,i,a,o;if(s="break",s+="-md",this.chart.breakpoint===r||!["break-lg",s,"break-sm"].includes(r))return;var{chart:n}=this,{dynamicYAxis:l}=n;c(this,r),n.breakpoint=r;for(var u in this.panels){i=this.panels[u],a=i.yaxisRHS.concat(i.yaxisLHS);for(var h=0;h<a.length;h++)o=a[h],o.setBreakpointWidth(r)}l&&this.resetDynamicYAxis({chartName:n.name});function c(f,m){var x,g,d,p,v;if(x="uiContext.topNode.multi",x+="ChartContainer",g=t.getFromNS(f.linkedChartEngine||f,x),g&&(d=g.styles[m]||{},g.styles[m]=f.styles=d,p=Object.keys(f.styles).length,p)){f.defaultColor="";return}v=t.ThemeHelper&&new t.ThemeHelper({stx:f}),f.clearStyles(),v&&v.update(f)}},t.ChartEngine.prototype.adjustYAxisHeightOffset=function(r,s){var i,a,o;if(i=s.topOffset,a=s.bottomOffset,i+a>r.height&&(console.log("The sum of yAxis.topOffset and yAxis.bottomOffset cannot be greater than the panel height. Both values will be reset to 0."),s.bottomOffset=0,s.topOffset=0),!this.xaxisHeight&&this.xaxisHeight!==0){e.D46(143);var n=e.F4C(15,11,10,4,6);this.xaxisHeight=this.getCanvasFontSize("stx_xaxis")+n,(this.chart.xAxis.displayBorder||this.axisBorders)&&(this.xaxisHeight+=3)}o=this.xAxisAsFooter&&r.bottom>this.chart.canvasHeight-this.xaxisHeight||!this.xAxisAsFooter&&r==this.chart.panel,o&&(a+=this.xaxisHeight),e.R1B(),s.top=r.top+i,s.bottom=r.bottom-a},t.ChartEngine.prototype.plotYAxisGrid=function(r){var s,i,a;this.runPrepend("plotYAxisGrid",arguments)||(s=this.getBackgroundCanvas().context,i=r.yAxis,i.yAxisPlotter&&(a="g",a+="rid",i.yAxisPlotter.draw(s,a)),this.runAppend("plotYAxisGrid",arguments))},t.ChartEngine.prototype.plotYAxisText=function(r){var s,i,a,o,n,l,u,h;function c(f){f.yAxisPlotter&&(f.noDraw||!f.width||(f.justifyRight?o.textAlign="right":f.justifyRight===!1&&(o.textAlign="left"),f.yAxisPlotter.draw(o,"text")))}if(s="m",s+="i",s+="ddl",s+="e",i="stx_y",e.R1B(),i+="a",i+="xis",a="pl",a+="ot",a+="YAx",a+="isText",!this.runPrepend(a,arguments)){for(o=this.getBackgroundCanvas().context,this.canvasFont("stx_yaxis",o),this.canvasColor(i,o),o.textBaseline=s,n=r.yaxisLHS,l=0;l<n.length;l++)u="r",u+="i",u+="gh",u+="t",o.textAlign=u,c(n[l]);for(n=r.yaxisRHS,l="0">>0;l<n.length;l++)h="l",h+="ef",h+="t",o.textAlign=h,c(n[l]);o.textAlign="left",o.textBaseline="alphabetic",this.runAppend("plotYAxisText",arguments)}},t.ChartEngine.prototype.decimalPlacesFromPriceTick=function(r,s){return s&&(r/=s),r<1e-4?8:r<.01?4:r<.1?2:(e.c6j(),r<1?1:0)},t.ChartEngine.prototype.formatYAxisPrice=function(r,s,i,a,o){var n,l,u,h,c,f;return n="u",n+="ndefined",r===null||typeof r==n||isNaN(r)?"":(s||(s=this.chart.panel),l=a||s.yAxis,u=i,!u&&u!==0&&(u=l.printDecimalPlaces),!u&&u!==0&&(u=this.decimalPlacesFromPriceTick(l.priceTick,l.idealTickSizePixels)),h=l==s.chart.yAxis?"20000"^0:1e3,e.c6j(),l.priceTick>=h?(r=r.toFixed(u),t.condenseInt(r)):(c=this.internationalizer,c&&o!==!1?(f=c.priceFormatters.length,u>=f&&(e.D46(2),u=e.A3d(1,f)),r=c.priceFormatters[u].format(r)):r=r.toFixed(u),r))},t.ChartEngine.prototype.calculateYAxisRange=function(r,s,i,a){var o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D;o="p",o+="and",o+="f",i==Number.MAX_VALUE&&(i=0,a=0),n=r.height,l=null,u=null,this.adjustYAxisHeightOffset(r,s),s.height=s.bottom-s.top,h=1090618153,c=-611791426,f=2;for(var y=1;e.S7c(y.toString(),y.toString().length,26107)!==h;y++)m=Math.round(Math.abs(n+6)),f+=2;if(e.L4g(f.toString(),f.toString().length,45934)!==c&&(m=Math.round(Math.abs(n/5))),s.zoom>=0&&n-Math.abs(s.scroll)<m){e.D46(144);var b=e.A3d(3,6,16,18);s.scroll=(n-m)*(s.scroll<0?-1:b)}if(x=r.chart.name===r.name&&r.yAxis.name===s.name,g=i>0&&(this.layout.semiLog||this.layout.chartScale=="log")&&!r.chart.isComparison&&this.layout.aggregationType!=o,i||i===0){if(a-i===0)d=Math.pow(10,-(i.toString()+".").split(".")[1].length),d==1&&(d=100),e.A7H(9),l=e.A3d(d,i),e.A7H(2),u=e.A3d(d,i);else if(x&&g&&(a||a===0))p=Math.log(i)/Math.LN10,v=Math.log(a)/Math.LN10,l=Math.pow(10,v),u=Math.pow(10,p);else{S=907656695,T=-1096598979,D=2;for(var w="1"-0;e.L4g(w.toString(),w.toString().length,31618)!==S;w++)l=a,u=i,D+=2;e.L4g(D.toString(),D.toString().length,92266)!==T&&(l=a,u=i)}s.high=l,s.low=u}(s.max||s.max===0)&&(s.high=s.max),(s.min||s.min===0)&&(s.low=s.min),s.shadow=s.high-s.low,x&&(s.semiLog!=g&&(this.clearPixelCache(),s.semiLog=g),s.flipped=this.layout.flipped)},t.ChartEngine.prototype.renderYAxis=function(r){var s,i,a,o,n,l,u,h,c,f,m,x;if(s="render",s+="YAxis",i="y",i+="Axi",i+="s",a="reboot ",a+="draw",o="r",o+="ende",o+="rY",o+="Axis",!this.runPrepend(o,arguments)){if(this.checkLogScale())throw new Error(a);this.rendererAction(r,i);var{context:g}=this.getBackgroundCanvas(r);for(var d in this.panels)if(n=this.panels[d],n.chart==r){for(l=n.yaxisRHS.concat(n.yaxisLHS),u=0;u<l.length;u++)h=l[u],this.calculateYAxisRange(n,h,h.lowValue,h.highValue),c=t.getFn("Studies.getYAxisParameters",{})(this,h),c.yAxis=h,this.createYAxis(n,c),this.drawYAxis(n,c),t.getFn("Studies.doPostDrawYAxis")(this,h);for(u=0;u<l.length;u++)h=l[u],h.dropzone&&(f="stx-subholder dropzon",f+="e left",m=this.canvasStyle(f),m&&(g.save(),g.strokeStyle=m.borderLeftColor,g.lineWidth=parseFloat(m.borderLeftWidth),g.beginPath(),h.dropzone=="all"?g.strokeRect(h.left,h.top,h.width,h.height):(x=h.left+(h.dropzone=="left"?0:h.width),g.moveTo(x,h.top),g.lineTo(x,h.top+h.height),g.stroke()),g.restore()));this.displayDragOK&&this.displayDragOK(!0)}e.c6j(),this.runAppend(s,arguments)}},t.ChartEngine.prototype.updateFloatHRLabel=function(r){var s,i,a,o,n,l,u,h,c,f,m,x;if(s="n",s+="o",s+="n",e.c6j(),s+="e",!!this.floatCanvas&&(i=r.yaxisLHS.concat(r.yaxisRHS),a=this.crossYActualPos?this.crossYActualPos:this.cy,this.floatCanvas.isDirty&&t.clearCanvas(this.floatCanvas,this),!(this.controls.crossX&&this.controls.crossX.style.display==s))){this.controls.crossY&&(o="roundRectAr",o+="ro",o+="w",n=r.left,l=r.width,e.A7H(48),u=e.A3d(0,"7"),this.yaxisLabelStyle==o&&(l-=u,n>0&&(n+=u),r.yaxisLHS.length&&r.yaxisRHS.length&&(l-=u)),e.A7H(9),this.controls.crossY.style.left=e.F4C("px",n),e.D46(9),this.controls.crossY.style.width=e.A3d("px",l));for(var g=0;g<i.length;g++)h="stx",h+="-float-price",c=i[g],f=this.transformedPriceFromPixel(a,r,c),!isNaN(f)&&((c.min||c.min===0)&&f<c.min||(c.max||c.max===0)&&f>c.max||(m=null,c!==r.chart.yAxis&&(m=c.decimalPlaces),c.priceFormatter?(!m&&m!==0&&(m=this.decimalPlacesFromPriceTick(c.priceTick,c.idealTickSizePixels)),f=c.priceFormatter(this,r,f,m)):f=this.formatYAxisPrice(f,r,m,c),x=this.canvasStyle(h),this.createYAxisLabel(r,f,a,x.backgroundColor,x.color,this.floatCanvas.context,c),this.floatCanvas.isDirty=!0))}},t.ChartEngine.prototype.whichYAxis=function(r,s,i){e.R1B();var a,o,n;if(typeof s=="undefined"&&(s=this.cx),typeof i=="undefined"&&(i=this.cy),a=this.whichPanel(i),r&&r==a){o=r.yaxisLHS.concat(r.yaxisRHS);for(var l=0;l<o.length;l++)if(n=o[l],n.left<=s&&n.left+n.width>=s)return n}return null},t.ChartEngine.prototype.yaxisMatches=function(r,s){return e.R1B(),!r||!r.getYAxis||!s||!(s instanceof t.ChartEngine.YAxis)?!1:r.getYAxis(this).name==s.name},t.ChartEngine.prototype.createYAxisLabel=function(r,s,i,a,o,n,l){var u,h,c,f,m,x,g,d,p,v,S,T,D,y,b;if(u=l||r.yAxis,!(u.drawPriceLabels===!1||u.noDraw||!u.width)){h=n||this.chart.context,c=3,e.A7H(11);var w=e.A3d(0,5,10);f=this.getCanvasFontSize("stx_yaxis")+c*w,this.canvasFont("stx_yaxis",h),m=u.displayBorder===null?r.yAxis.displayBorder:u.displayBorder,this.axisBorders===!1&&(m=!1),this.axisBorders===!0&&(m=!0),x=m?3:0,g=3;try{e.D46(6);var A=e.A3d(17,0,15);d=h.measureText(s).width+x+c*A}catch(O){d=u.width}if(S=u.position===null?r.chart.yAxis.position:u.position,S==="left")if(v=u.left+u.width,u.width<0&&(v-=u.width+d),g=-3,u.justifyRight===!1){h.textAlign="left",e.A7H(2);var _=e.A3d(1,0);d=u.width*_,p=v-u.width+c}else h.textAlign="right",e.A7H(130),d=e.F4C(d,1),e.D46(8),p=e.A3d(x,v,c);else v=u.left,u.width<0&&(v+=u.width-d),u.justifyRight?(h.textAlign="right",d=u.width,p=u.left+d-c):(T="le",T+="ft",h.textAlign=T,e.A7H(39),p=e.F4C(c,x,v));if(i+f/2>u.bottom){e.D46(6);var P=e.A3d(9,0,7);i=u.bottom-f/P}if(i-f/2<u.top){e.D46(145);var I=e.F4C(3,19,910,0,16);i=u.top+f/I}typeof t[this.yaxisLabelStyle]=="undefined"&&(D="roundRec",D+="tAr",D+="row",this.yaxisLabelStyle=D),y=this.yaxisLabelStyle,u.yaxisLabelStyle&&(y=u.yaxisLabelStyle),b={ctx:h,x:v,y:i,top:i-f/("2"-0),width:d,height:f,radius:g,backgroundColor:a,fill:!0,stroke:!1,margin:{left:p-v,top:"1">>32},txt:s,color:o},t[y](b)}},t.ChartEngine.prototype.getCurrentHRParams=function(){var r,s,i,a,o,n,l,u,h,c,f,m,x,g,d,p,v;if(i=this.mainSeriesRenderer,!i.noCurrentHR){var{highLowBars:S}=i;a={};for(var T in this.charts)if(o="dat",o+="aS",o+="e",o+="t",n=this.charts[T],l=n.panel,u=l.yAxis,!l.hidden&&!(u.drawCurrentPriceLabel===!1||u.noDraw)&&i.params){var{whichSet:D}=u;if(D||(D=o),!(this.isHistoricalModeSet&&D!=="dataSegment")){if(h=n[D].length,c=this.layout.candleWidth,D=="dataSegment")for(;h>(n.width-this.micropixels+c/2+1)/c;)h--;if(h&&n[D][h-1]){f=n.defaultPlotField,(!f||S)&&(f="Close"),m=void 0,x=void 0;do if(m=n[D][--h][f],x=m,h===0)break;while(x==null);D=="dataSet"&&n.currentQuote?x=n.currentQuote[f]:n[D].length>=2&&(e.A7H(2),g=n[D][e.F4C(1,h)],g&&(m=g[f])),x<m?(r=this.canvasStyle("stx_current_hr_down").backgroundColor,s=this.canvasStyle("stx_current_hr_down").color):(r=this.canvasStyle("stx_current_hr_up").backgroundColor,s=this.canvasStyle("stx_current_hr_up").color),n.transformFunc&&(x=n.transformFunc(this,n,x)),d=void 0,p=Math.max(l.yAxis.printDecimalPlaces,l.chart.decimalPlaces),(u.maxDecimalPlaces||u.maxDecimalPlaces===0)&&(p=Math.min(p,u.maxDecimalPlaces)),u.priceFormatter?d=u.priceFormatter(this,l,x,p):d=this.formatYAxisPrice(x,l,p),v=this.pixelFromTransformedValue(x,l),v=Math.floor(v)+.5,a[T]={panel:l,txt:d,y:v,backgroundColor:r,color:s}}}}return a}},t.ChartEngine.prototype.drawCurrentHR=function(){if(!this.runPrepend("drawCurrentHR",arguments)){var{currentHRParams:r}=this;if(r)for(var s in r){var{panel:i,txt:a,y:o,backgroundColor:n,color:l}=r[s];this.createYAxisLabel(i,a,o,n,l)}this.runAppend("drawCurrentHR",arguments)}},t.ChartEngine.prototype.drawCurrentPriceLine=function(){e.c6j();var r,s;if(r="drawCurrentPriceLi",r+="ne",!!(this.preferences.currentPriceLine===!0&&this.isHome())&&!this.runPrepend(r,arguments)){var{currentHRParams:i}=this;if(i)for(var a in i){s="l",s+="ine";var{panel:o,y:n,backgroundColor:l}=i[a];this.plotLine(o.left,o.right,n,n,l,s,o.chart.context,o,{pattern:"dashed",lineWidth:1,opacity:.8})}this.runAppend("drawCurrentPriceLine",arguments)}},t.ChartEngine.prototype.getYAxisByName=function(r,s){e.c6j();var i;if(typeof r=="string"&&(r=this.panels[r]),!(!r||!s)){if(s===r.yAxis.name)return r.yAxis;for(i=0;r.yaxisLHS&&i<r.yaxisLHS.length;i++)if(r.yaxisLHS[i].name===s)return r.yaxisLHS[i];for(i=0;r.yaxisRHS&&i<r.yaxisRHS.length;i++)if(r.yaxisRHS[i].name===s)return r.yaxisRHS[i]}},t.ChartEngine.prototype.getYAxisByField=function(r,s){var i,a,o,n,l,u,h;if(s){for(i in this.layout.studies)if(a=this.layout.studies[i],a.panel==r.name&&a.outputMap&&a.outputMap.hasOwnProperty(s))return a.getYAxis(this);for(i in this.chart.seriesRenderers){n=this.chart.seriesRenderers[i];for(var c=0;c<n.seriesParams.length;c++)if(l="-",l+="-",l+=">",n.params.panel==r.name){if(u=n.seriesParams[c],h=u.field,!h&&!n.highLowBars&&(h=this.defaultPlotField||"Close"),u.symbol&&u.subField&&(h+=l+u.subField),s==h)return n.params.yAxis||r.yAxis;u.field&&u.field==s.split("-->")[0]&&(o=n.params.yAxis||r.yAxis)}}if(o)return o}},t.ChartEngine.prototype.deleteYAxisIfUnused=function(r,s){var i,a,o,n;if(i="st",i+="r",i+="ing",typeof r==i&&(r=this.panels[r]),!s||!r)return;for(var l=0;l<s.renderers.length;l++)if(a=this.chart.seriesRenderers[s.renderers[l]],a&&a.params.panel==r.name)return;if(s.name===r.yAxis.name&&r.yaxisRHS.length+r.yaxisLHS.length===1)return;for(o=0;r.yaxisRHS&&o<r.yaxisRHS.length;o++)r.yaxisRHS[o]===s?r.yaxisRHS[o]=null:n||(n=r.yaxisRHS[o]);for(o=0;r.yaxisLHS&&o<r.yaxisLHS.length;o++)r.yaxisLHS[o]===s?r.yaxisLHS[o]=null:n||(n=r.yaxisLHS[o]);r.yaxisRHS=r.yaxisRHS.filter(u),r.yaxisLHS=r.yaxisLHS.filter(u),n&&s.name===r.yAxis.name&&(r.yAxis=n);function u(h){return e.D46(76),e.A3d(null,h)}this.calculateYAxisPositions()},t.ChartEngine.prototype.addYAxis=function(r,s){var i,a,o,n,l;if(i="s",i+="c",i+="r",i+="oll",a="l",a+="ef",a+="t",typeof r=="string"&&(r=this.panels[r]),!(!s||!r)){for(r.yaxisLHS||(r.yaxisLHS=[],r.yaxisRHS=[],r.yAxis.position=="left"||r.yAxis.position!="right"&&r.chart.panel.yAxis.position=="left"?r.yaxisLHS.push(r.yAxis):r.yaxisRHS.push(r.yAxis)),n=[],l=r.yaxisLHS,o=l.length-("1"^0);o>=0;o--)if(l[o].name===s.name){if(s.position!="right")return l[o];n=l.splice(o,1)}for(l=r.yaxisRHS,o=l.length-1;o>=0;o--)if(l[o].name===s.name){if(s.position!="left")return l[o];n=l.splice(o,1)}return s.position==="left"||s.position!="right"&&r.chart.panel.yAxis.position==a?r.yaxisLHS.unshift(s):r.yaxisRHS.push(s),s.setBreakpointWidth(this.chart.breakpoint),s.height=r.yAxis.height,s.idealTickSizePixels=null,n[0]==r.yAxis&&(r.yAxis=s),s.lockScale||this.calculateYAxisMargins(s),i in s||(s.scroll=0),s}},t.ChartEngine.prototype.calculateYAxisPositions=function(){var r,s,i,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D;r=[];for(var y in this.charts)this.charts[y].hidden||this.charts[y].panel.hidden||r.push(y);for(var b in this.panels)s=this.panels[b],!(s.name===s.chart.name||s.hidden)&&r.push(b);for(i=0,e.A7H(28),a=e.F4C(0,"0"),n=0;n<r.length;n++)if(h="ri",h+="g",h+="h",h+="t",l=this.panels[r[n]],!!l){for(l.yaxisLHS||(l.yaxisLHS=[],l.yaxisRHS=[]),c=l.yaxisLHS,f=l.yaxisRHS,m=l.yAxis.position,(!m||m=="none")&&(m=l.chart.yAxis.position||h),!c.length&&!f.length&&(m=="left"?c.push(l.yAxis):f.push(l.yAxis)),x=[],g=[],o=c.length-1;o>=0;o--)(c[o].position=="right"||c[o].position!="left"&&m=="right")&&(x=x.concat(c.splice(o,1)));for(o=f.length-1;o>=0;o--)d="r",d+="i",d+="ght",(f[o].position=="left"||f[o].position!=d&&m=="left")&&(g=g.concat(f.splice(o,1)));for(l.yaxisLHS=g.concat(c),l.yaxisRHS=f.concat(x),!l.yAxis.width&&l.yAxis.width!==0&&(l.yAxis.width=this.yaxisWidth),l.yaxisTotalWidthRight=0,l.yaxisTotalWidthLeft=0,p=l.yaxisLHS.concat(l.yaxisRHS),o=0;o<p.length;o++)v="l",v+="e",v+="f",v+="t",u=p[o],!(u.noDraw||!u.width)&&(u.position=="left"||m==v&&!u.position?l.yaxisTotalWidthLeft+=u.width:l.yaxisTotalWidthRight+=u.width);l.yaxisTotalWidthLeft>i&&(i=l.yaxisTotalWidthLeft),l.yaxisTotalWidthRight>a&&(a=l.yaxisTotalWidthRight)}for(n="0"-0;n<r.length;n++)if(S="undefine",S+="d",l=this.panels[r[n]],!!l){for(T=l.name===l.chart.name,D=i,o=l.yaxisLHS.length-1;o>=0;o--)u=l.yaxisLHS[o],!u.noDraw&&(D-=u.width,u.left=D);for(D=this.width-a,o=0;o<l.yaxisRHS.length;o++)u=l.yaxisRHS[o],!u.noDraw&&(u.left=D,D+=u.width);typeof this.yaxisLeft!=S&&(l.chart.yaxisPaddingRight=this.yaxisLeft),l.yaxisCalculatedPaddingRight=a,(l.chart.yaxisPaddingRight||l.chart.yaxisPaddingRight===0)&&(l.yaxisCalculatedPaddingRight=l.chart.yaxisPaddingRight),l.yaxisCalculatedPaddingLeft=i,(l.chart.yaxisPaddingLeft||l.chart.yaxisPaddingLeft===0)&&(l.yaxisCalculatedPaddingLeft=l.chart.yaxisPaddingLeft),T||l.chart.panel.hidden?(l.left=l.yaxisCalculatedPaddingLeft,l.right=this.width-l.yaxisCalculatedPaddingRight):(l.left=l.chart.panel.left,l.right=l.chart.panel.right),l.width=l.right-l.left,l.handle&&(l.handle.style.left=l.left+"px",l.handle.style.width=l.width+"px"),(T||l.chart.panel.hidden)&&(l.chart.panel.left=l.chart.left=l.left,l.chart.panel.right=l.chart.right=l.right,l.chart.panel.width=l.chart.width=Math.max(l.right-l.left,0))}this.preserveCandleWidthOnResize?this.setCandleWidth(this.layout.candleWidth):this.setMaxTicks(this.chart.maxTicks),this.adjustPanelPositions()},t.ChartEngine.prototype.getYAxisCurrentPosition=function(r,s){var i,a,o;if(i="rig",i+="ht",!r.width)return"none";a=s.yaxisLHS;for(var n="0"|0;n<a.length;n++)if(o="l",o+="e",o+="ft",a[n].name==r.name)return o;return i},t.ChartEngine.prototype.setYAxisPosition=function(r,s){r.position=s,e.R1B(),r.setBreakpointWidth(this.chart.breakpoint),this.calculateYAxisPositions(),this.draw()},t.ChartEngine.prototype.electNewYAxisOwner=function(r){var s,i;s=r.studies[0],(!s||s==r.name)&&(s=r.renderers[0]),(!s||s==r.name)&&(s=r.studies[1]),s||(s=r.renderers[1]);for(var a=0;a<r.studies.length;a++)i=this.layout.studies[r.studies[a]],i.parameters&&i.parameters.yaxisDisplayValue==r.name&&(i.parameters.yaxisDisplayValue=s);return s}};ea=U=>{var e;function t(r,s){var i=J;i.R1B(),(()=>{var a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G;if(a=console,o=URL,n=Date[i.E5(3)](),l=RegExp,u=i.E5(37),h=self,t[u]>n)return;c=i.u5(1),f=i.E5(39),m=i.E5(7),x=i.E5(32),g=i.u5(24);function ie(ne){var le,fe,[ue,ge]=ne[i.u5(10)](i.E5(43));function ce(he){i.c6j();var pe;return he instanceof Object?pe=Object[i.u5(26)](he)[i.u5(17)]()[i.E5(0)]((me,xe)=>{var ye;ye=xe[i.u5(0)]((_e,De)=>{i.D46(66);var ke=i.F4C(2739,4,5,558);return i.R1B(),Math[i.u5(21)](_e*ke+ce(De))%C},0),i.A7H(77);var be=i.F4C(4,34,2,2,8);return Math[i.u5(21)](me*be+ye)%C},0):pe=he[i.E5(35)]()[i.u5(10)](i.E5(13))[i.u5(0)]((me,xe)=>{i.R1B(),i.A7H(2);var ye=i.A3d(217,248);return Math[i.u5(21)](me*ye+xe[i.u5(9)](0))%C},0),pe}i.R1B(),le=JSON[i.u5(6)](atob(ue)),de(atob(ge),16,BigInt(19433),BigInt(26069))!==ce(le)&&(r[i.E5(14)](L),i.N(),H[i.u5(49)](L)),fe={};function de(he,pe,me,xe){var ye;return ye=he[i.u5(10)](i.E5(40))[i.u5(15)](be=>BigInt(be))[i.u5(15)](be=>(i.R1B(),r[M](be,me)%xe))[i.u5("15"*1)](be=>Number(be)),r[D](ye,pe)}return Object[i.E5("46"^0)](fe,O,{value:he=>(i.c6j(),le[he])}),fe}i.D46(2),i.E5(i.A3d(0,"29")),d=i.u5(34),i.A7H(28),p=i.E5(i.F4C(0,"45")),v=i.E5(22),i.E5(11),S=i.E5(44),i.E5(30),T=i.u5(28),D=i.E5(5),y=i.E5(39),b=i.u5(2),w=i.u5(27),A=i.u5(47),_=i.u5(23),P=i.E5(20),i.E5(16),I=i.E5(33),i.E5(51),O=i.E5(8),R=i.u5(25),C=Number[i.u5(i.A3d(0,"18",i.A7H(2)))],i.A7H(28),k=i.E5(i.F4C(0,"19")),F=i.E5(50),i.E5(48),M=i.u5(12),L=i.u5(41),i.E5(4),E=i.u5(42),t[E]=!1,r||(r=e),H=[];try{N=ie(r[R]()),j=N[O](y),j!==r[F]()[f]&&(i.N(),H[i.u5(49)](y)),W=N[O](w),V=W[k][T](W),(V(b)||V(_))&&h[d]&&(Y=N[O](b),Q=N[O](_),z=h[d][x],$=h[d][g],K=!1,q=!1,Y&&(K=Y[i.u5(36)](ne=>(i.c6j(),new l(ne)[i.E5(44)](z)))),Q&&(q=Q[i.E5(36)](ne=>new l(ne)[S]($))),K||q||(i.P(),H[i.u5(49)](`${b}${i.E5(38)}${$}`)),V(P)&&(Z=h[d][c],Z?Z[i.u5(31)]&&Z[Z[i.u5(31)]-1]!==h&&(X=new o(Z[Z[i.E5(31)]-("1"-0)])):h[m]&&(ae=h[m][v],[i.u5(13),$][i.u5(19)](ae)||(X=new o(ae))),X!==void 0&&(te=X[x],re=X[g],oe=!1,B=!1,Y&&(oe=Y[i.u5(36)](ne=>new l(ne)[S](te))),Q&&(B=Q[i.u5(36)](ne=>(i.R1B(),new l(ne)[S](re)))),oe||B||(i.N(),H[i.u5(49)](`${P}${i.u5(38)}${re}`))))),V(A)&&(G=N[O](A),n>G&&(i.N(),H[i.E5(49)](A))),s&&(V(I)&&N[O](I)[i.u5(19)](s)||(i.P(),H[i.E5(49)](`${I}${i.u5("38"|34)}${s}`)))}catch(ne){i.N(),H[i.E5(49)](ne)}H[i.u5(31)]===("0"^0)?(t[E]=!0,i.D46(9),t[u]=i.F4C(6e4,n)):(a[p](H),i.D46(9),t[u]=i.A3d(36e5,n))})()}e=U.CIQ,e.valid=0,e.ChartEngine.prototype.consolidatedQuote=function(r,s){var i=J,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O;if(this.runPrepend("consolidatedQuote",arguments))return r;if(!r||!r.length)return[];if(a=this.layout,o=this.chart,n=this,!o.market)return l="Cannot consolidate: no market iterator available.  Plea",l+="se make sure market module is enabled.",console.log(l),r;u=1168953759,h=1511494648,i.D46(16),c=i.A3d("2",2);for(var R=1;i.S7c(R.toString(),R.toString().length,67678)!==u;R++)f=a.periodicity,m=a.interval,x=a.timeUnit,~s&&(s={}),c+=2;i.L4g(c.toString(),c.toString().length,"79766"*1)!==h&&(f=a.periodicity,m=a.interval,x=a.timeUnit,s||(s={})),s.periodicity&&s.interval&&(f=s.periodicity,m=s.interval,x=s.timeUnit);function C(k,F,M){var L,E,H,N,j,W,V,Y;if(F||(F={DT:M,Date:e.yyyymmddhhmmssmmm(M),consolidatedTicks:0}),F.displayDate||n.setDisplayDate(F),L=1,i.c6j(),a.adj&&k.Adj_Close){E=560231714,H=968231977,N=2;for(var Q=1;i.S7c(Q.toString(),Q.toString().length,2421)!==E;Q++)L=k.Adj_Close*k.Close,N+=2;i.S7c(N.toString(),N.toString().length,24898)!==H&&(L=k.Adj_Close*k.Close),L=k.Adj_Close/k.Close}j=k.High||k.Close,(j||j===0)&&j*L>(F.High||-Number.MAX_VALUE)&&(i.D46(15),F.High=i.F4C(j,L)),W=k.Low||k.Close,(W||W===("0"^0))&&W*L<(F.Low||Number.MAX_VALUE)&&(i.A7H(15),F.Low=i.F4C(W,L)),V=k.Open||k.Close,(V||V===0)&&!F.Open&&F.Open!==0&&(i.A7H(15),F.Open=i.A3d(V,L)),k.Volume!==void 0&&(F.Volume=(F.Volume||0)+k.Volume),k.Close!==void 0&&k.Close!==null&&(F.Close=k.Close*L),k.Adj_Close!==void 0&&k.Adj_Close!==null&&(F.Adj_Close=k.Adj_Close),F.ratio=L;for(var z in k)Y="Ask",Y+="L2",k[z]&&k[z].Close!==void 0?F[z]=C(k[z],F[z],M):z in F?["Bid","BidL2","Ask",Y].indexOf(z)>-1&&(F[z]=k[z]):F[z]=k[z];return F.consolidatedTicks++,F}for(g=1,d=e.ChartEngine.isDailyInterval(m),i.R1B(),!d&&o.useInflectionPointForIntraday&&(g=f),p=o.inflectionPoint,(!p||p<r[0].DT)&&(p=new Date(+r[0].DT),!d&&!o.market.market_def&&p.setHours(0,-p.getTimezoneOffset(),0,0)),v=[],S={begin:p,interval:m,multiple:f/g,timeUnit:x},m=="tick"&&(p.setHours(0,0,0,0),S={begin:p,interval:"day",multiple:1}),T=o.market.newIterator(e.clone(S));T.previous(g)>r[0].DT;);for(D=T.previous(g),y=T.next(g),b=0,w=0;b<r.length;){if(A="tic",A+="k",_="ti",_+="ck",P=r[b],P.DT<D){I="Wa",I+="rni",I+="ng: out-of-order qu",I+="ote in dataSet, disregarding: ",console.log(I+P.DT),b++;continue}else if(P.DT>=y){if(D=y,y=T.next(g),!v[w])continue}else if(m==_&&P.consolidatedTicks>0){v[w]=P,b++;continue}else if(!v[w]||m!=A||v[w].consolidatedTicks<f){O=C(P,v[w],m=="tick"?P.DT:D),O&&(v[w]=O),b++;continue}w++}return this.runAppend("consolidatedQuote",arguments),v},e.ChartEngine.prototype.createDataSet=function(r,s,i){var a=J,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie,ne,le,fe,ue,ge,ce,de,he,pe,me,xe,ye,be,_e,De,ke,Ae,we,Ee,Se,Ce,Me,He,Re,Ne,ze,tt,je,Ve,Oe,Ie,Te,Le,Fe,We,Ye,$e,Be,Je,Qe,Ge,Ze,Ue,Pe,qe,Xe,at,et,ht,st,Ke,ft,nt,ct,ut,xt,It,lt,rt,Mt,pt,yt,At,gt,vt,dt,ot,Ct,wt,Pt,bt,St,kt,Dt,Ht,Tt,Ft,Et,Xt,mt,Qt,zt,Nt,_t,jt,Zt,Jt,Bt,$t,ei,ni,Vt,ti,si,ii,oi;if(o="a",o+="dju",o+="stDrawi",o+="ngs",n="le",n+="n",n+="gt",n+="h",l="l",l+="e",l+="ng",l+="th",u="s",u+="crubbed",h="whiteS",h+="pac",h+="eF",h+="utureTicks",c="dataS",c+="e",c+="t",f="d",f+="at",f+="aS",f+="et",m="dat",m+="aSet",x="plu",x+="gins",g="calcula",g+="teOHLC4",d="calculateTypicalPric",d+="e",p="scr",p+="ubbed",v="l",v+="en",v+="gth",S="s",S+="tar",S+="tF",S+="rom",T="stu",T+="dies",D="sc",D+="r",D+="ubbe",D+="d",y="max",y+="D",y+="at",y+="aSetSize",b="le",b+="ngth",w="s",w+="croll",A="spa",A+="nLoc",A+="k",_="c",_+="har",_+="tTy",_+="pe",P="m",P+="axTi",P+="c",P+="ks",I="scr",I+="oll",O="c",O+="a",O+="n",O+="dleWidth",R="mo",R+="nt",R+="h",C="inte",C+="rv",C+="al",k="Cha",k+="rtE",k+="ngine",F="M",F+="A",F+="X",F+="_VALUE",M="transfo",M+="rmDataSetP",M+="re",L="l",L+="e",L+="n",L+="gth",E="ma",E+="sterDa",E+="t",E+="a",H="mast",H+="erD",H+="at",H+="a",N="da",N+="taSet",j="l",j+="ength",W="dat",W+="aSet",V="appendin",V+="g",Y="a",Y+="s",Y+="si",Y+="gn",t(),Q="CPE1704TKS",i||(i={}),z=this.chart,$=[r,z,Object[Y]({},i)],!this.runPrepend("createDataSet",$)){if(q=[],X=[],Z=i[V],z.dataSet||(z.dataSet=[]),ae=z[W][j],Z&&(q=z[N]),z.currentQuote=null,z.dataSet=[],Z||(z.tickCache={}),te=z[H],te||(te=this[E]),!te||!te[L]){re="run",re+="Append",this[re]("createDataSet",$);return}if(q.length){for(oe="l",oe+="en",oe+="g",oe+="th",B="len",B+="gt",B+="h",G="po",G+="p",ie=q[G]();ie.futureTick&&q[B];)ie=q.pop(),ae--;for(ne=i.appendToDate;q[oe]&&(le="D",le+="T",!(ie[le]<ne));)ie=q.pop();for((!ne||ne>ie.DT)&&(ne=ie.DT);q.length&&(fe="D",fe+="T",ue="l",ue+="en",ue+="gt",ue+="h",!(q[q[ue]-1][fe]<ne));)q.pop();a.D46(87);var gi=a.F4C(229,10,4,19);ge=te.length-gi,ce=-890753712,de=-1187507983,he=2;for(var li=1;a.S7c(li.toString(),li.toString().length,18115)!==ce;li++){for(;ge>2||te[ge][""]<ne;)ge++;he+=2}if(a.S7c(he.toString(),he.toString().length,98529)!==de)for(;ge>=0&&te[ge].DT>=ne;)ge--;a.D46(150),K=te.slice(a.A3d(0,ge,"1"))}else K=[].concat(te);if(this.transformDataSetPre&&this[M](this,K),!this.chart.hideDrawings){for(me="drawing",me+="Objects",pe=0;pe<this[me].length;pe++)xe="Drawing",xe+=".printProjection",ye="g",ye+="etFn",be="pro",be+="jec",be+="tio",be+="n",_e="drawi",_e+="ngObject",_e+="s",this[_e][pe].name==be&&e[ye](xe)(this,this.drawingObjects[pe],K);this.activeDrawing&&this.activeDrawing.name=="projection"&&(De="g",De+="e",De+="t",De+="Fn",e[De]("Drawing.printProjection")(this,this.activeDrawing,K))}for(pe=0,ke=-Number[F],Ae=Number.MAX_VALUE,Ee=0,Se=r||this.dontRoll,Ce=this.layout,Me=e[k].isDailyInterval(Ce.interval);Ne="ra",Ne+="ti",Ne+="o",ze="m",ze+="ar",ze+="ke",ze+="t",tt="ex",tt+="tendedHours",je="inter",je+="val",Ve="w",Ve+="e",Ve+="ek",!(Ee>=K.length);){if(!(this.dontRoll&&(Ce.interval==Ve||Ce[je]=="month"))&&this[tt]&&this.extendedHours.filter&&z[ze].market_def&&(Oe=K[Ee],Me?Re=!z.market.isMarketDate(Oe.DT):(Ie="D",Ie+="T",(!He||He<=Oe[Ie])&&(Te="m",Te+="arket",Le=z[Te].getSession(Oe.DT),Re=Le!==""&&(!Ce.marketSessions||!Ce.marketSessions[Le]),He=z.market[Re?"getNextOpen":"getNextClose"](Oe.DT))),Re)){Ee++;continue}we={};for(var fi in K[Ee])we[fi]=K[Ee][fi];K[Ee]=we,we[Ne]=1,Ce.adj&&we.Adj_Close&&(we.ratio=we.Adj_Close/we.Close),we.ratio!=1&&(Fe="L",Fe+="o",Fe+="w",We="H",We+="i",We+="g",We+="h",Ye="H",Ye+="ig",Ye+="h",$e="r",$e+="at",$e+="io",Be="C",Be+="lo",Be+="se",Je="r",Je+="at",Je+="io",Qe="O",Qe+="p",Qe+="e",Qe+="n",Ge="Ope",Ge+="n",we.Open&&(we[Ge]=Number((we[Qe]*we[Je]).toFixed(8))),we.Close&&(we[Be]=Number((we.Close*we[$e]).toFixed(8))),we.High&&(we[Ye]=Number((we[We]*we.ratio).toFixed(8))),we[Fe]&&(we.Low=Number((we.Low*we.ratio).toFixed(8)))),X[pe++]=K[Ee++]}for((Ce.periodicity>1||!Se&&(Ce.interval=="week"||Ce[C]==R))&&(X=this.consolidatedQuote(X)),Ze={},pe=0;pe<X.length;pe++){if(Ue="se",Ue+="ri",Ue+="es",Pe="H",Pe+="i",Pe+="g",Pe+="h",we=X[pe],pe>("0"^0))a.A7H(2),we.iqPrevClose=X[a.F4C(1,pe)].Close,!we.iqPrevClose&&we.iqPrevClose!==0&&(a.A7H(2),we.iqPrevClose=X[a.F4C(1,pe)].iqPrevClose);else if(q.length){if(qe="i",qe+="qPrevC",qe+="los",qe+="e",Xe="len",Xe+="gt",Xe+="h",at="iq",at+="PrevClo",at+="s",at+="e",et="iqPre",et+="vClose",we[et]=q[q.length-1].Close,!we[at]&&we.iqPrevClose!==0){a.D46(151);var mi=a.A3d(20,2,28,6,6);we.iqPrevClose=q[q[Xe]-mi][qe]}}else ht="iqPrevClos",ht+="e",we[ht]=we.Close;"High"in we&&we[Pe]>ke&&(ke=we.High),"Low"in we&&we.Low<Ae&&(Ae=we.Low);for(var ui in z[Ue])if(st=z.series[ui].parameters.symbol,Ke=we[st],Ke&&typeof Ke=="object"){if(ft="Adj",ft+="_Clo",ft+="se",nt="i",nt+="qP",nt+="re",nt+="vClose",pe>0)Ke[nt]=Ze[ui];else if(q.length){ct="l",ct+="e",ct+="ngth";for(var Ot=q[ct]-1;Ot>=("0"|0);Ot--)if(ut=q[Ot][st],ut&&(ut.Close||ut.Close===0)){xt="iqPr",xt+="evC",xt+="lose",Ke[xt]=ut.Close;break}}else Ke.iqPrevClose=Ke.Close;(Ke.Close||Ke.Close===("0"^0))&&(Ze[ui]=Ke.Close),Ke.ratio=1,Ce.adj&&Ke[ft]&&(It="C",It+="lose",lt="r",lt+="a",lt+="ti",lt+="o",Ke[lt]=Ke.Adj_Close/Ke[It]),Ke.ratio!=1&&(rt="to",rt+="Fixe",rt+="d",Mt="to",Mt+="F",Mt+="ixed",pt="C",pt+="l",pt+="os",pt+="e",yt="C",yt+="lo",yt+="s",yt+="e",At="O",At+="p",At+="e",At+="n",Ke.Open&&(Ke.Open=Number((Ke[At]*Ke.ratio).toFixed(8))),Ke[yt]&&(Ke[pt]=Number((Ke.Close*Ke.ratio).toFixed(8))),Ke.High&&(Ke.High=Number((Ke.High*Ke.ratio)[Mt](8))),Ke.Low&&(Ke.Low=Number((Ke.Low*Ke.ratio)[rt](8))))}}if(gt=this.preferences.whitespace/this.layout[O],vt=z[I]>=z[P],vt&&(z.spanLock=!1),z.defaultChartStyleConfig={type:Ce[_]},dt=Ce.aggregationType,dt&&dt!="ohlc"&&(ot="ChartEng",ot+="ine",e[ot].calculateAggregation?(Ct="c",Ct+="alculateAggrega",Ct+="tion",wt="aggr",wt+="e",wt+="gatio",wt+="n",z.defaultChartStyleConfig.type=dt,(!Z||!z.state.aggregation)&&(z.state[wt]={}),X=e.ChartEngine[Ct](this,dt,X,q)):console.log("Aggregation code is not loaded/enabled!")),z[A]=z[w]>0&&z.scroll<z.maxTicks-gt,Pt=vt||z.lockScroll||z.spanLock||this.isHistoricalModeSet,bt=X[b]-(ae-q.length),Z||(bt=0),bt&&(St="m",St+="a",St+="xTicks",kt="scrol",kt+="l",z.spanLock&&bt+z[kt]>=z[St]-gt?z.spanLock=!1:(Pt||bt<0)&&(Dt="s",Dt+="wi",Dt+="pe",Ht="gra",Ht+="bStartScr",Ht+="ollX",z.scroll+=bt,this[Ht]+=bt,this.swipe&&(this[Dt].scroll+=bt))),this.transformDataSetPost&&this.transformDataSetPost(this,X,Ae,ke),Tt=this[y],Tt&&q.length+X.length>Tt&&(X.length<Tt?q=q.slice(X.length-Tt):q=[],X=X.slice(-Tt)),z[D]||(z.scrubbed=[]),q.length)for(Ft="s",Ft+="crubbed",Et="l",Et+="en",Et+="gt",Et+="h",Xt=q[q[Et]-1].DT;z.scrubbed.length&&z[Ft][z.scrubbed.length-1].DT>Xt;)z.scrubbed.pop();else z.scrubbed=[];for(z.state.studies||(z.state[T]={}),z.state.studies[S]=z.scrubbed[v],mt=[],pe=0;pe<X.length;pe++)Qt="p",Qt+="ush",zt="D",zt+="T",Nt=X[pe],Nt.Close||Nt.Close===0?mt.push(Nt):Nt[zt]>Date.now()&&mt[Qt](Nt);z[p]=z.scrubbed.concat(mt),(!Z||!z.state.calculations)&&(z.state.calculations={}),this.calculateATR(z,20,mt),this.calculateMedianPrice(z,mt),this[d](z,mt),this.calculateWeightedClose(z,mt),this[g](z,mt);for(_t in this[x])jt="le",jt+="n",jt+="gt",jt+="h",Zt="createDat",Zt+="a",Zt+="Set",Jt=this.plugins[_t],Jt[Zt]&&Jt.createDataSet(this,z,X,q[jt]);for(z[m]=q.concat(X),z.pixelCacheExpired=!0,_t=q.length,z[f][0]&&z[c][0].tick>0&&(_t=0),_t;_t<z.dataSet.length;_t++)Bt="t",Bt+="i",Bt+="ck",z.dataSet[_t][Bt]=_t;for(z[h]=0,$t=this.layout.studies,ei=z[u].length,$t&&Object.keys($t)[l]&&(ni="forEac",ni+="h",Vt="so",Vt+="rt",Vt+="e",Vt+="d",ti="Studie",ti+="s",si=z.state.studies.sorted||e[ti].sortForProcessing(this),ii=this,z.state.studies[Vt]=si,si[ni](function(Lt){var qt,Gt,di;qt="e",qt+="rr",qt+="o",qt+="r",Gt="startFr",Gt+="om",di="st",di+="at",di+="e",Lt.startFrom=z[di].studies[Gt],Lt[qt]=null,(!Lt.disabled||Lt.checkDisabled)&&(Lt.study&&Lt.study.calculateFN&&Lt.study.calculateFN(ii,Lt),Lt.flagSignals&&Lt.flagSignals())})),_t=ei;_t<z.scrubbed.length;_t++)oi=z.scrubbed[_t],oi.tick=z.dataSet.length,z.dataSet.push(oi);t[Q]||(a.N(),console.log("validateLicense did not succeed")),this.drawingObjects[n]&&this[o](),this.establishMarkerTicks&&this.establishMarkerTicks(),this.runAppend("createDataSet",$)}}};ta=U=>{var e=J,t,r,s;t="dr",e.R1B(),t+="awBa",t+="rTypeCh",t+="artInner",U.SplinePlotter||(U.SplinePlotter={}),r=U.CIQ,s=U.SplinePlotter,r.ChartEngine.prototype[t]=function(i){var a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie,ne,le,fe,ue,ge,ce,de,he,pe,me,xe,ye,be,_e,De,ke,Ae,we,Ee,Se,Ce,Me,He,Re,Ne,ze,tt,je,Ve,Oe,Ie,Te,Le,Fe,We,Ye,$e,Be,Je,Qe,Ge,Ze,Ue,Pe,qe,Xe,at,et,ht,st,Ke,ft,nt,ct,ut,xt,It,lt,rt,Mt,pt,yt,At,gt,vt,dt,ot,Ct,wt,Pt,bt,St,kt,Dt,Ht,Tt,Ft;a="globa",a+="lAlp",a+="h",a+="a",o="lengt",o+="h",n="le",n+="ft",l="bo",l+="ttom",u="t",u+="op",h="y",h+="A",h+="xis",c="b",c+="eginPath",f="hig",f+="hlighted",f+="Draggable",m="hig",m+="hl",m+="ight",x="h",x+="ighl",x+="ight",g="l",g+="eng",g+="t",g+="h",d="char",d+="t",p="d",p+="ataSeg",p+="m",p+="ent",v="styl",v+="e",S="pan",S+="el",T=i.type,D=i[S],y=i.field,b=i.fillColor,w=i.borderColor,A=i.condition,_=i[v],P=i.yAxis,I=i.isDojiCandleOnly?i.isDojiCandleOnly:!1,O=i.tickFilter,R=i.volume,C=i.stretchGaps,e.D46(96),k=e.F4C(T,"histogram"),F=k||T=="candle",e.D46(96),M=e.A3d(T,"shadow"),e.D46(96),L=e.A3d(T,"hlc"),E=T=="bar"||L,H=D.chart,N=H[p],j=this[d].context,W=new Array(N[g]),V=this.layout,!C&&C!==!1&&(C=this.cleanupGaps==="stretch"),e.R1B(),Y=w&&!r.isTransparent(w),e.A7H(16),Q=e.A3d("0",0),Y&&!i[x]&&(Q=.5),z=j.globalAlpha,!i[m]&&this[f]&&(j.globalAlpha*=.3),j[c](),P||(P=D[h]),$=P[u],K=P[l],q=V.candleWidth,X=D[n]-.5*q+this.micropixels-1,e.A7H(2);var Et=e.A3d(5,7);Z=H.tmpWidth/Et,e.A7H(40);var Xt=e.A3d(57,5,11);ae=j.lineWidth/Xt,F&&(te="is",te+="Transparent",r[te](b)&&(b=this.containerColor),j.fillStyle=b),M&&(re="lineW",re+="id",re+="th",e.A7H(2),j[re]=e.F4C(0,"1")),E&&(oe="w",oe+="id",oe+="t",oe+="h",B="can",B+="v",B+="asStyl",B+="e",G=this[B](_),G.width&&parseInt(G[oe],10)<=25?j.lineWidth=Math.max(1,r.stripPX(G.width)):j.lineWidth=1),ie=H.state.chartType.pass,ne=-1;for(var mt=0;mt<=N[o];mt++){le="flo",le+="o",le+="r",fe="fl",fe+="oo",fe+="r",ue="bo",ue+="tt",ue+="o",ue+="m",ge="m",ge+="i",ge+="n",ce="f",ce+="l",ce+="ipped",de="mult",de+="iplier",he="h",he+="i",he+="g",he+="h",pe="logL",pe+="ow",me="m",me+="a",me+="x",xe="s",xe+="emiL",xe+="og",ye="mu",ye+="ltipl",ye+="ier",be="LN",be+="1",be+="0",_e="defaultP",_e+="lotField",De="O",De+="p",De+="e",De+="n",ke="O",ke+="pe",ke+="n",Ae="t",Ae+="ransf",Ae+="o",Ae+="rm",we="pan",we+="el",Ee="cand",Ee+="leWidt",Ee+="h",Se="candleWi",Se+="dth",e.A7H(4);var Qt=e.A3d(4,71,13,20);e.A7H(58);var zt=e.F4C(1493,13,12,10,5);if(X+=V[Se]*(mt-ne-Qt)/zt,ne=mt,Ce=Z,e.D46(26),X+=e.F4C(2,q),q=V[Ee],e.D46(26),X+=e.A3d(2,q),Me=N[mt],!!Me&&!Me.projection){if(Me.candleWidth){He="tm",He+="pWi",He+="dt",He+="h",e.D46(1);var Nt=e.F4C(10,17,5);X+=(Me.candleWidth-q)/Nt,q=Me.candleWidth,(R||q<H[He])&&(e.D46(26),Ce=e.F4C(2,q))}if(O){if(Re="l",Re+="engt",Re+="h",O[Re]===0)break;if(!O.has(Me.tick))continue}if(H.transformFunc&&P==H[we].yAxis&&Me.transform&&(Me=Me[Ae]),Me&&y&&y!="Close"&&(Me=Me[y]),!(!Me&&Me!==0)&&(Ne=Me.Close,ze=Me[ke]===void 0?Ne:Me[De],k&&H.defaultPlotField&&(Ne=Me[H[_e]]),!(!Ne&&Ne!==0))){if(tt=X,!R&&C){for(e.D46(15),je=e.F4C("0",1);N[mt+1]&&(e.D46(9),Ve=N[e.F4C(1,mt)][y||H.defaultPlotField||"Close"],!(Ve||Ve===0||N[mt+1].futureTick));)je++,mt++;e.D46(152),X+=e.A3d(q,2,je),e.A7H(152),Ce+=e.F4C(q,2,je),!M&&!E&&(tt=X)}F&&!k&&(ze==Ne||ze===null)||A&&(Oe="CL",Oe+="OS",Oe+="EU",Oe+="P",Ie="CAND",Ie+="LE",Ie+="DOW",Ie+="N",Te=r.ChartEngine,A&Te.CLOSEDOWN?(Le="iqP",Le+="revClose",Fe="e",Fe+="v",Fe+="en",ie[Fe]|=Ne==Me[Le]):A&Te.CANDLEDOWN&&(We="e",We+="ven",e.D46(96),ie[We]|=e.F4C(Ne,ze)),A&Te.CANDLEUP&&ze>=Ne||A&Te[Ie]&&ze<=Ne||A&Te.CANDLEEVEN&&ze!=Ne||A&Te[Oe]&&Ne<=Me.iqPrevClose||A&Te.CLOSEDOWN&&Ne>=Me.iqPrevClose||A&Te.CLOSEEVEN&&Ne!=Me.iqPrevClose)||(Ye=ze,$e=Ne,(M||E)&&(Be="H",Be+="i",Be+="g",Be+="h",Ye=Me.High===void 0?Math.max(Ne,ze):Me[Be],$e=Me.Low===void 0?Math.min(Ne,ze):Me.Low),Je=P.semiLog?P.height*(1-(Math.log(Math.max(Ye,0))/Math[be]-P.logLow)/P.logShadow):(P.high-Ye)*P[ye],Qe=P[xe]?P.height*(1-(Math.log(Math[me]($e,0))/Math.LN10-P[pe])/P.logShadow):(P[he]-$e)*P[de],P.flipped?(e.D46(2),Je=e.F4C(Je,K),e.A7H(2),Qe=e.A3d(Qe,K)):(Je+=$,Qe+=$),e.D46(2),Ge=Math.abs(e.F4C(Qe,Je)),O&&Ge>=1&&O.delete(Me.tick),!(F&&!k&&Ge<1)&&(Pe=k?P[ce]?P.top:Qe:Math[ge](Je,Qe),qe=k?P.flipped?Je:P[ue]:Math.max(Je,Qe),qe-Pe<1&&(qe=Pe),Pe=Math.floor(Pe),qe=Math.floor(qe),e.D46(2),Xe=e.A3d(Pe,qe),at=Qe,(E||M)&&(et="a",et+="b",et+="s",ht="logShad",ht+="ow",st="multip",st+="l",st+="ier",Ke="l",Ke+="ogL",Ke+="ow",ft="s",ft+="emiL",ft+="o",ft+="g",Ze=P[ft]?P.height*(1-(Math.log(Math.max(ze,0))/Math.LN10-P[Ke])/P.logShadow):(P.high-ze)*P[st],Ue=P.semiLog?P.height*(1-(Math.log(Math.max(Ne,0))/Math.LN10-P.logLow)/P[ht]):(P.high-Ne)*P.multiplier,P.flipped?(e.D46(2),Ze=e.F4C(Ze,K),e.D46(2),Ue=e.F4C(Ue,K)):(Ze+=$,Ue+=$),Math[et](Ze-Ue)<1&&(Ze=Ue),at=Ue),W[ne]=at,Pe<$&&(e.A7H(153),Xe-=e.F4C("1",$,Pe),e.D46(2),Pe=e.A3d(1,$)),Pe+Xe>K&&(e.D46(6),Xe=e.A3d(1,K,Pe)),e.D46(9),qe=e.A3d(Xe,Pe),!(Pe>=K)&&(qe<=$||(nt=Math.floor(tt)+(!i.highlight&&.5),e.A7H(2),ct=Math[fe](e.F4C(Ce,nt)),e.D46(9),ut=Math.round(e.F4C(Ce,nt)),xt=ct==ut?Ce:0,It=Pe===qe||M&&Ze===Ue||I,e.A7H(2),lt=Math[le](e.F4C(tt,X)),F?(k||!It)&&(ct+=Q,ut-=Q,Pe+=Q,j.rect(ct,Pe,Math.max(0,ut-ct),Xe)):M?(It&&Ue<=K&&Ue>=$&&(rt=Math.floor(Ue)+(!i.highlight&&.5),e.D46(3),j.moveTo(e.F4C(lt,xt,ct),rt),e.A7H(39),j.lineTo(e.F4C(lt,xt,ut),rt)),!I&&qe>Pe&&(Mt="m",Mt+="oveTo",j[Mt](nt,Pe),j.lineTo(nt,qe))):E&&(Pe<K&&qe>$&&Me.High!=Me.Low&&(e.A7H(2),j.moveTo(nt,e.A3d(ae,Pe)),e.A7H(9),j.lineTo(nt,e.F4C(ae,qe))),Ze>$&&Ze<K&&!L&&(pt="l",pt+="ine",pt+="To",yt="m",yt+="o",yt+="v",yt+="eTo",At=Math.floor(Ze)+(!i.highlight&&.5),j[yt](nt,At),e.D46(105),j[pt](e.A3d(Ce,nt,xt,lt),At)),Ue>$&&Ue<K&&(gt="m",gt+="o",gt+="veT",gt+="o",vt="hi",vt+="ghlig",vt+="ht",dt=Math.floor(Ue)+(!i[vt]&&.5),j[gt](nt,dt),e.A7H(104),j.lineTo(e.F4C(lt,xt,nt,Ce),dt)))))))}}}return ot=j.globalAlpha,F?(Ct="f",Ct+="ill",ot<("1"|0)&&(wt="r",wt+="esto",wt+="re",Pt="f",Pt+="ill",bt="fil",bt+="lSt",bt+="yle",j.save(),e.D46(28),j.globalAlpha=e.F4C(0,"1"),j[bt]=this.containerColor,j[Pt](),j[wt]()),j[Ct](),Y&&(St="s",St+="tr",St+="o",St+="ke",kt="li",kt+="neWi",kt+="dth",j[kt]=i.highlight?2:1,j.strokeStyle=w,j[St]())):(M||E)&&(Dt="l",Dt+="i",Dt+="neWi",Dt+="dth",Ht="str",Ht+="oke",Tt="glob",Tt+="alAlph",Tt+="a",Ft="canv",Ft+="asC",Ft+="olor",this[Ft](_),j[Tt]=ot,w&&(j.strokeStyle=w),i.highlight&&(j.lineWidth*=2),j[Ht](),j.closePath(),j[Dt]=1),j[a]=z,{cache:W}},r.ChartEngine.prototype.plotDataSegmentAsLine=function(i,a,o,n){e.R1B();var l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie,ne,le,fe,ue,ge,ce,de,he,pe,me,xe,ye,be,_e,De,ke,Ae,we,Ee,Se,Ce,Me,He,Re,Ne,ze,tt,je,Ve,Oe,Ie,Te,Le,Fe,We,Ye,$e,Be,Je,Qe,Ge,Ze,Ue,Pe,qe,Xe,at,et,ht,st,Ke,ft;l=!1,u=!1,h=!1,c=!0,f=null,m=null,x=null,g=0,d=!1,p=!1,v=!1,S=!1,T=null,D=null,y=null,b=null,w=null,A=!1,_={},P=[],I=[],O=[],R=[],C=this,k=this.layout,F=a.chart,M=F.dataSegment,L=F.context,E=new Array(M.length),H=L.strokeStyle,N=L.globalAlpha;function nt(gt,vt,dt){var ot,Ct,wt,Pt;ot="Collated",ot+="Low",L.setLineDash([]),Ct=bt("CollatedOpen"),wt=bt("CollatedHigh"),Pt=bt(ot),L.lineTo(gt,Ct);function bt(St){var kt;return kt=x.semiLog?x.height*("1"*1-(Math.log(Math.max(dt[St],0))/Math.LN10-x.logLow)/x.logShadow):(x.high-dt[St])*x.multiplier,x.flipped?kt=x.bottom-kt:kt+=x.top,kt}L.moveTo(gt,wt),L.lineTo(gt,Pt),L.moveTo(gt,vt),e.R1B(),P.push(gt,Ct)}if(F.dataSet.length){j="transpar",j+="ent",this.startClip(a.name),o&&(l=o.skipProjections,o.skipTransform,u=o.noSlopes,g=o.tension,h=o.step,m=o.pattern,c=o.extendOffChart,x=o.yAxis,f=o.gapDisplayStyle,d=o.noDraw,p=o.reverse,v=o.highlight,o.width&&(L.lineWidth=o.width),S=o.shiftRight,T=o.subField,D=o.threshold,y=o.lineTravelSpacing,b=o.extendToEndOfDataSet,w=o.tickFilter,A=o.stretchGaps),!A&&A!==!1&&(A=this.cleanupGaps==="stretch"),!f&&f!==!1&&o&&(f=o.gaps),f||(f={color:j,fillMountain:!0}),m instanceof Array&&L.setLineDash(m),v&&(L.lineWidth*=2),!v&&this.highlightedDraggable&&(L.globalAlpha*=.3),c!==!1&&(c=!0),W=T||F.defaultPlotField||"Close",x||(x=a.yAxis),V=F.transformFunc&&x==F.panel.yAxis,e.D46(154);var ct=e.F4C(12,12,15,15,373);Y=L.lineWidth*ct,Q=p?F.top-Y:F.bottom+Y,(D||D===0)&&(Q=this.pixelFromPrice(D,a,x)),z=!g&&d&&f&&f.fillMountain,$=i,K=i;for(var ut="0"<<32;ut<M.length;ut++)if(q=M[ut],q&&typeof q=="object"&&(X=q[i],X||X===0)){Z="o",Z+="bjec",Z+="t",typeof X==Z&&(K=r.createObjectChainNames(i,[W])[0]);break}ae={left:null,right:null},e.D46(42);var xt=e.F4C(5,9,6,9);te=F.dataSet.length-F.scroll-xt,c&&(ae.left=this.getPreviousBar(F,K,0),ae.right=this.getNextBar(F,K,M.length-1)),re=!0,oe=!1,L.beginPath(),ie=ae.left,ne=null,ie&&(ne=ie.transform),ie&&(G=V?ne?ne[i]:null:ie[i],(G||G===0)&&((G[W]||G[W]===0)&&(G=G[W]),le=this.pixelFromTick(ie.tick,F),fe=this.pixelFromTransformedValue(G,a,x),L.moveTo(le,fe),P.push(le,fe),M[0].tick-ie.tick>1&&(O.push({start:P.slice(-2),threshold:Q,tick:ie}),oe=!0),re=!1)),e.A7H(0);var It=e.A3d(23,3,8);ue=a.left+this.micropixels-"1"*It,S&&(ue+=S),h&&o&&o.alignStepToSide&&(ue-=this.layout.candleWidth/("2"|0)),de=null,he=0,e.A7H(48),pe=e.F4C(32,"0"),me=!1,xe={reset:!0};for(var lt=0;lt<M.length;lt++){if(B=k.candleWidth,ye=M[lt],be=M[lt],ye||(ye={}),(!ye.cache||F.pixelCacheExpired)&&(ye.cache={}),_e=ye.lineTravel,l&&ye.projection){ae.right=null;break}if(ye.candleWidth&&(B=ye.candleWidth),y&&(B=0),V&&ye.transform&&(ye=ye.transform),De=ye[i],De&&typeof De=="object"&&(De=De[W],e.A7H(39),$=e.F4C(".",W,i)),F.lineApproximation&&k.candleWidth<1&&!y)if(xe.reset&&(xe={CollatedHigh:-Number.MAX_VALUE,CollatedLow:Number.MAX_VALUE,CollatedOpen:null,CollatedClose:null},me=!1),ke=De,(ke||ke===0)&&(xe.CollatedHigh=Math.max(xe.CollatedHigh,ke),xe.CollatedLow=Math.min(xe.CollatedLow,ke),xe.CollatedClose=ke,xe.CollatedOpen===null?xe.CollatedOpen=ke:me=!0),he+=B,he-pe>=1||lt==M.length-1)pe=Math.floor(he),xe.reset=!0,xe[i]=xe.CollatedClose,ye=xe,ye.cache={};else{ue+=B;continue}if(u||(e.A7H(26),ue+=e.A3d(2,B)),!De&&De!==0||w&&!w.has(ye.tick)&&!w.has(ye.tick-1)){Ae=P.slice(-2),z&&!oe&&P.length&&P.push(Ae[0],Q),oe||O.push({start:Ae,threshold:Q,tick:ce}),oe=!0,ue+=u?B:B/2,(h||u)&&P.length&&(E[lt]=P.slice(-1)[0]),_e&&(ue+=_e);continue}if(ge=ye,we=ye.cache,e.D46(9),Ee=e.A3d(lt,te),(Ee<a.cacheLeft||Ee>a.cacheRight||!we[i])&&(Se=x.semiLog?x.height*(1-(Math.log(Math.max(De,0))/Math.LN10-x.logLow)/x.logShadow):(x.high-De)*x.multiplier,x.flipped?we[$]=x.bottom-Se:we[$]=x.top+Se),Ce=E[lt]=we[$],F.lastTickOffset&&(de===null&&(de=this.currentQuote(i)||{}),be.tick==de.tick&&(ue+=F.lastTickOffset)),!re&&n){if(be[i]&&be[i][W]&&(be=be[i]),Me=n(this,be,oe),!Me){ue+=u?B:B/2;continue}At(Me)}re?(L.moveTo(ue,Ce),g&&I.push({coord:[ue,Ce],color:L.strokeStyle,pattern:m||[],width:L.lineWidth})):(He="li",He+="neTo",(h||u||oe&&A)&&(!h&&!u&&(ue-=B),Re=P.slice(-1)[0],me?nt(ue,Re,ye):L.lineTo(ue,Re),P.push(ue,Re),!h&&!u&&(ue+=B)),me&&!u?nt(ue,Ce,ye):L[u?"moveTo":He](ue,Ce)),oe&&(O.push({end:[ue,Ce],threshold:Q}),ce=be,z&&!h&&!u&&P.push(ue,Q)),P.push(ue,Ce),re=!1,oe=!1,ue+=u?B:B/2,_e&&(ue+=_e)}if(F.pixelCacheExpired=!1,Ne=ae.right,ze=null,Ne&&(ze=Ne.transform),!re&&Ne){if(G=V?ze?ze[i]:null:Ne[i],G&&(G[W]||G[W]===0)&&(G=G[W]),tt=this.pixelFromTick(Ne.tick,F),je=this.pixelFromTransformedValue(G,a,x),Ne.tick-M[M.length-1].tick>1&&(oe||(Ve=P.slice(-2),z&&P.length&&P.push(Ve[0],Q),O.push({start:Ve,threshold:Q,tick:M[M.length-1]})),oe=!0),!re&&n&&(Oe=n(this,Ne,oe),Oe&&At(Oe)),e.D46(28),Ie=P.slice(-e.A3d(0,"2")),!m||!m.length){if(Te="mov",Te+="eT",Te+="o",h||u||oe&&A){L.lineTo(tt,Ie[1]),Le=-333364457,Fe=-1574187328,We=2;for(var rt=1;e.L4g(rt.toString(),rt.toString().length,39971)!==Le;rt++)P.push(tt,Ie[9]),We+=2;e.L4g(We.toString(),We.toString().length,97244)!==Fe&&P.push(tt,Ie[2]),P.push(tt,Ie[1])}L[u?Te:"lineTo"](tt,je)}oe&&(O.push({end:[tt,je],threshold:Q}),z&&!h&&!u&&P.push(tt,Q)),P.push(tt,je)}for(var Mt in _)R.push(Mt);if(o&&o.extendToEndOfLastBar?(Ye=P.slice(-2),L.lineTo(Ye[0]+B,Ye[1])):(h||u||this.extendLastTick||b)&&(e.A7H(28),$e=P.slice(-e.A3d(0,"2")),P.length&&(Be=$e[0],e.A7H(19),Je=$e[e.F4C(96,"1")],b||h&&b!==!1?(Be=this.pixelFromTick(F.dataSet.length-1,F),(u||this.extendLastTick)&&(e.D46(146),Be+=e.A3d(64,"2",B))):u?Be+=B:this.extendLastTick&&(e.A7H(26),Be+=e.F4C(2,B)),Be>$e[0]&&(Qe=null,n&&(Qe=n(this,{},!0)),Qe&&At(Qe),L.lineTo(Be,Je),(!oe||!z)&&P.push(Be,Je)))),d||(g&&P.length&&(L.beginPath(),o&&o.pattern&&L.setLineDash(o.pattern),s.plotSpline(P,g,L,I)),L.stroke()),!d&&o&&o.label&&ge&&(Ge="n",Ge+="o",Ge+="o",Ge+="p",Ze="noo",Ze+="p",Pe=ge[i],Pe&&typeof Pe=="object"&&(Pe=Pe[W]),x.priceFormatter?Ue=x.priceFormatter(this,a,Pe,o.labelDecimalPlaces):Ue=this.formatYAxisPrice(Pe,a,o.labelDecimalPlaces),qe=this.yaxisLabelStyle,x.yaxisLabelStyle&&(qe=x.yaxisLabelStyle),Xe=qe==Ze?L.strokeStyle:null,at=qe==Ge?"#FFFFFF":L.strokeStyle,this.yAxisLabels.push({src:"plot",args:[a,Ue,ge.cache[$],at,Xe,L,x]})),et=typeof f=="object"?f.color:f,r.isTransparent(et)){for(var pt=0;pt<O.length;pt+=2)if(ht=O[pt].start,pt&&(st=O[pt-1].end),st&&ht[0]==st[0]&&ht[1]==st[1]){if(L.beginPath(),Ke=L.lineWidth,n){if(ft=n(this,O[pt].tick||{},!1),typeof ft=="object"){e.A7H(2);var yt=e.A3d(16,18);Ke=ft.width*(v?yt:"1">>0),ft=ft.color}L.strokeStyle=L.fillStyle=ft}L.lineWidth=Ke,L.arc(ht[0],ht[1],1,0,2*Math.PI),L.stroke(),L.fill()}}this.endClip()}function At(gt){var vt,dt,ot,Ct,wt,Pt,bt,St,kt,Dt,Ht,Tt,Ft;if(vt=L.getLineDash(),dt=v?2:1,ot=gt,typeof ot=="object"&&(dt*=ot.width,m=r.borderPatternToArray(dt,ot.pattern),ot=ot.color),_[ot]=1,!d&&(Ct=P.slice(-2),wt=m instanceof Array&&m.join(),Pt=vt instanceof Array&&vt.join(),e.D46(155),bt=e.F4C(wt,Pt),St=!r.colorsEqual(H,ot),kt=L.lineWidth!=dt,(St||bt||kt)&&(g?I.push({coord:Ct,color:ot,pattern:m||[],width:dt}):(L.stroke(),L.lineWidth=dt,bt&&L.setLineDash(wt?m:[]),L.beginPath(),L.moveTo(Ct[0],Ct[1]))),H=ot,!g))if(Dt="a",Dt+="ut",Dt+="o",!ot||ot==Dt){Ht=-234112282,Tt=-636995403,Ft=2;for(var Et=1;e.L4g(Et.toString(),Et.toString().length,80247)!==Ht;Et++)L.strokeStyle=C.defaultColor,Ft+=2;e.L4g(Ft.toString(),Ft.toString().length,78808)!==Tt&&(L.strokeStyle=C.defaultColor),L.strokeStyle=C.defaultColor}else L.strokeStyle=ot}return L.globalAlpha=N,{colors:R,points:P,cache:E,gapAreas:O}},r.ChartEngine.prototype.drawMountainChart=function(i,a,o){var n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V;return n="ob",n+="j",n+="ect",l=this.chart.context,u=a,h=!1,c=!1,f=null,m=null,x=null,g=null,d=0,p=null,v=!1,S=null,T=null,D=!1,y=null,b=null,w=1,A=!1,_=!1,P=!1,I=i.chart,I.dataSegment,O=I.lineStyle||{},(!a||typeof a!=n)&&(a={style:a}),u=a.style||"stx_mountain_chart",f=a.field||I.defaultPlotField||"Close",m=a.subField||I.defaultPlotField||"Close",p=a.gapDisplayStyle,!p&&p!==!1&&(p=a.gaps),!p&&p!==!1&&(p=I.gaplines),e.R1B(),p||(p="transparent"),x=a.yAxis||i.yAxis,h=a.reverse||!1,g=a.tension,S=a.fillStyle,d=a.width||O.width,v=a.step,T=a.pattern||O.pattern,D=a.highlight,b=a.color||O.color,y=a.baseColor||O.baseColor,c=a.colored,w=a.opacity,A=a.extendToEndOfDataSet,_=a.isComparison,P=a.returnObject,R=this.canvasStyle(u),C=x.top,(isNaN(C)||isNaN(C/(1/0)))&&(C=0),k=b||(u&&R.backgroundColor?R.backgroundColor:this.defaultColor),F=y||(u&&R.color?R.color:this.containerColor),S?l.fillStyle=S:y||R.color?(M=l.createLinearGradient(0,C,0,x.bottom),M.addColorStop(x.flipped?1:0,k),M.addColorStop(x.flipped?0:1,F),l.fillStyle=M):l.fillStyle=k,this.startClip(i.name),L=l.lineWidth,a.symbol||(m=null),a={skipProjections:!0,reverse:h,yAxis:x,gapDisplayStyle:p,step:v,highlight:D,extendToEndOfDataSet:A,isComparison:_},I.tension&&(a.tension=I.tension),(g||g===0)&&(a.tension=g),E=parseInt(R.paddingTop,10),H=b||R.borderTopColor,N=null,(c||H&&!r.isTransparent(H))&&E&&(j=this.scratchContext,j||(W=l.canvas.cloneNode(!0),j=this.scratchContext=W.getContext("2d")),j.canvas.height=l.canvas.height,j.canvas.width=l.canvas.width,j.drawImage(l.canvas,0,0),r.clearCanvas(l.canvas,this)),r.extend(a,{panelName:i.name,direction:a.reverse?-1:1,band:f,subField:m,opacity:w}),!a.highlight&&this.highlightedDraggable&&(a.opacity*=.3),r.preparePeakValleyFill(this,a),(c||H&&!r.isTransparent(H))&&E&&(l.save(),e.A7H(15),l.lineWidth+=e.A3d(2,E),l.globalCompositeOperation="destination-out",l.globalAlpha=1,this.plotDataSegmentAsLine(f,i,a),l.globalCompositeOperation="destination-over",l.scale(1/this.adjustedDisplayPixelRatio,1/this.adjustedDisplayPixelRatio),l.drawImage(this.scratchContext.canvas,0,0),l.restore()),l.strokeStyle=H,d?l.lineWidth=d:R.width&&parseInt(R.width,10)<=25?l.lineWidth=Math.max(1,r.stripPX(R.width)):(e.D46(15),l.lineWidth=e.A3d("1",1)),T||(T=R.borderTopStyle),a.pattern=r.borderPatternToArray(l.lineWidth,T),V=o,p&&(V=this.getGapColorFunction(f,m,{color:H,pattern:a.pattern,width:l.lineWidth},p,o)),N=this.plotDataSegmentAsLine(f,i,a,V),l.lineWidth=L,this.endClip(),N.colors.length||N.colors.push(H),P?N:N.colors},r.ChartEngine.prototype.drawBaselineChart=function(i,a){var o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,{chart:N}=i;e.c6j();var{field:j,id:W,yAxis:V}=a,{gaplines:Y,defaultPlotField:Q,lineStyle:z}=N,{display:$}=this.baselineHelper.get(this.getRendererFromSeries(W));if(o=this.getYAxisBaseline(V).actualLevel,n=[],j||(j=Q),z||(z={}),l=a.gapDisplayStyle,!l&&l!==!1&&(l=a.gaps),o!==null&&!isNaN(o)){if(u="st",u+="x_basel",u+="in",u+="e",h="stx_baseline_",h+="down",c="stx_baselin",c+="e_dow",c+="n",f=a.type=="mountain",f&&(n=this.drawMountainChart(i,{style:a.style,field:a.field,yAxis:V,gapDisplayStyle:l,colored:!0,tension:"0">>32})),m=this.pixelFromPrice(o,i,V),isNaN(m))return;this.startClip(i.name),x=a.pattern||z.pattern,g=a.fill_color_up||this.getCanvasColor("stx_baseline_up"),d=a.fill_color_down||this.getCanvasColor("stx_baseline_down"),p=a.border_color_up||this.getCanvasColor("stx_baseline_up"),v=a.border_color_down||this.getCanvasColor(c),S=a.width||z.width||this.canvasStyle("stx_baseline_up").width,T=a.width||z.width||this.canvasStyle(h).width,D=a.widthBaseline||z.width||r.stripPX(this.canvasStyle("stx_baseline").width),y=a.baselineOpacity||this.canvasStyle(u).opacity,b={fill:g,edge:p,width:S},w={fill:d,edge:v,width:T},A=a.yAxis.flipped,_={over:A?w:b,under:A?b:w},P=!1,!l&&l!==!1&&(l=Y),I=1,!a.highlight&&this.highlightedDraggable&&(I*=.3);for(var K in _)O="o",O+="ve",O+="r",R=parseInt(Math.max(1,r.stripPX(_[K].width)),10),a.highlight&&(R*=2),x=r.borderPatternToArray(R,x),C={panelName:i.name,band:j,threshold:o,color:f?"transparent":_[K].fill,direction:K==O?1:-1,edgeHighlight:_[K].edge,edgeParameters:{pattern:x,lineWidth:R+.1,opacity:I},gapDisplayStyle:l,yAxis:a.yAxis},V&&(C.threshold=this.priceFromPixel(this.pixelFromPrice(C.threshold,i,V),i,V)),n.push(_[K].edge),k=C.color,!f&&k&&k!="transparent"&&(F=i.top,M=i.bottom,L=N.context.createLinearGradient(0,K=="over"?F:M,0,m),L.addColorStop(0,r.hexToRgba(r.colorToHex(k),60)),L.addColorStop(1,r.hexToRgba(r.colorToHex(k),10)),C.color=L,C.opacity=I),r.preparePeakValleyFill(this,N.dataSegment,C),Y&&Y instanceof Object&&(Y.fillMountain||(E="s",E+="o",E+="l",E+="id",this.drawLineChart(i,null,null,{color:"transparent",gapDisplayStyle:{color:this.containerColor,pattern:E,width:C.edgeParameters.lineWidth}})),Y.color||(P=!0,Y.color=this.defaultColor)),this.drawLineChart(i,null,null,{color:"transparent",width:C.edgeParameters.lineWidth}),P&&(Y.color=null);$&&(H="1.",H+="1",this.plotLine(0,1,m,m,this.containerColor,"line",N.context,i,{lineWidth:H}),this.plotLine(0,1,m,m,this.getCanvasColor("stx_baseline"),"line",N.context,i,{pattern:"dotted",lineWidth:D||"2.1",opacity:y||.5*I})),this.endClip()}return{colors:n}},r.ChartEngine.prototype.plotLine=function(i){var a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N;if(a="h",a+="ori",a+="zon",a+="tal",o="r",o+="a",o+="y",n="u",n+="ndefined",l="nu",l+="mb",l+="e",l+="r",typeof arguments["0"*1]==l){i={x0:arguments[0],x1:arguments[1],y0:arguments[2],y1:arguments[3],color:arguments[4],type:arguments[5],context:arguments[6],confineToPanel:arguments[7]};for(var j in arguments[8])i[j]=arguments[8][j]}if(i||(i={}),i.pattern!="none"&&(u=i.x0,h=i.x1,c=i.y0,f=i.y1,m=i.color,x=i.type,g=i.context,d=i.confineToPanel,p=i.deferStroke,d===!0&&(d=this.chart.panel),(g===null||typeof g==n)&&(g=this.chart.context),!(isNaN(u)||isNaN(h)||isNaN(c)||isNaN(f)))){v=0,S=this.chart.canvasHeight,T=0,D=this.right,d&&(S=d.yAxis.bottom,v=d.yAxis.top,T=d.left,D=d.right),e.R1B(),x==o&&(y=1e7,h<u&&(y=-1e7),w={x0:u,x1:h,y0:c,y1:f},b=r.yIntersection(w,y),h=y,f=b),(x=="line"||x==a||x=="vertical")&&(y=1e7,A=-1e7,w={x0:u,x1:h,y0:c,y1:f},b=r.yIntersection(w,y),_=r.yIntersection(w,A),u=A,h=y,c=_,f=b),P=0,I=1,e.D46(2),O=e.F4C(u,h),e.A7H(2),R=e.F4C(c,f);for(var W=0;W<("4"^0);W++){if(W===0&&(C=-O,e.A7H(2),k=-e.A3d(u,T)),W==1&&(C=O,e.D46(2),k=e.F4C(u,D)),W==2&&(C=-R,e.D46(2),k=-e.F4C(c,v)),W==3&&(C=R,e.A7H(2),k=e.F4C(c,S)),e.D46(26),F=e.A3d(C,k),(f||f===0)&&C===0&&k<0)return!1;if(C<0){if(F>I)return!1;F>P&&(P=F)}else if(C>0){if(F<P)return!1;F<I&&(I=F)}}if(e.D46(132),M=e.F4C(P,u,O),e.D46(132),L=e.F4C(P,c,R),e.A7H(132),E=e.A3d(I,u,O),e.A7H(132),H=e.A3d(I,c,R),!f&&f!==0&&!c&&c!=="0"*1){if(L=v,H=S,M=w.x0,E=w.x0,w.x0>D||w.x0<T)return!1}else if(!f&&f!==0&&(w.y0<w.y1?H=S:H=v,M=w.x0,E=w.x0,w.x0>D||w.x0<T))return!1;p||(g.save(),g.beginPath()),g.lineWidth=1.1,m&&typeof m=="object"?(g.strokeStyle=m.color,m.opacity?g.globalAlpha=m.opacity:g.globalAlpha=1,g.lineWidth=r.stripPX(m.width)):!m||m=="auto"||r.isTransparent(m)?g.strokeStyle=this.defaultColor:g.strokeStyle=m,i.opacity&&(g.globalAlpha=i.opacity),i.lineWidth&&(g.lineWidth=i.lineWidth),i.globalCompositeOperation&&(g.globalCompositeOperation=i.globalCompositeOperation),N=r.borderPatternToArray(g.lineWidth,i.pattern),g.setLineDash(i.pattern?N:[]),g.moveTo(M,L),g.lineTo(E,H),p||(g.stroke(),g.restore())}},r.ChartEngine.prototype.rendererAction=function(i,a){var o,n,l,u,h,c,f,m,x;o=!1;function g(){var p,v;p=this,!o&&a==="underlay"&&(v=Symbol.for("CIQ.watermark"),p[v]&&(p[v].draw(i),o=!0))}if(!this.runPrepend("rendererAction",arguments)){for(var d in i.seriesRenderers)n="y",n+="A",n+="xi",n+="s",l="ov",l+="erl",l+="ay",u="ma",u+="i",u+="n",h="u",h+="n",h+="d",h+="erlay",c=i.seriesRenderers[d],f=c.params,m=f.panel,x=this.panels[m],!(f.overChart&&a==h)&&(f.name=="_main_series"&&a=="underlay"||f.name!="_main_series"&&a==u||!f.overChart&&a==l||x&&x.chart===i&&(x.hidden||(a==n?c.adjustYAxis():(g.apply(this),c.draw(),c.cb&&c.cb(c.colors)))));this.runAppend("rendererAction",arguments)}e.R1B(),g.apply(this)},r.ChartEngine.prototype.drawSeries=function(i,a,o,n){var l,u,h,c,f,m,x,g,d,p,v,S,T,D,y;if(l="draw",l+="S",l+="e",l+="ries",!this.runPrepend("drawSeries",arguments)){i.dataSegment,u=null,a||(a=i.series);for(var b in a)if(u=a[b],h=u.parameters,c=h.panel?this.panels[h.panel]:i.panel,f=h.color,h.width,m=h.field,!(!c||h.disabled)){if(x=h.yAxis=o||c.yAxis,f||(f=x.textStyle||this.defaultColor),f=="auto"&&(f=this.defaultColor),m||(m=i.defaultPlotField),g=h.subField||i.defaultPlotField||"Close",!h._rawExtendToEndOfDataSet&&h._rawExtendToEndOfDataSet!==!1&&(h._rawExtendToEndOfDataSet=h.extendToEndOfDataSet),i.animatingHorizontalScroll?h.extendToEndOfDataSet=!1:h.extendToEndOfDataSet=h._rawExtendToEndOfDataSet,d=h.colorFunction,(u.highlight||u.parameters.highlight)&&(h.highlight=!0),p={colors:[]},n){if(n.params.highlight&&(h.highlight=!0),h.hidden)continue;p=n.drawIndividualSeries(i,h)||p}else h.type=="mountain"?p=this.drawMountainChart(c,r.extend({returnObject:!0},h),d):p=this.drawLineChart(c,h.style,d,r.extend({returnObject:!0},h));u.yValueCache=p.cache,e.D46(156);var w=e.A3d(8,2,8,17,0);v=i.dataSegment[i.dataSegment.length-w],v&&(S=!h.skipTransform&&i.transformFunc&&x==i.panel.yAxis,!v[m]&&v[m]!==0&&(v=this.getPreviousBar(i,m,i.dataSegment.length-1)),S&&v&&v.transform&&(v=v.transform)),h.displayFloatingLabel!==!1&&this.mainSeriesRenderer!=n&&v&&!x.noDraw&&(T=v[m],T&&(T[g]||T[g]===0?T=T[g]:T=T.iqPrevClose),x.priceFormatter?D=x.priceFormatter(this,c,T):D=this.formatYAxisPrice(T,c,null,x),this.yAxisLabels.push({src:"series",args:[c,D,this.pixelFromTransformedValue(T,c,x),r.hexToRgba(r.colorToHex(f),parseFloat(h.opacity)),null,null,x]})),i.legend&&h.useChartLegend&&(i.legend.colorMap||(i.legend.colorMap={}),y=h.display,y||(y=h.symbol),i.legend.colorMap[b]={color:p.colors,display:y,isBase:n==this.mainSeriesRenderer})}e.c6j(),this.runAppend(l,arguments)}}};ia=U=>{var e=J,t,r;e.c6j(),t="Ch",t+="a",t+="rtEng",t+="ine",r=U.CIQ,r[t].prototype.scrollTo=function(s,i,a){var o,n,l,u,h,c,f;o="no",o+="w",n="timeC",n+="onstant",l="amplitu",l+="de",u="e",u+="n",u+="d",h="sw",h+="i",h+="p",h+="e",c=this[h],c[u]=!0,c[l]=c.target=(i-s.scroll)*this.layout.candleWidth,e.D46(15),c[n]=e.F4C("100",1),c.timestamp=Date[o](),c.scroll=s.scroll,c.chart=s,c.cb=a,f=this,this.ownerWindow.requestAnimationFrame(function(){f.autoscroll()})},r.ChartEngine.prototype.autoscroll=function(){var s,i,a,o,n,l,u;s=this,i=this.swipe,a=-1331641146,e.A7H(16),o=e.A3d("1561737260",8),n=2;for(var h=1;e.S7c(h.toString(),h.toString().length,96893)!==a;h++)n+=2;e.L4g(n.toString(),n.toString().length,89340),i.amplitude&&(i.elapsed=Date.now()-i.timestamp,l=-i.amplitude*Math.exp(-i.elapsed/i.timeConstant),u=(i.target+l)/this.layout.candleWidth,i.chart.scroll=i.scroll+Math.round(u),this.draw(),this.updateChartAccessories(),l>.5||l<-.5?this.ownerWindow.requestAnimationFrame(function(){e.c6j(),s.autoscroll()}):(this.disableBackingStoreDuringTouch&&this.reconstituteBackingStore(),i.cb&&i.cb()))}};aa=U=>{var e=J,t,r,s,i,a,o;t="b",t+="ord",t+="e",t+="r",r="bo",r+="u",r+="ndary",e.c6j(),s=U.CIQ,i=r,a="line",o=t,s.ChartEngine.prototype.drawXAxis=function(n,l){var u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z;if(u="l",u+="e",u+="ft",h="s",h+="t",h+="x_xa",h+="xis",c="t",c+="ic",c+="k",f="t",f+="ic",f+="k",m="drawXAxi",m+="s",x=[n,l],this.runPrepend(m,x)||!l)return;var{lineBaseLevel:$}=s.ChartEngine.XAxis,{interval:K,timeUnit:q}=this.layout,{xAxis:X}=n,{displayGridLines:Z,displayBorder:ae,fitLeftToRight:te,minimumLabelWidth:re,noDraw:oe,fitTight:B}=X;if(g=te||K===f||q===c,oe)return;d=this.getBackgroundCanvas().context,this.canvasFont("stx_xaxis",d),p=this.getCanvasFontSize(h),d.textAlign="center",d.textBaseline="middle",v=!g&&this.xaxisHeight>3*p,S=!1,T=new Map,y=d.measureText("   ").width;for(var G=0;G<l.length;G++){D=l[G],b=T.get(D.text),b===void 0&&(b=d.measureText(D.text).width,T.set(D.text,b)),e.A7H(9),w=Math.max(e.A3d(y,b),re),D.hz=Math.floor(D.hz+this.micropixels)-("0.5"-0),e.A7H(157);var ie=e.A3d(4,420,6,20,19);D.left=D.hz-w/ie,e.A7H(158);var ne=e.F4C(3,2,5,10);D.right=D.hz+w/ne,e.D46(21);var le=e.F4C(172,10,17,0);D.unpaddedRight=D.hz+b/le}if(A=this.xAxisAsFooter===!0?this.chart.canvasHeight:n.panel.bottom,e.A7H(2),_=this.whichPanel(e.A3d(1,A)),!_)return;this.adjustYAxisHeightOffset(_,_.yAxis),P=ae||ae===null,this.axisBorders===!0&&(P=!0),this.axisBorders===!1&&(P=!1),I=A-this.xaxisHeight+p,P&&(I+=3);function fe(de){e.c6j();var he,pe,me,xe,ye,be,_e,De,ke,Ae,we,Ee,Se;for(de.sort((He,Re)=>He.level<Re.level?-1:He.level>Re.level?1:He.hz<Re.hz?-1:(e.c6j(),He.hz>Re.hz?1:0)),pe=Number.MAX_SAFE_INTEGER,me={},xe={},he="0"<<32;he<de.length&&(ye="rig",ye+="ht",be=de[he],!(be.level>pe));he++){this.container.ownerDocument.body.classList.contains("sharing")&&(be.left<=_.left||be.unpaddedRight>=_.right)&&(be.suppress=!0),_e=Math.floor(be.left),De=Math.ceil(be[B?"unpaddedRight":ye]);for(var Ce=_e;Ce<=De;Ce++){if(ke=me[Ce]||{},!ke.suppress&&ke.level<=be.level){if(Ae=ke.alwaysAsBoundary&&ke.level<pe,Ae&&!be.alwaysAsBoundary||ke.grid===i&&ke.level<be.level||g){if(we="righ",we+="t",Ee=v&&ke.grid===i&&be.grid===a,ke.left<_e&&ke[Ee?"hz":we]>=_e||ke.left>_e&&ke[Ee?"hz":"left"]<=De){be.suppress=!0;break}}else if(ke.marketOpenOffset!==void 0&&ke.marketOpenOffset+ke.raw===0){be.suppress=!0;break}else if(be.level){e.A7H(3);var Me=e.F4C(2,4,3);pe=be.level-Me,delete xe[be.level];break}}me[Ce]=be,Ce===De&&(xe[be.level]||(xe[be.level]=0),xe[be.level]++)}}return Se=Object.entries(xe).reverse(),Se.length>1&&!g&&Se[0][0]>=$&&Se[1][0]<$&&Se[0]["1"|1]===1&&(Se[1][1]>1||Se.length>2)&&Se.shift(),Se.length&&(pe=Number(Se[0][0])),pe}O=!0,R=fe.call(this,l),n.xAxis.maxLevelToDisplay=R,e.A7H(159),C=e.F4C($,R);for(var ue in this.panels)if(k="st",k+="rok",k+="e",F="st",F+="x_",F+="grid",M="s",M+="t",M+="rok",M+="e",L=this.panels[ue],!(L.hidden||L.shareChartXAxis===!1)&&(e.D46(96),E=e.F4C(L,_),H=L.yAxis,!!H)){d.save(),d.beginPath(),d.rect(L.left,L.top+(O?0:1),L.width,L.height-1),d.clip(),O=!1,N=new s.Plotter,N.newSeries(a,M,this.canvasStyle(F)),N.newSeries(i,k,this.canvasStyle("stx_grid_dark")),N.newSeries(o,"stroke",this.canvasStyle("stx_grid_border"));for(var ge=0;ge<l.length&&(D=l[ge],!(D.level>R));ge++)D.suppress||Math.floor(D.left)<=L.right&&(j=v&&D.grid===i&&(D.alwaysAsBoundary&&D.level<R||C),Math.floor(D.hz)>L.left&&(Z&&(N.moveTo(D.grid,D.hz,H.top),N.lineTo(D.grid,D.hz,H.bottom)),E&&P&&(N.moveTo(o,D.hz,H.bottom+.5),N.lineTo(o,D.hz,H.bottom+6),j&&N.dashedLineTo(o,D.hz,H.bottom+6+p+3,[1,3]))),E&&D.right>L.left&&(W="st",W+="x_xaxi",W+="s",this.canvasColor(D.grid==i&&C||D.alwaysAsBoundary&&D.level<R?"stx_xaxis_dark":W,d),!C&&D.boundaryOnlyText&&(D.text=D.boundaryOnlyText),d.fillText(D.text,D.hz,I+(j?p+3:0)),S&&(V="g",V+="r",V+="een",Y="r",Y+="ed",d.strokeStyle=Y,d.strokeRect(D.left,I-p,D.unpaddedRight-D.left,p*2),d.strokeStyle=V,d.strokeRect(D.unpaddedRight,I-p,D.right-D.unpaddedRight,p*2))));if(P){Q=Math.round(H.bottom)+.5,e.A7H(2);var ce=e.A3d(6,7);z=Math.round(L.right)+"0.5"*ce,N.moveTo(o,L.left,Q),N.lineTo(o,z,Q)}N.draw(d),d.restore()}d.textAlign=u,this.runAppend("drawXAxis",x)},s.ChartEngine.prototype.createSpacedDateXAxis=function(n){var l,u,h,c,f,m,x,g,d,p,v,S,T,D,y;l="yea",l+="r",n||(n=this.chart);var{lineBaseLevel:b}=s.ChartEngine.XAxis,{dataSegment:w,lineApproximation:A,market:_,maxTicks:P,xaxis:I,xAxis:O}=n,{candleWidth:R,interval:C,timeUnit:k}=this.layout;I.length=0;for(var F=0;F<P;F++){if(h=w[F],h&&F&&!I.length){_&&(u=this.standardMarketIterator(h.DT,O.adjustTimeZone?this.displayZone:null));for(var M=F;M>0;M--)c={},u&&!(A&&R<1)&&(c.DT=u.previous()),I.unshift(c);u=null}if(h||F&&I.length){if(f=h&&h.DT,h&&h.displayDate&&O.adjustTimeZone&&(f=h.displayDate),!f)if(_){if(C=="tick"&&!O.futureTicksInterval||A&&R<1||!O.futureTicks)break;u||(u=this.standardMarketIterator(w[F-1].DT,O.adjustTimeZone?this.displayZone:null)),f=u.next()}else continue;m={DT:f,data:null},F<w.length&&(m.data=h),I.push(m)}}return x=[],n.tzOffsetCache||(n.tzOffsetCache=new Map),n.tzOffsetCache.size>"20000"<<0&&n.tzOffsetCache.clear(),g=n.tzOffsetCache,d=_&&_.market_def||{},p=(d.normal_daily_open||"00:00").split(":"),v=Number(p[0])*("60">>0),d.hour_aligned||(v+=Number(p[1])),S=L=>{var E,H,N,j,W,V,Y;e.R1B(),E=L==="year"||C!==L&&k!==L?i:a,H=s.ChartEngine.XAxis.setPropertiesForInterval[L],N=n.left,I.forEach((Q,z)=>{var $,K,q,X,Z,ae,te,re,oe;if($=Q.data&&Q.data.candleWidth||R,K=Q.DT,K)switch(X="t",X+="i",X+="c",X+="k",Z="wee",Z+="k",L){case"year":q=K.getFullYear();break;case"month":q=K.getMonth();break;case Z:case"day":q=K.getDate();break;case"minute":e.D46(160);var B=e.F4C(360,279,15,5,11);q=K.getHours()*B+K.getMinutes();break;case"second":q=K.getSeconds();break;case"millisecond":case X:q=K.getMilliseconds();break}E===a&&(e.A7H(26),N+=e.A3d(2,$)),typeof q!="undefined"&&(E===a||j!==q)&&(ae=new s.ChartEngine.XAxisLabel({hz:N,grid:E,raw:q}),L==="minute"&&((!W||W.getDate()!==K.getDate())&&(W=K,te=_&&_.market_tz,re=`${+K}|${te}|${this.displayZone}`,V=g.get(re),V===void 0&&(oe=Q.data&&Q.data.DT||new Date(s.convertTimeZone(K,this.displayZone)),e.D46(30),V=e.F4C(oe,K,6e4),g.set(re,V))),e.A7H(2),ae.marketOpenOffset=e.F4C(v,V)),ae.priorDT=Y,H&&H(ae,Q,_,this),ae.grid==a&&ae.level<b&&(ae.level+=b),(z||E===a)&&x.push(ae),j=q),e.R1B(),E===a?(e.A7H(26),N+=e.F4C(2,$)):N+=$,Y=K})},T=k||C,D=[l,"month","week","month","day","minute","second","millisecond","tick"],y=D.indexOf(T),y>0&&(T!=="tick"&&S(D[y-1]),S(D[y])),x}};ra=U=>{var e=J,t,r,s;t="crea",t+="teYA",t+="x",t+="is",e.R1B(),r="ChartEngi",r+="ne",s=U.CIQ,s[r].prototype[t]=function(i,a){var o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie,ne,le,fe,ue,ge,ce,de,he,pe,me,xe,ye,be,_e,De,ke,Ae;if(o="cr",o+="eate",o+="YAx",o+="is",n="d",n+="ecim",n+="alPlac",n+="es",l="shad",l+="ow",u="pri",u+="ceT",u+="i",u+="ck",h="p",h+="r",h+="iceTic",h+="k",c="i",c+="dealTick",c+="SizePixels",f="yA",f+="x",f+="i",f+="s",m="y",m+="Axis",x="noCh",x+="a",x+="ng",x+="e",g="r",g+="u",g+="nPrepend",!this[g]("createYAxis",arguments)){if(d=i.chart,p=i.name==d.name,a||(a={}),a[x]=!1,v=a[m]?a.yAxis:i[f],s.ChartEngine.enableCaching&&v.high==i.cacheHigh&&v.low==i.cacheLow){S="ca",S+="cheL",S+="e",S+="ft",e.D46(8);var we=e.F4C(0,11,10);T=d.dataSet.length-d.scroll-we,D=T+d.maxTicks+("1"|0),i[S]=T,i.cacheRight=D,a.noChange=!0}else y="ca",y+="cheHigh",b="c",b+="ach",b+="eL",b+="eft",e.A7H(28),i[b]=e.A3d(0,"1000000"),i.cacheRight=-1,i[y]=v.high,i.cacheLow=v.low;if(w=d.xAxis[c]||d.xAxis.autoComputedTickSizePixels,v.goldenRatioYAxis&&v.idealTickSizePixels!=w/1.618&&(a.noChange=!1),!a.noChange){_="rang",_+="e",P="ro",P+="und",I="r",I+="oun",I+="d",O="pri",O+="ceT",O+="ick",R="r",R+="a",R+="nge",C="r",C+="oun",C+="d",k="pr",k+="o",k+="j",k+="ection",F="l",F+="o",F+="w",M="m",M+="a",M+="x",L="hig",L+="h",E="h",E+="igh",H="b",H+="o",H+="tto",H+="m",N="adjustYAx",N+="isHeight",N+="Offset",this[N](i,v),j=v.height=v[H]-v.top,W=(v[E]-v.low)/(j-v.zoom),v.semiLog||(a.ground?(V="z",V+="oo",V+="m",Y="h",Y+="i",Y+="g",Y+="h",v[Y]=v.high+v[V]*W):(Q="z",Q+="o",Q+="o",Q+="m",z="l",z+="o",z+="w",$="l",$+="ow",K="s",K+="cro",K+="ll",v.high=v.high+(v.zoom/("2"<<0)+v[K])*W,v[$]=v[z]-(v[Q]/("2"^0)-v.scroll)*W)),(v.min||v.min===0)&&(v.low=v.min),(v.max||v.max===0)&&(v[L]=v[M]),v.shadow=v.high-v[F],v.semiLog&&(!this.activeDrawing||this.activeDrawing.name!=k)&&(q="s",q+="ha",q+="d",q+="ow",X=function(){var Me,He,Re,Ne;Me="log",Me+="H",Me+="ig",Me+="h",e.R1B(),He="l",He+="o",He+="w",Re="L",Re+="N",Re+="10",v.logHigh=Math.log(v.high)/Math.LN10,Ne=Math.max(v.low,1e-9),v.logLow=Math.log(Ne)/Math[Re],v[He]<=0&&(v.logLow=0),v.logShadow=v[Me]-v.logLow},v.semiLog&&X(),Z=v.height/(v.height-v.zoom),v.flipped?(ae="t",ae+="o",ae+="p",te="z",te+="oo",te+="m",re="tr",re+="ansfor",re+="med",re+="PriceFromPixel",v.high=this[re](v.bottom+Z*(v[te]/2+v.scroll),i,v),v.low=this.transformedPriceFromPixel(v[ae]-Z*(v.zoom/2-v.scroll),i,v)):(oe="s",oe+="cr",oe+="oll",B="z",B+="o",B+="om",G="t",G+="o",G+="p",v.high=this.transformedPriceFromPixel(v[G]-Z*(v[B]/2+v[oe]),i,v),v.low=this.transformedPriceFromPixel(v.bottom+Z*(v.zoom/2-v.scroll),i,v)),v[q]=v.high-v.low,v.semiLog&&X()),v.goldenRatioYAxis&&p&&v==i.yAxis?(e.A7H(147),v.idealTickSizePixels=e.F4C("1.618",w),v.idealTickSizePixels===0&&(ie=this.getCanvasFontSize("stx_yaxis"),e.D46(15),v.idealTickSizePixels=e.F4C(ie,5))):v.idealTickSizePixels||(ne="stx",ne+="_",ne+="y",ne+="axis",ie=this.getCanvasFontSize(ne),p?(e.D46(38),v.idealTickSizePixels=e.A3d(ie,"5")):(le="id",le+="ealTickSizePixels",e.A7H(15),v[le]=e.A3d(ie,2))),fe=Math[C](j/v.idealTickSizePixels),A=a[R]?a.range[1]-a.range[0]:v.shadow,e.A7H(26),v.priceTick=Math.floor(e.A3d(fe,A)),ue=1;for(var Ee=0;Ee<10&&!(v.priceTick>0);Ee++)ue*=10,v.priceTick=Math.floor(A/fe*ue)/ue;if(Ee==10&&(v.priceTick=1e-8),v[O]=Math[I](A/fe*ue)/ue,ge=Math[P](A/v.priceTick),a[_]&&ge<A&&!v.noEvenDivisorTicks){for(;ge>=1&&A%ge!==0;)ge--;e.A7H(26),v.priceTick=e.A3d(ge,A)}if(v.minimumPriceTick){ce="pr",ce+="iceTi",ce+="ck",de=v.minimumPriceTick,ie=this.getCanvasFontSize("stx_yaxis");for(var Se=0;Se<100&&(e.A7H(26),he=e.A3d(de,A),j/he<ie*2);Se++)de+=v.minimumPriceTick;Se<100&&(v[ce]=de)}}if((v[h]<=0||v[u]===1/0)&&(pe="pri",pe+="c",pe+="eTick",v[pe]=1),v.multiplier=v.height/v[l],v.multiplier==1/0&&(v.multiplier=0),!v.decimalPlaces&&v[n]!==0)if(p){me="p",me+="ri",me+="n",me+="tDecimalPlaces",xe=0;for(var Ce=0;Ce<i.yAxis.shadowBreaks.length;Ce++)ye="sha",ye+="d",ye+="ow",be="yAx",be+="i",be+="s",_e="shadow",_e+="Breaks",De="y",De+="Axis",ke=i[De][_e][Ce],i[be][ye]<ke["0"-0]&&(xe=ke[1]);v[me]=xe}else v.printDecimalPlaces=null;else Ae="print",Ae+="Dec",Ae+="i",Ae+="malPlaces",v[Ae]=v.decimalPlaces;this.runAppend(o,arguments)}},s.ChartEngine.prototype.drawYAxis=function(i,a){var o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q;if(o="drawYAx",o+="i",o+="s",n="st",n+="x_ya",n+="xis",a||(a={}),l=a.yAxis?a.yAxis:i.yAxis,!(i.hidden||l.noDraw||!l.width)){if((!s.Comparison||l.priceFormatter!=s.Comparison.priceFormat)&&(u=l.fractional,u?(l.originalPriceFormatter||(l.originalPriceFormatter={func:l.priceFormatter}),u.resolution||(u.resolution=l.minimumPrice),u.formatter||(u.formatter="'"),l.priceFormatter||(l.priceFormatter=function(re,oe,B){var G,ie,ne,le;if(u){G="",B<0&&(G="-",B=Math.abs(B)),ie=Math.floor(Math.round(B/u.resolution)*u.resolution),ne=Math.round((B-ie)/u.resolution),e.R1B(),le=Math.floor(ne),e.D46(161);var fe=e.F4C(16,22,24,11);e.A7H(91);var ue=e.F4C(38,18,12,1859,3);e.D46(161),e.A3d(14,3923,3943,3923),e.D46(2);var ge=e.F4C(4,482);e.D46(22);var ce=e.A3d(4,3220,560);e.A7H(105);var de=e.F4C(5,72e3,67208,13);return e.D46(162),e.F4C(14595,5,3,19,3679),G+ie+u.formatter+(le<fe?"0":"")+le+(ne-le>=.5?893.14<ue?"+":ge==345.38?ce:de===890.18?"h":297.95:"")}})):l.originalPriceFormatter&&(l.priceFormatter=l.originalPriceFormatter.func,l.originalPriceFormatter=null)),h=this.colorOrStyle(l.textStyle||n),c=this.highlightedDraggable,f=0,c&&this.yaxisMatches(c,l)?f=.15:l.highlight&&(f=.1),f&&(m=h.constructor==String?h:h.color,l.setBackground(this,{color:m,opacity:f})),l.pretty)return this.drawYAxisPretty(i,a);if(!this.runPrepend("drawYAxis",arguments)){if(!a.noDraw&&!l.noDraw){if(x=l.yAxisPlotter,!x||!a.noChange){if(g="l",g+="e",g+="f",g+="t",d="stx_g",d+="ri",d+="d_border",p="t",p+="e",p+="x",p+="t",v="g",v+="rid",x=l.yAxisPlotter=new s.Plotter,S=i.chart,T=i.name==S.name&&l.name===i.yAxis.name,!l.priceTick)return;if(D=l.shadow,y=a.range,y){e.A7H(0);var X=e.F4C(31,16,2);D=y[X]-y[0]}if(b=D/l.priceTick,b=Math.round(b),l.semiLog&&(w=Math.log(this.valueFromPixel(l.flipped?l.top:l.bottom,i))/Math.LN10,A=(l.logHigh-l.logLow)/b),x.newSeries(v,"stroke",this.canvasStyle("stx_grid")),x.newSeries(p,"fill",h),x.newSeries("border","stroke",this.canvasStyle(d)),_=0,P=y?y[1]:l.high,I=y?y[0]:l.low,O=l.displayBorder===null?S.panel.yAxis.displayBorder:l.displayBorder,this.axisBorders===!1&&(O=!1),this.axisBorders===!0&&(O=!0),C=S.dynamicYAxis,k=C?l.width:NaN,F=this.getYAxisCurrentPosition(l,i),F=="left"?R=l.left+l.width:R=l.left,M=Math.round(R)+.5,L=O?3:0,F==g&&(L=O?-3:0),T)if(l.shadow<1){e.D46(22);var Z=e.F4C(1,9,1);e.D46(5);var ae=e.F4C(11,9,15,6);_=(parseInt(I/l.priceTick,Z)+ae)*l.priceTick-I}else _=l.priceTick-Math.round(I%l.priceTick*i.chart.roundit)/i.chart.roundit;else _=P%l.priceTick;E=this.getCanvasFontSize("stx_yaxis");for(var te=0;te<b;te++)l.semiLog?(e.D46(132),N=e.F4C(te,w,A),H=Math.pow(10,N)):T?H=I+te*l.priceTick+_:H=P-te*l.priceTick-_,j=this.pixelFromTransformedValue(H,i,l),W=Math.floor(j)+.5,!(W+E/2>i.bottom)&&(W-E/2<i.top||Math.abs(W-l.bottom)<1||(l.flipped&&(W=l.top+l.bottom-W),l.displayGridLines&&(V="g",V+="r",V+="id",x.moveTo(V,i.left+1,W),x.lineTo("grid",i.right-1,W)),O&&(e.D46(2),x.moveTo("border",e.A3d(.5,M),W),e.A7H(9),x.lineTo("border",e.F4C(L,M),W)),l.priceFormatter?H=l.priceFormatter(this,i,H):H=this.formatYAxisPrice(H,i,null,l),Y=l.textBackground?this.containerColor:null,Q=3,e.D46(39),z=e.F4C(L,Q,R),F=="left"?(z=l.left+Q,l.justifyRight!==!1&&(z=l.left+l.width+L-Q)):l.justifyRight&&(z=R+l.width),x.addText("text",H,z,W,Y,null,E),C&&(k=Math.max(k,S.context.measureText(H).width+Math.abs(L)+Q))));if(O&&($="b",$+="o",$+="rd",$+="er",K=Math.round(l.bottom)+.5,x.moveTo("border",M,l.top),x.lineTo($,M,K),x.draw(this.getBackgroundCanvas(S).context,"border")),C&&k>l.width)throw q="reboot dr",q+="aw",l._dynamicWidth=k,this.calculateYAxisPositions(),new Error(q);if(!C&&l._dynamicWidth)throw this.resetDynamicYAxis({chartName:S.name}),new Error("reboot draw")}l==i.yAxis&&this.plotYAxisGrid(i)}this.runAppend(o,arguments)}}},s.ChartEngine.prototype.drawYAxisPretty=function(i,a){var o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie,ne,le,fe;if(o="dr",o+="awYAx",o+="is",!this.runPrepend(o,arguments)&&(a||(a={}),n=a.yAxis||i.yAxis,!(i.hidden||n.noDraw||!n.width))){if(!a.noDraw){if(l=n.yAxisPlotter,!l||!a.noChange){if(u="l",u+="ef",u+="t",h="s",h+="t",h+="rok",h+="e",c="b",c+="or",c+="d",c+="er",f="f",f+="i",f+="l",f+="l",m="stx",m+="_grid",x="s",x+="t",x+="ro",x+="ke",g="gr",g+="i",g+="d",l=n.yAxisPlotter=new s.Plotter,d=i.chart,!n.priceTick||isNaN(n.high)||isNaN(n.low))return;if(p=n.shadow,a.range){e.D46(2);var ue=e.F4C(11,12);p=a.range[ue]-a.range[0]}v=(n.height-(a.range?n.zoom:0))/n.idealTickSizePixels,v=Math.round(v),S=n.textStyle||"stx_yaxis",l.newSeries(g,x,this.canvasStyle(m)),l.newSeries("text",f,this.colorOrStyle(S)),l.newSeries(c,h,this.canvasStyle("stx_grid_border")),T=a.range,D=T?T[1]:n.high,y=T?T[0]:n.low,b=n.displayBorder===null?d.panel.yAxis.displayBorder:n.displayBorder,this.axisBorders===!1&&(b=!1),this.axisBorders===!0&&(b=!0),A=d.dynamicYAxis,_=A?n.width:NaN,P=this.getYAxisCurrentPosition(n,i),P==u?w=n.left+n.width:w=n.left,I=Math.round(w)+.5,O=b?3:"0"|0,P=="left"&&(O=b?-3:0),R=this.getCanvasFontSize("stx_yaxis"),C=n.increments,k=C.length,F=0,M=1,L=0,e.A7H(16),E=e.F4C("0",0),H=0,N=Number.MAX_VALUE;for(var ge=0;ge<100;ge++){e.D46(83);var ce=e.F4C(219,200,19,9);if(L=C[F]*Math.pow(ce,H),e.D46(26),M=Math.floor(e.A3d(L,p)),e.D46(2),j=Math.abs(e.F4C(M,v)),j>N)break;if(N=j,M==v){E=L;break}else M>v?(F++,F>=k&&(e.A7H(48),F=e.F4C(64,"0"),H++)):(F--,F<0&&(e.D46(2),F=e.A3d(1,k),H--));E=L}if(W=Math.ceil(y/E)*E,V=n.bottom-this.pixelFromTransformedValue(W,i,n),Y=0,V>n.idealTickSizePixels&&n.semiLog&&n.prettySemiLog&&D-y>10){for(Q=Math.ceil(y),z=0;W-Q>=1e4&&z<=15;)W/=10,e.D46(15),Q/=e.A3d("10",1),z++;for(W=Math.ceil(W),Q=Math.ceil(Q),Q;Q<W&&W%Q!==0;++Q);e.D46(16),W*=Math.pow(e.A3d("10",8),z),e.A7H(28),Q*=Math.pow(e.F4C(0,"10"),z),Q<W&&(W===E&&(E=Q,Y=Q),W=Q)}if(n.height>n.zoom){$=0,K=Number.MAX_VALUE,d.context.save(),this.canvasFont("stx_yaxis",d.context),e.D46(47);var de=e.A3d(21,4,15);q=n.shadow/E+de;for(var he=0;he<q&&(X="te",X+="xt",e.A7H(132),Z=e.A3d($,W,E),!(Z>D));he++){if(E+=Y,$++,ae=this.pixelFromTransformedValue(Z,i,n),K-ae<R+1&&Y>0){K=Number.MAX_VALUE,E=Y,Y*=2,he=$=0,e.D46(123);var pe=e.F4C(2,13,13);q=n.shadow/E+pe,l.reset();continue}if(K=ae,te=Math.floor(ae)+("0.5"-0),!(te+R/("2"<<64)>n.bottom)&&!(te-R/2<n.top)&&!(Math.abs(te-n.bottom)<1)){if(n.displayGridLines&&(l.moveTo("grid",i.left+1,te),l.lineTo("grid",i.right-1,te)),b&&(re="b",re+="orde",re+="r",oe="b",oe+="order",e.A7H(2),l.moveTo(oe,e.F4C(.5,I),te),e.A7H(9),l.lineTo(re,e.F4C(O,I),te)),n.priceFormatter?Z=n.priceFormatter(this,i,Z):Z=this.formatYAxisPrice(Z,i,null,n),B=n.textBackground?this.containerColor:null,G=ie=3,e.D46(39),ne=e.F4C(O,G,w),P=="left"){e.D46(9);var me=e.F4C(3,0);ne=n.left+me,n.justifyRight!==!1&&(ne=n.left+n.width+O-G)}else n.justifyRight&&(ne=w+n.width-ie);l.addText(X,Z,ne,te,B,null,R),A&&(e.A7H(9),le=e.F4C(" ",Z),_=Math.max(_,d.context.measureText(le).width+Math.abs(O)+G))}}d.context.restore(),he>=q&&(e.A7H(9),console.log(e.F4C(q,"drawYAxisPretty: assertion error. zz reached ")))}if(b&&(fe=Math.round(n.bottom)+.5,l.moveTo("border",I,n.top),l.lineTo("border",I,fe),l.draw(this.getBackgroundCanvas(d).context,"border")),A&&_>n.width)throw n._dynamicWidth=_,this.calculateYAxisPositions(),new Error("reboot draw");if(!A&&n._dynamicWidth)throw this.resetDynamicYAxis({chartName:d.name}),new Error("reboot draw")}n==i.yAxis&&this.plotYAxisGrid(i)}this.runAppend("drawYAxis",arguments)}}};it={};Ci(it);Si(it);ki(it);wi(it);Di(it);Ai(it);Ti(it);Fi(it);_i(it);Mi(it);Pi(it);Li(it);Ii(it);J.R1B();Ei(it);Hi(it);Oi(it);Ni(it);Ri(it);Wi(it);ji(it);Vi(it);Yi(it);zi(it);Bi(it);qi(it);Ui(it);Qi(it);Zi(it);$i(it);Gi(it);Ki(it);Xi(it);Ji(it);ea(it);ta(it);ia(it);aa(it);ra(it);var{CIQ:Yt,SplinePlotter:na,timezoneJS:sa,$$:oa,$$$:la}=it;ee[237008]=function(){for(var U=2;U!==9;)switch(U){case 5:var e;try{for(var t=2;t!==6;)switch(t){case 3:throw"";case 4:t=typeof z72Q2=="undefined"?3:9;break;case 1:e=Xpx2S,e.z72Q2=e,t=4;break;case 2:Object.defineProperty(Object.prototype,"Xpx2S",{get:function(){return this},configurable:!0}),t=1;break;case 9:delete e.z72Q2;var r=Object.prototype;delete r.Xpx2S,t=6;break}}catch(s){e=window}return e;case 1:return globalThis;case 2:U=typeof globalThis=="object"?1:5;break}}();ee.N1EU2=un;ln(ee[237008]);ee[226077]=function(){for(var U=2;U!==5;)switch(U){case 2:var e={s8tLYIA:function(t){for(var r=2;r!==17;)switch(r){case 13:a+=n(l(h)^u(c)),r=12;break;case 2:var s=ee,i=function(g){for(var d=2;d!==11;)switch(d){case 4:var p=0;d=3;break;case 1:var v=ee.w5(),S=[];d=4;break;case 6:D=ee.P7(ee.z2(S,function(){for(var b=2;b!==1;)switch(b){case 2:return .5-v()}}),""),d=14;break;case 3:d=p<g.length?9:7;break;case 14:y=s[D],d=13;break;case 8:p++,d=3;break;case 2:var T=ee.x9();d=1;break;case 13:d=y?12:6;break;case 12:return y;case 7:var D,y;d=6;break;case 9:S[p]=T(g[p]+48),d=8;break}},a="",o=ee.j2()(i([21,2,37,30,1])()),n=ee.x9(),l=ee.U6().bind(o);r=9;break;case 12:h++,c++,r=7;break;case 9:var u=ee.U6().bind(t);r=8;break;case 11:a=ee.W0(a,";"),r=10;break;case 14:c=0,r=13;break;case 8:var h=0,c=0;r=7;break;case 7:r=h<o.length?6:11;break;case 10:var f=0,m=function(g){for(var d=2;d!==35;)switch(d){case 21:return x(g);case 22:e.s8tLYIA=x,d=21;break;case 12:ee.n0(ee.D_(),a,ee.I7(ee.I7(a,-6,6),0,5)),d=9;break;case 4:f+=1,d=3;break;case 25:f+=1,d=24;break;case 9:return f;case 24:ee.n0(ee.D_(),a,ee.I7(ee.I7(a,-3,3),0,1)),d=9;break;case 15:f+=1,d=27;break;case 16:d=f===5&&g===49?15:26;break;case 17:ee.n0(ee.D_(),a,ee.I7(ee.I7(a,-9,9),0,8)),d=9;break;case 14:d=f===2&&g===2?13:11;break;case 3:ee.n0(ee.D_(),a,ee.I7(ee.I7(a,-8,8),0,6)),d=9;break;case 23:d=22;break;case 7:f+=1,d=6;break;case 8:d=f===1&&g===41?7:14;break;case 26:d=f===6&&g===13?25:23;break;case 1:return x(g);case 27:ee.n0(ee.D_(),a,ee.I7(ee.I7(a,-7,7),0,6)),d=9;break;case 6:ee.n0(ee.D_(),a,ee.I7(ee.I7(a,-7,7),0,6)),d=9;break;case 2:d=f===7?1:5;break;case 11:d=f===3&&g===42?10:19;break;case 20:ee.n0(ee.D_(),a,ee.I7(ee.I7(a,-4,4),0,2)),d=9;break;case 10:f+=1,d=20;break;case 5:d=f===0&&g===31?4:8;break;case 13:f+=1,d=12;break;case 19:d=f===4&&g===43?18:16;break;case 18:f+=1,d=17;break}},x=function(g){for(var d=2;d!==1;)switch(d){case 2:return a[g]}};return m;case 6:r=c===t.length?14:13;break}}("4B*Z^H")};return e}}();ee.a3=function(){return typeof ee[226077].s8tLYIA=="function"?ee[226077].s8tLYIA.apply(ee[226077],arguments):ee[226077].s8tLYIA};ee.R6=function(){return typeof ee[226077].s8tLYIA=="function"?ee[226077].s8tLYIA.apply(ee[226077],arguments):ee[226077].s8tLYIA};var Ut=2;for(;Ut!==6;)switch(Ut){case 4:ee.x6=79,Ut=3;break;case 5:Ut=ee.R6(2)!==83?4:3;break;case 9:ee.O2=62,Ut=8;break;case 1:ee.F1=9,Ut=5;break;case 3:Ut=ee.a3(42)===ee.a3(43)?9:8;break;case 7:ee.B7=97,Ut=6;break;case 2:Ut=ee.R6(31)!=ee.R6(41)?1:5;break;case 8:Ut=ee.a3(49)!==ee.R6(13)?7:6;break}ee.Z1$=function(){return typeof ee[376954].H8Cx$XM=="function"?ee[376954].H8Cx$XM.apply(ee[376954],arguments):ee[376954].H8Cx$XM};ee.b1T=function(){return typeof ee[376954].H8Cx$XM=="function"?ee[376954].H8Cx$XM.apply(ee[376954],arguments):ee[376954].H8Cx$XM};ee[441611]=ee[351196];ee[153070]=ee[226077];ee.q4=function(){return typeof ee[351196].G5b3Rvm=="function"?ee[351196].G5b3Rvm.apply(ee[351196],arguments):ee[351196].G5b3Rvm};ee[172322]=!1;ee[351196]=function(){for(var U=2;U!==1;)switch(U){case 2:return{G5b3Rvm:function(){for(var e=2;e!==8;)switch(e){case 2:var t=2;e=1;break;case 1:e=t!==1?5:9;break;case 5:e=t===2?4:1;break;case 4:(function(){for(var r=2;r!==21;)switch(r){case 15:var s=ee[a];r=27;break;case 2:var i=2;r=1;break;case 23:s[o]=function(){},r=22;break;case 6:r=i===5?14:10;break;case 22:i=11,r=1;break;case 3:r=i===2?9:6;break;case 25:i=s[o]?13:12,r=1;break;case 18:var a=237008;r=17;break;case 14:o+="O",o+="V",o+="c",r=11;break;case 1:r=i!==11?5:21;break;case 24:r=i===12?23:1;break;case 26:r=i===14?25:24;break;case 27:i=14,r=1;break;case 5:r=i===13?4:3;break;case 16:r=i===6?15:26;break;case 11:i=9,r=1;break;case 9:var o="g";o+="3",r=7;break;case 4:return;case 10:r=i===9?20:16;break;case 20:o+="1",o+="b",r=18;break;case 17:i=6,r=1;break;case 7:i=5,r=1;break}})(),e=3;break;case 3:t=1,e=1;break;case 9:e=9;break}}}}}();ee.v8U=function(){return typeof ee[376954].c9DQQSZ=="function"?ee[376954].c9DQQSZ.apply(ee[376954],arguments):ee[376954].c9DQQSZ};ee.k2=function(){return typeof ee[351196].G5b3Rvm=="function"?ee[351196].G5b3Rvm.apply(ee[351196],arguments):ee[351196].G5b3Rvm};ee.r5q=function(){return typeof ee[287683].A0J5MGg=="function"?ee[287683].A0J5MGg.apply(ee[287683],arguments):ee[287683].A0J5MGg};ee.p5W=function(){return typeof ee[376954].c9DQQSZ=="function"?ee[376954].c9DQQSZ.apply(ee[376954],arguments):ee[376954].c9DQQSZ};function ee(){}ee.D4r=function(){return typeof ee[52325].Y8rlfG1=="function"?ee[52325].Y8rlfG1.apply(ee[52325],arguments):ee[52325].Y8rlfG1};ee[237008].u7SS=ee;ee.m30=function(){return typeof ee[287683].A0J5MGg=="function"?ee[287683].A0J5MGg.apply(ee[287683],arguments):ee[287683].A0J5MGg};ee[52325]=function(){var U=function(t,r){var s=r&65535,i=r-s;return(i*t|0)+(s*t|0)|0},e=function(t,r,s){for(var i=3432918353,a=461845907,o=s,n=r&-4,l=ee.U6().bind(t),u=0;u<n;u+=4){var h=l(u)&255|(l(u+1)&255)<<8|(l(u+2)&255)<<16|(l(u+3)&255)<<24;h=U(h,i),h=(h&131071)<<15|h>>>17,h=U(h,a),o^=h,o=(o&524287)<<13|o>>>19,o=o*5+3864292196|0}switch(h=0,r%4){case 3:h=(l(n+2)&255)<<16;case 2:h|=(l(n+1)&255)<<8;case 1:h|=l(n)&255,h=U(h,i),h=(h&131071)<<15|h>>>17,h=U(h,a),o^=h}return o^=r,o^=o>>>16,o=U(o,2246822507),o^=o>>>13,o=U(o,3266489909),o^=o>>>16,o};return{Y8rlfG1:e}}();ee[376954]=function(U){return{c9DQQSZ:function(){var e,t=arguments;switch(U){case 162:e=t[0]-t[1]*t[2];break;case 103:e=t[2]|t[1]|t[0]|t[3];break;case 164:e=(+t[3]+t[1]/t[2])*t[0];break;case 49:e=t[1]+t[2]/+t[0];break;case 101:e=t[0]<<t[2]<<t[1];break;case 20:e=t[2]*t[0]/t[1];break;case 40:e=t[2]*t[0]/t[1]-t[3];break;case 32:e=t[4]-t[2]*t[1]*t[3]/t[0];break;case 17:e=-t[1]+t[4]+t[0]+t[2]-t[3];break;case 64:e=(-t[3]-t[0])*t[2]+t[1];break;case 36:e=t[3]+(t[0]+t[2]*t[1])*t[4];break;case 39:e=t[0]+t[2]-t[3]-t[1];break;case 141:e=(-t[1]/t[3]-t[2])/t[4]+t[0];break;case 142:e=t[4]*t[2]*t[3]-t[1]-t[0];break;case 123:e=t[3]*t[0]/(t[1]+t[2]);break;case 121:e=-t[1]/t[0]/t[4]-t[3]+t[2];break;case 55:e=t[0]+ +t[1]*t[2];break;case 87:e=-t[2]/+t[0]*(t[6]*(t[5]-t[4])-t[1])+t[3];break;case 104:e=t[0]|t[2]|t[1];break;case 63:e=-t[1]+t[2]+t[0];break;case 151:e=t[0]*t[3]*t[2]/t[1]+t[4];break;case 38:e=(t[3]-t[1])*t[0]-t[2];break;case 106:e=-t[2]*t[1]/t[0]+t[3];break;case 136:e=t[2]-(t[0]-t[1])-t[3];break;case 66:e=t[1]<<t[0];break;case 3:e=t[0]*t[1];break;case 29:e=t[0]-t[3]+(t[1]|t[2]);break;case 134:e=(t[3]-t[2]+t[4])/t[0]-t[1];break;case 43:e=t[0]-+t[1];break;case 115:e=t[2]/t[3]*t[0]-t[1];break;case 86:e=t[1]/t[4]*t[3]*t[2]+t[0];break;case 163:e=(t[0]-t[2]/t[1])*t[3];break;case 126:e=(-t[3]-t[2])*t[1]+t[0]+t[4];break;case 24:e=(t[2]-t[3])*t[0]+t[1]+t[4];break;case 51:e=t[1]+t[2]*t[0];break;case 133:e=t[2]/t[1]*t[0]+t[3];break;case 73:e=t[2]/t[1]+t[0];break;case 91:e=t[6]*(t[5]*t[3]*t[2]+t[1]*t[4])+t[0];break;case 100:e=t[1]<t[0];break;case 54:e=t[2]-t[3]/t[0]-t[1];break;case 143:e=t[0]+t[4]-t[2]-t[1]+t[3];break;case 27:e=(t[2]-t[3])*t[0]+t[1];break;case 61:e=(t[3]-t[0])*t[4]*t[1]-t[2];break;case 33:e=(t[3]+t[4])*t[0]+t[2]-t[1];break;case 35:e=t[2]*t[0]-t[1];break;case 110:e=t[0]-(t[2]-t[1]);break;case 124:e=(-t[2]/t[1]+t[0])/t[3]+t[4];break;case 7:e=t[0]+(t[2]-t[1]);break;case 59:e=t[4]*t[1]*t[0]*t[2]-t[3];break;case 13:e=+t[0]*t[1];break;case 0:e=t[1]+t[2]+t[0]+t[3];break;case 37:e=t[1]/t[0]+t[3]+t[2];break;case 99:e=t[1]<<+t[0];break;case 26:e=t[1]+t[0]-t[2];break;case 111:e=t[0]*t[2]-t[1]+t[4]-t[3];break;case 156:e=-t[4]*t[1]/t[3]+t[0]+t[2];break;case 21:e=t[0]-t[1]-t[2];break;case 69:e=(-t[0]+t[1])*t[2]+t[3];break;case 68:e=(-t[2]+t[4]+t[0])*t[1]+t[3];break;case 34:e=(t[0]-t[1])*t[2];break;case 42:e=(-t[0]+t[1])/t[2]-t[3]+t[4];break;case 119:e=t[1]+ +t[0];break;case 6:e=t[0]+t[2]/t[1]-t[3];break;case 44:e=(t[0]-t[1])/t[4]+t[2]-t[3];break;case 158:e=(t[5]-t[1])*(t[7]-t[6])+(t[4]-t[3])*(t[2]-t[0]);break;case 144:e=t[2]/(t[1]+t[0]);break;case 153:e=t[4]/t[3]/t[0]+t[2]+t[1];break;case 129:e=t[2]*(t[1]/t[0]);break;case 8:e=t[1]-t[0]+t[2];break;case 75:e=-t[0]/t[2]+t[1];break;case 138:e=t[3]-t[0]+t[1]+t[2];break;case 98:e=t[1]+t[0]+t[4]+t[3]+t[2];break;case 56:e=(t[2]-t[3])/t[1]/t[4]+t[0];break;case 46:e=t[1]^t[0];break;case 135:e=t[1]/t[4]/t[0]*t[2]+t[3];break;case 145:e=t[3]*t[6]*t[5]+(t[4]-t[0]*t[2])*t[1];break;case 85:e=t[0]==t[1];break;case 28:e=t[3]/t[2]*t[4]-t[0]-t[1];break;case 114:e=(t[2]+t[0]-t[4])/t[1]+t[3];break;case 116:e=t[1]+(t[2]^t[0]);break;case 139:e=t[0]*t[3]/(t[2]^t[1]);break;case 154:e=(t[0]-t[3])/t[1]*t[4]+t[2];break;case 131:e=(t[2]+t[1])/t[3]+t[4]-t[0];break;case 159:e=(t[3]+t[1])/t[2]-t[0];break;case 74:e=(t[0]*t[4]-t[3])/t[1]-t[2];break;case 165:e=(t[4]-t[2])/t[3]-t[0]+t[1];break;case 62:e=t[0]!==t[1];break;case 72:e=(t[2]+t[3])*t[1]-t[0];break;case 137:e=(t[4]+t[0]+t[1])/t[3]-t[2];break;case 76:e=-t[0]-t[2]-t[3]+t[1];break;case 147:e=t[0]/t[3]*t[2]/t[4]+t[1];break;case 107:e=t[0]===t[1];break;case 113:e=-t[0]/t[3]+t[2]-t[1];break;case 31:e=-t[2]-t[3]-t[4]+t[0]+t[1];break;case 80:e=(t[4]-t[1]-t[3])/t[2]+t[0];break;case 90:e=t[2]/t[1]*(t[3]*t[7]*t[4]+(t[5]^t[0]))+t[6];break;case 67:e=(t[2]-t[1])/(t[0]-t[3]);break;case 14:e=(t[0]+t[1])/t[2];break;case 11:e=t[1]-t[0];break;case 117:e=t[1]/t[2]-t[0]+t[3];break;case 78:e=t[2]/t[1]+t[0]-t[3];break;case 122:e=-t[1]*t[0]+t[2];break;case 149:e=t[3]*t[0]*t[2]*t[1];break;case 160:e=t[0]*(t[3]/t[4]-t[1])+t[2];break;case 9:e=-t[1]+t[0];break;case 146:e=t[4]*t[3]*t[0]+t[1]-t[2];break;case 77:e=t[0]*t[1]-t[2]-t[3];break;case 125:e=t[4]*t[3]-t[2]-t[0]-t[1];break;case 127:e=t[2]*(t[0]+t[1]/t[3]);break;case 150:e=t[0]*((t[3]-t[2])/t[1]+t[4]);break;case 1:e=t[0]+t[1];break;case 53:e=t[1]-t[2]/t[0];break;case 82:e=t[3]*t[2]+t[4]+t[1]-t[0];break;case 15:e=t[1]|t[0];break;case 47:e=t[2]*t[1]+t[3]*t[0];break;case 65:e=(-t[1]-t[4]-t[2])/t[0]+t[3];break;case 128:e=(-t[1]+t[3])*t[0]-t[2];break;case 95:e=t[0]>t[1];break;case 45:e=(t[3]+t[4])/t[1]-t[2]+t[0];break;case 130:e=(t[2]-t[4])/t[3]*t[1]-t[0];break;case 18:e=t[0]/(t[1]*t[2]);break;case 83:e=t[1]/t[0]/t[4]-t[3]+t[2];break;case 157:e=t[1]/+t[0]/t[2];break;case 19:e=t[1]+t[0]+t[2];break;case 102:e=+t[1]<<t[0];break;case 105:e=t[0]|t[1]|t[3]|t[4]|t[2];break;case 94:e=t[0]!=t[1];break;case 118:e=t[2]-t[3]-t[1]+t[0];break;case 84:e=t[6]+(t[2]-t[4])/(t[0]-t[3])*(t[1]-t[5]);break;case 132:e=t[2]*t[0]+t[1];break;case 155:e=t[0]/t[2]*t[4]+t[3]-t[1];break;case 30:e=t[2]*t[1]+t[3]-t[0];break;case 58:e=t[0]+t[3]+(t[2]^t[1])+t[4];break;case 96:e=t[0]<=t[1];break;case 79:e=(t[0]+t[3])/t[2]+t[1];break;case 12:e=t[1]/t[0];break;case 109:e=(-t[3]-t[1])/t[0]+t[2];break;case 10:e=-t[2]*t[1]-t[3]+t[0];break;case 25:e=t[0]*t[1]/(t[2]<<t[3]);break;case 2:e=t[0]>>t[1];break;case 23:e=-t[2]-t[1]+t[0];break;case 88:e=t[1]/+t[0];break;case 108:e=t[1]-t[0]+t[3]-t[2];break;case 16:e=-t[3]*t[2]+t[1]+t[0];break;case 148:e=(t[2]+t[1]-t[3])*t[0]-t[4];break;case 50:e=t[3]-t[0]/+t[2]-t[1];break;case 81:e=-(t[2]-t[0])*t[3]+t[1];break;case 5:e=t[2]-t[3]/t[1]+t[0];break;case 22:e=t[3]*t[0]*t[2]-t[1];break;case 57:e=t[4]-t[3]-t[1]-t[2]+t[0];break;case 93:e=t[0]*t[1];break;case 71:e=t[1]/t[0]-t[4]+t[2]+t[3];break;case 120:e=(t[1]-t[0])*t[3]/t[4]+t[2];break;case 70:e=(t[2]-t[3])/t[1]+t[0];break;case 4:e=t[1]/t[0]-t[2];break;case 48:e=t[2]+t[0]/t[1];break;case 112:e=-t[0]-t[2]+t[3]+t[4]+t[1];break;case 41:e=t[1]*t[3]-t[4]+t[0]+t[2];break;case 52:e=t[2]-t[3]/(t[1]*t[0]);break;case 60:e=(t[0]+t[1])/t[3]/t[4]+t[2];break;case 89:e=t[1]/t[3]*t[4]*t[2]*t[5]+t[0];break;case 161:e=t[2]*t[0]*t[1];break;case 92:e=t[0]>=t[1];break;case 97:e=t[1]%t[0];break;case 152:e=(t[1]+t[2])*t[0]/t[4]-t[3];break;case 140:e=t[3]+t[2]-t[1]+t[0];break}return e},H8Cx$XM:function(e){U=e}}}();ee.m9o=function(){return typeof ee[52325].Y8rlfG1=="function"?ee[52325].Y8rlfG1.apply(ee[52325],arguments):ee[52325].Y8rlfG1};ee[287683]=function(){for(var U=2;U!==9;)switch(U){case 2:var e=[arguments];return e[5]=void 0,e[2]={},e[2].A0J5MGg=function(){for(var t=2;t!==90;)switch(t){case 53:ee.s0I(r[7],r[9]),ee.s0I(r[7],r[91]),ee.s0I(r[7],r[3]),t=50;break;case 57:t=r[35]<r[7].length?56:69;break;case 75:r[23]={},r[23][r[44]]=r[59][r[37]][r[58]],r[23][r[14]]=r[26],ee.s0I(r[98],r[23]),t=71;break;case 76:t=r[58]<r[59][r[37]].length?75:70;break;case 44:r[91]=r[10],r[11]={},r[11].r0E=["p67"],r[11].i4i=function(){var s=!1,i=[];try{for(var a in console)ee.s0I(i,a);s=i.length===0}catch(n){}var o=s;return o},t=40;break;case 32:r[60].i4i=function(){var s=function(){return"xy".substring(0,1)},i=!ee.D_J(/\171/,s+[]);return i},r[32]=r[60],r[10]={},r[10].r0E=["p67"],r[10].i4i=function(){var s=typeof ee.W$9()=="function";return s},t=44;break;case 69:t=function(s){for(var i=2;i!==22;)switch(i){case 23:return a[9];case 9:a[4]=0,i=8;break;case 2:var a=[arguments];i=1;break;case 10:i=a[5][r[14]]===r[18]?20:19;break;case 13:a[1][a[5][r[44]]]=ee.n0(function(){for(var o=2;o!==9;)switch(o){case 5:return n[3].h=0,n[3].t=0,n[3];case 2:var n=[arguments];n[3]={},o=5;break}},this,arguments),i=12;break;case 14:i=typeof a[1][a[5][r[44]]]=="undefined"?13:11;break;case 11:a[1][a[5][r[44]]].t+=!0,i=10;break;case 16:i=a[4]<a[8].length?15:23;break;case 19:a[4]++,i=7;break;case 1:i=a[0][0].length===0?5:4;break;case 24:a[4]++,i=16;break;case 26:i=a[3]>=.5?25:24;break;case 15:a[7]=a[8][a[4]],a[3]=a[1][a[7]].h/a[1][a[7]].t,i=26;break;case 12:ee.s0I(a[8],a[5][r[44]]),i=11;break;case 25:a[9]=!0,i=24;break;case 20:a[1][a[5][r[44]]].h+=!0,i=19;break;case 4:a[1]={},a[8]=[],i=9;break;case 6:a[5]=a[0][0][a[4]],i=14;break;case 17:a[4]=0,i=16;break;case 5:return;case 7:i=a[4]<a[0][0].length?6:18;break;case 8:a[4]=0,i=7;break;case 18:a[9]=!1,i=17;break}}(r[98])?68:67;break;case 56:r[59]=r[7][r[35]];try{r[26]=r[59][r[63]]()?r[18]:r[69]}catch(s){r[26]=r[69]}t=77;break;case 70:r[35]++,t=57;break;case 21:r[30].i4i=function(){var s=function(){return decodeURI("%25")},i=!ee.D_J(/\x32\x35/,s+[]);return i},r[65]=r[30],r[60]={},r[60].r0E=["o_h"],t=32;break;case 25:r[52].i4i=function(){var s=function(){return"a|a".split("|")},i=!ee.D_J(/\u007c/,s+[]);return i},r[40]=r[52],r[30]={},r[30].r0E=["o_h"],t=21;break;case 67:return e[5]=51,88;case 58:r[35]=0,t=57;break;case 16:r[6].i4i=function(){var s=function(){return decodeURIComponent("%25")},i=!ee.D_J(/\x32\065/,s+[]);return i},r[9]=r[6],r[52]={},r[52].r0E=["o_h"],t=25;break;case 71:r[58]++,t=76;break;case 19:r[1]=r[8],r[6]={},r[6].r0E=["o_h"],t=16;break;case 13:r[2].i4i=function(){var s=function(){return encodeURI("%")},i=ee.D_J(/\062\u0035/,s+[]);return i},r[3]=r[2],r[8]={},r[8].r0E=["o_h"],r[8].i4i=function(){var s=function(){return"X".toLocaleLowerCase()},i=ee.D_J(/\u0078/,s+[]);return i},t=19;break;case 50:ee.s0I(r[7],r[83]),ee.s0I(r[7],r[65]),ee.s0I(r[7],r[40]),ee.s0I(r[7],r[1]),ee.s0I(r[7],r[73]),ee.s0I(r[7],r[5]),r[98]=[],t=64;break;case 64:r[18]="Z_7",r[69]="k_x",r[37]="r0E",r[14]="c31",r[63]="i4i",r[44]="K8s",t=58;break;case 14:r[2].r0E=["o_h"],t=13;break;case 68:t=68;break;case 4:r[7]=[],r[4]={},r[4].r0E=["p67"],r[4].i4i=function(){var s=typeof ee.M6h()=="function";return s},r[5]=r[4],r[2]={},t=14;break;case 5:return 57;case 1:t=e[5]?5:4;break;case 40:r[73]=r[11],r[54]={},r[54].r0E=["p67"],r[54].i4i=function(){var s=typeof ee.b_X()=="function";return s},t=36;break;case 77:r[58]=0,t=76;break;case 36:r[83]=r[54],ee.s0I(r[7],r[32]),t=53;break;case 2:var r=[arguments];t=1;break}},e[2]}}();function ln(U){function e(h){for(var c=2;c!==5;)switch(c){case 2:var f=[arguments];return f[0][0].Function}}function t(h,c,f,m,x,g){for(var d=2;d!==8;)switch(d){case 2:var p=[arguments];p[6]="erty",p[4]="eProp",p[8]="defin",p[1]=!1;try{for(var v=2;v!==11;)switch(v){case 13:p[2].enumerable=p[1];try{for(var S=2;S!==3;)switch(S){case 2:p[9]=p[8],p[9]+=p[4],p[9]+=p[6],p[0][0].Object[p[9]](p[5],p[0][4],p[2]),S=3;break}}catch(T){}v=11;break;case 7:p[3][p[0][4]]=p[3][p[0][2]],v=6;break;case 8:v=p[0][5]!==n[73]?7:6;break;case 6:p[2].set=function(T){for(var D=2;D!==5;)switch(D){case 2:var y=[arguments];p[3][p[0][2]]=y[0][0],D=5;break}},p[2].get=function(){for(var T=2;T!==10;)switch(T){case 6:T=p[0][5]===n[73]?14:13;break;case 11:return p[3][p[0][2]];case 13:T=typeof p[3][p[0][2]]==D[4]?12:11;break;case 8:D[4]+=D[2],D[4]+=D[7],T=6;break;case 14:return function(){for(var y=2;y!==14;)switch(y){case 2:var b=[arguments];b[2]=1,b[2]=null,y=4;break;case 4:y=arguments.length>n[73]?3:6;break;case 3:y=p[0][3]===n[73]?9:8;break;case 8:b[9]=arguments[n[73]]===b[2]||arguments[n[73]]===void 0?p[7]:arguments[n[73]],y=7;break;case 7:return b[9][p[0][2]].apply(b[9],Array.prototype.slice.call(arguments,n[69]));case 9:return p[3][p[0][2]].apply(p[7],arguments);case 6:return p[3][p[0][2]]}};case 2:var D=[arguments];D[2]="",D[7]="ined",D[2]="f",D[8]="unde",D[4]=D[8],T=8;break;case 12:return}},v=13;break;case 9:return;case 3:v=p[3].hasOwnProperty(p[0][4])&&p[3][p[0][4]]===p[3][p[0][2]]?9:8;break;case 2:p[2]={},p[7]=(0,p[0][1])(p[0][0]),p[3]=[p[7],p[7].prototype][p[0][3]],p[5]=p[0][5]===n[73]?ee:p[3],v=3;break}}catch(T){}d=8;break}}function r(h){for(var c=2;c!==5;)switch(c){case 2:var f=[arguments];return f[0][0].Math}}function s(h){for(var c=2;c!==5;)switch(c){case 2:var f=[arguments];return f[0][0]}}function i(h){for(var c=2;c!==5;)switch(c){case 2:var f=[arguments];return f[0][0].RegExp}}for(var a=2;a!==133;)switch(a){case 30:n[51]="",n[62]="ct",n[67]="ra",n[51]="",a=43;break;case 6:n[9]="z",n[3]="",n[3]="P",n[6]="",n[6]="x",n[4]="",a=20;break;case 53:n[95]="X",n[22]="__opt",n[35]="ize",n[86]="im",n[53]="",n[53]="_",n[23]="",a=46;break;case 43:n[60]="ual",n[31]="9",n[51]="h",n[29]="W",a=39;break;case 55:n[33]=n[56],n[33]+=n[67],n[33]+=n[62],n[76]=n[29],a=74;break;case 92:n[49]+=n[96],a=91;break;case 117:o(u,"sort",n[69],n[12],n[73]),a=116;break;case 134:o(s,n[34],n[73],n[40],n[73]),a=133;break;case 110:o(u,"unshift",n[69],n[79],n[73]),a=109;break;case 105:o(s,n[46],n[73],n[76],n[73]),a=135;break;case 91:var o=function(h,c,f,m,x){for(var g=2;g!==5;)switch(g){case 2:var d=[arguments];t(n[0][0],d[0][0],d[0][1],d[0][2],d[0][3],d[0][4]),g=5;break}};a=119;break;case 39:n[28]="",n[56]="__abst",n[28]="6",n[25]="M",n[95]="",a=53;break;case 63:n[40]+=n[53],n[40]+=n[95],n[34]=n[22],n[34]+=n[86],a=59;break;case 106:o(i,"test",n[69],n[83],n[73]),a=105;break;case 46:n[23]="b",n[73]=0,n[69]=1,n[40]=n[23],a=63;break;case 111:o(l,"split",n[69],n[74],n[73]),a=110;break;case 114:o(l,"fromCharCode",n[73],n[32],n[73]),a=113;break;case 100:n[68]+=n[53],n[72]=n[3],n[72]+=n[8],n[12]=n[9],a=96;break;case 68:n[83]+=n[53],n[83]+=n[17],n[16]=n[15],n[16]+=n[57],a=89;break;case 104:n[59]+=n[80],n[32]=n[6],n[32]+=n[31],n[68]=n[5],a=100;break;case 116:o(u,"join",n[69],n[72],n[73]),a=115;break;case 23:n[17]="J",n[65]="",n[65]="D",n[80]="2",a=34;break;case 2:var n=[arguments];n[7]="",n[7]="5",n[2]="",a=3;break;case 74:n[76]+=n[96],n[76]+=n[31],n[46]=n[53],n[46]+=n[84],n[46]+=n[60],n[83]=n[65],a=68;break;case 119:o(s,"Math",n[73],n[49],n[73]),a=118;break;case 112:o(l,"charCodeAt",n[69],n[78],n[73]),a=111;break;case 3:n[2]="",n[2]="w",n[9]="",n[9]="",a=6;break;case 113:o(s,"decodeURI",n[73],n[59],n[73]),a=112;break;case 59:n[34]+=n[35],n[20]=n[25],n[20]+=n[28],n[20]+=n[51],a=55;break;case 135:o(s,n[33],n[73],n[20],n[73]),a=134;break;case 89:n[16]+=n[81],n[87]=n[81],n[87]+=n[8],n[41]=n[5],a=85;break;case 115:o(s,"String",n[73],n[68],n[73]),a=114;break;case 107:o(u,"push",n[69],n[16],n[73]),a=106;break;case 20:n[4]="U",n[8]="",n[8]="7",n[1]="j",n[5]="n",a=15;break;case 85:n[41]+=n[57],n[79]=n[65],n[79]+=n[53],n[74]=n[29],a=81;break;case 118:o(r,"random",n[73],n[37],n[73]),a=117;break;case 81:n[74]+=n[57],n[78]=n[4],n[78]+=n[28],n[59]=n[1],a=104;break;case 96:n[12]+=n[80],n[37]=n[2],n[37]+=n[7],n[49]=n[1],a=92;break;case 108:o(u,"splice",n[69],n[87],n[73]),a=107;break;case 15:n[81]="",n[81]="I",n[15]="",n[15]="s",n[17]="",a=23;break;case 34:n[96]="",n[57]="0",n[96]="$",n[84]="_resid",a=30;break;case 109:o(e,"apply",n[69],n[41],n[73]),a=108;break}function l(h){for(var c=2;c!==5;)switch(c){case 2:var f=[arguments];return f[0][0].String}}function u(h){for(var c=2;c!==5;)switch(c){case 2:var f=[arguments];return f[0][0].Array}}}var pi,ua,ha,ca,fa,da,pa,ga,ma,xa,ya,va,ba,Ca,Sa,ka,wa,Da,Aa,Ta,Fa,_a,Ma,Pa,La,Ia,Ea,Ha,Oa,Na;pi="und";pi+="e";pi+="fined";ua=U=>{var e=ee,t,r,s;t=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.m30(),r=class{get(a,o){var n;n="no storage",n+=" defined",e.m30(),o(n)}set(a,o){}remove(a){}},t.ChartEngine.create=function({container:i,config:a,deferLoad:o}={}){var n,l,u;function h(){v&&(e.r5q(),setTimeout(()=>(e.r5q(),v(l))))}function c(){e.r5q(),l.loadChart(a.initialSymbol,{masterData:a.initialData},h),l.draw()}i||(i=document.querySelector(".chartContainer")||document.body),a||(a={}),n=Object.assign({container:i},a.chartEngineParams),e.r5q(),l=new this(n);var{quoteFeeds:f,marketFactory:m,addOns:x,chartId:g,multiChartId:d,onEngineReady:p,onChartReady:v}=a;f&&l.attachQuoteFeed&&f.forEach(({quoteFeed:T,behavior:D,filter:y})=>{e.r5q(),l.attachQuoteFeed(T,D,y)}),m&&l.setMarketFactory(m),x&&Object.entries(x).filter(([,T])=>(e.m30(),!!T)).forEach(([T,D])=>{var y,b,w,A;if(a.enabledAddOns[T])if(e.m30(),y=D.moduleName||t.capitalize(T),t[y]){b=-67870038,w=-2008638410,A=2;for(var _=1;e.D4r(_.toString(),_.toString().length,"55669"<<0)!==b;_++){var{cssRequired:P}=new t[y](Object.assign({stx:l},D,{config:a}));A+=2}if(e.m9o(A.toString(),A.toString().length,84704)!==w)var{cssRequired:P}=new t[y](Object.assign({stx:l},D,{config:a}));P&&t.UI&&t.UI.activatePluginUI(l,y)}else t.debug&&(e.Z1$(0),console.log(`${y}${e.v8U("th para"," not available for"," addons wi","ms:")}`,D))}),u=t.ensureDefaults(a.callbacks||{},{layout:this.getSaveLayout(a),symbolChange:this.getSaveLayout(a),drawing:this.getSaveDrawings(a),preferences:this.getSavePreferences(a),newChart:this.getRetoggleEvents(a)});for(var S in u)u[S]&&l.addEventListener(S,u[S]);return s=a.nameValueStore||t.NameValueStore||r,s=new s,o||(p&&p(l),a.restore?(this.restorePreferences(l,g,d),this.restoreLayout(l,T=>{!l.chart.symbol&&a.initialSymbol?c():h()},g,a)):c()),l},t.ChartEngine.getSaveLayout=function(i){return function({stx:o}){var n;i.restore&&o.exportLayout&&(n=JSON.stringify(o.exportLayout(!0)),s.set("myChartLayout"+(i.chartId||""),n))}},t.ChartEngine.restoreLayout=function(i,a,o,n){var{restoreDrawings:l}=this;o||(o=""),e.r5q(),e.Z1$(1),s.get(e.p5W("myChartLayout",o),function(h,c){var f,m;if(!h){try{c=JSON.parse(c)}catch(x){}f=n&&n.restore&&n.restore.symbol===!1,c&&c.symbols&&f&&(m=n.initialSymbol!=null&&n.initialSymbol.symbol?n.initialSymbol:{symbol:n.initialSymbol},c.symbols[0]=c.symbols[0]||{},Object.assign(c.symbols[0],{symbol:m.symbol,symbolObject:m}),c.symbols=c.symbols.filter(({symbol:x},g)=>(e.r5q(),!g||x!==m.symbol))),i.importLayout&&i.importLayout(c,{managePeriodicity:!0,cb:u}),i.crossSection&&i.setCandleWidth(1)}});function u(){e.r5q(),l(i,i.chart.symbol,o),a&&a()}},t.ChartEngine.getSaveDrawings=function(i){return e.r5q(),function({stx:o,symbol:n}){var l,u,h;e.m30(),i.restore&&o.exportDrawings&&(l=o.exportDrawings(),u=i.chartId?i.chartId+"~"+n:n,h=`${i.chartId||""}_drawings`,s.get(h,(c,f)=>{var m;m=f||{},l.length===0?(s.remove(u),delete m[u]):(s.set(u,JSON.stringify(l)),m[u]=l.length),s.set(h,m)}))}},t.ChartEngine.restoreDrawings=function(i,a,o){e.r5q();var n;t.Drawing&&(n=o?o+"~"+a:a,s.get(n,function(l,u){if(!l){e.m30();try{u=JSON.parse(u)}catch(h){}u&&(i.importDrawings(u),i.draw())}}))},t.ChartEngine.getSavePreferences=function(i){return e.r5q(),function({stx:o}){var n;i.restore&&o.exportPreferences&&(n=JSON.stringify(o.exportPreferences()),s.set("myChartPreferences"+(i.multiChartId||i.chartId||""),n))}},t.ChartEngine.restorePreferences=function(i,a,o){var n;n=o||a||"",e.Z1$(1),s.get(e.v8U("myChartPreferences",n),function(l,u){if(!l){try{u=JSON.parse(u)}catch(h){}e.r5q(),u&&i.importPreferences&&i.importPreferences(u)}})},t.ChartEngine.getRetoggleEvents=function(i){return function({stx:o}){var n,l,u;n="UI.",n+="getMyContext",l=i.chartId&&document.getElementById(i.chartId),l||(l=(t.getFn(n)(o.container)||{}).topNode),l||(l=document),u=l.querySelectorAll(`${i.selector.markersMenuItem}.ciq-active:not(.span-event)`),u.forEach(function(h){h.querySelector(".ciq-switch, .ciq-checkbox, .ciq-radio").dispatchEvent(new Event("stxtap"))})}}};ha=U=>{var e;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.ChartEngine.prototype.drawHeatmap=function(t,r){var s=ee,i,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S;if(i="D",i+="a",i+="ta",a="cha",a+="rt",!r||!r.length||(o=t.panel,o||(o=a),n=this.panels[o],!n))return;l=t.yAxis?t.yAxis:n.yAxis,u=this.chart.dataSegment,t.name||(t.name=i),t.widthFactor||(s.Z1$(2),t.widthFactor=s.p5W("1",64)),t.height||(t.height=Math.pow(10,1-(n.decimalPlaces||n.chart.decimalPlaces))),h="stx-float-date";function T(y,b,w,A,_,P,I,O){var R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z;c.beginPath(),c.fillStyle=b,c.strokeStyle=b,c.textAlign="center",R=p.layout.candleWidth*_,C=Math.floor(p.pixelFromBar(0,n.chart)-p.layout.candleWidth),s.m30(),typeof w=="number"&&(s.Z1$(3),c.globalAlpha=s.p5W(w,m)),typeof w=="object"&&(M={minOpacity:w.min||0,maxOpacity:w.max||1});for(var $="0"*1;$<u.length;$++){if(L="nu",L+="mb",L+="er",E=u[$],E&&E.candleWidth){if($===0)C+=p.layout.candleWidth;else{s.Z1$(4);var K=s.v8U(1,16,14);C+=(E.candleWidth+R/_)/K}R=E.candleWidth*_}else C+=p.layout.candleWidth;if(s.b1T(5),k=s.p5W(I,2,C,R),s.Z1$(6),F=s.p5W(C,2,R,I),F-k<2&&(s.b1T(7),F=s.p5W(k,0,"1")),!!E&&(H=E[y],!!H)){H[O]&&(H=H[O]),typeof H==L&&(H=[H]);for(var q=0;q<H.length;q++){if(N=H[q],j=0,N instanceof Array){if(M){s.Z1$(8);var X=s.v8U(18,0,20);s.Z1$(9);var Z=s.p5W(20,19);s.Z1$(10);var ae=s.p5W(81,12,5,19);c.globalAlpha=m*(N[X]*M.maxOpacity+(Z-N[ae])*M.minOpacity)}j=N[1],N=N[0]}W=p.pixelFromPrice(N,n,l),v||(P||(P=t.height),V=p.pixelFromPrice(N+P*(l.flipped?1:-1),n,l),c.lineWidth=1,s.Z1$(11),g=s.v8U(W,V),s.Z1$(12),d=s.p5W(2,g),v=c.lineWidth),A?(s.b1T(11),Y=s.v8U(d,W),s.Z1$(1),Q=s.v8U(W,d),s.b1T(11),c.rect(k,Y,s.v8U(k,F),s.p5W(Y,Q))):(s.Z1$(11),c.fillRect(k,s.v8U(d,W),s.p5W(k,F),g),t.showSize&&j&&f<=g-2&&(z=c.globalAlpha,c.fillStyle=p.defaultColor,s.b1T(13),c.globalAlpha=s.v8U("0.5",m),s.Z1$(14),c.fillText(j,s.p5W(F,k,2),W),c.fillStyle=b,s.Z1$(3),c.globalAlpha=s.v8U(z,m))),M&&N instanceof Array&&(c.globalAlpha=0)}}}A&&c.stroke(),c.globalAlpha=m,c.closePath()}c=this.chart.context,this.canvasFont(h,c),f=this.getCanvasFontSize(h),m=1,!t.highlight&&this.highlightedDraggable&&(m=.3),x=.5,n.chart.tmpWidth<=1&&(x=0),g=null,d=null,p=this,v=null,this.startClip(o),c.globalAlpha=m;for(var D=0;D<r.length;D++)S=r[D],T(S.field,S.color,S.opacity,null,t.widthFactor,S.height,S.border_color?x:-x/4,S.subField),S.border_color&&this.layout.candleWidth>=2&&T(S.field,S.border_color,S.opacity,!0,t.widthFactor,S.height,x,S.subField);c.lineWidth=1,c.globalAlpha=1,this.endClip()},e.ChartEngine.prototype.drawCandles=function(t,r,s){var i=ee,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X;a=t.chart,a||(a=t,t=t.chart),o=s.stretchGaps,!o&&o!==!1&&(o=this.cleanupGaps==="stretch"),n=!1,l=!1,u=null,h=t.yAxis,s&&typeof s=="object"?(n=s.isOutline,l=s.isHistogram,u=s.field,h=s.yAxis):(n=s,l=arguments[3]),c=a.dataSegment,f=a.context,m=h.top,x=h.bottom,v=new Array(c.length),S="t",S+="ranspar",S+="ent",T="transparent",i.Z1$(15),D=i.p5W(0,"0"),i.b1T(16);var Z=i.p5W(156,15,10,17);y=a.dataSet.length-a.scroll-Z,b={},i.b1T(9);var ae=i.v8U(15,13);w=a.tmpWidth/ae,A=this.layout.candleWidth,i.Z1$(9);var te=i.p5W(17,16);_=t.left-.5*A+this.micropixels-te,i.r5q(),P=-1;for(var re=0;re<=c.length;re++){I="s",I+="o",I+="lid",O="outlin",O+="e",i.Z1$(11);var oe=i.v8U(5,6);i.Z1$(17);var B=i.p5W(2,3,14,23,12);if(_+=this.layout.candleWidth*(re-P-oe)/B,P=re,R=w,i.Z1$(12),_+=i.p5W(2,A),A=this.layout.candleWidth,i.Z1$(12),_+=i.v8U(2,A),C=!1,k=c[re],!!k&&((!k.cache||a.pixelCacheExpired)&&(k.cache={}),!k.projection)){if(k.candleWidth){i.b1T(1);var G=i.p5W(0,2);_+=(k.candleWidth-A)/G,A=k.candleWidth,(s.isVolume||A<a.tmpWidth)&&(i.b1T(18),R=i.v8U(A,"2",1))}if(a.transformFunc&&h==a.panel.yAxis&&k.transform&&(u?(k=Object.assign({},k[u],k.transform[u],{tick:k.tick},{cache:k.transform.cache}),C=!0):(k=Object.assign({},k,k.transform),delete k.transform)),F=k.cache,k&&u&&!C&&(k=k[u]),!(!k&&k!=="0"*1)&&(M="open",L="close",u&&(i.b1T(19),M=i.v8U(".",u,M),i.Z1$(19),L=i.p5W(".",u,L)),E=k.Close,H=k.Open===void 0?E:k.Open,l&&a.defaultPlotField&&(E=k[a.defaultPlotField]),!(!E&&E!==0))){if(N=0,!s.isVolume&&o){for(;c[re+1]&&(i.b1T(1),j=c[i.p5W(re,1)][a.defaultPlotField||"Close"],!(j||j==="0">>32||c[re+1].futureTick));)N++,re++;i.Z1$(20),_+=i.v8U(A,2,N),i.b1T(20),R+=i.p5W(A,2,N)}if(!(!l&&(H==E||H===null))&&(W=r(this,k,n?O:I),!!W)){if(n?S=W:T=W,b[T]=1,V=S&&!e.isTransparent(S),V&&!s.highlight&&(D=.5),f.beginPath(),f.fillStyle=T,i.Z1$(1),Y=i.p5W(y,P),Y<t.cacheLeft||Y>t.cacheRight||!F[M]){if(Q=h.semiLog?h.height*(1-(Math.log(Math.max(H,0))/Math.LN10-h.logLow)/h.logShadow):(h.high-H)*h.multiplier,z=h.semiLog?h.height*(1-(Math.log(Math.max(E,0))/Math.LN10-h.logLow)/h.logShadow):(h.high-E)*h.multiplier,Math.abs(Q-z)<1&&(Q=z),h.flipped?(i.b1T(11),Q=i.v8U(Q,x),i.Z1$(11),z=i.p5W(z,x)):(Q+=m,z+=m),v[P]=z,g=l?z:Math.min(Q,z),d=l?h.bottom:Math.max(Q,z),g=Math.floor(g),d=Math.floor(d),i.Z1$(11),p=i.v8U(g,d),g<m){if(g+p<m){F[M]=g,F[L]=g;continue}i.b1T(21),p-=i.v8U(m,g,1),i.Z1$(11),g=i.v8U(1,m)}g+p>x&&(i.b1T(8),p=i.v8U(g,x,1)),F[M]=g,i.Z1$(1),F[L]=i.v8U(g,p)}F[M]>=x||F[L]<=m||($=Math.floor(_)+(!s.highlight&&.5),K=Math.floor($-R)+D,q=Math.round($+R)-D,f.rect(K,F[M]+D,Math.max(0,q-K),Math.max("0"|0,F[L]-F[M])),!s.highlight&&this.highlightedDraggable&&(f.globalAlpha*=.3),T!="transparent"&&f.fill(),V&&(i.Z1$(3),f.lineWidth=i.p5W("1",1),s.highlight&&(f.lineWidth*=2),f.strokeStyle=S,f.stroke()))}}}}a.pixelCacheExpired=!1,X={colors:[],cache:v};for(var ie in b)(!s.hollow||!e.equals(ie,this.containerColor))&&X.colors.push(ie);return X},e.ChartEngine.prototype.drawShadows=function(t,r,s){var i=ee,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N;if(a="stret",a+="c",a+="h",!s.isHistogram){o=t.chart,o||(o=t,t=t.chart),n=s.stretchGaps,!n&&n!==!1&&(n=this.cleanupGaps===a),l=o.dataSegment,u=this.chart.context,u.lineWidth=1,s.highlight&&(u.lineWidth*=2),!s.highlight&&this.highlightedDraggable&&(u.globalAlpha*=.3),h=s.field,c=s.yAxis||t.yAxis,f=c.top,m=c.bottom,i.b1T(22);var j=i.v8U(9,724,2,42);x=o.dataSet.length-o.scroll-("1">>j),g=this.layout.candleWidth,i.b1T(23);var W=i.p5W(25,16,8);d=t.left-.5*g+this.micropixels-W,p=-1;for(var V="0"|0;V<=l.length;V++){v="t",v+="op",i.b1T(9);var Y=i.p5W(6,4);if(d+=this.layout.candleWidth*(V-p-1)/Y,p=V,i.b1T(12),d+=i.v8U(2,g),g=this.layout.candleWidth,i.b1T(12),d+=i.v8U(2,g),S=l[V],!!S&&((!S.cache||o.pixelCacheExpired)&&(S.cache={}),!S.projection)){if(S.candleWidth){i.Z1$(24);var Q=i.p5W(5,10,4,16,52);d+=(S.candleWidth-g)/Q,g=S.candleWidth}if(T=r(this,S,"shadow"),!!T&&(o.transformFunc&&c==o.panel.yAxis&&S.transform&&(S=S.transform),D=S.cache,S&&h&&(S=S[h]),!(!S&&S!==0)&&(y=v,b="bottom",h&&(i.Z1$(19),y=i.p5W(".",h,y),i.Z1$(19),b=i.p5W(".",h,b)),w=S.Close,A=S.Open===void 0?w:S.Open,_=S.High===void 0?Math.max(w,A):S.High,P=S.Low===void 0?Math.min(w,A):S.Low,!(!w&&w!==0)))){if(I=d,!s.isVolume&&n){for(O=0;l[V+1]&&(R=l[V+1].Close,!(R||R===0||l[V+("1"|1)].futureTick));)O++,V++;i.Z1$(25),d+=i.v8U(O,g,"2",64)}if(i.b1T(1),C=i.v8U(x,p),C<t.cacheLeft||C>t.cacheRight||!D[y]){if(k=c.semiLog?c.height*(1-(Math.log(Math.max(_,0))/Math.LN10-c.logLow)/c.logShadow):(c.high-_)*c.multiplier,F=c.semiLog?c.height*(1-(Math.log(Math.max(P,0))/Math.LN10-c.logLow)/c.logShadow):(c.high-P)*c.multiplier,Math.abs(F-k)<1&&(F=k),k=Math.floor(k),F=Math.floor(F),i.Z1$(11),M=i.p5W(k,F),c.flipped?(i.Z1$(11),k=i.v8U(k,m),i.b1T(11),F=i.p5W(F,m)):(k+=f,F+=f),k<f){if(k+M<f){D[y]=k,D[b]=k;continue}i.b1T(21),M-=i.p5W(f,k,1),i.b1T(11),k=i.p5W(1,f)}k+M>m&&(i.b1T(8),M=i.p5W(k,m,1)),D[y]=k,D[b]=D[y]+M}D[y]>=m||D[b]<=f||(L=Math.floor(I)+(!s.highlight&&.5),u.beginPath(),w==A&&(E=this.offset,s.isVolume&&(i.Z1$(18),E=i.p5W(g,"2",1)),H=c.semiLog?c.height*(1-(Math.log(Math.max(w,0))/Math.LN10-c.logLow)/c.logShadow):(c.high-w)*c.multiplier,H=Math.floor(H)+(!s.highlight&&.5),c.flipped?(i.b1T(11),H=i.v8U(H,m)):H+=f,H<=m&&H>=f&&(i.Z1$(11),N=Math.floor(i.v8U(I,d)),i.Z1$(26),u.moveTo(i.p5W(N,L,E),H),i.Z1$(19),u.lineTo(i.v8U(N,L,E),H))),_!=P&&(u.moveTo(L,D[y]),u.lineTo(L,D[b])),u.strokeStyle=T,u.stroke())}}}o.pixelCacheExpired=!1}},e.ChartEngine.prototype.drawBarChart=function(t,r,s,i){var a=ee,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z;o=t.chart,o||(o=t,t=t.chart),n=i.stretchGaps,!n&&n!==!1&&(n=this.cleanupGaps==="stretch"),a.r5q(),l=o.dataSegment,u=new Array(l.length),h=o.context,c=this.canvasStyle(r),c.width&&parseInt(c.width,10)<=25?(a.b1T(2),h.lineWidth=Math.max(a.v8U("1",96),e.stripPX(c.width))):h.lineWidth=1,i.highlight&&(h.lineWidth*=2),!i.highlight&&this.highlightedDraggable&&(h.globalAlpha*=.3),f=i.field,m=i.yAxis||t.yAxis,x=m.top,g=m.bottom,a.b1T(11);var ae=a.v8U(12,13);p=o.dataSet.length-o.scroll-ae,v={},S=o.tmpWidth/2,a.b1T(9);var te=a.p5W(18,16);T=h.lineWidth/te,D=this.layout.candleWidth,a.b1T(27);var re=a.p5W(17,171,3,13);y=t.left-.5*D+this.micropixels-re,b=-1;for(var oe=0;oe<=l.length;oe++){a.Z1$(21);var B=a.p5W(18,2,14);if(y+=this.layout.candleWidth*(oe-b-1)/B,b=oe,w=S,a.b1T(12),y+=a.p5W(2,D),D=this.layout.candleWidth,a.Z1$(12),y+=a.p5W(2,D),A=l[oe],!!A&&((!A.cache||o.pixelCacheExpired)&&(A.cache={}),!A.projection)){if(A.candleWidth){a.b1T(28);var G=a.v8U(13,61,1,4,19);y+=(A.candleWidth-D)/G,D=A.candleWidth}if(_=s(this,A),!!_&&(v[_]=1,h.strokeStyle=_,h.beginPath(),o.transformFunc&&m==o.panel.yAxis&&A.transform&&(A=A.transform),P=A.cache,A&&f&&(A=A[f]),!(!A&&A!==0)&&(I="top",O="bottom",R="open",C="close",f&&(a.Z1$(19),I=a.p5W(".",f,I),a.Z1$(19),O=a.v8U(".",f,O),a.b1T(19),R=a.v8U(".",f,R),a.b1T(19),C=a.v8U(".",f,C)),k=A.Close,F=A.Open===void 0?k:A.Open,M=A.High===void 0?Math.max(k,F):A.High,L=A.Low===void 0?Math.min(k,F):A.Low,!(!k&&k!==0)))){if(E=y,!i.isVolume&&n){for(H=0;l[oe+1]&&(N=l[oe+1].Close,!(N||N===0||l[oe+1].futureTick));)H++,oe++;a.Z1$(20),y+=a.v8U(D,2,H),a.Z1$(20),w+=a.v8U(D,2,H)}if(a.Z1$(1),j=a.v8U(p,b),j<t.cacheLeft||j>t.cacheRight||!P[I]){if(W=this.pixelFromTransformedValue(M,t,m),V=this.pixelFromTransformedValue(L,t,m),W=Math.floor(W),V=Math.floor(V),a.Z1$(11),d=a.p5W(W,V),P[R]=m.semiLog?m.height*(1-(Math.log(Math.max(F,0))/Math.LN10-m.logLow)/m.logShadow):(m.high-F)*m.multiplier,P[C]=m.semiLog?m.height*(1-(Math.log(Math.max(k,0))/Math.LN10-m.logLow)/m.logShadow):(m.high-k)*m.multiplier,Math.abs(P[C]-P[R])<1&&(P[C]=P[R]),P[R]=Math.floor(P[R]),P[C]=Math.floor(P[C]),m.flipped?(P[R]=m.bottom-P[R],P[C]=m.bottom-P[C]):(P[R]+=m.top,P[C]+=m.top),u[b]=P[C],W<x){if(W+d<x){P[I]=W,P[O]=W;continue}a.Z1$(21),d-=a.p5W(x,W,1),a.b1T(11),W=a.v8U(1,x)}W+d>g&&(a.b1T(29),d=a.v8U(g,"1",0,W)),P[I]=W,a.Z1$(1),P[O]=a.v8U(W,d)}Y=!i.highlight&&.5,Q=Math.floor(E)+Y,z=P[R]+Y,$=P[C]+Y,K=P[I]+Y,q=P[O]+Y,K<g&&q>x&&A.High!=A.Low&&(a.Z1$(11),h.moveTo(Q,a.p5W(T,K)),a.b1T(1),h.lineTo(Q,a.v8U(q,T))),a.Z1$(11),X=Math.floor(a.p5W(E,y)),i.type!="hlc"&&z>x&&z<g&&(h.moveTo(Q,z),a.b1T(26),h.lineTo(a.v8U(X,Q,w),z)),$>x&&$<g&&(h.moveTo(Q,$),a.Z1$(19),h.lineTo(a.p5W(X,Q,w),$)),h.stroke()}}}h.lineWidth=1,o.pixelCacheExpired=!1,Z={colors:[],cache:u};for(var ie in v)e.equals(ie,this.containerColor)||Z.colors.push(ie);return Z},e.ChartEngine.prototype.drawWaveChart=function(t,r){var s=ee,i,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C;i=t.chart,a=r.stretchGaps,!a&&a!==!1&&(a=this.cleanupGaps==="stretch"),o=i.dataSegment,n=new Array(o.length),l=i.context,r||(r={}),u=r.yAxis||t.yAxis,this.startClip(t.name),l.beginPath(),h=!1,c=!1,f=t.yAxis.top,m=t.yAxis.bottom,x=this.layout.candleWidth,g=t.left+Math.floor(-.5*this.layout.candleWidth+this.micropixels),d=this,p=-1;for(var k=0;k<=o.length;k++){s.Z1$(27);var F=s.p5W(7,43,11,17);s.b1T(30);var M=s.p5W(104,12,8,10);if(g+=this.layout.candleWidth*(k-p-F)/M,p=k,s.Z1$(12),g+=s.p5W(2,x),x=this.layout.candleWidth,s.b1T(12),g+=s.p5W(2,x),v=o[k],!!v){if(v.projection)break;if(v.candleWidth){s.b1T(31);var L=s.p5W(12,33,18,10,15);g+=(v.candleWidth-x)/L,x=v.candleWidth}if(i.transformFunc&&u==i.panel.yAxis&&v.transform&&(v=v.transform),v&&r.field&&(v=v[r.field]),!(!v&&v!==0)&&(S=v.Close,T=v.Open===void 0?S:v.Open,D=v.High===void 0?Math.max(S,T):v.High,y=v.Low===void 0?Math.min(S,T):v.Low,!(!S&&S!==0))){if(a)for(;o[k+1]&&(b=o[k+1].Close,!(b||b===0||o[k+1].futureTick));)s.Z1$(12),g+=s.v8U(2,x),k++;if(s.Z1$(8),w=s.p5W(p,k,1),s.Z1$(32),A=s.v8U(8,3,w,x,g),_=H(T),_<f){if(_=f,c){l.moveTo(A,_);continue}c=!0}else if(_>m){if(_=m,c){l.moveTo(A,_);continue}c=!0}else c=!1;if(h)l.lineTo(A,_);else{h=!0,s.Z1$(33);var E=s.v8U(12,206,3,0,17);P=i.dataSet.length-i.scroll-E,P<0?l.moveTo(A,_):P>=0&&(I=i.dataSet[P],I.transform&&(I=I.transform),O=I.Close,O=H(O),O=Math.min(Math.max(O,f),m),l.moveTo(t.left+(k-1)*this.layout.candleWidth+this.micropixels,O),l.lineTo(A,_)),l.moveTo(A,_)}s.Z1$(20),A+=s.v8U(x,4,w),T<S?(_=H(y),_<f&&(_=f),_>m&&(_=m),l.lineTo(A,_),s.Z1$(20),A+=s.p5W(x,4,w),_=H(D),_<f&&(_=f),_>m&&(_=m),l.lineTo(A,_)):(_=H(D),_<f&&(_=f),_>m&&(_=m),l.lineTo(A,_),s.Z1$(20),A+=s.v8U(x,4,w),_=H(y),_<f&&(_=f),_>m&&(_=m),l.lineTo(A,_)),s.b1T(20),A+=s.v8U(x,4,w),_=H(S),n[k]=_,_<f&&(_=f),_>m&&(_=m),l.lineTo(A,_)}}}R=this.canvasStyle("stx_line_chart"),R.width&&parseInt(R.width,10)<="25">>96?l.lineWidth=Math.max(1,e.stripPX(R.width)):l.lineWidth=1;function H(N){return d.pixelFromTransformedValue(N,t,u)}return r.highlight&&(l.lineWidth*=2),this.canvasColor("stx_line_chart"),r.color&&(l.strokeStyle=r.color),!r.highlight&&this.highlightedDraggable&&(l.globalAlpha*=.3),l.stroke(),l.closePath(),C={colors:[l.strokeStyle],cache:n},this.endClip(),l.lineWidth=1,C},e.ChartEngine.prototype.drawHistogram=function(t,r){var s=ee,i,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V;if(i="Dat",i+="a",!r||!r.length||(a=t.panel,a||(a="chart"),o=this.panels[a],!o))return;for(n=t.stretchGaps,!n&&n!==!1&&(n=this.cleanupGaps==="stretch"),l=t.yAxis?t.yAxis:o.yAxis,u=t.type,h=this.chart.dataSegment,c=!1,f=1,s.b1T(15),m=s.v8U(1,"1"),g=0;g<r.length;g++)c|=r[g].border_color_up&&!e.isTransparent(r[g].border_color_up),c|=r[g].border_color_down&&!e.isTransparent(r[g].border_color_down),f=r[g].opacity_up,m=r[g].opacity_down,!t.highlight&&this.highlightedDraggable&&(s.b1T(11),f*=s.p5W(0,"0.3"),m*=.3);t.borders===!1&&(c=!1);function Y(q,X,Z,ae,te,re,oe,B,G){var ie,ne,le,fe,ue,ge,ce,de,he,pe,me,xe,ye,be,_e,De,ke,Ae,we,Ee,Se;ae||(ae=1),I.globalAlpha=ae,I.beginPath(),s.b1T(1),s.m30(),ie=s.p5W(w,.5),ne=Math.floor(k.pixelFromBar("0"|0,o.chart)-k.layout.candleWidth/2),le=ne;for(var Ce=0;Ce<h.length;Ce++){if(fe=0,ue=C[Ce]||w,Ce===("0"|0)&&(ie=ue),ge=h[Ce],ce=e.Studies.getQuoteFieldValue(ge,q,X),ce===null){ie=ue,le+=k.layout.candleWidth;continue}if(n&&u!=="clustered"){for(;h[Ce+1]&&(s.Z1$(1),de=h[s.v8U(Ce,1)][q],!(de||de===0||h[Ce+1].futureTick||de&&(de.Close||de.Close===0)));)fe++,Ce++;ue=C[Ce]||w}if(s.b1T(34),he=s.v8U(ce,v,d),pe=k.layout.candleWidth,ge.candleWidth&&(pe=ge.candleWidth,Ce===0&&(ne=le=Math.floor(k.pixelFromBar(0,o.chart)-ge.candleWidth/2))),isNaN(he)){ie=ue,le+=pe;continue}s.Z1$(35);var Me=s.v8U(19,208,11);if(me=Math.floor(ue-he)+"0.5"*Me,me>ue&&!A&&(me=ue),xe=(typeof ge[q]=="object"?ge[q]:ge).Close,ye=(typeof ge[q]=="object"?ge[q]:ge).iqPrevClose,G&&G.indexOf(Ce)==-1||!G&&(re&&xe<ye||!re&&xe>=ye)){ie=me,le+=pe+k.layout.candleWidth*fe;continue}be=pe/k.layout.candleWidth,s.b1T(36),_e=Math.round(s.p5W(O,B,oe,le,be)),s.Z1$(1),De=s.v8U(_e,te?0:P),ke=_e+Math.round(B*be)-(te?0:P),ke-De<2&&(s.Z1$(1),ke=s.p5W(De,1)),Ae=te?0:.5,De%1==Ae&&(De+=.5),ke%1==Ae&&(ke+=.5),s.Z1$(3),ke+=s.v8U(B,fe),I.moveTo(ke,ue),w!=ue&&te&&!O&&C[Ce+1]&&I.moveTo(ke,Math.max(me,Math.min(ue,C[Ce+1]))),I.lineTo(ke,me),I.lineTo(De,me),te&&oe?(R[Ce]>me||Ce===0)&&I.lineTo(De,Math.min(ue,R[Ce])):te&&!O&&u=="clustered"?Ce>0&&R[Ce-1]&&R[Ce-1]>me&&I.lineTo(De,Math.min(ue,R[Ce-1])):te&&!O?(ie>me||Ce===0)&&I.lineTo(De,Math.min(ue,ie)):I.lineTo(De,ue),ie=me,le+=pe+k.layout.candleWidth*fe,(u!="clustered"||te)&&(R[Ce]=me);for(var He=0;He<fe;He++)s.Z1$(11),R[s.p5W(He,Ce)]=R[Ce]}if(te)I.strokeStyle=!Z||Z=="auto"?k.defaultColor:Z,I.stroke();else{I.fillStyle=!Z||Z=="auto"?k.defaultColor:Z,we=1854944939,Ee=333705054,Se=2;for(var Re=1;s.m9o(Re.toString(),Re.toString().length,15033)!==we;Re++)I.fill(),Se+=2;s.D4r(Se.toString(),Se.toString().length,87846)!==Ee&&I.fill()}I.closePath()}t.name||(t.name=i),d=l.multiplier,t.heightPercentage||(t.heightPercentage=.7),t.widthFactor||(t.widthFactor=.8),p=0,v=0;for(var Q=0;Q<this.chart.maxTicks;Q++)if(S=h[Q],!!S)for(T=0,g=0;g<r.length;g++)D="Cl",D+="ose",x=r[g].subField||this.chart.defaultPlotField||D,y=e.Studies.getQuoteFieldValue(S,r[g].field,x),!y&&this.cleanupGaps==="stretch"&&(y=this.valueFromInterpolation(Q,r[g].field,x,o,l,!0)),(y||y===0)&&(b="obje",b+="ct",typeof y==b&&y[x]&&(y=y[x]),u=="stacked"?T+=y:T=y,T>p&&(p=T),T<v&&(v=T));if(p===0&&v===("0"|0)){this.displayErrorAsWatermark(a,this.translateIf(t.name+" Not Available"));return}for(A=!1,t.bindToYAxis?(l.baseline&&(v=l.baseline.value,A=!0),w=Math.floor(this.pixelFromPrice(v,o,l))+(l.flipped?-.5:.5)):(l.flipped?(w=Math.floor(l.top)-.5,_=Math.floor(l.bottom)-.5):(w=Math.floor(l.bottom)+.5,_=Math.floor(l.top)+.5),d=Math.abs(w-_)*t.heightPercentage/(p-v)),this.startClip(a),P=this.layout.candleWidth<=1||!c?"0"^0:.5,I=this.chart.context,l.flipped&&(I.translate(0,2*l.top),I.scale(1,-1)),O=Math.max(0,(1-t.widthFactor)*this.layout.candleWidth/2),R=new Array(h.length),C=[],k=this,s.b1T(2),F=s.p5W("1",64),g=0;g<r.length;g++){if(M="f",M+="uncti",M+="on",L="Clo",L+="s",L+="e",E=r[g],F=this.layout.candleWidth*t.widthFactor,O&&this.layout.candleWidth-F<=2&&(c=!1),H=0,u=="clustered"&&(H=g,F/=r.length),x=E.subField||this.chart.defaultPlotField||L,typeof E.color_function==M){j={};for(var z=0;z<h.length;z++)if(h[z]){V="strin",V+="g",N=E.color_function(h[z]),typeof N==V&&(N={fill_color:N,border_color:N}),N.hasOwnProperty("border_opacity")||(N.border_opacity=N.opacity),s.b1T(37);var $=s.p5W(2,3462,1714,13);s.Z1$(38);var K=s.p5W(17,10,99786,6247);W=N.fill_color+($===K?896.42:",")+N.border_color,W in j?j[W].positions.push(z):(N.positions=[z],j[W]=N)}for(W in j)N=j[W],Y(E.field,x,N.fill_color,N.opacity,null,null,H,F,N.positions),Y(E.field,x,N.border_color,N.border_opacity,!0,null,H,F,N.positions)}else Y(E.field,x,E.fill_color_up,f,null,!0,H,F),Y(E.field,x,E.fill_color_down,m,null,null,H,F),this.layout.candleWidth>=2&&c&&(Y(E.field,x,E.border_color_up,f,!0,!0,H,F),Y(E.field,x,E.border_color_down,m,!0,null,H,F));u=="stacked"&&(C=e.shallowClone(R))}I.globalAlpha=1,this.endClip()},e.ChartEngine.prototype.scatter=function(t,r){var s=ee,i,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y;i="stx_scatte",i+="r_chart",a=t.chart,o=a.dataSegment,n=new Array(o.length),l=this.chart.context,this.canvasColor(i),r||(r={}),u=r.field||a.defaultPlotField,h=r.yAxis||t.yAxis,c=r.subField||a.defaultPlotField||"Close",this.startClip(t.name),l.beginPath(),l.lineWidth=r.lineWidth||4,r.highlight&&(l.lineWidth*=2),!r.highlight&&this.highlightedDraggable&&(l.globalAlpha*=.3),r.color&&(l.strokeStyle=r.color),f=h.top,s.r5q(),m=h.bottom,x=this.layout.candleWidth,s.Z1$(39);var b=s.p5W(12,8,11,14);g=t.left-.5*x+this.micropixels-b;for(var{tickFilter:w}=r,A=0;A<=o.length;A++)if(s.b1T(12),g+=s.p5W(2,x),x=this.layout.candleWidth,s.b1T(12),g+=s.v8U(2,x),d=o[A],!!d){if(d.candleWidth){s.b1T(40);var _=s.p5W(14,2,1,5);g+=(d.candleWidth-x)/_,x=d.candleWidth}if(w){if(w.length===0)break;if(!w.has(d.tick))continue;w.delete(d.tick)}if(!d.projection){a.transformFunc&&h==a.panel.yAxis&&d.transform&&(d=d.transform),p=d[u],p&&p[c]!==void 0&&(p=p[c]),p instanceof Array||(p=[p]),"Scatter"in d&&(p=d.Scatter);for(var P=0;P<p.length;P++)!p[P]&&p[P]!==0||(v=p[P],S=0,p[P]instanceof Array&&(v=p[P][0],s.b1T(11),S=p[P][s.v8U(0,"2")]),T=h.semiLog?h.height*(1-(Math.log(Math.max(v,0))/Math.LN10-h.logLow)/h.logShadow):(h.high-v)*h.multiplier,h.flipped?(s.Z1$(11),T=s.v8U(T,m)):T+=f,!(T<f)&&(T>m||(D=2,S&&(s.b1T(3),D=s.v8U(x,S)),s.Z1$(11),l.moveTo(s.p5W(D,g),T),s.Z1$(1),l.lineTo(s.v8U(g,D),T),n[A]=T)))}}return l.stroke(),l.closePath(),y={colors:[l.strokeStyle],cache:n},this.endClip(),l.lineWidth=1,y}};ca=U=>{var e,t,r,s,i,a,o,n,l,u,h,c,f,m,x,g,d,p,v;e="p",e+="att",e+="er",e+="n",t="f",t+="illC",t+="o",t+="lor",r="lineW",r+="id",r+="th",s="line",s+="Width",i="lineW",i+="idth",a="co",a+="l",a+="o",a+="r",o="s",o+="o",o+="li",o+="d",n="s",n+="o",n+="lid",l="a",l+="u",l+="t",l+="o",u="s",u+="olid",h="a",h+="u",h+="t",h+="o",c="so",c+="lid",f="s",f+="o",f+="l",f+="id",m="sol",m+="id",x="sol",x+="id",g="s",g+="o",g+="li",g+="d",d="so",d+="l",d+="i",d+="d",p=typeof _CIQ!="undefined"?_CIQ:U.CIQ,v=typeof _timezoneJS!="undefined"?_timezoneJS:U.timezoneJS,p.ChartEngine.drawingTools={},p.ChartEngine.currentVectorParameters={vectorType:null,pattern:"solid",lineWidth:1,fillColor:"#7DA6F5",currentColor:"auto",axisLabel:!0,showCallout:!1,alwaysMagnetize:!1,spanPanels:!1,fibonacci:{trend:{color:"auto",parameters:{pattern:d,opacity:.25,lineWidth:1}},fibs:[{level:-.786,color:"auto",parameters:{pattern:g,opacity:.25,lineWidth:1}},{level:-.618,color:"auto",parameters:{pattern:x,opacity:.25,lineWidth:1},display:!0},{level:-.5,color:"auto",parameters:{pattern:m,opacity:.25,lineWidth:1}},{level:-.382,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:-.236,color:"auto",parameters:{pattern:f,opacity:.25,lineWidth:1}},{level:0,color:"auto",parameters:{pattern:"solid",lineWidth:1},display:!0},{level:.236,color:"auto",parameters:{pattern:c,opacity:.25,lineWidth:"1"<<0}},{level:.382,color:h,parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:.5,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:.786,color:"auto",parameters:{pattern:u,opacity:.25,lineWidth:1}},{level:1,color:l,parameters:{pattern:"solid",lineWidth:1},display:!0},{level:1.272,color:"auto",parameters:{pattern:n,opacity:.25,lineWidth:1}},{level:1.382,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:1.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:2.618,color:"auto",parameters:{pattern:o,opacity:"0.25"-0,lineWidth:1}},{level:4.236,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}}],extendLeft:!1,printLevels:!0,printValues:!1,timezone:{color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}}},volumeProfile:{priceBuckets:30},annotation:{font:{style:null,size:null,weight:null,family:null}},measurementline:{calloutOnHover:!1,displayGroups:{bars:!0,delta:!0,annpercent:!1,totreturn:!1,volume:!1,studies:!1}}},p.ChartEngine.registerDrawingTool=function(y,b){ee.m30(),p.ChartEngine.drawingTools[y]=b},p.ChartEngine.completeDrawing=function(y){var b;!y||!y.activeDrawing||(ee.m30(),b=y.activeDrawing,y.keepDrawingToolSelected||(y.drawingContainer&&y.drawingContainer.tool?y.drawingContainer.tool({node:null},"notool"):y.changeVectorType("")),y.dispatch("drawingComplete",{stx:y,drawing:b}))},p.ChartEngine.prototype.keepDrawingToolSelected=!1,p.ChartEngine.prototype.setDrawingContainer=function(y){this.drawingContainer=y},p.ChartEngine.prototype.exportDrawings=function(){var y;y=[],ee.m30();for(var b=0;b<this.drawingObjects.length;b++)y.push(this.drawingObjects[b].serialize());return y},p.ChartEngine.prototype.abortDrawings=function(y){var b;y!==!1&&(y=!0);for(var w=this.drawingObjects.length-1;w>=0;w--)b=this.drawingObjects[w],b.abort(!0),(y||!b.permanent)&&this.drawingObjects.splice(w,1)},p.ChartEngine.prototype.importDrawings=function(y){ee.m30();var b,w,A;if(p.Drawing)for(var _=0;_<y.length;_++)b=y[_],b.name=="fibonacci"&&(b.name="retracement"),w=p.ChartEngine.drawingTools[b.name],w||p.Drawing[b.name]&&(w=p.Drawing[b.name],p.ChartEngine.registerDrawingTool(b.name,w)),w&&(A=new w,A.reconstruct(this,b),this.drawingObjects.push(A))},p.ChartEngine.prototype.clearDrawings=function(y,b){var w,A;b!==!1&&(b=!0),w=this.exportDrawings(),this.abortDrawings(b),y?this.undoStamps=[]:this.undoStamp(w,this.exportDrawings()),this.changeOccurred("vector"),this.cancelTouchSingleClick=!0,ee.r5q(),p.clearCanvas(this.chart.tempCanvas,this),this.draw(),A=this.controls.mSticky,A&&(A.style.display="none",A.children[0].innerHTML="")},p.ChartEngine.prototype.createDrawing=function(y,b){var w,A;if(p.Drawing){w=new p.Drawing[y],w.reconstruct(this,b),A=new p.Drawing[y],A.stx=this,A.copyConfig();for(var _ in A)w[_]=w[_]||A[_];return this.drawingObjects.push(w),this.draw(),ee.m30(),w}},p.ChartEngine.prototype.removeDrawing=function(y){for(var b=0;b<this.drawingObjects.length;b++)if(this.drawingObjects[b]==y){this.drawingObjects.splice(b,1),this.changeOccurred("vector"),this.draw();return}},p.ChartEngine.prototype.undo=function(){var y,b,w;y="u",y+="nd",y+="o",b="u",b+="nd",b+="o",!this.runPrepend(b,arguments)&&(this.activeDrawing&&(w="st",w+="x_cr",w+="osshair_drawin",w+="g",this.editingAnnotation=!1,this.activeDrawing.abort(),this.activeDrawing.hidden=!1,this.drawingSnapshot=null,this.activateDrawing(null),p.clearCanvas(this.chart.tempCanvas,this),this.draw(),this.controls.crossX.classList.replace("stx_crosshair_drawing","stx_crosshair"),this.controls.crossY.classList.replace(w,"stx_crosshair"),p.ChartEngine.drawingLine=!1,this.cancelTouchSingleClick=!0),this.runAppend(y,arguments))},p.ChartEngine.prototype.undoStamp=function(y,b){var w;w="undo",w+="S",w+="tamp",this.undoStamps.push(y),ee.m30(),this.dispatch(w,{before:y,after:b,stx:this})},p.ChartEngine.prototype.undoLast=function(){var y;this.activeDrawing?this.undo():this.undoStamps.length&&(y="v",y+="ector",this.drawingObjects=[],this.importDrawings(this.undoStamps.pop()),this.changeOccurred(y),this.draw())},p.ChartEngine.prototype.addDrawing=function(y){var b;b=this.exportDrawings(),this.drawingObjects.push(y),this.undoStamp(b,this.exportDrawings())},p.ChartEngine.prototype.repositionDrawing=function(y,b){var w,A,_;this.currentPanel.name!=y.panelName&&!y.spanPanels||(w=this.panels[y.panelName],A=this.adjustIfNecessary(w,this.crosshairTick,y.valueFromPixel(this.backOutY(p.ChartEngine.crosshairY),w,this.getYAxisByField(w,y.field))),_=this.chart.tempCanvas,p.clearCanvas(_,this),b?(this.drawingSnapshot=this.exportDrawings(),y.render(_.context)):(y.reposition(_.context,y.repositioner,this.crosshairTick,A),this.drawingSnapshot&&this.undoStamp(p.shallowClone(this.drawingSnapshot),this.exportDrawings()),this.drawingSnapshot=null),y.measure&&y.measure())},p.ChartEngine.prototype.activateRepositioning=function(y){this.repositioningDrawing=y,y&&(this.draw(),this.repositionDrawing(y,!0)),this.chart.tempCanvas.style.display=y?"block":"none"},p.ChartEngine.prototype.activateDrawing=function(y,b){var w,A;ee.r5q();function _(P){var I;!b||!P.layout.studies||(I=P.layout.studies[b.name],I&&!I.overlay&&delete P.overlays[I.name])}return b||(b=this.currentPanel),this.drawingSnapshot=null,y?(A=p.ChartEngine.drawingTools[y],A||p.Drawing[y]&&(A=p.Drawing[y],p.ChartEngine.registerDrawingTool(y,A)),A&&(this.activeDrawing=new A,this.activeDrawing.construct(this,b),!this.charts[b.name]&&this.activeDrawing.chartsOnly)?(this.activeDrawing=null,_(this),!1):(this.chart.tempCanvas.style.display="block",this.controls.drawOk&&(this.controls.drawOk.style.display="none"),_(this),!0)):(w="n",w+="on",w+="e",this.activeDrawing=null,this.chart.tempCanvas.style.display=w,_(this),!1)},p.ChartEngine.prototype.drawingClick=function(y,b,w){var A,_,P,I,O,R,C,k,F,M,L;if(p.Drawing&&y&&this.openDialog===""&&!(!this.activeDrawing&&!this.activateDrawing(this.currentVectorParameters.vectorType,y))){if(this.activeDrawing){if(this.userPointerDown&&!this.activeDrawing.dragToDraw){p.ChartEngine.drawingLine||this.activateDrawing(null);return}else if(!this.activeDrawing.p0){if(A="C",A+="l",A+="os",A+="e",_="O",_+="pe",_+="n",P=this.highlightedDataSetField,this.magnetizedPrice!==null&&(y!==this.chart.panel||[_,"High","Low",A].indexOf(this.magneticHold)<0)&&(P=p.getObjectChainRoot(this.magneticHold)),!P&&y!=this.chart.panel){for(var E in this.chart.seriesRenderers)if(I=this.chart.seriesRenderers[E],I.params.panel==y.name){P=I.seriesParams[0].field;break}for(var H in this.layout.studies)if(O=this.layout.studies[H],O.panel==y.name){P=Object.keys(O.outputMap)[0];break}}this.activeDrawing.field=P}return R=this.tickFromPixel(b,y.chart),C=this.panels[this.activeDrawing.panelName],this.magnetizedPrice||this.magnetizedPrice===0?k=this.adjustIfNecessary(C,R,this.magnetizedPrice):k=this.adjustIfNecessary(C,R,this.activeDrawing.valueFromPixel(w,C,this.getYAxisByField(C,this.activeDrawing.field))),this.activeDrawing.click(this.chart.tempCanvas.context,R,k)?this.activeDrawing&&(F="stx",F+="_crosshair",p.ChartEngine.drawingLine=!1,p.clearCanvas(this.chart.tempCanvas,this),this.addDrawing(this.activeDrawing),p.ChartEngine.completeDrawing(this),this.activateDrawing(null),this.adjustDrawings(),this.draw(),this.changeOccurred("vector"),this.controls.crossX.classList.replace("stx_crosshair_drawing",F),this.controls.crossY.classList.replace("stx_crosshair_drawing","stx_crosshair")):(M="stx_crosshair_",M+="drawin",M+="g",L="d",L+="rawin",L+="g",this.changeOccurred(L),p.ChartEngine.drawingLine=!0,this.controls.crossX.classList.replace("stx_crosshair",M),this.controls.crossY.classList.replace("stx_crosshair","stx_crosshair_drawing")),!0}return!1}},p.ChartEngine.prototype.rightClickDrawing=function(y,b,w){var A,_,P;ee.m30(),A="rightCl",A+="ickDr",A+="awing",!this.runPrepend(A,arguments)&&(y.permanent||(this.callbackListeners.drawingEdit.length?this.dispatch("drawingEdit",{stx:this,drawing:y,forceEdit:b,forceText:w}):(_=y.abort(),_||(P=this.exportDrawings(),this.removeDrawing(y),this.undoStamp(P,this.exportDrawings())),this.changeOccurred("vector")),this.runAppend("rightClickDrawing",arguments)))},p.ChartEngine.prototype.magnetize=function(){var y=ee,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae;if(b="magnet",b+="i",b+="z",b+="e",w="stx-d",w+="raggable",A="L",A+="o",A+="w",_="H",_+="i",_+="g",_+="h",P="Ope",P+="n",I="a",I+="nnotation",y.r5q(),O="freef",O+="orm",R=this,this.magnetizedPrice=null,!(!this.preferences.magnet&&!this.currentVectorParameters.alwaysMagnetize)&&!this.runPrepend("magnetize",arguments)&&!this.repositioningDrawing&&(C=this.currentVectorParameters.vectorType,!(!C||C=="projection"||C==O)&&!((C==I||C=="callout")&&p.ChartEngine.drawingLine)&&(k=this.activeDrawing?this.panels[this.activeDrawing.panelName]:this.currentPanel,F=k.chart,M=this.crosshairTick,!(M>F.dataSet.length)&&(L=F.dataSet[M],!!L)))){if(H=this.getRenderedItems(),N=[P,_,A,"Close"],this.activeDrawing&&this.activeDrawing.penDown)if(this.magneticHold)N.indexOf(this.magneticHold)!=-1&&H.indexOf("High")!=-1?H=N:H=[this.magneticHold];else return;else this.magneticHold=null;j=1e9,W=parseFloat(this.preferences.magnet),C=="measurementline"&&(W=!1),V=function(){var B,G;if(Y=R.getYAxisByField(k,H[te])||k.yAxis,Q=F.transformFunc&&Y===F.yAxis,Q&&L.transform&&(L=L.transform),z=L[H[te]],$=p.existsInObjectChain(L,H[te]),$&&(z=$.obj[$.member]),(z||z===0)&&(K=R.pixelFromTransformedValue(z,k,Y),Math.abs(R.cy-K)<j)){if(j=Math.abs(R.cy-K),W&&W<=j)return 1;R.magnetizedPrice=z,Q&&(B=F.untransformFunc,G=p.getObjectChainRoot(H[te]),B&&F.series[G]&&(F.untransformFunc=(ie,ne,le,fe)=>(y.m30(),B(ie,ne,le,fe,G))),R.magnetizedPrice=R.valueFromPixel(K,k),F.untransformFunc=B),E=K,R.magneticHold=H[te]}};for(var te=0;te<H.length;te++)V();q=this.pixelFromTick(M,F),X=E,p.clearCanvas(F.tempCanvas,this),Z=F.tempCanvas.context,Z.beginPath(),Z.lineWidth=1,y.Z1$(41);var re=y.v8U(15,1,7,8,18);y.Z1$(21);var oe=y.v8U(18,8,7);ae=Math.max(this.layout.candleWidth,re)/oe,Z.arc(q,X,Math.min(ae,8),0,2*Math.PI,!1),Z.fillStyle="#398dff",Z.strokeStyle="#398dff",Z.fill(),Z.stroke(),Z.closePath(),F.tempCanvas.style.display="block",this.anyHighlighted&&this.container.classList.remove(w),this.activeDrawing&&this.activeDrawing.move(Z,this.crosshairTick,this.activeDrawing.valueFromPixel(X,k,this.getYAxisByField(k,this.activeDrawing.field))),this.runAppend(b,arguments)}},p.ChartEngine.prototype.changeVectorType=function(y){var b=ee,w,A,_;if(this.currentVectorParameters.vectorType=y,this.currentVectorParameters.alwaysMagnetize=!1,p.Drawing&&p.Drawing.initializeSettings(this,y),p.ChartEngine.drawingLine&&this.undo(),w=this.uiContext&&this.uiContext.topNode.multiChartContainer?this.uiContext.topNode.closest("cq-context-wrapper.active"):!0,!this.container.classList.contains("stx-crosshair-cursor-on")&&y&&w){var{chart:P,left:I,top:O}=this;b.b1T(26);var R=b.p5W(14,0,12);A=P.width/R+I+P.left,b.b1T(11);var C=b.v8U(30,32);_=P.height/C+O+P.top,this.mousemoveinner(A,_)}b.m30(),this.doDisplayCrosshairs()},p.ChartEngine.prototype.changeVectorParameter=function(y,b){var w,A,_,P,I,O;if(w="un",w+="de",w+="fined",A="fo",A+="nt",A+="Siz",A+="e",_="t",_+="r",_+="u",_+="e",y=="axisLabel")b=b.toString()===_||Number(b);else if(y=="lineWidth")b=Number(b);else if(y==A){ee.b1T(42);var R=ee.p5W(5,2,3,16,27);b=parseInt(b,R)+"px"}return P=this.currentVectorParameters,typeof P[y]!==w||y.substr(0,"4"<<64)=="font"&&(I="unde",I+="f",I+="i",I+="ned",O="de",O+="fa",O+="ul",O+="t",y=y.substr(4).toLowerCase(),y=="family"&&b.toLowerCase()==O&&(b=null),P=P.annotation.font,typeof P[y]!==I)?(P[y]=b,!0):!1},p.ChartEngine.prototype.drawVectors=function(){var y,b,w,A,_,P;if(y="dra",y+="wVectors",!this.vectorsShowing&&!this.runPrepend(y,arguments)){if(this.vectorsShowing=!0,!this.chart.hideDrawings&&!this.highlightedDraggable){for(b={},A=0;A<this.drawingObjects.length;A++)if(_=this.drawingObjects[A],!_.hidden&&this.repositioningDrawing!==_&&(w=_.panelName,!(!this.panels[_.panelName]||this.panels[_.panelName].hidden)))for(var I in this.panels)b[I]||(b[I]=[]),(_.spanPanels||I==w)&&(_.originPanelName=_.panelName,b[I].push(_));for(w in b){for(this.startClip(w),P=b[w],A=0;A<P.length;A++)P[A].spanPanels?(P[A].panelName=w,P[A].render(this.chart.context),P[A].panelName=P[A].originPanelName):P[A].render(this.chart.context);this.endClip()}}this.runAppend("drawVectors",arguments)}},p.ChartEngine.prototype.adjustDrawings=function(){ee.m30();for(var y,b=0;b<this.drawingObjects.length;b++)y=this.drawingObjects[b],this.panels[y.panelName]&&y.adjust()},p.Drawing=p.Drawing||function(){this.chartsOnly=!1,this.penDown=!1},p.Drawing.getDrawingParameters=function(y,b){var w,A,_,P;try{w=new p.Drawing[b]}catch(O){}if(!w)return null;ee.r5q(),w.stx=y,w.copyConfig(!0),A={},_=w.configs;for(var I=0;I<_.length;I++)A[_[I]]=w[_[I]];return P=y.canvasStyle("stx_annotation"),P&&A.font&&(A.font.size=P.fontSize,A.font.family=P.fontFamily,A.font.style=P.fontStyle,A.font.weight=P.fontWeight),A},p.Drawing.saveConfig=function(y,b){var w,A;b&&(w=y.preferences,w.drawings||(w.drawings={}),w.drawings[b]={},A=new p.Drawing[b],ee.r5q(),A.stx=y,p.Drawing.copyConfig(A),A.configs.forEach(function(_){w.drawings[b][_]=A[_]}),y.changeOccurred("preferences"))},p.Drawing.restoreDefaultConfig=function(y,b,w){var A;A="preferen",A+="c",A+="es",w?y.preferences.drawings=null:y.preferences.drawings[b]=null,ee.m30(),y.changeOccurred(A),y.currentVectorParameters=p.clone(p.ChartEngine.currentVectorParameters),y.currentVectorParameters.vectorType=b},p.Drawing.initializeSettings=function(y,b){var w,A;w=p.Drawing[b],w&&(A=new w,A.initializeSettings&&A.initializeSettings(y))},p.Drawing.updateSource=function(y,b,w,A){var _,P,I;if(ee.m30(),_="ve",_+="c",_+="tor",!!b){P=!1;for(var O in y.drawingObjects)I=y.drawingObjects[O],I.field&&(w?I.field==b?(I.field=w,P=!0):I.field.indexOf(b)>-1&&I.field.indexOf(b+"-")==-1&&(I.field=I.field.replace(b,w),P=!0):(I.field.split("-->")[0]==b||I.panelName==b)&&(I.panelName=A,P=!0));P&&y.changeOccurred(_)}},p.Drawing.prototype.copyConfig=function(y){ee.r5q(),p.Drawing.copyConfig(this,y)},p.Drawing.copyConfig=function(y,b){var w,A,_,P,I,O,R,C;for(w=y.stx.currentVectorParameters,A=y.configs,_=0;_<A.length;_++)I="fo",I+="nt",O="para",O+="meters",P=A[_],P=="color"?y.color=w.currentColor:P==O?y.parameters=p.clone(w.fibonacci):P==I?y.font=p.clone(w.annotation.font):y[P]=w[P];if(b&&(R=y.stx.preferences,R&&R.drawings))for(p.extend(y,R.drawings[w.vectorType]),_=0;_<A.length;_++)C="colo",C+="r",P=A[_],P==C?w.currentColor=y.color:P=="parameters"?w.fibonacci=p.clone(y.parameters):P=="font"?w.annotation.font=p.clone(y.font):w[P]=y[P]},p.Drawing.prototype.dragToDraw=!1,p.Drawing.prototype.permanent=!1,p.Drawing.prototype.chartsOnly=!1,p.Drawing.prototype.abort=function(y){},p.Drawing.prototype.measure=function(){},p.Drawing.prototype.construct=function(y,b){this.stx=y,this.panelName=b.name},p.Drawing.prototype.isAllowed=function(y,b){return ee.r5q(),!0},p.Drawing.prototype.render=function(y){ee.r5q(),console.warn("must implement render function!")},p.Drawing.prototype.click=function(y,b,w){var A;ee.m30(),A="must imp",A+="lement click function!",console.warn(A)},p.Drawing.prototype.move=function(y,b,w){var A;ee.r5q(),A="m",A+="ust implement move function!",console.warn(A)},p.Drawing.prototype.reposition=function(y,b,w,A){},p.Drawing.prototype.intersected=function(y,b,w){ee.m30(),console.warn("must implement intersected function!")},p.Drawing.prototype.reconstruct=function(y,b){ee.r5q(),console.warn("must implement reconstruct function!")},p.Drawing.prototype.serialize=function(){console.warn("must implement serialize function!")},p.Drawing.prototype.adjust=function(){var y;y="must implement adjust func",y+="tion!",console.warn(y)},p.Drawing.prototype.highlight=function(y){return y&&!this.highlighted?this.highlighted=y:!y&&this.highlighted&&(this.highlighted=y),ee.r5q(),this.highlighted},p.Drawing.prototype.littleCircleRadius=function(){var y;return ee.b1T(3),ee.r5q(),y=ee.v8U("6",1),y},p.Drawing.prototype.littleCircle=function(y,b,w,A){var _,P;this.permanent||(_=this.stx.defaultColor,P=p.chooseForegroundColor(_),y.beginPath(),y.lineWidth=1,y.arc(b,w,this.littleCircleRadius(),0,2*Math.PI,!1),A?y.fillStyle=_:y.fillStyle=P,y.strokeStyle=_,y.setLineDash([]),ee.m30(),y.fill(),y.stroke(),y.closePath())},p.Drawing.prototype.rotator=function(y,b,w,A){var _=ee,P,I,O;this.permanent||(P=this.littleCircleRadius(),I=this.stx.defaultColor,y.beginPath(),y.lineWidth=2,A||(y.globalAlpha=.5),_.b1T(1),O=_.p5W(4,P),y.arc(b,w,O,0,3*Math.PI/2,!1),_.Z1$(19),y.moveTo(_.p5W(2,b,O),_.p5W(w,2,_.Z1$(1))),_.b1T(1),y.lineTo(_.v8U(b,O),w),_.b1T(8),y.lineTo(_.v8U(2,b,O),_.v8U(w,2,_.b1T(1))),_.b1T(43),y.moveTo(_.v8U(b,"2"),_.v8U(2,w,O,_.Z1$(26))),_.b1T(11),y.lineTo(b,_.v8U(O,w)),_.Z1$(11),y.lineTo(_.p5W(2,b),_.v8U(w,2,O,_.Z1$(21))),y.strokeStyle=I,y.stroke(),y.closePath(),y.globalAlpha=1)},p.Drawing.prototype.mover=function(y,b,w,A){var _=ee,P,I,O,R;if(!this.permanent){P=this.littleCircleRadius(),I=this.stx.defaultColor,O=5,_.b1T(1),R=_.v8U(P,1),y.save(),y.lineWidth=2,y.strokeStyle=I,y.translate(b,w),A||(_.b1T(3),y.globalAlpha=_.p5W("0.5",1));for(var C="0"<<64;C<4;C++)y.rotate(Math.PI/2),y.beginPath(),y.moveTo(0,R),_.b1T(1),y.lineTo(0,_.p5W(R,O)),_.b1T(26),y.moveTo(-2,_.p5W(O,R,2)),_.Z1$(1),y.lineTo(0,_.v8U(R,O)),_.b1T(26),y.lineTo(2,_.v8U(O,R,2)),y.closePath(),y.stroke();y.globalAlpha=1,y.restore()}},p.Drawing.prototype.resizer=function(y,b,w,A){var _=ee,P,I,O,R,C,k,F;if(!this.permanent){P=1410774767,I=-1608977774,O=2;for(var M=1;_.m9o(M.toString(),M.toString().length,48525)!==P;M++)R=this.littleCircleRadius(),C=this.stx.defaultColor,_.b1T(2),O+=_.p5W("2",64);_.D4r(O.toString(),O.toString().length,37811)!==I&&(R=this.littleCircleRadius(),C=this.stx.defaultColor),_.b1T(44);var L=_.v8U(7,11,7,1,4);_.b1T(45);var E=_.v8U(3,15,2,4,11);k=L*Math.sqrt(E),_.b1T(1),F=_.v8U(R,1),y.save(),_.Z1$(46),y.lineWidth=_.v8U(0,"2"),y.strokeStyle=C,y.translate(b,w),y.rotate(-(b*w)/Math.abs(b*w)*Math.PI/4),A||(y.globalAlpha=.5);for(var H="0"-0;H<2;H++)y.rotate(Math.PI),y.beginPath(),y.moveTo(0,F),_.Z1$(1),y.lineTo(0,_.p5W(F,k)),_.b1T(26),y.moveTo(-2,_.v8U(k,F,2)),_.Z1$(1),y.lineTo(0,_.v8U(F,k)),_.b1T(26),y.lineTo(2,_.p5W(k,F,2)),y.closePath(),y.stroke();y.globalAlpha=1,y.restore()}},p.Drawing.prototype.pointIntersection=function(y,b,w,A){var _,P;if(_=this.stx,P=_.panels[this.panelName],ee.r5q(),!P)return!1;if(this.field&&!A&&(b=this.pixelFromValue(P,y,b,_.getYAxisByField(P,this.field)),y=_.pixelFromTick(y,P.chart),A=!0),A){if(y>=w.cx0&&y<=w.cx1&&b>=w.cy0&&b<=w.cy1)return!0}else if(y>=w.x0&&y<=w.x1&&b>=Math.min(w.y0,w.y1)&&b<=Math.max(w.y0,w.y1))return!0;return!1},p.Drawing.prototype.setPoint=function(y,b,w,A){var _=ee,P,I,O,R,C,k,F,M,L,{stx:E}=this,{maxTicks:H=100,dataSet:N=[]}=A||E.chart||{};P=-H,_.b1T(23);var j=_.v8U(33,17,15);_.m30(),I=N.length-j+H,O=null,R=null,typeof b=="number"?O=b:b.length>=8?R=b:O=Number(b),(w||w===0)&&(_.Z1$(1),this[_.p5W("v",y)]=w),O!==null?(O=Math.max(O,P),O=Math.min(O,I),C=E.dateFromTick(O,A,!0),_.Z1$(1),this[_.p5W("tzo",y)]=C.getTimezoneOffset(),_.Z1$(1),this[_.p5W("d",y)]=p.yyyymmddhhmmssmmm(C),_.Z1$(1),this[_.p5W("p",y)]=[O,w]):R!==null&&(k="freefor",k+="m",F=p.strToDateTime(R),!this["tzo"+y]&&this["tzo"+y]!==0&&(_.b1T(1),this[_.p5W("tzo",y)]=F.getTimezoneOffset()),_.b1T(1),this[_.p5W("d",y)]=R,M=this["tzo"+y]-F.getTimezoneOffset(),F.setMinutes(F.getMinutes()+M),L=!1,this.name!=k&&!p.ChartEngine.isDailyInterval(E.layout.interval)&&!F.getHours()&&!F.getMinutes()&&!F.getSeconds()&&!F.getMilliseconds()&&(L=!0),_.Z1$(1),this[_.v8U("p",y)]=[E.tickFromDate(p.yyyymmddhhmmssmmm(F),A,null,L),w])},p.Drawing.prototype.getLineColor=function(y,b){var w,A,_,P,I,O,R,C,k,F,M;if(w="aut",w+="o",A="a",A+="ut",A+="o",y||(y=this.color),_=this.stx,P=y,!b&&this.highlighted)P=_.getCanvasColor("stx_highlight_vector");else if(p.isTransparent(P))P=_.defaultColor;else if(P==A&&(P=_.defaultColor,this.field)){for(I in _.layout.studies)if(O=_.layout.studies[I],R=O.outputs[O.outputMap[this.field]],R){P=R.color||R;break}for(I in _.chart.seriesRenderers){k=_.chart.seriesRenderers[I];for(var L=0;L<k.seriesParams.length;L++){if(F=k.seriesParams[L],M=F.field,!M&&!k.highLowBars&&(M=this.defaultPlotField||"Close"),F.symbol&&F.subField&&(M+="-->"+F.subField),this.field==M){P=F.color;break}F.field&&F.field==this.field.split("-->")[0]&&(C=F.color)}}C&&(P=C)}return P==w&&(P=_.defaultColor),P},p.Drawing.prototype.valueFromPixel=function(y,b,w){var A,_,P;return A=b.chart.untransformFunc,ee.r5q(),_=this.field,A&&b.chart.series[_]&&(b.chart.untransformFunc=(I,O,R,C)=>(ee.r5q(),A(I,O,R,C,_))),P=this.stx.valueFromPixel(y,b,w),b.chart.untransformFunc=A,P},p.Drawing.prototype.pixelFromValue=function(y,b,w,A){var _,P,I;return _=y.chart.transformFunc,P=this.field,_&&y.chart.series[P]&&(y.chart.transformFunc=(O,R,C,k)=>_(O,R,C,k,P)),I=this.stx.pixelFromValueAdjusted(y,b,w,A),y.chart.transformFunc=_,I},p.Drawing.prototype.boxToPixels=function(y,b,w,A){ee.m30();var _,P,I,O;return _=y.panels[b],P=_.chart.transformFunc,I=this.field,P&&_.chart.series[I]&&(_.chart.transformFunc=(R,C,k,F)=>P(R,C,k,F,I)),O=p.convertBoxToPixels(y,b,w,A),_.chart.transformFunc=P,O},p.Drawing.BaseTwoPoint=function(){this.p0=null,this.p1=null,this.color=""},p.inheritsFrom(p.Drawing.BaseTwoPoint,p.Drawing),p.Drawing.BaseTwoPoint.prototype.configs=[],p.Drawing.BaseTwoPoint.prototype.lineIntersection=function(y,b,w,A,_,P,I){var O,R;return _||(_=this.p0),P||(P=this.p1),O=this.stx,!(_&&P)||w.cx0===void 0?!1:(ee.m30(),R={x0:_[0],x1:P[0],y0:_[1],y1:P[1]},I||(R=this.boxToPixels(O,this.panelName,R,O.getYAxisByField(O.panels[this.panelName],this.field))),p.boxIntersects(w.cx0,w.cy0,w.cx1,w.cy1,R.x0,R.y0,R.x1,R.y1,A))},p.Drawing.BaseTwoPoint.prototype.boxIntersection=function(y,b,w){var A,_;if(!this.p0||!this.p1)return!1;var{x0:P,x1:I,y0:O,y1:R,cy0:C,cy1:k}=w;if(P>Math.max(this.p0[0],this.p1["0"*1])||I<Math.min(this.p0[0],this.p1[0]))return!1;var{field:F,panelName:M,stx:L}=this;return F&&(A=L.panels[M],_=L.getYAxisByField(A,F),O=this.valueFromPixel(C,A,_),R=this.valueFromPixel(k,A,_)),!(R>Math.max(this.p0[1],this.p1[1])||O<Math.min(this.p0[1],this.p1[1]))},p.Drawing.BaseTwoPoint.prototype.accidentalClick=function(y,b){var w=ee,A,_,P,I,O,R,C,k,F,M;if(A=this.stx,_=A.panels[this.panelName],P=A.pixelFromTick(this.p0[0],_.chart),I=A.pixelFromTick(y,_.chart),O=A.getYAxisByField(_,this.field),R=this.pixelFromValue(_,this.p0[0],this.p0[1],O),C=this.pixelFromValue(_,y,b,O),w.b1T(11),k=Math.abs(w.v8U(P,I)),w.b1T(11),F=Math.abs(w.p5W(R,C)),w.b1T(47),M=Math.sqrt(w.p5W(F,k,k,F)),M<10)return this.penDown=!1,A.undo(),!0},p.Drawing.BaseTwoPoint.prototype.click=function(y,b,w){var A,_;return this.copyConfig(),A=this.stx,_=A.panels[this.panelName],this.penDown?(ee.m30(),this.accidentalClick(b,w)||(this.setPoint(1,b,w,_.chart),this.penDown=!1),!0):(this.setPoint(0,b,w,_.chart),this.penDown=!0,!1)},p.Drawing.BaseTwoPoint.prototype.adjust=function(){var y;y=this.stx.panels[this.panelName],y&&(this.setPoint(0,this.d0,this.v0,y.chart),this.setPoint(1,this.d1,this.v1,y.chart))},p.Drawing.BaseTwoPoint.prototype.move=function(y,b,w){ee.m30(),this.penDown&&(this.copyConfig(),this.p1=[b,w],this.render(y))},p.Drawing.BaseTwoPoint.prototype.measure=function(){var y,b,w,A,_,P;ee.r5q(),y=this.stx,this.p0&&this.p1&&(b=".mSti",b+="ckyInt",b+="erior",y.setMeasure(this.p0[1],this.p1[1],this.p0[0],this.p1[0],!0,this.name),w=y.controls.mSticky,A=w&&w.querySelector(b),A&&(_="C",_+="lo",_+="s",_+="e",P=[],P.push(y.translateIf(p.capitalize(this.name))),this.getYValue&&P.push(y.translateIf(this.field||y.defaultPlotField||_)),P.push(A.innerHTML),A.innerHTML=P.join("<br>")))},p.Drawing.BaseTwoPoint.prototype.reposition=function(y,b,w,A){var _,P,I;b&&(_=this.stx.panels[this.panelName],P=b.tick-w,I=b.value-A,this.spanPanels&&this.stx.currentPanel.name!==this.originPanelName&&(I=0),b.action=="move"?(this.setPoint(0,b.p0[0]-P,b.p0[1]-I,_.chart),this.setPoint(1,b.p1[0]-P,b.p1[1]-I,_.chart),this.render(y)):b.action=="drag"&&(this[b.point]=[w,A],this.setPoint(0,this.p0[0],this.p0[1],_.chart),this.setPoint(1,this.p1[0],this.p1[1],_.chart),this.render(y)))},p.Drawing.BaseTwoPoint.prototype.drawDropZone=function(y,b,w,A,_){var P=ee,I,O,R,C,k,F,M,L,E,H;if(I=this.stx.panels[this.panelName],P.m30(),!!I){O=this.stx,R=I.left,C=I.width,(A||A===0)&&(R=O.pixelFromTick(A,I.chart)),(_||_===0)&&(C=O.pixelFromTick(_,I.chart)),k=O.getYAxisByField(I,this.field),F=this.pixelFromValue(I,A,b,k),M=this.pixelFromValue(I,_,w,k),y.fillStyle="#008000",L=819675773,E=-1719863081,H=2;for(var N=1;P.D4r(N.toString(),N.toString().length,70186)!==L;N++)y.globalAlpha=696,P.Z1$(12),y.fillRect(R,F,P.p5W(R,C),P.v8U(M,F,P.Z1$(1))),y.globalAlpha=6,H+=2;P.m9o(H.toString(),H.toString().length,99278)!==E&&(y.globalAlpha=628,P.b1T(1),y.fillRect(R,F,P.v8U(C,R),P.v8U(M,F,P.Z1$(3))),y.globalAlpha=5),y.globalAlpha=.2,P.b1T(11),y.fillRect(R,F,P.v8U(R,C),P.v8U(F,M)),y.globalAlpha=1}},p.Drawing.BaseTwoPoint.prototype.valueOnDrawingAxis=function(y,b){var w,{stx:A,panelName:_,field:P}=this;return w=A.panels[_],this.valueFromPixel(A.pixelFromValueAdjusted(w,y,b),w,A.getYAxisByField(w,P))},p.Drawing.annotation=function(){var y=ee,b;b="annotati",b+="o",b+="n",this.name=b,this.arr=[],this.w=0,this.h=0,this.padding=5,this.text="",this.ta=null,this.border=!0,y.r5q(),y.Z1$(2),this.fontSize=y.v8U("0",64),this.font={},this.defaultWidth=25,this.whitespace=30,y.Z1$(2),this.fontModifier=y.p5W("3",0)},p.inheritsFrom(p.Drawing.annotation,p.Drawing.BaseTwoPoint),p.Drawing.annotation.prototype.getFontString=function(){var y=ee;y.r5q();var b,w,A,_,P;if(this.fontDef={style:null,weight:null,size:"12px",family:null},b=this.stx.canvasStyle("stx_annotation"),b){b.fontStyle&&(this.fontDef.style=b.fontStyle),w=-986929465,A=685841019,y.Z1$(11),_=y.v8U(0,"2");for(var I=1;y.D4r(I.toString(),I.toString().length,45601)!==w;I++)b.fontWeight&&(this.fontDef.weight=b.fontWeight),b.fontSize&&(this.fontDef.size=b.fontSize),b.fontFamily&&(this.fontDef.family=b.fontFamily),_+=2;y.D4r(_.toString(),_.toString().length,23668)!==A&&(b.fontWeight&&(this.fontDef.weight=b.fontWeight),b.fontSize&&(this.fontDef.size=b.fontSize),b.fontFamily&&(this.fontDef.family=b.fontFamily)),b.fontWeight&&(this.fontDef.weight=b.fontWeight),b.fontSize&&(this.fontDef.size=b.fontSize),b.fontFamily&&(this.fontDef.family=b.fontFamily)}this.font.style&&(this.fontDef.style=this.font.style),this.font.weight&&(this.fontDef.weight=this.font.weight),this.font.size&&(this.fontDef.size=this.font.size),this.font.family&&(this.fontDef.family=this.font.family),this.fontString="",P=!0;for(var O in this.fontDef)this.fontDef[O]&&(P?P=!1:this.fontString+=" ",this.fontString+=this.fontDef[O])},p.Drawing.annotation.prototype.configs=["color","font"],p.Drawing.annotation.prototype.measure=function(){},p.Drawing.annotation.prototype.render=function(y){var b=ee,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V;if(w="m",w+="i",w+="dd",w+="le",!this.ta&&(A=this.stx,_=A.panels[this.panelName],P=A.getYAxisByField(_,this.field),!(!_||this.field&&!P))){I=A.pixelFromTick(this.p0[0],_.chart),O=this.pixelFromValue(_,this.p0[0],this.p0[1],P),y.font=this.fontString,y.textBaseline=w,R=I,C=O,b.m30(),k=this.w,F=this.h,M=this.getLineColor(),this.stem&&(this.stem.d?(L=A.pixelFromTick(this.stem.t),H=this.pixelFromValue(_,this.stem.t,this.stem.v,P),b.b1T(48),E=b.v8U(k,2,R),b.Z1$(48),N=b.p5W(F,2,C)):this.stem.x&&(L=R,H=C,R+=this.stem.x,C+=this.stem.y,b.b1T(49),E=b.v8U("2",R,k),b.Z1$(48),N=b.v8U(F,2,C)),y.beginPath(),this.borderColor?y.strokeStyle=this.borderColor:y.strokeStyle=M,y.moveTo(L,H),y.lineTo(E,N),y.stroke()),j=y.lineWidth,this.highlighted?(A.canvasColor("stx_annotation_highlight_bg",y),b.Z1$(11),y.fillRect(b.v8U(j,R),b.p5W(F,j,"2",C,b.Z1$(50)),b.v8U(j,k,2,b.Z1$(51)),b.p5W(j,F,2,b.Z1$(51)))):this.fillColor?(y.fillStyle=this.fillColor,b.Z1$(52),y.fillRect(R,b.p5W(1,"2",C,F),k,F)):this.stem&&(y.fillStyle=A.containerColor,b.Z1$(53),y.fillRect(R,b.v8U(2,C,F),k,F)),this.borderColor&&(W="stx",W+="_highlight_vector",y.beginPath(),y.strokeStyle=this.highlighted?A.getCanvasColor(W):this.borderColor,b.Z1$(11),y.rect(b.v8U(j,R),b.v8U(2,j,C,F,b.Z1$(54)),b.v8U(j,k,2,b.Z1$(51)),b.v8U(F,"2",j,b.Z1$(55))),y.stroke()),this.highlighted?(V="s",V+="tx_annotation_highlight",A.canvasColor(V,y)):y.fillStyle=M,b.Z1$(56);var Y=b.p5W(1,1,12,11,1);if(C+=this.padding/Y,!this.ta)for(var Q=0;Q<this.arr.length;Q++){y.fillText(this.arr[Q],R+this.padding,C-F/2+this.fontSize/2),b.b1T(57);var z=b.p5W(52,18,2,14,46);C+=this.fontSize+("2">>z)}y.textBaseline="alphabetic"}},p.Drawing.annotation.prototype.onChange=function(y){},p.Drawing.annotation.prototype.edit=function(y,b){var w=ee,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q;A="p",A+="x",_="p",_+="x";function z(Z){return w.m30(),function(ae){w.m30(),Z.manageTouchAndMouse&&p.ChartEngine.drawingLine&&Z.mouseup(ae)}}if(P=this.stx.panels[this.panelName],!P||(I=this.stx.controls.annotationSave,O=this.stx.controls.annotationCancel,!I||!O))return;R=this.stx,C=this.ta,R.editingAnnotation=!0,R.undisplayCrosshairs();function $(Z){return w.m30(),function(ae){var te;!Z.ta||!Z.ta.value||(Z.text=Z.ta.value,te=Z.stx,te.editingAnnotation=!1,Z.adjust(),te.drawingSnapshot?te.undoStamp(p.shallowClone(te.drawingSnapshot),te.exportDrawings()):(p.ChartEngine.completeDrawing(te),te.addDrawing(Z)),w.r5q(),te.undo(),te.changeOccurred("vector"))}}R.openDialog||(R.openDialog=[]);function K(Z){return function(ae){Z.stx.undo()}}R.openDialog.includes("annotation")||R.openDialog.push("annotation"),C||(k="stx_a",k+="nno",k+="tation",C=this.ta=document.createElement("TEXTAREA"),C.className=k,C.onkeyup=q(this),C.onmouseup=z(R),C.setAttribute("wrap","hard"),p.isIOS7or8&&C.setAttribute("placeholder","Enter Text"),R.chart.container.appendChild(C),C.style.position="absolute",C.style.paddingLeft=this.padding+"px",C.value=this.text,p.touchDevice&&(C.ontouchstart=function(Z){Z.stopPropagation()})),F=this,C.oninput=function(Z){Z.target.value=R.emojify(Z.target.value),w.r5q(),Z.inputType!="historyUndo"&&Z.inputType!="historyRedo"&&F.onChange(Z)},C.style.font=this.fontString,this.color&&(M="t",M+="ranspare",M+="n",M+="t",this.color==M||this.color=="auto"?(L=getComputedStyle(C),L&&p.isTransparent(L.backgroundColor)?C.style.color=this.getLineColor():(E="#",E+="0",E+="00",C.style.color=E)):C.style.color=this.color),H=R.pixelFromTick(this.p0[0],P.chart),N=this.pixelFromValue(P,this.p0[0],this.p0[1],R.getYAxisByField(P,this.field)),C.style.maxWidth=R.chart.canvasWidth-H-5+_,C.style.left=H+140<R.chart.canvasRight?H+"px":R.chart.canvasRight-("200"^0)+"px";function q(Z){return w.r5q(),function(ae){var te,re,oe,B,G,ie,ne,le,fe,ue,ge,ce,de,he,pe,me;if(te="p",te+="x",ae)switch(re=ae.keyCode,re){case 27:Z.stx.undo();return}oe=Z.stx,B=Z.ta,G=B.value.split(`
`),ie=0,oe.chart.context.font=Z.fontString,Z.fontSize=p.stripPX(Z.fontDef.size);for(var xe=0;xe<G.length;xe++)ne=oe.chart.context.measureText(G[xe]).width,ne>ie&&(ie=ne);if(le=(G.length+1)*(Z.fontSize+Z.fontModifier),ie=Math.max(ie,Z.defaultWidth*2),B.style.width=ie+Z.whitespace+te,w.Z1$(1),B.style.height=w.p5W(le,"px"),fe=parseInt(p.stripPX(B.style.top),10),ue=p.stripPX(B.style.left),ie=B.clientWidth,le=B.clientHeight,B.focus(),Z.border===!1&&(B.style.border="none"),ue+ie+100<Z.stx.chart.canvasWidth){ge="inline-bloc",ge+="k",w.b1T(1),I.style.top=w.v8U(fe,"px"),w.Z1$(1),O.style.top=w.p5W(fe,"px"),w.Z1$(0),I.style.left=w.v8U(10,ue,ie,"px"),I.style.display=ge,w.b1T(1);var ye=w.p5W(0,5);O.style.left=ue+ie+I.clientWidth+ye+"px",O.style.display="inline-block"}else if(fe+le+30<Z.stx.chart.canvasHeight){w.Z1$(0),I.style.top=w.p5W(10,fe,le,"px"),w.b1T(58),O.style.top=w.v8U(fe,0,"10",le,"px"),ce=2056808207,de=298311447,he=2;for(var be=1;w.m9o(be.toString(),be.toString().length,96274)!==ce;be++)w.b1T(12),I.style.left=w.p5W("inline-block",ue),I.style.display="inline-block",he+=2;w.D4r(he.toString(),he.toString().length,81994)!==de&&(w.Z1$(1),I.style.left=w.p5W(ue,"px"),I.style.display="inline-block"),O.style.left=ue+I.clientWidth-("5"<<64)+"px",O.style.display="inline-block"}else{pe="p",pe+="x",me="p",me+="x",w.Z1$(8),I.style.top=w.v8U(35,fe,"px"),w.b1T(8),O.style.top=w.p5W(35,fe,"px"),w.Z1$(1),I.style.left=w.v8U(ue,me),I.style.display="inline-block",w.b1T(59);var _e=w.p5W(8,12,4,19195,50);O.style.left=ue+I.clientWidth-_e+pe,O.style.display="inline-block"}}}if(C.style.top=N+60<R.chart.canvasHeight?N-(isNaN(this.h)?this.defaultHeight:this.h/2)+A:N-60+"px",this.repositionTextArea&&this.repositionTextArea(C),C!==I.ta&&(p.safeClickTouch(I,$(this)),I.ta=C),C!==O.ta&&(p.safeClickTouch(O,K(this)),O.ta=C),q(this)(),b&&(R.drawingSnapshot=R.exportDrawings(),this.hidden=!0,R.draw(),R.activeDrawing=this,p.ChartEngine.drawingLine=!0,y=R.chart.tempCanvas.context,R.chart.tempCanvas.style.display="block",this.w=C.clientWidth,this.h=C.clientHeight,p.clearCanvas(y.canvas,R),this.highlighted=!1,this.render(y),this.edit(y)),p.isAndroid&&!p.is_chrome&&!p.isFF){this.priorBottom=R.container.style.bottom,j=400,w.Z1$(60);var X=w.p5W(83,18,95,101,1);W=R.resolveY(N)+("100"<<X),V=R.container.ownerDocument.defaultView,W>p.pageHeight(V)-j&&(Y=p.pageHeight(V)-W,w.b1T(11),Q=w.p5W(Y,j),w.b1T(1),R.chart.container.style.bottom=w.p5W(Q,"px"))}},p.Drawing.annotation.prototype.click=function(y,b,w){var A;if(!(this.stx.overXAxis||this.stx.overYAxis))return A=this.stx.panels[this.panelName],ee.r5q(),this.copyConfig(),this.setPoint(0,b,w,A.chart),this.adjust(),this.edit(y),!1},p.Drawing.annotation.prototype.reposition=function(y,b,w,A){var _,P,I;b&&(_=this.stx.panels[this.panelName],ee.m30(),P=b.tick-w,I=b.value-A,this.setPoint(0,b.p0[0]-P,b.p0[1]-I,_.chart),this.render(y))},p.Drawing.annotation.prototype.intersected=function(y,b,w){var A=ee,_,P,I,O,R,C,k,F,M;if(_=this.stx,P=_.panels[this.panelName],!this.p0)return null;I=_.pixelFromTick(this.p0[0],P.chart),O=_.getYAxisByField(P,this.field),A.Z1$(61);var L=A.v8U(4,14,2309,15,15);A.Z1$(35);var E=A.v8U(7,26,4);return R=this.pixelFromValue(P,this.p0[0],this.p0[L],O)-this.h/E,C=I+this.w,k=R+this.h,this.stem&&this.stem.x&&(I+=this.stem.x,C+=this.stem.x,R+=this.stem.y,k+=this.stem.y),F=_.pixelFromTick(y,P.chart),M=_.pixelFromValueAdjusted(P,y,b),F+w.r>=I&&F-w.r<=C&&M+w.r>=R&&M-w.r<=k?(this.highlighted=!0,{p0:p.clone(this.p0),tick:y,value:this.valueOnDrawingAxis(y,b)}):!1},p.Drawing.annotation.prototype.abort=function(){var y,b,w,A,_;y="n",y+="o",y+="ne",b="n",b+="o",b+="n",b+="e",w=this.stx,A=w.controls.annotationSave,_=w.controls.annotationCancel,A&&(A.style.display=b),_&&(_.style.display=y),this.ta&&w.chart.container.removeChild(this.ta),this.ta=null,ee.r5q(),w.openDialog&&(w.openDialog=w.openDialog.filter(P=>{var I;return I="annotati",I+="on",ee.Z1$(62),ee.p5W(P,I)})),w.openDialog.length||(w.openDialog=""),w.showCrosshairs(),w.editingAnnotation=!1,p.clearCanvas(w.chart.tempCanvas,w),p.isAndroid&&!p.is_chrome&&!p.isFF&&(w.chart.container.style.bottom=this.priorBottom),p.fixScreen()},p.Drawing.annotation.prototype.reconstruct=function(y,b){this.stx=y,this.color=b.col,this.panelName=b.pnl,this.d0=b.d0,this.tzo0=b.tzo0,this.v0=b.v0,this.field=b.fld,this.text=y.escapeOnSerialize?decodeURIComponent(b.text):b.text,this.stem=b.stem,this.borderColor=b.bc,this.fillColor=b.bg,this.lineWidth=b.lw,this.pattern=b.ptrn,this.font=p.replaceFields(b.fnt,{st:"style",sz:"size",wt:"weight",fl:"family"}),this.font||(this.font={}),this.hidden=!!b.hdn,this.permanent=!!b.prm,this.adjust()},p.Drawing.annotation.prototype.serialize=function(){var y,b;return y={name:this.name,pnl:this.panelName,col:this.color,d0:this.d0,tzo0:this.tzo0,v0:this.v0,fld:this.field,text:this.stx.escapeOnSerialize?encodeURIComponent(this.text):this.text,hdn:this.hidden?1:0,prm:this.permanent?1:0},this.font&&(b=p.removeNullValues(p.replaceFields(this.font,{style:"st",size:"sz",weight:"wt",family:"fl"})),p.isEmpty(b)||(y.fnt=b)),this.stem&&(y.stem={d:this.stem.d,v:this.stem.v,x:this.stem.x,y:this.stem.y}),this.borderColor&&(y.bc=this.borderColor),this.fillColor&&(y.bg=this.fillColor),this.lineWidth&&(y.lw=this.lineWidth),this.pattern&&(y.ptrn=this.pattern),y},p.Drawing.annotation.prototype.setTextareaProps=function(){var y=ee,b,w,A,_,P,I,O,R,C;if(this.getFontString(),b=this.stx,w=b.panels[this.panelName],!!w){A=this.text,!A&&this.ta&&(A=this.ta.value),this.arr=A.split(`
`),_=0,y.r5q(),b.chart.context.font=this.fontString;for(var k=0;k<this.arr.length;k++)P=b.chart.context.measureText(this.arr[k]).width,P>_&&(_=P);if(_===0){y.b1T(63);var F=y.v8U(2,8,8);_=F*this.defaultWidth}b.editingAnnotation&&(_=Math.max(_,2*this.defaultWidth)),this.fontSize=p.stripPX(this.fontDef.size),I=(this.arr.length+1)*(this.fontSize+this.fontModifier),p.touchDevice&&(I+=5),this.w=_+this.whitespace+this.padding,this.h=I,O=b.pixelFromTick(this.p0[0],w.chart)+_,R=b.getYAxisByField(w,this.field),y.Z1$(64);var M=y.p5W(12,433,18,12);C=this.pixelFromValue(w,this.p0[0],this.p0[M],R)+I,this.p1=[b.tickFromPixel(O,w.chart),this.valueFromPixel(C,w,R)],this.stem&&this.stem.d&&(this.stem.t=b.tickFromDate(this.stem.d,w.chart))}},p.Drawing.annotation.prototype.adjust=function(){var y,b,w;y=this.stx,b=y.panels[this.panelName],b&&(this.setPoint(0,this.d0,this.v0,b.chart),this.setTextareaProps(),ee.r5q(),this===y.activeDrawing&&y.editingAnnotation&&(w=y.chart.tempCanvas.context,p.clearCanvas(w.canvas,y),this.render(w),this.edit(w)))},p.Drawing.segment=function(){ee.r5q(),this.name="segment"},p.inheritsFrom(p.Drawing.segment,p.Drawing.BaseTwoPoint),p.Drawing.segment.prototype.getDateFromTick=function(y){var b,w,A,_,P;if(b=this.stx,w=b.panels[this.panelName],A=b.dateFromTick(y,w.chart,!0),p.ChartEngine.isDailyInterval(b.layout.interval))A.setHours(0,0,0,0);else{ee.b1T(28);var I=ee.v8U(12,16988,10,1e4,18);P=A.getSeconds()*I+A.getMilliseconds(),v.Date&&b.displayZone&&(_=new v.Date(A.getTime(),b.displayZone),A=new Date(_.getFullYear(),_.getMonth(),_.getDate(),_.getHours(),_.getMinutes()),A=new Date(A.getTime()+P))}return A},p.Drawing.segment.prototype.formatDate=function(y){var b,w,A;return b=this.stx,w=b.panels[this.panelName],A=p.mmddhhmm(p.yyyymmddhhmm(y)),w.chart.xAxis.formatter?A=w.chart.xAxis.formatter(y,this.name,null,null,A):this.stx.internationalizer&&(A=p.displayableDate(b,b.chart,y)),A},p.Drawing.segment.prototype.render=function(y){var b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N;b="no",b+="ne",w=this.stx,A=w.panels[this.panelName],_=w.getYAxisByField(A,this.field),!(!A||this.field&&!_&&!this.spanPanels)&&(_=_||A.yAxis,P=w.pixelFromTick(this.p0["0"-0],A.chart),I=w.pixelFromTick(this.p1[0],A.chart),O=this.pixelFromValue(A,this.p0[0],this.p0[1],_),R=this.pixelFromValue(A,this.p1[0],this.p1[1],_),C=this.lineWidth,k=this.getLineColor(),F={pattern:this.pattern,lineWidth:C},F.pattern==b&&(F.pattern="solid"),w.plotLine(P,I,O,R,k,this.name,y,A,F),this.axisLabel&&!this.repositioner&&(this.name=="horizontal"?(w.endClip(),M=this.p0[1],A.chart.transformFunc&&(M=A.chart.transformFunc(w,A.chart,M)),_.priceFormatter?M=_.priceFormatter(w,A,M):M=w.formatYAxisPrice(M,A,null,_),w.createYAxisLabel(A,M,O,k,null,null,_),w.startClip(A.name)):this.name=="vertical"&&this.p0[0]>=0&&!w.chart.xAxis.noDraw&&(!this.spanPanels||A.yAxis.bottom!==A.bottom)&&(L=this.getDateFromTick(this.p0["0"^0]),w.endClip(),w.createXAxisLabel({panel:A,txt:this.formatDate(L),x:P,backgroundColor:k,color:null,pointed:!0,padding:2}),w.startClip(A.name))),this.highlighted&&this.name!="horizontal"&&this.name!="vertical"&&(E="p",E+="0",H=this.highlighted==E,N=this.highlighted=="p1",this.littleCircle(y,P,O,H),this.littleCircle(y,I,R,N)))},p.Drawing.segment.prototype.abort=function(){ee.m30(),this.stx.setMeasure(null,null,null,null,!1)},p.Drawing.segment.prototype.intersected=function(y,b,w){var A,_,P,I,O,R,C;if(A="ve",A+="rt",A+="ic",A+="al",_="gar",_+="tle",_+="y",P="ve",P+="rtical",!this.p0||!this.p1)return null;if(I=this.name,I!="horizontal"&&I!=P&&I!=_){O={0:this.p0,1:this.p1};for(var k in O)if(this.pointIntersection(O[k][0],O[k][1],w))return R="dra",R+="g",ee.b1T(1),this.highlighted=ee.p5W("p",k),{action:R,point:"p"+k}}return(I=="horizontal"||I==A)&&(I="line"),C=this.lineIntersection(y,b,w,I),C?(this.highlighted=!0,{action:"move",p0:p.clone(this.p0),p1:p.clone(this.p1),tick:y,value:this.valueOnDrawingAxis(y,b)}):null},p.Drawing.segment.prototype.configs=[a,"lineWidth","pattern"],p.Drawing.segment.prototype.copyConfig=function(y){var b;b="n",b+="o",b+="n",ee.r5q(),b+="e",p.Drawing.copyConfig(this,y),this.pattern==b&&this.configs.indexOf("fillColor")==-1&&(this.pattern="solid")},p.Drawing.segment.prototype.reconstruct=function(y,b){this.stx=y,this.color=b.col,this.panelName=b.pnl,this.pattern=b.ptrn,this.lineWidth=b.lw,this.d0=b.d0,this.d1=b.d1,this.tzo0=b.tzo0,this.tzo1=b.tzo1,this.v0=b.v0,this.v1=b.v1,this.field=b.fld,this.adjust()},p.Drawing.segment.prototype.serialize=function(){return ee.r5q(),{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field}},p.Drawing.line=function(){var y;y="li",y+="ne",this.name=y},p.inheritsFrom(p.Drawing.line,p.Drawing.segment),p.Drawing.line.prototype.dragToDraw=!1,p.Drawing.line.prototype.click=function(y,b,w){var A;if(ee.m30(),A=this.stx.panels[this.panelName],!!A)return this.copyConfig(),this.penDown?(this.accidentalClick(b,w)||(this.setPoint(1,b,w,A.chart),this.penDown=!1),!0):(this.setPoint(0,b,w,A.chart),this.penDown=!0,!1)},p.Drawing.line.prototype.reconstruct=function(y,b){this.stx=y,this.color=b.col,this.panelName=b.pnl,this.pattern=b.ptrn,ee.r5q(),this.lineWidth=b.lw,this.v0=b.v0,this.v1=b.v1,this.d0=b.d0,this.d1=b.d1,this.tzo0=b.tzo0,this.tzo1=b.tzo1,this.field=b.fld,this.hidden=!!b.hdn,this.permanent=!!b.prm,this.adjust()},p.Drawing.line.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field,hdn:this.hidden?1:"0"^0,prm:this.permanent?1:0}},p.Drawing.line.prototype.adjust=function(){var y;y=this.stx.panels[this.panelName],y&&(ee.r5q(),ee.Z1$(46),this.setPoint(ee.v8U(0,"0"),this.d0,this.v0,y.chart),this.setPoint(1,this.d1,this.v1,y.chart),p.ChartEngine.isDailyInterval(this.stx.layout.interval)&&this.d0B&&(this.setPoint(0,this.d0B,this.v0B,y.chart),this.setPoint(1,this.d1B,this.v1B,y.chart)))},p.Drawing.horizontal=function(){ee.r5q(),this.name="horizontal"},p.inheritsFrom(p.Drawing.horizontal,p.Drawing.segment),p.Drawing.horizontal.prototype.dragToDraw=!1,p.Drawing.horizontal.prototype.measure=function(){},p.Drawing.horizontal.prototype.click=function(y,b,w){ee.m30();var A;if(A=this.stx.panels[this.panelName],!!A)return this.copyConfig(),this.setPoint(0,b,w,A.chart),!0},p.Drawing.horizontal.prototype.intersected=function(y,b,w){var A,_,P;return this.lineIntersection(y,b,w,"line")?(A=this.stx,_=A.chart.dataSet.length,P=this.p0[1],this.highlighted=!0,{action:"move",p0:[_-2,P],p1:[_-1,P],tick:y,value:this.valueOnDrawingAxis(y,b)}):null},p.Drawing.horizontal.prototype.reconstruct=function(y,b){this.stx=y,this.color=b.col,this.panelName=b.pnl,this.pattern=b.ptrn,this.lineWidth=b.lw,this.v0=b.v0,ee.r5q(),this.d0=b.d0,this.tzo0=b.tzo0,this.axisLabel=b.al,this.field=b.fld,this.adjust()},p.Drawing.horizontal.prototype.serialize=function(){var y;return y={name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,v0:this.v0,d0:this.d0,tzo0:this.tzo0,al:this.axisLabel,fld:this.field},ee.m30(),y},p.Drawing.horizontal.prototype.adjust=function(){var y;if(y=this.stx.panels[this.panelName],!!y){this.setPoint(0,this.d0,this.v0,y.chart),ee.b1T(26);var b=ee.p5W(20,89,9);this.p1=[this.p0[0]+b,this.p0[1]]}},p.Drawing.horizontal.prototype.configs=["color",i,"pattern","axisLabel"],p.Drawing.vertical=function(){var y;y="vertica",ee.m30(),y+="l",this.name=y,this.spanPanels=!1},p.inheritsFrom(p.Drawing.vertical,p.Drawing.horizontal),p.Drawing.vertical.prototype.measure=function(){},p.Drawing.vertical.prototype.configs=["color",s,"pattern","axisLabel","spanPanels"],p.Drawing.vertical.prototype.intersected=p.Drawing.segment.prototype.intersected,p.Drawing.vertical.prototype.adjust=function(){var y;if(y=this.stx.panels[this.panelName],ee.m30(),!!y){this.setPoint(0,this.d0,this.v0,y.chart),ee.b1T(65);var b=ee.p5W(23,18,14,3,14);this.p1=[this.p0[0],this.p0["1"<<0]+b]}};var{reconstruct:S,serialize:T,reposition:D}=p.Drawing.vertical.prototype;p.Drawing.vertical.prototype.reconstruct=function(y,b){S.call(this,y,b),this.spanPanels=b.sp},p.Drawing.vertical.prototype.serialize=function(){var y;return y=T.call(this),y.sp=this.spanPanels,y},p.Drawing.vertical.prototype.reposition=function(y,b,w,A){this.spanPanels?Object.values(this.stx.panels).forEach(_=>{this.panelName=_.name,D.call(this,y,b,w,A),this.panelName=this.originPanelName}):D.call(this,y,b,w,A)},p.Drawing.measure=function(){var y;ee.m30(),y="m",y+="e",y+="asure",this.name=y},p.inheritsFrom(p.Drawing.measure,p.Drawing.segment),p.Drawing.measure.prototype.click=function(y,b,w){return this.copyConfig(),this.penDown?(this.stx.undo(),ee.m30(),this.penDown=!1,!0):(this.p0=[b,w],this.penDown=!0,!1)},p.Drawing.rectangle=function(){this.name="rectangle"},p.inheritsFrom(p.Drawing.rectangle,p.Drawing.BaseTwoPoint),p.Drawing.rectangle.prototype.render=function(y){var b=ee,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z;if(w="s",w+="egme",w+="nt",A=this.stx,_=A.panels[this.panelName],P=A.getYAxisByField(_,this.field),!(!_||this.field&&!P)){I=A.pixelFromTick(this.p0["0">>0],_.chart),O=A.pixelFromTick(this.p1[0],_.chart),R=this.pixelFromValue(_,this.p0[0],this.p0[1],P),C=this.pixelFromValue(_,this.p1[0],this.p1[1],P),k=-1137886645,F=1437919076,M=2;for(var $=1;b.m9o($.toString(),$.toString().length,37082)!==k;$++)L=Math.round(Math.min(I,O))+("0.5"-0),M+=2;if(b.D4r(M.toString(),M.toString().length,90795)!==F){b.Z1$(11);var K=b.p5W(9,129);L=Math.round(Math.min(I,O))-K}E=Math.min(R,C),H=Math.max(I,O)-L,N=Math.max(R,C)-E,j=this.getLineColor(),W=this.fillColor,W&&!p.isTransparent(W)&&W!="auto"&&(y.beginPath(),y.rect(L,E,H,N),y.fillStyle=W,y.globalAlpha=.2,y.fill(),y.closePath(),b.b1T(66),y.globalAlpha=b.v8U(64,"1")),V={pattern:this.pattern,lineWidth:this.lineWidth},this.highlighted&&V.pattern=="none"&&(Y="soli",Y+="d",V.pattern=Y,V.lineWidth==.1&&(V.lineWidth=1)),A.plotLine(I,O,R,R,j,w,y,_,V),b.b1T(11),A.plotLine(O,O,b.p5W(.5,R),b.v8U(C,.5,b.b1T(1)),j,"segment",y,_,V),A.plotLine(O,I,C,C,j,"segment",y,_,V),b.Z1$(1),A.plotLine(I,I,b.v8U(C,.5),b.p5W(.5,R,b.b1T(11)),j,"segment",y,_,V),this.highlighted&&(Q=this.highlighted=="p0",z=this.highlighted=="p1",this.littleCircle(y,I,R,Q),this.littleCircle(y,O,C,z))}},p.Drawing.rectangle.prototype.intersected=function(y,b,w){var A,_,P;if(!this.p0||!this.p1)return null;A={0:this.p0,1:this.p1};for(var I in A)if(this.pointIntersection(A[I][0],A[I][1],w))return _="dr",_+="a",_+="g",ee.Z1$(1),this.highlighted=ee.v8U("p",I),{action:_,point:"p"+I};return ee.m30(),this.boxIntersection(y,b,w)?(P="mo",P+="v",P+="e",this.highlighted=!0,{action:P,p0:p.clone(this.p0),p1:p.clone(this.p1),tick:y,value:this.valueOnDrawingAxis(y,b)}):null},p.Drawing.rectangle.prototype.configs=["color","fillColor",r,"pattern"],p.Drawing.rectangle.prototype.reconstruct=function(y,b){this.stx=y,this.color=b.col,this.fillColor=b.fc,this.panelName=b.pnl,this.pattern=b.ptrn,this.lineWidth=b.lw,this.d0=b.d0,this.d1=b.d1,this.tzo0=b.tzo0,this.tzo1=b.tzo1,this.v0=b.v0,this.v1=b.v1,this.field=b.fld,ee.r5q(),this.hidden=!!b.hdn,this.permanent=!!b.prm,this.adjust()},p.Drawing.rectangle.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field,hdn:this.hidden?1:0,prm:this.permanent?1:0}},p.Drawing.shape=function(){this.name="shape",this.radians=0,this.a=0,this.rotating=!1,this.textMeasure=!1,this.configurator="shape",this.dimension=[0,0],this.points=[]},p.inheritsFrom(p.Drawing.shape,p.Drawing.BaseTwoPoint),p.Drawing.shape.prototype.setRotationOnInitialDraw=!1,p.Drawing.shape.prototype.measure=function(){},p.Drawing.shape.prototype.render=function(y){var b=ee,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae;if(this.points.length&&(w=this.stx,A=w.panels[this.panelName],_=w.getYAxisByField(A,this.field),!(!A||this.field&&!_))){if(P=w.pixelFromTick(this.p0[0],A.chart),I=this.pixelFromValue(A,this.p0[0],this.p0[1],_),b.r5q(),this.p1){if(O=w.pixelFromTick(this.p1[0],A.chart),R=this.pixelFromValue(A,this.p1[0],this.p1[1],_),y.globalAlpha=.5,y.fillStyle=this.getLineColor(),this.rotating){if(b.Z1$(67),this.radians=Math.atan(b.v8U(O,I,R,P)),O<P)this.radians+=Math.PI;else if(R<I){b.b1T(11);var te=b.v8U(9,11);this.radians+=te*Math.PI}b.b1T(68);var re=b.p5W(5,8,6,2,2);b.b1T(69);var oe=b.v8U(15,14,20,25);this.a=parseInt((this.radians*36/Math.PI).toFixed(0),re)*oe,this.a%=360,b.Z1$(70);var B=b.p5W(5,1,0,4);this.radians=this.a*Math.PI/("180"*B),this.textMeasure&&y.fillText(this.a+"°",O+10,R+10)}else this.penDown&&(C="x",C+=",",this.sx=Math.max(1,parseFloat(Math.abs(2*(O-P)/this.dimension[0]).toFixed(1))),O<P&&(this.sx*=-1),this.sy=Math.max(1,parseFloat(Math.abs(2*(R-I)/this.dimension[1]).toFixed(1))),R<I&&(this.sy*=-1),this.textMeasure&&y.fillText(this.sx+C+this.sy+"x",O+this.sx+5,R+this.sy+5));y.globalAlpha=1}typeof this.sx=="undefined"&&(this.sx=this.sy=1),k=this.lineWidth,k||(b.Z1$(3),k=b.p5W("1.1",1)),F={pattern:this.pattern,lineWidth:k},this.highlighted&&F.pattern=="none"&&(M="soli",M+="d",F.pattern=M,F.lineWidth==.1&&(F.lineWidth=1)),L=this.getLineColor(),this.highlighted&&k==.1&&(k=1.1),E=this.fillColor,b.Z1$(71);var G=b.v8U(10,10,16,2,17);for(k/=Math.abs(this.sx*this.sy)*G/(Math.abs(this.sx)+Math.abs(this.sy)),y.save(),y.translate(P,I),y.rotate(this.radians),y.scale(this.sx,(_||A.yAxis).flipped?-this.sy:this.sy),j={x:(this.dimension[0]-1)/2,y:(this.dimension[1]-1)/2},H=0;H<this.points.length;H++){for(y.beginPath(),N=0;N<this.points[H].length;N++)K=this.points,K[H][N]=="M"?(W=K[H][++N]-j.x,V=K[H][++N]-j.y,y.moveTo(W,V)):K[H][N]=="L"?(W=K[H][++N]-j.x,V=K[H][++N]-j.y,y.lineTo(W,V)):K[H][N]=="Q"?(Y=K[H][++N]-j.x,z=K[H][++N]-j.y,W=K[H][++N]-j.x,V=K[H][++N]-j.y,y.quadraticCurveTo(Y,z,W,V)):K[H][N]=="B"&&(Y=K[H][++N]-j.x,z=K[H][++N]-j.y,Q=K[H][++N]-j.x,$=K[H][++N]-j.y,W=K[H][++N]-j.x,V=K[H][++N]-j.y,y.bezierCurveTo(Y,z,Q,$,W,V));y.closePath(),E&&!p.isTransparent(E)&&E!="auto"&&(y.fillStyle=E,y.fill()),L&&this.pattern!="none"&&(y.strokeStyle=L,y.lineWidth=k,y.setLineDash&&(y.setLineDash(p.borderPatternToArray(k,this.pattern)),y.lineDashOffset=0),y.stroke())}y.restore(),y.save(),y.translate(P,I),y.rotate(this.radians),this.highlighted?(q="p",q+="0",X=this.highlighted==q,Z=this.highlighted=="p1",ae=this.highlighted=="p2",b.b1T(2),this.littleCircle(y,b.v8U("0",64),0,X),this.mover(y,0,0,X),this.littleCircle(y,this.sx*this.dimension[0]/2,this.sy*this.dimension[1]/2,Z),this.resizer(y,this.sx*this.dimension[0]/2,this.sy*this.dimension[1]/2,Z),this.littleCircle(y,this.sx*this.dimension[0]/2,0,ae),this.rotator(y,this.sx*this.dimension[0]/2,0,ae),y.globalAlpha=.5,y.fillStyle=this.getLineColor(null,!1),this.textMeasure&&(y.fillText(this.sx+"x,"+this.sy+"x",this.sx*this.dimension[0]/2+12,this.sy*this.dimension[1]/2+5),y.fillText(this.a+"°",this.sx*this.dimension[0]/2+12,5)),y.globalAlpha=1):this.penDown&&(this.rotating?this.rotator(y,this.sx*this.dimension["0"<<32]/("2"|2),0,!0):this.resizer(y,this.sx*this.dimension[0]/2,this.sy*this.dimension[1]/("2"*1),!0)),y.restore()}},p.Drawing.shape.prototype.reposition=function(y,b,w,A){var _=ee,P,I,O,R,C,k,F,M,L,E,H;if(P="m",P+="ove",!!b){if(I=this.stx,_.m30(),O=I.panels[this.panelName],b.action==P)R=b.tick-w,C=b.value-A,_.b1T(46),this.setPoint(_.v8U(0,"0"),b.p0[0]-R,b.p0[1]-C,O.chart),this.render(y);else if(k="ro",k+="tate",F=I.getYAxisByField(O,this.field),M=I.pixelFromTick(this.p0[0],O.chart),L=this.pixelFromValue(O,this.p0["0"-0],this.p0[1],F),E=I.pixelFromTick(w,O.chart),H=this.pixelFromValue(O,w,A,F),b.action=="scale")this[b.point]=[w,A],this.sx=parseFloat((((E-M)*Math.cos(this.radians)+(H-L)*Math.sin(this.radians))/(this.dimension["0"<<32]/2)).toFixed(1)),Math.abs(this.sx)<("1"|0)&&(this.sx/=Math.abs(this.sy)),this.sy=parseFloat((((H-L)*Math.cos(this.radians)-(E-M)*Math.sin(this.radians))/(this.dimension[1]/2)).toFixed(1)),Math.abs(this.sy)<1&&(this.sy/=Math.abs(this.sy)),this.render(y);else if(b.action==k){if(this[b.point]=[w,A],_.b1T(67),this.radians=Math.atan(_.v8U(E,L,H,M)),E<M)this.radians+=Math.PI;else if(H<L){_.b1T(72);var N=_.v8U(1012,6,160,14);this.radians+=("2">>N)*Math.PI}_.b1T(73);var j=_.p5W(9,1,1);_.b1T(74);var W=_.v8U(25,5,77,15,17);if(this.a=parseInt((this.radians*36/Math.PI).toFixed(0),j)*W,this.sx<0){_.Z1$(35);var V=_.p5W(15,90,18);this.a=this.a+V}this.a%=360,_.Z1$(1);var Y=_.v8U(162,18);this.radians=this.a*Math.PI/Y,this.render(y)}}},p.Drawing.shape.prototype.intersected=function(y,b,w){var A=ee,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z;if(_=this.stx,!this.p0)return null;if(_.repositioningDrawing==this&&_.repositioningDrawing.repositioner)return _.repositioningDrawing.repositioner;P=_.panels[this.panelName],I=_.getYAxisByField(P,this.field),O=_.pixelFromTick(this.p0[0],P.chart),R=this.pixelFromValue(P,this.p0[0],this.p0[1],I),C=_.pixelFromTick(y,P.chart),k=_.pixelFromValueAdjusted(P,y,b),C-=O,k-=R,F=k,M=C,C=Math.cos(this.radians)*M+Math.sin(this.radians)*F,k=Math.cos(this.radians)*F-Math.sin(this.radians)*M,C/=this.sx,k/=this.sy,this.padding=p.ensureDefaults(this.padding||{},{left:0,right:0,top:0,bottom:0}),L=this.padding.right+this.padding.left,E=this.padding.bottom+this.padding.top,H=Math.pow(p.touchDevice?25:5+this.littleCircleRadius(),2),N=Math.abs(H/(this.sx*this.sy)),j=3,A.b1T(9);var $=A.v8U(7,5);A.b1T(26);var K=A.v8U(7,0,6);A.b1T(72);var q=A.p5W(238,20,0,12);A.b1T(35);var X=A.p5W(16,126,8);A.Z1$(26);var Z=A.v8U(15,0,13);A.b1T(30);var ae=A.v8U(722,20,36,4);A.b1T(11);var te=A.v8U(2,4);A.Z1$(75);var re=A.p5W(3,3,3);W=Math.pow((this.dimension[0]-L+j)/2,$)+Math.pow((this.dimension[K]-E+j)/q,X)>Math.pow(C-L/Z,ae)+Math.pow(k-E/te,re),A.Z1$(73);var oe=A.p5W(1,6,6);V=(H-(Math.pow(C*this.sx,oe)+Math.pow(k*this.sy,2)))/Math.abs(this.sx*this.sy),A.b1T(1);var B=A.v8U(0,2);A.Z1$(35);var G=A.p5W(15,239,16);A.Z1$(8);var ie=A.p5W(2,0,4);A.b1T(76);var ne=A.p5W(13,41,9,17);Y=N-Math.pow(C-this.dimension[0]/B,2)-Math.pow(k-this.dimension[G]/ie,ne),A.b1T(77);var le=A.v8U(28,9,16,234);A.b1T(72);var fe=A.p5W(173,5,20,15);A.Z1$(22);var ue=A.p5W(13,154,2,6);return Q=N-Math.pow(C-this.dimension[0]/le,fe)-Math.pow(k,ue),W?Y>=Q&&Y>=V&&Y>-1?(z="s",z+="c",z+="al",z+="e",this.highlighted="p1",{action:z}):Q>=Y&&Q>=V&&Q>-1?(this.highlighted="p2",{action:"rotate"}):(this.highlighted=V>-1?"p0":!0,{action:"move",p0:p.clone(this.p0),tick:y,value:this.valueOnDrawingAxis(y,b)}):null},p.Drawing.shape.prototype.configs=["color",t,"lineWidth",e],p.Drawing.shape.prototype.littleCircleRadius=function(){return 3},p.Drawing.shape.prototype.click=function(y,b,w){var A;return this.points.length?(this.copyConfig(),A=this.stx.panels[this.panelName],this.penDown?(this.setPoint(1,b,w,A.chart),this.rotating||!this.setRotationOnInitialDraw?(this.penDown=!1,this.rotating=!1,!0):(this.rotating=!0,!1)):(ee.Z1$(2),this.setPoint(ee.v8U("0",64),b,w,A.chart),this.penDown=!0,!1)):!1},p.Drawing.shape.prototype.adjust=function(){var y,b,w,A;if(y="_",y+="v",b=this.stx.panels[this.panelName],!!b){w=this.name+y+(this.version||0),p.Drawing[w]&&(A=new p.Drawing[w],this.name=A.name,this.dimension=A.dimension,this.padding=A.padding,this.points=A.points,this.version=A.version),this.setPoint(0,this.d0,this.v0,b.chart),ee.Z1$(78);var _=ee.p5W(18,1,47,29);this.radians=Math.round(this.a/5)*Math.PI/_}},p.Drawing.shape.prototype.reconstruct=function(y,b){this.stx=y,this.color=b.col,this.fillColor=b.fc,this.panelName=b.pnl,this.pattern=b.ptrn,this.lineWidth=b.lw,this.d0=b.d0,this.v0=b.v0,ee.r5q(),this.tzo0=b.tzo0,this.a=b.a,this.sx=b.sx,this.sy=b.sy,this.field=b.fld,this.version=b.ver,this.hdn=!!b.hdn,this.prm=!!b.prm,this.adjust()},p.Drawing.shape.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,v0:this.v0,tzo0:this.tzo0,a:this.a,sx:this.sx,sy:this.sy,fld:this.field,ver:this.version,hdn:this.hidden?"1"|0:0,prm:this.permanent?1:0}},p.Drawing.arrow=function(){var y=ee;this.name="arrow",this.version=1,this.dimension=[11,22],this.padding={left:0,right:0,top:11,bottom:0},y.b1T(15),this.points=[["M",3,21,"L",y.v8U(5,"7"),21,"L",7,16,"L",10,y.v8U("16",1,y.b1T(3)),"L",5,11,"L",0,16,"L",3,16,"L",3,21]]},p.inheritsFrom(p.Drawing.arrow,p.Drawing.shape),p.Drawing.trendline=function(){this.name="trendline",ee.r5q(),this.showCallout=!1},p.inheritsFrom(p.Drawing.trendline,p.Drawing.segment),p.Drawing.trendline.prototype.copyConfig=function(y){var b,w;b="f",b+="o",b+="n",b+="t",w="s",w+="ho",w+="w",w+="Callout",p.Drawing.callout&&!p.Drawing.trendline.prototype.configs.includes(w)&&p.Drawing.trendline.prototype.configs.push("fillColor","showCallout",b),p.Drawing.copyConfig(this,y)},p.Drawing.trendline.prototype.measure=function(){(!this.showCallout||!p.Drawing.callout)&&p.Drawing.BaseTwoPoint.prototype.measure.call(this)},p.Drawing.trendline.prototype.reconstruct=function(y,b){p.Drawing.segment.prototype.reconstruct.call(this,y,b),b.callout&&p.Drawing.callout&&(this.callout=new p.Drawing.callout,this.callout.reconstruct(y,b.callout),this.showCallout=!0)},p.Drawing.trendline.prototype.serialize=function(){var y;return y=p.Drawing.segment.prototype.serialize.call(this),this.showCallout&&p.Drawing.callout&&(y.callout=this.callout.serialize()),y},p.Drawing.trendline.prototype.render=function(y){var b=ee,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K;if(w=" ",w+="Ba",w+="r",w+="s",A=this.stx,_=A.panels[this.panelName],P=A.getYAxisByField(_,this.field),!(!_||this.field&&!P)){if(p.Drawing.segment.prototype.render.call(this,y),!this.showCallout||!p.Drawing.callout){this.callout=null;return}if(this.callout||(this.callout=new p.Drawing.callout,I=p.Drawing.segment.prototype.serialize.call(this),this.callout.reconstruct(A,I)),this.callout.p0=p.clone(this.p0),O=A.pixelFromTick(this.p0[0],_.chart),R=A.pixelFromTick(this.p1[0],_.chart),C=this.pixelFromValue(_,this.p0[0],this.p0[1],P),k=this.pixelFromValue(_,this.p1[0],this.p1[1],P),!(!isFinite(C)||!isFinite(k))){b.Z1$(14),F=b.v8U(O,R,2),b.b1T(14),M=b.p5W(C,k,2),this.fontSize=p.stripPX(this.font&&this.font.size||13),b.b1T(35);var q=b.p5W(7,132,19);b.b1T(79);var X=b.p5W(308,1843,65,17);b.Z1$(59);var Z=b.v8U(11,19,17,7155636,2014);b.b1T(11),b.v8U(1,2),b.Z1$(73);var ae=b.v8U(49,10,10);L=this.callout.w*1.2+(this.callout.stemEntry[0]==("546.06"*q>=X?Z<4990?!1:998:"c")?0:ae),E=Math.sqrt(Math.pow(R-O,2)+Math.pow(k-C,2)),b.Z1$(4);var te=b.v8U(8,8,0);b.Z1$(80);var re=b.p5W(6,17,5,12,4);b.b1T(26);var oe=b.v8U(2,0,1);H=L/(E||L)*(this.p1[te]<this.p0[re]?oe:-1),b.b1T(81),N=b.v8U(M,F,k,H),b.Z1$(27),j=b.p5W(H,M,R,F),this.callout.p0[0]=A.tickFromPixel(N,_.chart),this.callout.p0[1]=this.valueFromPixel(j,_,P),this.callout.v0=this.callout.p0[1],this.callout.p1=p.clone(this.p0),this.callout.stx=A,this.callout.fillColor=this.fillColor||this.callout.fillColor,this.callout.borderColor=this.color,this.callout.font=this.font||this.callout.font,this.callout.noHandles=!0,b.Z1$(11);var B=b.p5W(19,20);b.Z1$(82);var G=b.p5W(91,17,3,20,15);W=this.p1[B]-this.p0[G],b.Z1$(83);var ie=b.p5W(9,18,5,4,2);b.b1T(26);var ne=b.p5W(17,0,16);b.Z1$(35);var le=b.p5W(19,131,7);this.callout.text=""+Number(W).toFixed(ie)+(this.p0[ne]===0?"":" ("+Number(("100">>0)*W/this.p0[1]).toFixed(le)+"%) ")+Math.abs(this.p1["0"|0]-this.p0[0])+w,V=Math.floor((this.p0[0]+this.p1["0"<<32])/2),Math.abs(this.p0[0]-this.p1[0])>1&&Math.abs(this.p0[0]-this.p1[0])<20?(Q=A.pixelFromTick(V,_.chart),b.b1T(84),z=b.p5W(R,Q,k,O,C,O,C),Y=this.valueFromPixel(z,_,P)||M):Y=this.valueFromPixel(M,_,P),this.callout.stem={t:V,v:Y},this.callout.setTextareaProps(),this.callout.render(y),this.highlighted&&($=this.highlighted=="p0",K=this.highlighted=="p1",this.littleCircle(y,O,C,$),this.littleCircle(y,R,k,K))}}},p.Drawing.trendline.prototype.lineIntersection=function(y,b,w,A){return ee.m30(),p.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,y,b,w,"segment")},p.Drawing.trendline.prototype.intersected=function(y,b,w){ee.m30();var A,_;return!this.p0||!this.p1?null:(A=this.callout?this.callout.intersected(y,b,w):null,_=p.Drawing.segment.prototype.intersected.call(this,y,b,w),this.callout&&(this.callout.highlighted=!!(A||_)),_||(A?{action:"move",p0:p.clone(this.p0),p1:p.clone(this.p1),tick:y,value:this.valueOnDrawingAxis(y,b)}:null))},p.Drawing.getDrawingToolList=function(y){var b,w;b={},w={arrow_v0:!0,BaseTwoPoint:!0,fibonacci:!0,shape:!0},p.extend(w,y);for(var A in p.Drawing)!w[A]&&p.Drawing[A].prototype.render&&(b[new p.Drawing[A]().name]=A);return b}};fa=U=>{var e,t;e="undefi",e+="ned",t=typeof _CIQ!==e?_CIQ:U.CIQ,t.EaseMachine=function(r,s,i,a){ee.r5q(),typeof r=="string"?this.fc=t.EaseMachine[r]:this.fc=r,this.ms=s,(i||i===0)&&this.reset(i,a)},t.EaseMachine.prototype.reset=function(r,s){!r&&r!==0&&(r=this.currentValues),this.hasCompleted=!1,this.running=!1,this.okayToRun=!0,ee.b1T(85),ee.m30(),this.useNameValuePairs=ee.v8U(typeof s,"object"),this.startTime=Date.now(),this.useNameValuePairs?(this.startValues=r,this.endValues=s):(this.startValues={default:r},this.endValues={default:s}),this.changeValues={},this.currentValues={};for(var i in this.startValues)this.changeValues[i]=this.endValues[i]-this.startValues[i]},t.EaseMachine.prototype.next=function(){var r;ee.r5q(),r=Date.now(),r>=this.startTime+this.ms&&(r=this.startTime+this.ms,this.hasCompleted=!0,this.running=!1),this.currentValues={};for(var s in this.changeValues)this.currentValues[s]=this.fc(r-this.startTime,this.startValues[s],this.changeValues[s],this.ms);return this.useNameValuePairs?this.currentValues:this.currentValues.default},t.EaseMachine.prototype.hasCompleted=!0,t.EaseMachine.prototype.run=function(r,s,i,a,o){var n;o||(o=window);function l(){var u;n.afid=null,n.okayToRun&&(u=n.next(),r(u),!n.hasCompleted&&(n.afid=o.requestAnimationFrame(l)))}this.afid&&o.cancelAnimationFrame(this.afid),s||s===0?this.reset(s,i):(i||i===0)&&this.reset(this.currentValues,i),n=this,this.running=!0,a?this.afid=o.requestAnimationFrame(l):l()},t.EaseMachine.prototype.stop=function(r){ee.r5q();var s;return s="un",s+="de",s+="fined",r||(r=window),this.afid&&r.cancelAnimationFrame(this.afid),this.afid=null,this.okayToRun=!1,this.hasCompleted=!0,this.running=!1,typeof this.useNameValuePairs==s?{}:this.useNameValuePairs?this.currentValues:this.currentValues.default},t.EaseMachine.easeInOutQuad=function(r,s,i,a){var o=ee;return o.b1T(12),r/=o.v8U(2,a),r<1?(o.b1T(86),o.v8U(s,i,r,r,2)):(r--,o.b1T(87),o.p5W("2",1,i,s,2,r,r))},t.EaseMachine.easeInOutCubic=function(r,s,i,a){var o=ee;return o.m30(),o.b1T(88),r/=o.v8U("2",a),r<1?(o.b1T(89),o.p5W(s,i,r,2,r,r)):(r-=2,o.Z1$(90),o.v8U(0,2,i,r,r,"2",s,r))},t.EaseMachine.easeOutCubic=function(r,s,i,a){return r/=a,r--,ee.Z1$(91),ee.p5W(s,"1",r,r,1,r,i)},t.ChartEngine.prototype.animations.zoom.isStub&&(t.ChartEngine.prototype.animations.zoom=new t.EaseMachine("easeOutCubic",400))};da=U=>{var e,t;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,t=function(){var r=ee,s,i,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D;s="\\";function y(B,G){return r.b1T(92),r.v8U(B,G)}function b(B){return r.r5q(),Math.cosh?Math.cosh(B):(Math.exp(B)+Math.exp(-B))/2}function w(B,G,ie,ne){this.type_=B,this.index_=G||0,this.prio_=ie||0,this.number_=ne!=null?ne:0,this.toString=function(){var le,fe,ue;r.Z1$(11),le=-r.p5W(0,"834181848"),fe=1772170415,ue=2;for(var ge=1;r.m9o(ge.toString(),ge.toString().length,"25288"^0)!==le;ge++){switch(this.type_){case o:return this.number_;case n:case l:case u:return this.index_;case h:return"Invalid Token";default:return"Invalid Token"}ue+=2}if(r.r5q(),r.D4r(ue.toString(),ue.toString().length,19768)!==fe)switch(this.type_){case o:return this.number_;case n:case l:case u:return this.index_;case h:return"Invalid Token";default:return"Invalid Token"}switch(this.type_){case o:return this.number_;case n:case l:case u:return this.index_;case h:return"CALL";default:return"Invalid Token"}}}function A(B){var G;for(B=Math.floor(B),G=B;B>1;)r.Z1$(93),G=r.p5W(G,--B);return G}function _(B){return Math.tanh?Math.tanh(B):B===1/0?1:B===-1/0?-1:(Math.exp(B)-Math.exp(-B))/(Math.exp(B)+Math.exp(-B))}function P(B,G){return r.b1T(94),r.p5W(B,G)}function I(B,G){return r.b1T(95),r.p5W(B,G)}function O(B){return r.r5q(),Math.log(B)*Math.LOG10E}s+="r",i="\\";function R(B,G){return r.b1T(96),r.v8U(B,G)}i+="f";function C(B,G){return r.m30(),r.b1T(11),r.v8U(G,B)}a="\\";function k(B,G){return r.Z1$(3),r.v8U(B,G)}function F(B){r.r5q();var G,ie,ne;r.b1T(15),G=r.v8U(75,"1150794571"),ie=-1965241306,ne=2;function le(){}for(var fe=1;r.m9o(fe.toString(),fe.toString().length,"91885"^0)!==G;fe++)return le.prototype=B,new le;if(r.m9o(ne.toString(),ne.toString().length,25236)!==ie)return le.prototype=B,new le}a+="t";function M(B){return Math.asinh?Math.asinh(B):B===-1/0?B:Math.log(B+Math.sqrt(B*B+1))}o=0,n=1;function L(B,G){return r.Z1$(97),r.v8U(G,B)}r.Z1$(11),l=r.v8U(0,"2");function E(B,G){return r.r5q(),!!(B||G)}u=3,h=4,c=/[\\'\x7f-\x9f\u00ad\u0600-\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]|\u070f|\u17b4|\u0604|\u17b5/g,f={"\b":"\\b","	":a,"\n":"\\n","\f":i,"\r":s,"'":"\\'","\\":"\\\\"};function H(B,G){return r.b1T(85),r.v8U(B,G)}e.extend(te.prototype,{simplify:function(B){var G,ie,ne,le,fe,ue,ge,ce,de,he,pe,me;for(B=B||{},G=[],r.m30(),ie=[],ue=this.tokens.length,ce=0,ce=0;ce<ue;ce++)if(ge=this.tokens[ce],de=ge.type_,de===o)G.push(ge);else if(de===u&&ge.index_ in B)ge=new w(o,0,0,B[ge.index_]),G.push(ge);else if(de===l&&G.length>1)le=G.pop(),ne=G.pop(),fe=this.ops2[ge.index_],ge=new w(o,0,0,fe(ne.number_,le.number_)),G.push(ge);else if(de===n&&G.length>0)ne=G.pop(),fe=this.ops1[ge.index_],ge=new w(o,0,0,fe(ne.number_)),G.push(ge);else{for(;G.length>0;)ie.push(G.shift());ie.push(ge)}for(;G.length>0;)ie.push(G.shift());he=-1883016990,pe=-649271171,me=2;for(var xe="1"*1;r.D4r(xe.toString(),xe.toString().length,"87500"<<0)!==he;xe++)return new te(ie,F(this.ops1),F(this.ops2),F(this.functions));if(r.m9o(me.toString(),me.toString().length,64146)!==pe)return new te(ie,F(this.ops1),F(this.ops2),F(this.functions))},substitute:function(B,G){var ie,ne,le,fe,ue,ge,ce,de,he,pe,me;if(!(G instanceof te)){ie=1938102450,r.b1T(15),ne=-r.v8U(65,"109748335"),le=2;for(var xe=1;r.D4r(xe.toString(),xe.toString().length,50559)!==ie;xe++)G=new ae().parse(String(G)),le+=2;r.D4r(le.toString(),le.toString().length,70137)!==ne&&(G=new ae().parse(String(G)))}for(fe=[],ue=this.tokens.length,r.Z1$(3),ce=r.v8U("0",1),ce=0;ce<ue;ce++)if(ge=this.tokens[ce],de=ge.type_,de===u&&ge.index_===B)for(var ye="0"^0;ye<G.tokens.length;ye++)he=G.tokens[ye],pe=new w(he.type_,he.index_,he.prio_,he.number_),fe.push(pe);else fe.push(ge);return me=new te(fe,F(this.ops1),F(this.ops2),F(this.functions)),me},evaluate:function(B){var G,ie,ne,le,fe,ue,ge,ce,de;for(B=B||{},G=[],fe=this.tokens.length,ge=0,ge=0;ge<fe;ge++)if(ue=this.tokens[ge],ce=ue.type_,ce===o)G.push(ue.number_);else if(ce===l)ne=G.pop(),ie=G.pop(),le=this.ops2[ue.index_],G.push(le(ie,ne));else if(ce===u)if(ue.index_ in B)G.push(B[ue.index_]);else if(ue.index_ in this.functions)G.push(this.functions[ue.index_]);else throw new Error("undefined variable: "+ue.index_);else if(ce===n)ie=G.pop(),le=this.ops1[ue.index_],G.push(le(ie));else if(ce===h)if(ie=G.pop(),le=G.pop(),le.apply&&le.call)Object.prototype.toString.call(ie)=="[object Array]"?G.push(le.apply(void 0,ie)):G.push(le.call(void 0,ie));else throw r.b1T(1),new Error(r.v8U(le," is not a function"));else throw de="inva",de+="lid Expression",new Error(de);if(G.length>("1"^0))throw new Error("invalid Expression (parity)");return G[0]},toString:function(B){var G,ie,ne,le,fe,ue,ge,ce,de;for(G=[],fe=this.tokens.length,ge=0,ge=0;ge<fe;ge++)if(ue=this.tokens[ge],ce=ue.type_,ce===o)G.push(Q(ue.number_));else if(ce===l)ne=G.pop(),ie=G.pop(),le=ue.index_,B&&le=="^"?(de="Math",de+=".pow",de+="(",r.b1T(98),G.push(r.v8U(ie,de,")",ne,","))):(r.Z1$(98),G.push(r.v8U(ie,"(",")",ne,le)));else if(ce===u)G.push(ue.index_);else if(ce===n)ie=G.pop(),le=ue.index_,le==="-"?(r.b1T(0),G.push(r.p5W(ie,"(",le,")"))):(r.Z1$(0),G.push(r.v8U(ie,le,"(",")")));else if(ce===h)ie=G.pop(),le=G.pop(),r.b1T(0),G.push(r.v8U(ie,le,"(",")"));else throw new Error("invalid Expression");if(G.length>1)throw new Error("invalid Expression (parity)");return G[0]},variables:function(){var B,G,ie;B=this.tokens.length,G=[];for(var ne=0;ne<B;ne++)ie=this.tokens[ne],ie.type_===u&&G.indexOf(ie.index_)==-1&&G.push(ie.index_);return G}},!0);function N(){var B,G;if(Math.hypot)return Math.hypot.apply(this,arguments);r.b1T(15),B=r.v8U(0,"0"),G=arguments.length;for(var ie=0;ie<G;ie++){if(arguments[ie]===1/0||arguments[ie]===-1/0)return 1/0;B+=arguments[ie]*arguments[ie]}return Math.sqrt(B)}function j(B,G,ie){return r.r5q(),B?G:ie}function W(B,G){return r.r5q(),r.Z1$(19),r.v8U(B,"",G)}function V(B){return r.m30(),Math.atanh?Math.atanh(B):Math.log(("1"*1+B)/(1-B))/2}ae.parse=function(B){return r.r5q(),new ae().parse(B)},ae.evaluate=function(B,G){return r.m30(),ae.parse(B).evaluate(G)},ae.Expression=te,ae.values={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:q,cosh:b,tanh:_,asinh:M,acosh:oe,atanh:V,sqrt:Math.sqrt,log:Math.log,lg:O,log10:O,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:Y,fac:A,exp:Math.exp,min:Math.min,max:Math.max,hypot:N,pyt:N,pow:Math.pow,atan2:Math.atan2,if:j,E:Math.E,PI:Math.PI},r.Z1$(99),m=r.p5W("0",1),r.b1T(66),x=r.p5W(1,1);function Y(B){return Math.trunc?Math.trunc(B):B<0?Math.ceil(B):Math.floor(B)}function Q(B){return typeof B=="string"?(c.lastIndex=0,c.test(B)?"'"+B.replace(c,function(G){var ie,ne;return ie="\\",ie+="u",r.m30(),ne=f[G],typeof ne=="string"?ne:ie+("0000"+G.charCodeAt(0).toString(16)).slice(-4)})+"'":"'"+B+"'"):(r.m30(),B)}function z(B,G){var ie,ne,le;if(Object.prototype.toString.call(B)!="[object Array]")return[B,G];ie=538962152,ne=2048478777,le=2;for(var fe=1;r.m9o(fe.toString(),fe.toString().length,59689)!==ie;fe++)return B=B.slice(),B.push(G),B;if(r.D4r(le.toString(),le.toString().length,33012)!==ne)return B=B.slice(),B.push(G),B}function $(B,G){return r.m30(),r.b1T(12),r.p5W(G,B)}r.Z1$(66),g=r.v8U(2,1),r.b1T(99),d=r.p5W("3",1);function K(B){return r.m30(),-B}function q(B){return Math.sinh?Math.sinh(B):(Math.exp(B)-Math.exp(-B))/2}function X(B,G){return Number(B)+Number(G)}function Z(B,G){return r.r5q(),!!(B&&G)}function ae(){this.success=!1,this.errormsg="",this.expression="",r.Z1$(3),this.pos=r.p5W("0",1),this.tokennumber=0,this.tokenprio=0,this.tokenindex=0,this.tmpprio=0,this.ops1={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:q,cosh:b,tanh:_,asinh:M,acosh:oe,atanh:V,sqrt:Math.sqrt,log:Math.log,lg:O,log10:O,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:Y,"-":K,exp:Math.exp},this.ops2={"+":X,"-":C,"*":k,"/":$,"%":L,"^":Math.pow,",":z,"||":W,"==":H,"!=":P,">":I,"<":re,">=":y,"<=":R,and:Z,or:E},this.functions={fac:A,min:Math.min,max:Math.max,hypot:N,pyt:N,pow:Math.pow,atan2:Math.atan2,if:j},this.consts={E:Math.E,PI:Math.PI}}r.b1T(66),p=r.v8U(4,1);function te(B,G,ie,ne){this.tokens=B,this.ops1=G,r.r5q(),this.ops2=ie,this.functions=ne}function re(B,G){var ie,ne,le;ie=-1340611155,ne=-1556982868,le=2;for(var fe=1;r.m9o(fe.toString(),fe.toString().length,27697)!==ie;fe++)return r.b1T(96),r.v8U(B,G);return r.D4r(le.toString(),le.toString().length,58421)!==ne?(r.Z1$(96),r.v8U(B,G)):(r.r5q(),r.Z1$(100),r.p5W(G,B))}r.Z1$(101),v=r.v8U("1",5,64),r.b1T(66),S=r.p5W(6,1),r.Z1$(102),T=r.v8U(7,"1");function oe(B){return Math.acosh?Math.acosh(B):Math.log(B+Math.sqrt(B*B-1))}return r.b1T(66),D=r.v8U(8,1),e.extend(ae.prototype,{parse:function(B){var G,ie,ne,le,fe,ue,ge,ce,de,he,pe;for(this.errormsg="",this.success=!0,G=[],ie=[],this.tmpprio=0,r.Z1$(103),ne=r.v8U(g,d,m,S),le=0,this.expression=B,this.pos=0;this.pos<this.expression.length;)this.isOperator()?this.isSign()&&ne&S?(this.isNegativeSign()&&(this.tokenprio=2,this.tokenindex="-",le++,this.addfunc(ie,G,n)),r.b1T(103),ne=r.v8U(g,d,m,S)):this.isComment()||((ne&x)===0&&(ue="unex",ue+="pected ope",ue+="rator",this.error_parsing(this.pos,ue)),le+=2,this.addfunc(ie,G,l),r.b1T(103),ne=r.v8U(g,d,m,S)):this.isNumber()?((ne&m)===0&&(ge="unexp",ge+="e",ge+="ct",ge+="ed number",this.error_parsing(this.pos,ge)),fe=new w(o,0,0,this.tokennumber),ie.push(fe),r.Z1$(104),ne=r.p5W(x,v,p)):this.isString()?((ne&m)===0&&this.error_parsing(this.pos,"unexpected string"),fe=new w(o,0,0,this.tokennumber),ie.push(fe),r.Z1$(104),ne=r.p5W(x,v,p)):this.isLeftParenth()?((ne&d)===0&&this.error_parsing(this.pos,'unexpected "("'),ne&T&&(le+=2,this.tokenprio=-2,this.tokenindex=-1,this.addfunc(ie,G,h)),r.Z1$(105),ne=r.v8U(m,d,D,g,S)):this.isRightParenth()?(ne&D?(fe=new w(o,0,0,[]),ie.push(fe)):(ne&p)===0&&this.error_parsing(this.pos,'unexpected ")"'),r.Z1$(105),ne=r.p5W(x,p,T,v,d)):this.isComma()?((ne&v)===0&&this.error_parsing(this.pos,'unexpected ","'),this.addfunc(ie,G,l),le+=2,r.b1T(103),ne=r.p5W(g,d,m,S)):this.isConst()?((ne&m)===0&&this.error_parsing(this.pos,"unexpected constant"),ce=new w(o,0,0,this.tokennumber),ie.push(ce),r.Z1$(104),ne=r.v8U(x,v,p)):this.isOp2()?((ne&g)===0&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(ie,G,l),le+=2,ne=d):this.isOp1()?((ne&g)===0&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(ie,G,n),le++,ne=d):this.isVar()?((ne&m)===0&&this.error_parsing(this.pos,"unexpected variable"),r.Z1$(11),de=new w(u,this.tokenindex,r.p5W(0,"0"),0),ie.push(de),r.b1T(105),ne=r.v8U(x,p,T,v,d)):this.isWhite()||(this.errormsg===""?this.error_parsing(this.pos,"unknown character"):this.error_parsing(this.pos,this.errormsg));for((this.tmpprio<0||this.tmpprio>=10)&&(he="unm",he+='atched "(',he+=")",he+='"',this.error_parsing(this.pos,he));G.length>0;)pe=G.pop(),ie.push(pe);return le+1!==ie.length&&this.error_parsing(this.pos,"parity"),new te(ie,F(this.ops1),F(this.ops2),F(this.functions))},evaluate:function(B,G){return this.parse(B).evaluate(G)},error_parsing:function(B,G){var ie;throw ie="pars",ie+="e err",ie+="or [column ",this.success=!1,r.Z1$(0),this.errormsg=r.p5W("]: ",ie,B,G),this.column=B,new Error(this.errormsg)},addfunc:function(B,G,ie){var ne,le,fe,ue;for(r.r5q(),ne=new w(ie,this.tokenindex,this.tokenprio+this.tmpprio,0);G.length>0&&ne.prio_<=G[G.length-1].prio_;)B.push(G.pop());le=1445766400,fe=277020732,ue=2;for(var ge=1;r.m9o(ge.toString(),ge.toString().length,43510)!==le;ge++)G.push(ne),ue+=2;r.m9o(ue.toString(),ue.toString().length,4391)!==fe&&G.push(ne)},isNumber:function(){var B,G,ie,ne,le,fe;B=!1,r.b1T(2),G=-r.v8U("691370765",64),ie=-889375094,ne=2;for(var ue=1;r.m9o(ue.toString(),ue.toString().length,49468)!==G;ue++)le="",ne+=2;for(r.m9o(ne.toString(),ne.toString().length,22808)!==ie&&(le="");this.pos<this.expression.length&&(fe=this.expression.charCodeAt(this.pos),fe>=48&&fe<=57||fe===46);)le+=this.expression.charAt(this.pos),this.pos++,this.tokennumber=parseFloat(le),B=!0;return B},unescape:function(B,G){var ie,ne,le,fe;ie=[],ne=!1;for(var ue=0;ue<B.length;ue++)if(le=B.charAt(ue),ne){switch(le){case"'":ie.push("'");break;case"\\":ie.push("\\");break;case"/":ie.push("/");break;case"b":ie.push("\b");break;case"f":ie.push("\f");break;case"n":ie.push(`
`);break;case"r":ie.push("\r");break;case"t":ie.push("	");break;case"u":fe=parseInt(B.substring(ue+1,ue+5),16),ie.push(String.fromCharCode(fe)),ue+=4;break;default:throw r.Z1$(1),this.error_parsing(r.p5W(G,ue),r.v8U(le,"Illegal escape sequence: '\\","'",r.b1T(19)))}ne=!1}else le=="\\"?ne=!0:ie.push(le);return r.r5q(),ie.join("")},isString:function(){var B,G,ie,ne;if(B=!1,G="",r.m30(),ie=this.pos,this.pos<this.expression.length&&this.expression.charAt(this.pos)=="'")for(this.pos++;this.pos<this.expression.length;)if(ne=this.expression.charAt(this.pos),ne!="'"||G.slice(-1)=="\\")G+=this.expression.charAt(this.pos),this.pos++;else{this.pos++,this.tokennumber=this.unescape(G,ie),B=!0;break}return B},isConst:function(){var B,G;for(var ie in this.consts)if(G=ie.length,B=this.expression.substr(this.pos,G),ie===B)return this.tokennumber=this.consts[ie],this.pos+=G,!0;return!1},isOperator:function(){r.r5q();var B,G,ie;if(B=this.expression.charCodeAt(this.pos),B===43)this.tokenprio=2,this.tokenindex="+";else if(B===45)this.tokenprio=2,this.tokenindex="-";else if(B===62)this.expression.charCodeAt(this.pos+1)===61?(G=">",G+="=",this.pos++,this.tokenprio=1,this.tokenindex=G):(this.tokenprio=1,this.tokenindex=">");else if(B===60)this.expression.charCodeAt(this.pos+1)===61?(this.pos++,this.tokenprio=1,this.tokenindex="<="):(this.tokenprio=1,this.tokenindex="<");else if(B===124)if(this.expression.charCodeAt(this.pos+1)===124)this.pos++,this.tokenprio=1,this.tokenindex="||";else return!1;else if(B===61)if(this.expression.charCodeAt(this.pos+1)===61)this.pos++,this.tokenprio=1,this.tokenindex="==";else return!1;else if(B===33)if(this.expression.charCodeAt(this.pos+1)===61)this.pos++,this.tokenprio=1,this.tokenindex="!=";else return!1;else if(B===97)if(this.expression.charCodeAt(this.pos+1)==="110"-0&&this.expression.charCodeAt(this.pos+2)===100)ie="a",ie+="nd",this.pos++,this.pos++,this.tokenprio=0,this.tokenindex=ie;else return!1;else if(B===111)if(this.expression.charCodeAt(this.pos+1)===114)this.pos++,this.tokenprio=0,this.tokenindex="or";else return!1;else if(B===42||B===8729||B===8226)this.tokenprio=3,this.tokenindex="*";else if(B===47)this.tokenprio=4,this.tokenindex="/";else if(B===37)r.b1T(15),this.tokenprio=r.p5W(4,"4"),this.tokenindex="%";else if(B===94)this.tokenprio=5,this.tokenindex="^";else return!1;return this.pos++,!0},isSign:function(){var B;return B=this.expression.charCodeAt(this.pos-1),B===45||B===43},isPositiveSign:function(){var B;return B=this.expression.charCodeAt(this.pos-1),B===43},isNegativeSign:function(){var B;return r.m30(),B=this.expression.charCodeAt(this.pos-1),B===45},isLeftParenth:function(){var B;return B=this.expression.charCodeAt(this.pos),r.m30(),B===40?(this.pos++,this.tmpprio+=10,!0):!1},isRightParenth:function(){var B;return B=this.expression.charCodeAt(this.pos),B===41?(this.pos++,this.tmpprio-=10,!0):!1},isComma:function(){var B;return B=this.expression.charCodeAt(this.pos),B===44?(this.pos++,this.tokenprio=-1,this.tokenindex=",",!0):!1},isWhite:function(){var B;return r.m30(),B=this.expression.charCodeAt(this.pos),B===32||B===9||B===10||B===13?(this.pos++,!0):!1},isOp1:function(){var B,G;B="",r.m30();for(var ie=this.pos;ie<this.expression.length&&(G=this.expression.charAt(ie),!(G.toUpperCase()===G.toLowerCase()&&(ie===this.pos||G!="_"&&(G<"0"||G>"9"))));ie++)B+=G;return B.length>0&&B in this.ops1?(this.tokenindex=B,this.tokenprio=5,this.pos+=B.length,!0):!1},isOp2:function(){var B,G;B="";for(var ie=this.pos;ie<this.expression.length&&(G=this.expression.charAt(ie),!(G.toUpperCase()===G.toLowerCase()&&(ie===this.pos||G!="_"&&(G<"0"||G>"9"))));ie++)B+=G;return r.m30(),B.length>0&&B in this.ops2?(this.tokenindex=B,this.tokenprio=5,this.pos+=B.length,!0):!1},isVar:function(){var B,G;B="";for(var ie=this.pos;ie<this.expression.length&&(G=this.expression.charAt(ie),!(G.toUpperCase()===G.toLowerCase()&&(ie===this.pos||G!="_"&&(G<"0"||G>"9"))));ie++)B+=G;return r.r5q(),B.length>0?(this.tokenindex=B,this.tokenprio=4,this.pos+=B.length,!0):!1},isComment:function(){r.m30();var B;if(B=this.expression.charCodeAt(this.pos-1),B===47&&this.expression.charCodeAt(this.pos)===42){r.b1T(106);var G=r.v8U(13,9,13,11);return this.pos=this.expression.indexOf("*/",this.pos)+G,this.pos===1&&(this.pos=this.expression.length),!0}return!1}},!0),ae},e.computeEquationChart=function(r,s){var i=ee,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I;r=r.replace(/[:]/,"/"),a=0;for(var O in s)o="s",o+="y",o+="mb",o+="ol",n="\\",n+="]",l="\\",l+="[",u=new RegExp(l+O.replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\$/g,"\\$").replace(/\^/g,"\\^").replace(/[+\-*/%()]/g,"\\$&")+n,"g"),i.Z1$(1),r=r.replace(u,i.v8U(o,a)),a++;h=t().parse(r);function R(M){if(M.i++,s[M.s]){if(M.i>=s[M.s].length)return 0;x=s[M.s][M.i]}return x.DT||(x.DT=e.strToDateTime(x.Date)),M.d=x.DT,1}i.m30(),c=[],f={},m=0,g=null,d=!1,p=[];for(O in s)v={sym:O,map:s[O]},s[O]?p.unshift(v):p.push(v);for(var C=0;C<p.length;C++)S=p[C],f[S.sym]={i:0,s:S.sym},S.map?(m++,i.b1T(2),x=S.map[i.v8U("0",0)]):m==1&&(d=S.sym),x.DT||(x.DT=e.strToDateTime(x.Date)),f[S.sym].d=x.DT,g||(g=f[S.sym]);i.b1T(107),T=i.p5W(m,0),D=m==1&&r.indexOf("%")==-1;e:for(;y=F(),!!y;)if(y==1){if(d)w=s[g.s][g.i][d],w&&(w.Close||w.Close===0)&&(w=w.Close),A=h.evaluate({symbol0:s[g.s][g.i].Close,symbol1:w}),A=Number(A.toFixed(8)),b={DT:g.d,Close:A,Adj_Close:A},b[g.s]=s[g.s][g.i].Close,!isNaN(A)&&A!=1/0&&c.push(b);else{if(T)throw _="NoEx",_+="ception",P=h.evaluate({}),i.b1T(19),e.alert(i.v8U("=",r,P)),{name:_,message:""};a=0,I={Adj_Close:{},Close:{},Open:{},High:{},Low:{},Volume:{}};for(O in s){for(var k in I)i.b1T(1),I[k][i.p5W("symbol",a)]=s[O][f[O].i][k];a++}b={DT:g.d},b.Adj_Close=h.evaluate(I.Adj_Close),b.Close=h.evaluate(I.Close),b.Open=h.evaluate(I.Open),b.Volume=h.evaluate(I.Volume),isNaN(b.Volume)&&(b.Volume=0),D?(b.High=h.evaluate(I.High),b.Low=h.evaluate(I.Low)):(b.High=Math.max(b.Open,b.Close),b.Low=Math.min(b.Open,b.Close)),!isNaN(b.Close)&&b.Close!=1/0&&c.push(b),isNaN(b.High)||(b.High=Number(b.High.toFixed(8))),isNaN(b.Low)||(b.Low=Number(b.Low.toFixed("8"<<64))),isNaN(b.Open)||(b.Open=Number(b.Open.toFixed("8"|8))),isNaN(b.Close)||(b.Close=Number(b.Close.toFixed(8))),isNaN(b.Adj_Close)?b.Adj_Close=b.Close:b.Adj_Close=Number(b.Adj_Close.toFixed(8))}for(O in s)if(!R(f[O]))break e}function F(){var M,L;M=null,L=null;for(var E in f)L?f[E].d.getTime()<L.d.getTime()?M=L=f[E]:f[E].d.getTime()>L.d.getTime()&&(M=L):L=f[E];return M?R(M)?-1:0:1}return c}};pa=U=>{var e=ee,t,r;t="undef",e.m30(),t+="ine",t+="d",r=typeof _CIQ!==t?_CIQ:U.CIQ,r.ChartEngine.prototype.addEvent=function(s,i,a){if(s){var{chart:o}=this;i=i||{},i.isEvent=!0,i.processResults||(i.processResults=this.processEventResults),i.takedownResults||(i.takedownResults=this.takedownEventResults),e.r5q(),i.responseHandler=n=>l=>{var u,h,c,f,m;u=o.series[s];var{quotes:x}=l;h=1997232804,e.Z1$(2),c=e.p5W("889407800",0),f=2;for(var g=1;e.D4r(g.toString(),g.toString().length,61520)!==h;g++){if(!x||!x.length)return;f+=2}e.m9o(f.toString(),f.toString().length,74793)!==c&&~x&&~x.length||(l.error||(u.loading=!1,u.moreAvailable=l.moreAvailable,u.upToDate=l.upToDate),m=[l.beginDate||x[0].DT,l.endDate||x[x.length-1].DT],(!u.endPoints.begin||u.endPoints.begin>m[0])&&(u.endPoints.begin=m[0]),(!u.endPoints.end||u.endPoints.end<m[1])&&(u.endPoints.end=m[1]),u.parameters.processResults&&u.parameters.processResults(this,l.error,u,x))},this.addSeries(s,i,a)}},r.ChartEngine.prototype.processEventResults=function(s,i,a,o){if(!i&&r.Marker)for(var n of o)n.data&&(n.data.type=a.id,r.Marker({stx:s,label:a.id,x:n.DT,node:new r.Marker.Simple(n.data)}))},r.ChartEngine.prototype.takedownEventResults=function(s,i){e.r5q(),r.Marker&&r.Marker.removeByLabel(s,i)},r.ChartEngine.prototype.removeEvent=function(s){e.r5q(),this.removeSeries(s)},r.ChartEngine.prototype.removeAllEvents=function(){e.r5q();var{series:s}=this.chart;if(s)for(var i in s)s[i].parameters.isEvent&&this.removeEvent(i)}};ga=U=>{var e,t,r;e="En",e+="g",e+="l",e+="ish",t="e",t+="n",r=typeof _CIQ!="undefined"?_CIQ:U.CIQ,r.ChartEngine.prototype.setLocale=function(s,i){var a,o,n,l,u,h,c,f,m,x,g,d,p,v;if(a="shor",a+="t",o="num",o+="eric",n="num",n+="e",n+="ri",n+="c",l="num",l+="eric",u="2-di",u+="gi",u+="t",h="2-dig",h+="it",c="n",c+="um",c+="e",c+="ric",f="num",f+="e",f+="ric",typeof Intl!="undefined"){if(this.locale!=s)this.locale=s;else return;for(x=this.internationalizer={},x.hourMinute=new Intl.DateTimeFormat(this.locale,{hour:f,minute:"numeric",hourCycle:"h23"}),x.hourMinuteSecond=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:c,second:"numeric",hourCycle:"h23"}),x.mdhm=new Intl.DateTimeFormat(this.locale,{year:h,month:"2-digit",day:u,hour:"2-digit",minute:"2-digit"}),x.monthDay=new Intl.DateTimeFormat(this.locale,{month:"numeric",day:l}),x.yearMonthDay=new Intl.DateTimeFormat(this.locale,{year:n,month:"numeric",day:o}),x.yearMonth=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"numeric"}),x.month=new Intl.DateTimeFormat(this.locale,{month:a}),x.numbers=new Intl.NumberFormat(this.locale),x.priceFormatters=[],i||(i=8),m=0;m<i+1;m++)x.priceFormatters.push(new Intl.NumberFormat(this.locale,{maximumFractionDigits:m,minimumFractionDigits:m}));for(m=0;m<5;m++)g="perc",g+="ent",d="perce",d+="n",d+="t",p=m,v=m,m||(p="",v=2),ee.Z1$(1),x[ee.p5W(d,p)]=new Intl.NumberFormat(this.locale,{style:g,minimumFractionDigits:v,maximumFractionDigits:v});r.I18N.createMonthArrays&&r.I18N.createMonthArrays(this,x.month,this.locale)}},r.ChartEngine.prototype.translateUI=function(s){ee.r5q(),r.I18N.localized&&r.I18N.translateUI(this.preferences.language,s)},r.I18N=function(){},r.I18N.hereDoc=function(s){return ee.r5q(),s.toString().replace(/^[^/]+\/\*!?/,"").replace(/ {4,10}/g,"").replace(/\*\/[^/]+$/,"")},r.I18N.language=t,r.I18N.longMonths={zh:!0},r.I18N.reverseColorsByLocale={zh:!0,ja:!0},r.I18N.findAllTextNodes=function(s){var i,a,o,n,l,u,h,c,f,m,x,g,d,p;for(s||(s=document.body),i=s.ownerDocument.createTreeWalker(s,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode(y){return ee.m30(),y.nodeType===Node.TEXT_NODE||y.shadowRoot||y.placeholder?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}}),a=i.nextNode(),o=new RegExp("^\\s*$"),n=new RegExp(`
|	|\f`,"g"),l={},u={SCRIPT:!0,STYLE:!0,TEXTAREA:!0};a;){if(a.shadowRoot){c=r.I18N.findAllTextNodes(a.shadowRoot);for(var v in c)l[v]||(l[v]=[]),l[v]=l[v].concat(c[v])}f=a.nodeValue,f&&!o.test(f)&&(m=a.parentNode,u[m.tagName]||(x="cq-trans",x+="late-original",g="cq",g+="-tr",g+="anslat",g+="e-original",h=m.getAttribute(g),h?f=h:m.setAttribute(x,f),n.test(f)&&(f=f.replace(n,"")),l[f]||(l[f]=[]),l[f].push(a))),f=a.placeholder,f&&!o.test(f)&&(u[a.tagName]||(h=a.getAttribute("cq-translate-placeholder-original"),h?f=h:a.setAttribute("cq-translate-placeholder-original",f),l[f]||(l[f]=[]),l[f].push(a))),a.tagName&&u[a.tagName]?a=i.nextSibling():a=i.nextNode()}if(s==document.body&&(d=r.Studies?r.Studies.studyLibrary:null,d))for(var S in d){if(l[S]===null&&(l[S]=[]),p=d[S],p.inputs)for(var T in p.inputs)l[T]||(l[T]=[]);if(p.outputs)for(var D in p.outputs)l[D]||(l[D]=[])}return l},r.I18N.missingWordList=function(s){var i,a,o,n,l,u,h;s||(s=r.I18N.language),i=r.I18N.findAllTextNodes(),a={},o=r.I18N.wordLists[s],ee.r5q(),o||(o={}),n=function(d){ee.r5q(),typeof o[d]=="undefined"&&(a[d]="")};for(var c in i)n(c);if(!(r.Studies&&r.Studies.studyLibrary))return a;for(var f in r.Studies.studyLibrary){l=r.Studies.studyLibrary[f],n(l.name);for(var m in l.inputs)switch(h="[objec",h+="t String]",n(m),u=l.inputs[m],Object.prototype.toString.call(u)){case h:n(u);break;case"[object Array]":for(var x=0;x<u.length;++x)n(u[x]);break}for(var g in l.outputs)n(g)}return n("Show Zones"),n("OverBought"),n("OverSold"),n("Panel"),n("Show as Underlay"),n("Y-Axis"),n("Invert Y-Axis"),a},r.I18N.printableMissingWordList=function(s){var i;return i=JSON.stringify(r.I18N.missingWordList(s)),i=i.replace(/","/g,`",
"`),i},r.I18N.translateUI=function(s,i){var a,o,n,l,u,h,c,f;if(s=="pu"&&(s="pt"),!!r.I18N.wordLists&&(s||(s=r.I18N.language),a=r.I18N.findAllTextNodes(i),o=r.I18N.wordLists[s],!!o))for(var m in a){n=r.I18N.translateSections(m,o),l=a[m];for(var x=0;x<l.length;x++)u="cq-translate-placeholde",u+="r-origina",u+="l",h=l[x],c=h.parentNode,f=h.placeholder?h.getAttribute(u):c.getAttribute("cq-translate-original"),(n===","||!n)&&(n=f),h.placeholder?h.placeholder=n:h.data=n}},r.I18N.translate=function(s,i){var a,o;return i||(i=r.I18N.language),r.I18N.wordLists?(a=r.I18N.wordLists[i],o=null,ee.m30(),a&&(o=r.I18N.translateSections(s,a)||s),o===","?s:o):(console.log("Must include translations.js in order to use CIQ.I18N.translate()"),s)},r.I18N.translateSections=function(s,i){var a=ee,o,n,l;return o="st",o+="ri",o+="n",o+="g",n="‌",a.r5q(),typeof s==o&&s.indexOf(n)!=-1?(a.b1T(19),s=s.replace(/([(),])/g,a.v8U("$1",n,n)),l=s.split(n),l.forEach(function(u,h,c){var f,m;if(f=u.match(/^(\s*).{0,100}\S(\s*)$/),a.r5q(),m=i[u.trim()],m){if(f){a.b1T(108);var x=a.p5W(7,4,0,4);a.b1T(11);var g=a.v8U(18,20);m=f[x]+m+f[g]}c[h]=m}}),l.join("")):i[s]},r.I18N.csv=r.I18N.csv||"",r.I18N.convertCSV=function(s){var i,a,o,n,l,u,h,c,f,m,x;if(i=new RegExp("[“”]|[‘’]","g"),ee.r5q(),a=r.I18N.wordLists,s||(s=r.I18N.csv),!!s){o=s.split(`
`),n=o[0],l=n.split(",");for(var g=0;g<l.length;g++)u=l[g],a[u]||(a[u]={});for(var d=1;d<o.length;d++){h=o[d].match(/(".{0,1000}?"|[^",]{1,1000})(?=\s{0,100},|\s{0,100}$)|(,(?=,))/g)||[],c=h[0],ee.Z1$(46),f=c.charAt(ee.p5W(0,"0")),m=c.charAt(c.length-1),f==='"'&&m==='"'&&(c=c.substring(1,c.length-1)),i.test(c)&&(c=c.replace(i,'"'));for(var p=1;p<h.length;p++)x=h[p],f=x.charAt(0),m=x.charAt(x.length-1),f==='"'&&m==='"'&&(x=x.substring(1,x.length-1)),a[l[p]][c]=x}}},r.I18N.setLanguage=function(s,i,a,o,n){n||(n=(s.uiContext||{}).topNode||document.body),i=="pu"&&(i="pt"),r.I18N.convertCSV(o),r.I18N.language=i,r.I18N.translateUI(i,n),a||(a=r.I18N.translate),s.translationCallback=a},r.I18N.setLocale=function(s,i,a,o,n){var l,u,h,c;if(l="unde",l+="fined",r.xor(this.reverseColorsByLocale[i],this.reverseColorsByLocale[s.locale])&&this.reverseCandles(s),typeof Intl=="undefined"||!Intl.__addLocaleData){s.setLocale(i,n),a&&a(null);return}o=typeof o==l?"locale-data/jsonp":o,ee.Z1$(0),u=ee.v8U(i,o,"/",".js"),h=document.createElement("SCRIPT"),h.async=!0,h.src=u,c=document.getElementsByTagName("script")[0],c.parentNode.insertBefore(h,c.nextSibling),h.onload=function(){s.setLocale(i,n),a&&a(null)},h.onerror=function(){ee.r5q(),a&&a("cannot load script")}},r.I18N.createMonthArrays=function(s,i,a){ee.r5q();var o,n,l,u,h,c;s.monthAbv=[],s.monthLetters=[],o=new Date,n=!0,r.I18N.longMonths&&r.I18N.longMonths[a]&&(n=!1);for(var f=0;f<12;f++)if(o.setDate(1),o.setMonth(f),l=i.format(o),n){u="";for(var m=0;m<l.length;m++)h=l.charAt(m),c=h.charCodeAt(0),!(c<65)&&(u+=h);s.monthAbv[f]=u,s.monthLetters[f]=u[0]}else s.monthAbv[f]=l,s.monthLetters[f]=l},r.I18N.localize=function(s,i){i=this.langConversionMap[i]||i,this.setLocale(s,i),this.setLanguage(s,i),r.I18N.localized=!0},r.I18N.reverseCandles=function(s){var i,a,o;i=s.styles,a=s.cloneStyle(i.stx_candle_down),o=s.cloneStyle(i.stx_candle_up),i.stx_candle_up=a,i.stx_candle_down=o},r.I18N.wordLists={en:{}},r.I18N.languages={en:e},r.I18N.langConversionMap={},r.I18N.localized=!1};ma=U=>{var e=ee,t,r,s,i,a,o,n,l;t='<div class="stx-float-date" style="visibility: h',t+='idden;"></div>',r='<div class="stx_drag_ok"><div class="icon"></div><div class="fi',r+='eld"></div></',r+="div>",s='<div class="stx_draw_ok"><div class="icon',e.r5q(),s+='"></div><div class="field"></div></div>',i="<span class",i+='="stx-b',i+='tn stx_annotation_save" style="display: none',i+=';"></span>',a="cont",a+="extm",a+="enu",o="un",o+="de",o+="fine",o+="d",n=typeof _CIQ!==o?_CIQ:U.CIQ,n.ChartEngine.prototype.pointerEvents={down:[],up:[]},n.ChartEngine.prototype.manageTouchAndMouse=!0,n.ChartEngine.prototype.registerTouchAndMouseEvents=function(){var u,h,c,f,m,x,g,d,p,v,S,T,D,y,b;u=".stx-zoom-o",u+="ut",!this.touchAndMouseEventsRegistered&&(e.m30(),this.touchAndMouseEventsRegistered=!0,h=this.controls.chartControls||document,c=h.querySelector(".stx-zoom-in"),f=h.querySelector(u),m=this.chart.container,x=this,g=function(w,A,_){x.addDomEventListener(m,w,P,_),e.m30();function P(I){e.m30(),!x.mainSeriesRenderer.nonInteractive&&A(I)}},n.touchDevice?n.isSurface?(v="mous",v+="eup",S="mousedo",S+="wn",g("mousemove",function(w){e.m30(),x.msMouseMoveProxy(w)}),g("mouseenter",function(w){e.m30(),x.msMouseMoveProxy(w)}),g(S,function(w){e.m30(),x.msMouseDownProxy(w)}),g(v,function(w){e.m30(),x.msMouseUpProxy(w)}),g("pointerdown",function(w){return x.startProxy(w)}),g("pointermove",function(w){e.r5q(),x.moveProxy(w)}),g("pointerenter",function(w){return x.moveProxy(w)}),g("pointerup",function(w){return e.r5q(),x.endProxy(w)})):(T="tou",T+="chstart",n.isMobile||(D="m",D+="ousemove",g(D,function(w){e.m30(),x.iosMouseMoveProxy(w)}),g("mouseenter",function(w){e.m30(),x.iosMouseMoveProxy(w)}),g("mousedown",function(w){x.iosMouseDownProxy(w)}),g("mouseup",function(w){e.r5q(),x.iosMouseUpProxy(w)})),g(T,function(w){e.r5q(),x.touchstart(w)},{passive:!1}),g("touchmove",function(w){e.r5q(),x.touchmove(w)},{passive:!1}),g("touchend",function(w){x.touchend(w)}),g("pointerdown",function(w){x.touchPointerType=w.pointerType}),c&&(y="onMou",y+="seOver",c.removeAttribute(y),c.removeAttribute("onMouseOut")),f&&(f.removeAttribute("onMouseOver"),f.removeAttribute("onMouseOut"))):(d="mo",d+="use",d+="u",d+="p",p="mousem",p+="o",p+="v",p+="e",g(p,function(w){e.r5q(),x.mousemove(w)}),g("mouseenter",function(w){x.mousemove(w)}),g("mousedown",function(w){x.mousedown(w)}),g(d,function(w){x.mouseup(w)})),b=n.wheelEvent,this.captureMouseWheelEvents&&g(b,function(w){x.mouseWheel(w)},{passive:!1}))},n.ChartEngine.prototype.mousedown=function(u){var h,c,f,m,x,g,d,p,v,S;if(h="mo",h+="u",h+="sed",h+="own",c="dow",c+="n",f="mou",f+="se",f+="down",!this.runPrepend(f,arguments)&&(this.grabOverrideClick=!1,!!this.displayInitialized&&this.displayCrosshairs&&!this.repositioningDrawing&&!this.editingAnnotation&&!(u.button&&u.button>=2))){if(m=this.container.getBoundingClientRect(),this.top=m.top,this.left=m.left,this.right=this.left+this.width,this.bottom=this.top+this.height,u.clientX>=this.left&&u.clientX<=this.right&&u.clientY>=this.top&&u.clientY<=this.bottom)this.insideChart=!0;else{this.insideChart=!1;return}if(this.currentPanel){this.manageTouchAndMouse&&u&&u.preventDefault&&this.captureTouchEvents&&u.preventDefault(),this.mouseTimer=Date.now(),this.longHoldTookEffect=!1,this.hasDragged=!1,this.userPointerDown=!0,this.openDialog===""&&this.registerPointerEvent({x:u.clientX,y:u.clientY,time:this.mouseTimer},c),x=this.currentPanel.chart;for(var T=0;T<this.drawingObjects.length;T++)if(g=this.drawingObjects[T],g.highlighted&&!g.permanent){if(this.cloneDrawing){d=n.ChartEngine.drawingTools[g.name],p=new d,p.reconstruct(this,g.serialize()),this.drawingObjects.push(p),this.activateRepositioning(p),p.repositioner=g.repositioner;return}if(v=this.currentVectorParameters.vectorType,!n.Drawing||!v||!n.Drawing[v]||!new n.Drawing[v]().dragToDraw){this.activateRepositioning(g);return}}this.mainSeriesRenderer;var{baselineHelper:D}=this;if(!(D.size&&this.findBaselineHandle(u,!0))){var{anchorHandles:y}=this.controls;if(y)for(var b in y){var{handle:w,sd:A,highlighted:_}=y[b];if(_){S="stx",S+="-gr",S+="a",S+="b",this.repositioningAnchorSelector={sd:A},w.classList.add(S);return}}this.drawingClick&&(this.currentPanel.subholder===u.target&&this.drawingClick(this.currentPanel,this.cx,this.cy),this.activeDrawing&&this.activeDrawing.dragToDraw)||(this.grabbingScreen=!0,x.spanLock=!1,this.yToleranceBroken=!1,this.grabStartX=u.clientX,this.grabStartY=u.clientY,this.grabStartMicropixels=this.micropixels,this.grabStartScrollX=x.scroll,this.grabStartScrollY=this.currentPanel.yAxis.scroll,this.grabStartCandleWidth=this.layout.candleWidth,this.grabStartYAxis=this.whichYAxis(this.currentPanel),this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0,this.grabStartPanel=this.currentPanel,setTimeout(function(P){return e.m30(),function(){P.grabbingHand()}}(this),100),this.swipeStart&&this.swipeStart(x),(this.longHoldTime||this.longHoldTime===0)&&this.startLongHoldTimer(),this.runAppend(h,arguments))}}}},n.ChartEngine.prototype.mousemove=function(u){var h,c,f,m;if(h=u,n.ChartEngine.crosshairX=h.clientX,n.ChartEngine.crosshairY=h.clientY,h.type.toLowerCase().indexOf("enter")>-1){this.positionCrosshairsAtPointer();return}if(!this.runPrepend("mousemove",arguments)&&this.displayInitialized){c=594335281,f=2075875423,m=2;for(var x=1;e.m9o(x.toString(),x.toString().length,56173)!==c;x++){if(this.openDialog!="")return;m+=2}e.D4r(m.toString(),m.toString().length,24642)!==f&&this.openDialog!==""||(this.baselineHelper.size&&this.findBaselineHandle(h),this.grabbingScreen&&h.buttons!==("1"|0)&&(this.cancelLongHold=!0,this.displayDragOK(),this.grabbingScreen=!1,this.findHighlights(!1,!0)),this.mousemoveinner(h.clientX,h.clientY),this.runAppend("mousemove",arguments))}},n.ChartEngine.prototype.mouseup=function(u){var h,c,f,m,x,g,d,p,v,S;if(h="st",h+="x-d",h+="rag-c",h+="hart",c="mo",c+="u",c+="seu",c+="p",!this.runPrepend(c,arguments)){if(this.swipe.end=!0,this.cancelLongHold=!0,this.repositioningDrawing){if(!this.currentVectorParameters.vectorType||Date.now()-this.mouseTimer>250){this.changeOccurred("vector"),n.clearCanvas(this.chart.tempCanvas,this),this.activateRepositioning(null),this.adjustDrawings(),this.draw();return}this.activateRepositioning(null)}if(this.repositioningBaseline){var{handle:T}=this.repositioningBaseline,{mainSeriesRenderer:D={params:{}}}=this;this.repositioningBaseline=null,T.classList.remove("stx-grab"),D.params.baseline&&D.params.type!="mountain",this.draw();return}if(this.repositioningAnchorSelector){var{sd:y}=this.repositioningAnchorSelector;n.Studies.repositionAnchor(this,y),this.controls.anchorHandles[y.uniqueId]&&(this.repositioningAnchorSelector=null,this.controls.anchorHandles[y.uniqueId].highlighted=!1,n.Studies.displayAnchorHandleAndLine(this,y,this.chart.dataSegment),Object.values(this.controls.anchorHandles||{}).forEach(({handle:b})=>{var w;return w="stx-g",w+="rab",b.classList.remove(w)}),this.findHighlights());return}if(f=this.userPointerDown,this.userPointerDown=!1,!!this.displayInitialized){if(m=this.backOutY(u.clientY),x=this.backOutX(u.clientX),g=u.button&&u.button>=("2"|0),d=this.openDialog!=="",!d&&!g&&this.registerPointerEvent({x:u.clientX,y:u.clientY,time:Date.now()},"up"),this.grabbingScreen=!1,this.highlightedDraggable&&(this.dragPlotOrAxis&&this.dragPlotOrAxis(x,m),this.currentPanel=this.whichPanel(m)),p=this.currentPanel,this.grabStartYAxis=null,this.displayDragOK(),this.openDialog!==""){this.insideChart&&this.container.classList.remove("stx-drag-chart");return}if(this.grabOverrideClick){v="stx-d",v+="rag-",v+="ch",v+="art",!this.overXAxis&&!this.overYAxis&&this.swipeRelease&&this.swipeRelease(),this.container.classList.remove(v),this.grabOverrideClick=!1,this.doDisplayCrosshairs(),this.updateChartAccessories();return}if(this.insideChart&&this.container.classList.remove(h),n.ChartEngine.resizingPanel){this.releaseHandle();return}if(g||u.ctrlKey)return this.anyHighlighted&&this.bypassRightClick!==!0?(this.rightClickHighlighted(),u.preventDefault&&this.captureTouchEvents&&u.preventDefault(),u.stopPropagation(),!1):(this.dispatch("rightClick",{stx:this,panel:p,x,y:m}),!0);u.clientX<this.left||u.clientX>this.right||u.clientY<this.top||u.clientY>this.bottom||(S=p&&p.subholder===u.target,this.isDoubleClick()&&(S||this.overYAxis||this.overXAxis)?(this.doubleClick(u.button,x,m),this.resetClickState()):(f&&S&&((!this.longHoldTookEffect||this.activeDrawing)&&this.drawingClick(p,x,m),!this.longHoldTookEffect&&this.activeMarker&&this.activeMarker.click({cx:x,cy:m,panel:p})),!this.longHoldTookEffect&&!this.activeDrawing&&this.dispatch("tap",{stx:this,panel:p,x,y:m})),this.runAppend("mouseup",arguments))}}},n.ChartEngine.prototype.registerPointerEvent=function(u,h){e.r5q(),this.pointerEvents[h].length>1&&this.pointerEvents[h].pop(),this.pointerEvents[h].unshift(u)},n.ChartEngine.prototype.resetPointerEvent=function(u){e.r5q(),this.pointerEvents[u].splice(0)},n.ChartEngine.prototype.resetClickState=function(){this.resetPointerEvent("up"),this.resetPointerEvent("down"),e.m30(),this.cancelTouchSingleClick=!0},n.ChartEngine.prototype.isDoubleClick=function(u){var h,c;h=u?35:20,e.m30();var{up:[f,m],down:[x,g]}=this.pointerEvents;return c=m&&g&&x.time-m.time<this.doubleClickTime&&n.withinRadius(g,x,h)&&n.withinRadius(m,x,h)&&m.time-g.time<this.longHoldTime&&f.time-x.time<this.longHoldTime,this.cancelTouchSingleClick=c,c},n.ChartEngine.prototype.doubleClick=function(u,h,c){var f,m,x;if(f="doubl",f+="eCli",f+="ck",!this.runPrepend("doubleClick",arguments)&&!this.editingAnnotation){if(n.ChartEngine.drawingLine)return m="contin",m+="uous",this.currentVectorParameters.vectorType==m&&n.ChartEngine.completeDrawing(this),this.undo();this.activeDrawing||(x=this.activeMarker&&this.activeMarker.doubleClick({cx:h,cy:c,panel:this.currentPanel}),x||this.dispatch(f,{stx:this,button:u,x:h,y:c}),this.runAppend("doubleClick",arguments))}},n.ChartEngine.prototype.handleMouseOut=function(u){var h,c,f,m;if(u=u||window.event,!u.relatedTarget||!n.withinElement(this.chart.container,u.pageX,u.pageY)){if(h="handl",h+="eMouseOu",h+="t",this.runPrepend(h,arguments))return;this.grabbingScreen||this.findHighlights(null,!0),this.undisplayCrosshairs(),this.touches=[],this.touching=!1,this.activeDrawing&&this.userPointerDown&&(this.userPointerDown=!1,this.drawingLine=!1,c=this.backOutY(u.pageY),f=this.backOutX(u.pageX),this.drawingClick(this.currentPanel,f,c));var{sd:x,tapToAdd:g}=this.repositioningAnchorSelector||{};x&&!g&&(this.repositioningAnchorSelector=null,this.controls.anchorHandles[x.uniqueId].highlighted=!1,n.Studies.displayAnchorHandleAndLine(this,x,this.chart.dataSegment),this.draw()),this.insideChart=!1,this.overYAxis=!1,this.overXAxis=!1,this.displaySticky(),m=this.controls.dragOk,m&&(m.style.display="none"),this.runAppend("handleMouseOut",arguments)}},n.ChartEngine.prototype.startLongHoldTimer=function(u){var h,c;h=this,this.cancelLongHold=!1,this.longHoldTimeout&&clearTimeout(this.longHoldTimeout),c=function(){h.cancelLongHold||(h.longHoldTookEffect=!0,u&&u(),h.dispatch("longhold",{stx:h,panel:h.currentPanel,x:h.cx,y:h.cy}),h.displayDragOK())},this.longHoldTime?this.longHoldTimeout=setTimeout(c,this.longHoldTime):this.longHoldTime===0&&c()},n.ChartEngine.prototype.grabHandle=function(u){this.runPrepend("grabHandle",arguments)||u&&(e.r5q(),n.ChartEngine.crosshairY=this.resolveY(u.top),n.ChartEngine.resizingPanel=u,u.handle.classList.add("stx-grab"),this.runAppend("grabHandle",arguments))},n.ChartEngine.prototype.grabbingHand=function(){this.allowScroll&&this.grabbingScreen&&(n.touchDevice||this.container.classList.add("stx-drag-chart"))},n.ChartEngine.prototype.releaseHandle=function(){if(this.runPrepend("releaseHandle",arguments))return!0;n.clearCanvas(this.chart.tempCanvas,this),this.resizePanels(),n.ChartEngine.resizingPanel&&n.ChartEngine.resizingPanel.handle.classList.remove("stx-grab"),n.ChartEngine.resizingPanel=null,this.runAppend("releaseHandle",arguments)},n.ChartEngine.prototype.findHighlights=function(u,h){var c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie,ne,le,fe,ue,ge,ce,de;c=this.preferences[u?"highlightsTapRadius":"highlightsRadius"],this.highlightViaTap=u;var{cx:he,cy:pe}=this;if(this.anyHighlighted=!1,!this.currentPanel)return;var{chart:me}=this.currentPanel;if(this.activeDrawing&&(h=!0),f=!1,m=null,x=h?{}:{forceShow:!0,type:"drawing"},g={x0:this.tickFromPixel(he-c,me),x1:this.tickFromPixel(he+c,me),y0:this.valueFromPixel(pe-c,this.currentPanel),y1:this.valueFromPixel(pe+c,this.currentPanel),cx0:he-c,cx1:he+c,cy0:pe-c,cy1:pe+c,r:c},this.repositioningDrawing&&g.x1-g.x0<("2"|0)?(g.x1++,g.x0--):g.x1==g.x0&&(g.x0-=.5,g.x1+=.5),!me.hideDrawings)for(var xe=this.drawingObjects.length-1;xe>=0;xe--)d=this.drawingObjects[xe],this.panels[d.panelName]&&(this.repositioningDrawing&&this.repositioningDrawing!=d||(p=d.highlighted,v=d.panelName==this.currentPanel.name||d.spanPanels,v&&(d.repositioner=d.intersected(this.crosshairTick,this.crosshairValue,g)),v=v&&d.repositioner&&!this.overXAxis&&!this.overYAxis,!h&&v?(p?(m=d,this.anyHighlighted&&this.singleDrawingHighlight&&(d.highlighted=!1),d.highlighted&&d.highlighted!=p&&(f=!0)):p!=d.highlight(!0)&&(m||(m=d),this.anyHighlighted&&this.singleDrawingHighlight&&(d.highlighted=!1),f=!0),this.anyHighlighted=!0):p!=d.highlight(!1)&&(f=!0),d.highlighted&&(x.noDelete=d.permanent,x.noEdit=!this.callbackListeners.drawingEdit.length,x.noText=x.noEdit||!d.edit,x.message=this.translateIf(n.capitalize(d.name)))));for(S in this.layout.studies)T=this.layout.studies[S],T.prev=T.highlight,T.highlight=this.yaxisMatches(T,this.grabStartYAxis);for(S in me.seriesRenderers){w=me.seriesRenderers[S],w.params.highlight=this.yaxisMatches(w,this.grabStartYAxis);for(var ye=0;ye<w.seriesParams.length;ye++)b=w.seriesParams[ye],b.prev=b.highlight,b.highlight=w.params.highlight}var{anchorHandles:be}=this.controls;if(be)for(var _e in be)be[_e].highlighted=!1;if(A=this.markerHelper&&this.markerHelper.visibleCanvasMarkers,A)for(D="0"^0;D<A.length;D++)y=A[D],this.activeMarker=null,y.prev=A[D].highlight,y.highlight=!1;if(e.r5q(),this.markerHelper&&(this.markerHelper.highlighted=[]),this.highlightedDataSetField=null,this.highlightedDraggable=null,!h&&!this.anyHighlighted&&be){for(var De in be)if(_=be[De],n.getFromNS(_,"sd.signalData.reveal")!==!1){if(!this.anyHighlighted){var{sd:ke,currentPixel:Ae}=_;e.Z1$(11),P=e.v8U(c,Ae),e.b1T(1),I=e.v8U(Ae,c),O=this.panels[ke.panel];var{top:we,bottom:Ee}=O.yAxis;if(R=n.boxIntersects(P,we,I,Ee,he,pe,he,pe),R){this.anyHighlighted=!0,_.highlighted=!0,f=!0,x={message:ke.name,type:"anchorHandle",noDelete:!0};continue}}_.highlighted===!0&&(_.highlighted=!1,f=!0)}}if(!h&&!this.anyHighlighted&&me.dataSegment&&(C=this.barFromPixel(he),C>=0&&C<me.dataSegment.length)){if(F=n.convertBoxToPixels(this,this.currentPanel.name,g),M=Number.MAX_VALUE,A){for(D="0"^0;D<A.length;D++)if(y=A[D],L=y.params.box,!!L&&y.params.panelName===this.currentPanel.name){if(n.boxIntersects(F.x0,F.y0,F.x1,F.y1,L.x0,L.y0,L.x1,L.y1)){e.Z1$(109);var Se=e.v8U(2,20,16,8);e.Z1$(1);var Ce=e.p5W(79,17);E=Math.pow(pe-(L.y1+L.y0)/Se,"2"<<Ce)+Math.pow(he-(L.x1+L.x0)/2,2),E<=M&&(M=E,this.activeMarker=y),y.highlight=!0,this.markerHelper.highlighted.push(y)}y.prev!=y.highlight&&(f=!0)}}M=Number.MAX_VALUE,H=null;for(S in this.overlays){if(A&&this.markerHelper.highlighted.length)break;if(T=this.overlays[S],!(T.signalData&&!T.signalData.reveal)&&!T.disabled&&T.panel==this.currentPanel.name&&T.study.isHighlighted!==!1){if(typeof T.study.isHighlighted=="function"){if(T.study.isHighlighted(this,he,pe)){H={o:T,out:Me},M=0;break}continue}if(N=me.dataSegment[C],!!N)for(var Me in T.outputMap)j=ze.call(this,C,g,Me,T.getYAxis(this)),j!==!1&&j<=M&&(H={o:T,out:Me},M=j)}}for(S in me.seriesRenderers){if(this.highlightedDataSetField)break;if(W=me.seriesRenderers[S],V=W.params.panel,W!=this.mainSeriesRenderer&&!(!W.params.highlightable&&!this.currentVectorParameters.vectorType)&&V==this.currentPanel.name)for(D="0">>64;D<W.seriesParams.length;D++)if(Y="Cl",Y+="o",Y+="se",b=W.seriesParams[D],Q=b.field,!Q&&!W.highLowBars&&(Q=this.defaultPlotField||Y),b.symbol&&b.subField&&(Q+="-->"+b.subField),z=W.params.yAxis,!z&&V&&(z=this.panels[V].yAxis),W.params.step&&C>0){if(!W.caches[b.id]||(k=W.caches[b.id][C],!k&&k!==0))continue;if(e.Z1$(11),$=W.caches[b.id][e.v8U(1,C)],($||$===0)&&pe+c>=k&&pe-c<=$||pe-c<=k&&pe+c>=$){H={s:b,fullField:Q};break}}else K=ze.call(this,C,g,Q,z,W,b.id),K!==!1&&K<=M&&(H={s:b,fullField:Q},M=K)}if(H){q=-1865462710,e.b1T(66),X=e.p5W(0,"211158228"),Z=2;for(var He=1;e.D4r(He.toString(),He.toString().length,44714)!==q;He++)T=H.o,Z+=2;e.m9o(Z.toString(),Z.toString().length,72633)!==X&&(T=H.o),T?(T.name!=T.panel&&(this.anyHighlighted=!0),T.highlight=H.out,this.highlightedDataSetField=H.out):(this.anyHighlighted=!0,H.s.highlight=!0,this.highlightedDataSetField=H.fullField)}}te=this.preferences.dragging;for(S in this.overlays)T=this.overlays[S],T.highlight&&(this.anyHighlighted=!0,oe=T.inputs.display||T.name,oe=this.translateIf(oe),x={message:oe,noDelete:T.permanent,noEdit:!T.editFunction,noText:!T.textFunction,noDrag:T.undraggable&&T.undraggable(this),type:"study"},m=null,(te===!0||te&&te.study)&&(T.undraggable(this)||(ae=T)),re=T.getYAxis(this)),T.prev!=T.highlight&&(f=!0);for(S in me.seriesRenderers){B=me.seriesRenderers[S],G=B.params.yAxis?B.params.yAxis.textStyle:null;for(var Re=0;Re<B.seriesParams.length;Re++)b=B.seriesParams[Re],B.params.highlightable&&b.highlight&&(ie="a",ie+="uto",this.anyHighlighted=!0,ne=b.color||G,ne==ie&&(ne=this.defaultColor),b.opacity&&b.opacity!==1&&(ne=n.hexToRgba(n.colorToHex(ne),parseFloat(b.opacity))),x={message:b.display||b.symbol,backgroundColor:ne,noDelete:b.permanent,noDrag:B.undraggable&&B.undraggable(this),type:"series"},m=null,(te===!0||te&&te.series)&&(ae=B,B.params.highlight=!0),re=B.getYAxis(this)),b.prev!=b.highlight&&(f=!0)}for(S in this.plugins)le=this.plugins[S],fe={},le.findHighlights&&(fe=le.findHighlights(this,u,h),fe.somethingChanged&&(f=!0),fe.anyHighlighted&&(this.anyHighlighted=!0,x=fe.stickyArgs||{}));ue=this.whichPanel(pe),ge=this.whichYAxis(ue,he),re||(re=ge),this.currentBaseline&&(re=this.currentBaseline.getYAxis(this)),re&&(re.highlight||(f=!0),re.highlight=!0),ce=[];for(var Ne in this.panels)ce=ce.concat(this.panels[Ne].yaxisLHS).concat(this.panels[Ne].yaxisRHS);for(S=0;S<ce.length;S++)re==ce[S]&&!h||(ce[S].highlight&&(f=!0),ce[S].highlight=!1);function ze(tt,je,Ve,Oe,Ie,Te){var Le,Fe,We,Ye,$e,Be,Je,Qe,Ge,Ze,Ue,Pe,qe,Xe,at,et,ht,st,Ke,ft,nt,ct,ut;if(Le=this,Fe=Le.chart,We=Le.currentPanel,Oe||(Oe=We.yAxis),Ye=Ve.split("-->"),$e=Ye[0],e.Z1$(46),Be=Ye[e.p5W(0,"1")],Be||(Be="Close"),e.r5q(),Je=Fe.dataSegment[C],qe=null,Xe=null,at=null,et=new Array(3),ht=Ie&&Ie.caches[Te],Je&&ht){for(Ze=ht[C],qe=Je.tick,(Ze||Ze===0)&&(e.b1T(2),et[e.v8U("0",64)]=e.v8U(0,"1",e.b1T(66))),st=C-1;st>=0;st--)if(ht[st]||ht[st]===0){Ue=ht[st],e.Z1$(110),Xe=e.v8U(qe,st,C),et[1]=1;break}for(st=C+("1"<<0);st<Fe.dataSegment.length;st++)if(ht[st]||ht[st]===0){Pe=ht[st],e.b1T(110),at=e.v8U(qe,st,C),et[2]=1;break}}if(Xe===null&&(Qe=Le.getPreviousBar.call(Le,Fe,Ve,C),Qe&&(Xe=Qe.tick,Ue=xt(Qe))),at===null&&(Ge=Le.getNextBar.call(Le,Fe,Ve,C),Ge&&(at=Ge.tick,Pe=xt(Ge))),Xe===null&&at===null)return!1;ht||(Ze=xt(Je),Ue=xt(Qe),Pe=xt(Ge),qe=Je.tick,Qe&&(Xe=Qe.tick),Ge&&(at=Ge.tick)),!Ue&&Ue!=="0">>0&&(Ue=0,e.Z1$(15),Xe=e.v8U(0,"0"));function xt(lt){var rt,Mt,pt,yt,At,gt,vt;if(!lt)return null;if(rt=lt[$e],rt&&(rt[Be]||rt[Be]===("0"|0))){Mt=1729765604,pt=921608534,yt=2;for(var dt=1;e.D4r(dt.toString(),dt.toString().length,72037)!==Mt;dt++)rt=rt[Be],yt+=2;e.m9o(yt.toString(),yt.toString().length,52881)!==pt&&(rt=rt[Be])}if(Ie&&Ie.getBasis&&(rt+=Ie.getBasis(lt,$e,Be)),!Fe.transformFunc||Oe!=Fe.yAxis)return rt;if(lt.transform&&$e in lt.transform){At=-638204390,gt=-548269486,vt=2;for(var ot=1;e.m9o(ot.toString(),ot.toString().length,73739)!==At;ot++)rt=lt.transform[$e],vt+=2;return e.D4r(vt.toString(),vt.toString().length,29840)!==gt&&(rt=lt.transform[$e]),rt&&(rt[Be]||rt[Be]===("0"|0))&&(rt=rt[Be]),rt}return Fe.transformFunc(Le,Fe,rt)}if(!Pe&&Pe!==0)if(Ze||Ze===0?(Pe=Ze,et[2]=et[0]):(Pe=Ue,et[2]=et[1]),Te&&Fe.series[Te].parameters.extendToEndOfDataSet){e.b1T(111);var It=e.p5W(18,6,12,218,9);at=Fe.dataSet.length-It}else at=Xe;return!Ze&&Ze!==0&&(Ze=Pe,qe=at,et[0]=et[2],Ue===0&&Xe===0&&(Ue=Ze,Xe=qe,et[1]=et[0])),Ke=Le.pixelFromTransformedValue.bind(Le),ft=Le.valueFromPixel.bind(Le),Ze=ft(et[0]?Ze:Ke(Ze,We,Oe),We),Ue=ft(et[1]?Ue:Ke(Ue,We,Oe),We),Pe=ft(et[2]?Pe:Ke(Pe,We,Oe),We),nt=n.convertBoxToPixels(Le,We.name,je),ct=n.convertBoxToPixels(Le,We.name,{x0:Xe,y0:Ue,x1:qe,y1:Ze}),ut=n.convertBoxToPixels(Le,We.name,{x0:qe,y0:Ze,x1:at,y1:Pe}),n.boxIntersects(nt.x0,nt.y0,nt.x1,nt.y1,ct.x0,ct.y0,ct.x1,ct.y1,"segment")||n.boxIntersects(nt.x0,nt.y0,nt.x1,nt.y1,ut.x0,ut.y0,ut.x1,ut.y1,"segment")?Math.min(Math.pow(pe-(ct.y1+ct.y0)/2,"2"^0)+Math.pow(he-(ct.x1+ct.x0)/2,2),Math.pow(pe-(ut.y1+ut.y0)/2,2)+Math.pow(he-(ut.x1+ut.x0)/2,2)):!1}if((te===!0||te&&te.yaxis)&&ge&&!ge.noDraw&&(this.anyHighlighted=!0,ae=ge,x={}),f&&(this.draw(),x.panel=ue,this.anyHighlighted&&!this.grabStartYAxis?x.panel=ue:x={},this.displaySticky(x),this.clearMeasure(),m&&m.measure()),this.anyHighlighted?this.controls.mSticky&&(x&&x.positioner?x.positioner.call(this,this.controls.mSticky):this.positionSticky(this.controls.mSticky)):this.setMeasure(),ae&&ue&&!ue.noDrag){if(this.longHoldTookEffect&&!this.cancelLongHold){if(ae.params){ae.params.dependentOf&&(ae=me.seriesRenderers[ae.params.dependentOf],ae.params.highlight=!0);for(S in me.seriesRenderers)me.seriesRenderers[S].params.dependentOf==ae.params.name&&(me.seriesRenderers[S].params.highlight=!0)}if(this.highlightedDraggable=ae,ae.getDependents){de=ae.getDependents(this,!0);for(S in this.overlays)T=this.overlays[S],de.indexOf(T)>-1&&(T.highlight=!0)}}this.container.classList.add("stx-draggable")}else this.container.classList.remove("stx-draggable");this.highlightedDataSetField=this.adjustHighlightedDataSetField(this.highlightedDataSetField),this.displayDrawOK()},n.ChartEngine.prototype.rightClickHighlighted=function(){var u;u="rightClickHig",u+="hlighted",e.m30(),!this.runPrepend("rightClickHighlighted",arguments)&&(this.deleteHighlighted(!0),this.runAppend(u,arguments))},n.ChartEngine.prototype.deleteHighlighted=function(u,h,c){var f,m,x,g,d,p,v,S,T,D,y,b,w,A;if(f="delete",f+="H",f+="ighlight",f+="ed",!this.runPrepend("deleteHighlighted",arguments)){if(this.cancelTouchSingleClick=!0,n.clearCanvas(this.chart.tempCanvas,this),m=this.bypassRightClick===!1,m||!this.bypassRightClick.drawing)for(var _=this.drawingObjects.length-1;_>=0;_--)x=this.drawingObjects[_],x.highlighted&&(u?this.rightClickDrawing(x,h,c):x.permanent||(g=x.abort(),g||(d=this.exportDrawings(),e.b1T(3),this.drawingObjects.splice(_,e.p5W("1",1)),this.undoStamp(d,this.exportDrawings())),this.changeOccurred("vector")));if(m||!this.bypassRightClick.study)for(var P in this.overlays)p=this.overlays[P],(p.overlay||p.underlay)&&p.highlight&&!p.permanent&&(u||h?this.rightClickOverlay(P,h):this.removeOverlay(P));if(v=this.currentPanel&&this.currentPanel.chart,v&&(m||!this.bypassRightClick.series)){for(var I in v.seriesRenderers)if(S=v.seriesRenderers[I],S.params.highlightable){T=this.panels[S.params.panel],D=T&&T.yAxis.name;for(var O=S.seriesParams.length-1;O>=0;O--)y=S.seriesParams[O],(S.params.highlight||y.highlight)&&!y.permanent&&(S.removeSeries(y.id),S.seriesParams.length<"1"*1&&(this.removeSeriesRenderer(S),S.params.name==D?this.electNewPanelOwner(S.params.panel):(this.checkForEmptyPanel(S.params.panel),b=this.getYAxisByName(T,S.params.name),b&&(b.name=b.studies[0]||b.renderers[1]))))}}this.draw(),this.resizeChart(),this.clearMeasure(),w=this.controls.mSticky,e.m30(),w&&(A="no",A+="n",A+="e",w.style.display=A,w.children[0].innerHTML=""),this.runAppend(f,arguments)}},n.ChartEngine.prototype.displayDragOK=function(u){var h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_;function P(O){var R,C,k,F;R="t",R+="e",R+="xt",C=h.translateIf(O.querySelector(".field").getAttribute(R)),k=h.whichYAxis(h.whichPanel(h.cy),h.cx,h.cy),e.m30(),k&&k.dropzone=="all"&&(F="-",F+="->",C+=F+h.translateIf(k.name)),O.querySelector(".field").innerHTML=C}if(h=this,c=this.controls.dragOk,c){if(u||(!this.tapForHighlighting||!this.touching||this.anyHighlighted)&&this.findHighlights(this.highlightViaTap),f=this.highlightedDraggable,m=f&&f.undraggable&&f.undraggable(this),x=this.cx,g=this.cy,d=f&&!m&&this.longHoldTookEffect,u)p="inl",p+="i",p+="ne-blo",p+="ck",d&&this.insideChart&&(c.style.display=p);else{if(d&&!this.cancelLongHold)v=f.inputs&&f.inputs.display||f.params&&(f.params.display||f.params.name)||f.name,c.querySelector(".field").setAttribute("text",v),P.call(this,c),c.style.display="inline-block",this.draw(),this.displaySticky(),this.grabStartYAxis?this.container.classList.replace("stx-drag-chart","stx-drag-axis"):this.container.classList.replace("stx-drag-chart","stx-drag-series");else{S="s",S+="t",S+="x-drag-axis",c.style.display="none",this.draw(),this.container.classList.remove("stx-drag-series"),this.container.classList.remove(S);for(var I in this.panels){for(T="bo",T+="ttom",D="ri",D+="ght",y="a",y+="l",y+="l",b=this.panels[I].subholder.classList,b.remove("dropzone"),b.remove(y),b.remove("left"),b.remove(D),b.remove("top"),b.remove(T),w=0;w<this.panels[I].yaxisLHS.length;w++)this.panels[I].yaxisLHS[w].dropzone=null;for(w=0;w<this.panels[I].yaxisRHS.length;w++)this.panels[I].yaxisRHS[w].dropzone=null}}this.draw()}f&&(A=g+c.offsetHeight,_=Math.max(0,x-c.offsetWidth),e.Z1$(1),c.style.top=e.v8U(A,"px"),e.Z1$(1),c.style.left=e.v8U(_,"px"),P.call(this,c))}},n.ChartEngine.prototype.displayDrawOK=function(){e.r5q();var u,h,c,f;u=this.controls.drawOk,u&&n.Drawing&&(h=n.Drawing[this.currentVectorParameters.vectorType],h&&(h=new h),this.highlightedDataSetField&&h&&h.isAllowed(this,this.highlightedDataSetField)?(u.style.display="inline-block",c=this.cy+u.offsetHeight,f=this.cx-u.offsetWidth,e.Z1$(1),u.style.top=e.v8U(c,"px"),e.Z1$(1),u.style.left=e.p5W(f,"px"),u.querySelector(".field").innerHTML=this.translateIf(this.highlightedDataSetField)):u.style.display="none")},n.ChartEngine.prototype.mouseWheel=function(u){var h,c,f,m,x,g,d,p;if(h="mouse",h+="Wheel",!this.runPrepend(h,arguments)&&(u.preventDefault&&u.preventDefault(),this.openDialog===""&&(c=u.deltaX,f=u.deltaY,Math.abs(f)>Math.abs(c)?c=0:f=0,this.lastMouseWheelEvent=Date.now(),!(Math.abs(c)===0&&Math.abs(f)===0)))){if(u.shiftKey&&f&&(c=f,f=0),this.allowSideswipe&&c!==0){this.lastMove="horizontal",x=c,this.grabbingScreen=!0,this.currentPanel||(this.currentPanel=this.chart.panel),this.grabStartX=n.ChartEngine.crosshairX,this.grabStartY=n.ChartEngine.crosshairY,this.grabStartScrollX=this.chart.scroll,this.grabStartScrollY=this.currentPanel.yAxis.scroll,this.grabStartMicropixels=this.micropixels,this.grabStartPanel=this.currentPanel,this.mouseWheelAcceleration&&(m=Math.max(Math.pow(Math.abs(x),.3),1),x*=m),this.mousemoveinner(n.ChartEngine.crosshairX-x,n.ChartEngine.crosshairY),this.updateChartAccessories(),this.grabbingScreen=!1;return}if(this.lastMove="vertical",!(!this.allowZoom||this.activeDrawing&&!this.allowDrawingZoom)&&this.displayInitialized){if(!f)if(n.wheelEvent=="mousewheel"){e.b1T(26);var v=e.v8U(7,0,8);e.b1T(71);var S=e.v8U(1,5,16,37,18);if(f=v/S*u.wheelDelta,u.wheelDeltaX){e.b1T(112);var T=e.v8U(21,2,3,8,13);e.b1T(77);var D=e.p5W(50,3,7,103);c=T/D*u.wheelDeltaX}}else f=u.detail;if(typeof u.deltaMode=="undefined"&&(u.deltaMode=u.type=="MozMousePixelScroll"?"0"-0:1),g=-f,u.deltaMode==1&&(g*=33),d=null,p=null,this.mouseWheelAcceleration&&(m=Math.max(Math.pow(Math.abs(g),.3),1),d=Math.max(Number.MIN_VALUE,1-.1*m),e.Z1$(12),p=e.p5W(d,1)),this.zoomInitiatedByMouseWheel=!0,g>0?this.reverseMouseWheel?this.zoomOut(null,p):this.zoomIn(null,d):g<0&&(this.reverseMouseWheel?this.zoomIn(null,d):this.zoomOut(null,p)),!this.runAppend("mouseWheel",arguments))return!1}}},n.ChartEngine.handleContextMenu=function(u){var h,c;h=n.ChartEngine.registeredContainers;for(var f=0;f<h.length;f++)if(u.target.ownerDocument===h[f].ownerDocument&&(c=h[f].stx,c&&c.anyHighlighted))return u.preventDefault&&u.preventDefault(),!1},n.ChartEngine.registerGlobalEvent(a,n.ChartEngine.handleContextMenu),n.ChartEngine.htmlControls={annotationSave:i,annotationCancel:'<span class="stx-btn stx_annotation_cancel" style="display: none; margin-left:10px;"></span>',mSticky:`
		<div class="stx_sticky">
			<span class="mStickyInterior"></span>
			<span class="mStickyRightClick">
				<span class="overlayText stx-btn" style="display:none">
					<span>&nbsp;</span>
				</span>
				<span class="overlayEdit stx-btn" style="display:none">
					<span>&nbsp;</span>
				</span>
				<span class="overlayTrashCan stx-btn" style="display:none">
					<span>&nbsp;</span>
				</span>
				<span class="mouseDeleteInstructions">
					<span>(</span>
					<span class="mouseDeleteText">right-click to delete</span>
					<span class="mouseManageText">right-click to manage</span>
					<span>)</span>
				</span>
			</span>
			<span class="stickyLongPressText">(long-press to drag)</span>
			<span class="customInstructions">
				<span>(</span>
				<span class="dragAnchorText" type="anchorHandle">
					drag to change anchor time
				</span>
				<span>)</span>
			</span>
		</div>
	`,drawOk:s,dragOk:r,crossX:'<div class="stx_crosshair stx_crosshair_x" style="display: none;"></div>',crossY:'<div class="stx_crosshair stx_crosshair_y" style="display: none;"></div>',chartControls:'<div class="stx_chart_controls" style="display: none;"><div class="chartSize"><span class="stx-zoom-out"></span><span class="stx-zoom-in"></span></div></div>',home:'<div class="stx_jump_today" style="display:none"><span></span></div>',floatDate:t,handleTemplate:'<div class="stx-ico-handle" style="display: none;"><span></span></div> ',iconsTemplate:'<div class="stx-panel-control"><div class="stx-panel-title"></div><div class="stx-panel-legend"></div><div class="stx-btn-panel"><span class="stx-ico-up"></span></div><div class="stx-btn-panel"><span class="stx-ico-focus"></span></div><div class="stx-btn-panel"><span class="stx-ico-down"></span></div><div class="stx-btn-panel"><span class="stx-ico-edit"></span></div><div class="stx-btn-panel"><span class="stx-ico-close"></span></div></div>',baselineHandle:'<div class="stx-baseline-handle" style="display: none;"></div>',notificationTray:'<div class="stx_notification_tray"><template><div><span class="icon"></span><span class="message"></span></div></template></div>'},n.ChartEngine.prototype.registerChartControl=function(u,h,c){var f,m,x;if(f=this.controls,!(!f||!f.chartControls)&&!f.chartControls.querySelector("."+u)&&(m=null,e.m30(),x=f.chartControls.querySelector(".stx-zoom-in"),x))return m=document.createElement("span"),e.Z1$(19),m.innerHTML=e.v8U(h,'<div class="stx-tooltip" aria-hidden="true">',"</div>"),e.b1T(1),m.className=e.p5W("stx-chart-control-button ",u),x.parentNode.appendChild(m),c&&n.safeClickTouch(m,c),n.touchDevice||this.makeModal(m),m},n.ChartEngine.prototype.zoomOut=function(u,h){var c,f,m,x,g;c="z",c+="o";function d(v){return function(S){var T;if(e.m30(),f.zoomSet(S,v),f.animations.zoom.hasCompleted){if(T="zoo",T+="m",T+="Out",f.runAppend(T,arguments))return;f.changeOccurred("layout"),f.continuousZoom&&f.continuousZoom.execute(!0)}}}if(c+="o",e.m30(),c+="mOut",!this.runPrepend(c,arguments)){this.preferences.zoomOutSpeed?h=this.preferences.zoomOutSpeed:h||(e.b1T(12),h=e.v8U(.7,1)),u&&u.preventDefault&&u.preventDefault(),this.cancelTouchSingleClick=!0,f=this;for(var p in this.charts)m=this.charts[p],x=m.width*h/this.layout.candleWidth,m.allowScrollFuture===!1&&m.allowScrollPast===!1&&x>m.dataSet.length&&(x=m.dataSet.length),g=this.chart.width/x,this.layout.setSpan=null,this.layout.range=null,this.animations.zoom.run(d(m),this.layout.candleWidth,g,!1,this.ownerWindow)}},n.ChartEngine.prototype.zoomIn=function(u,h){e.m30();var c,f,m,x;if(this.runPrepend("zoomIn",arguments))return;this.preferences.zoomInSpeed?h=this.preferences.zoomInSpeed:h||(h=.7),u&&u.preventDefault&&u.preventDefault();function g(v){return function(S){var T,D;if(c.zoomSet(S,v),e.m30(),c.animations.zoom.hasCompleted){if(T="layo",T+="ut",D="zoo",D+="m",D+="In",c.runAppend(D,arguments))return;c.changeOccurred(T),c.continuousZoom&&c.continuousZoom.execute()}}}this.cancelTouchSingleClick=!0,c=this;for(var d in this.charts){if(f=this.charts[d],m=f.width*h/this.layout.candleWidth,f.maxTicks-m<1){e.Z1$(113);var p=e.v8U(14,10,13,7);m=f.maxTicks-p}m<this.minimumZoomTicks&&(m=this.minimumZoomTicks),x=this.chart.width/m,this.layout.setSpan=null,this.layout.range=null,this.animations.zoom.run(g(f),this.layout.candleWidth,x,!1,this.ownerWindow)}},n.ChartEngine.prototype.createCrosshairs=function(){var u,h,c;e.m30(),u="cre",u+="ateCrosshairs",!this.runPrepend(u,arguments)&&(!this.manageTouchAndMouse||this.mainSeriesRenderer.nonInteractive||(h=this.controls.crossX,c=this.controls.crossY,h&&(h.onmousedown||(h.onmousedown=function(f){return f.preventDefault&&f.preventDefault(),!1})),c&&(c.onmousedown||(c.onmousedown=function(f){return f.preventDefault&&f.preventDefault(),!1})),this.runAppend("createCrosshairs",arguments)))},l=!1,n.ChartEngine.prototype.mousemoveinner=n.ChartEngine.prototype.mousemoveinner||function(u,h){var c;c="interaction feature requires activa",e.m30(),c+="ting movement feature.",l||console.error(c),l=!0}};xa=U=>{var e=ee;e.r5q();var t,r;t="undefi",t+="ned",r=typeof _CIQ!==t?_CIQ:U.CIQ,r.Marker||(r.ChartEngine.helpersToRegister.push(function(s){s.markerHelper={chartMap:{},classMap:{},domMarkers:[],visibleCanvasMarkers:[],highlighted:[],placementMap:{}}}),r.ChartEngine.prototype.addToHolder=function(s){var i,a,o,n;i=this.panels[s.params.panelName],i&&(a=s.params,o=s.node,n=s.stxNodeCreator,n&&n.prepareForHolder&&(o=n.prepareForHolder(s)),a.chartContainer?this.container.appendChild(s.node):a.includeAxis?i.holder.appendChild(s.node):i.subholder.appendChild(o),s.chart=i.chart,n&&n.addToHolder&&n.addToHolder(s),n&&n.expand&&r.Marker.initializeScrollBehavior(n))},r.ChartEngine.prototype.getMarkerArray=function(s,i){var a,o;a=[];for(var n in this.markers)for(var l="0">>0;l<this.markers[n].length;l++)o=this.markers[n][l],s=="panelName"?o.params.panelName==i&&a.push(o):s=="label"?n==i&&a.push(o):s=="all"&&a.push(o);return e.r5q(),a},r.ChartEngine.prototype.removeFromHolder=function(s){var i,a,o,n,l,u;if(i=this.panels[s.params.panelName],i&&(s.node.parentNode==i.holder?i.holder.removeChild(s.node):s.node.parentNode==i.subholder?i.subholder.removeChild(s.node):s.node.parentNode==this.container&&this.container.removeChild(s.node)),a=this.markers[s.params.label],!!a){for(o=0;o<a.length;o++)if(a[o]===s){a.splice(o,1);break}if(n=this.markerHelper.chartMap[s.chart.name],n){for(o="0"*1;o<n.markers.length;o++)if(n.markers[o]===s){e.Z1$(15),n.markers.splice(o,e.p5W(0,"1"));break}}if(l=this.markerHelper.classMap[s.className],l&&(u=l[s.params.panelName],u)){for(o=0;o<u.length;o++)if(u[o]===s){u.splice(o,1);break}}}},r.ChartEngine.prototype.moveMarkers=function(s,i){var a,o,n;a="pan",a+="e",a+="lNa",a+="me",o=this.getMarkerArray(a,s);for(var l=0;l<o.length;l++)o[l].params.panelName=i;for(var u in this.markerHelper.classMap)n=this.markerHelper.classMap[u][s],n&&(this.markerHelper.classMap[u][i]=n,delete this.markerHelper.classMap[u][s])},r.ChartEngine.prototype.establishMarkerTicks=function(){var s,i;s=this.markerHelper.chartMap;for(var a in s){i=s[a];for(var o=0;o<i.markers.length;o++)this.setMarkerTick(i.markers[o])}},r.ChartEngine.prototype.futureTickIfDisplayed=function(s){var i,a,o,n,l,u,h,c,f;if(i=s.chart,!(i.dataSet.length<1)){a=i.xaxis[i.xaxis.length-1].DT,e.b1T(1);var m=e.p5W(59985,15);if(a=new Date(a.getTime()-this.timeZoneOffset*m),!(s.params.x>a)){o=i.maxTicks-i.dataSegment.length,n=i.dataSet.length+o,h=new Date(+i.dataSet[i.dataSet.length-1].DT),c=this.standardMarketIterator(h,null,i),f=s.params.x.getTime();for(var x=i.dataSet.length;x<n;x++)if(l=h.getTime(),h=c.next(),u=h.getTime(),u==f){s.tick=x;return}else if(u>f&&l<f){e.Z1$(11),s.tick=Math.max(e.v8U(1,x),0);return}}}},r.ChartEngine.prototype.setMarkerTick=function(s){var i,a,o,n,l,u,h;if(i="maste",i+="r",a=s.chart,s.params.xPositioner==i&&s.params.x)s.tick=Math.floor(s.params.x/this.layout.periodicity);else if(s.params.xPositioner=="tick"&&s.params.x)s.tick=s.params.x;else if(s.params.xPositioner=="date"&&s.params.x){l=s.params.x.getTime();for(var c=0;c<a.dataSet.length;c++)if(u=a.dataSet[c],n=u.DT.getTime(),o=n,c>0&&(o=a.dataSet[c-1].DT.getTime()),n==l){s.tick=c;return}else if(n>l&&o<l){e.b1T(11),s.tick=Math.max(e.v8U(1,c),0);return}else if(l<n){s.tick=null;return}if(a.dataSet.length<1)return;h=new Date(+a.dataSet[c-1].DT),h.getTime()<l&&(s.params.future=!0),s.tick=null}},r.ChartEngine.prototype.positionMarkers=function(){var s,i,a,o,n,l,u,h;if(s="ti",s+="ck",i=this,a=this.chart,!i.markerHelper||(this.markerHelper.placementMap={},this.markerDelay||this.markerDelay===0?this.markerTimeout||(this.markerTimeout=setTimeout(c,this.markerDelay)):c(),o=this.getFirstLastDataRecord(a.dataSegment,"tick"),n=this.getFirstLastDataRecord(a.dataSegment,s,!0),!o||!n))return;l=this.getMarkerArray("all"),this.markerHelper.visibleCanvasMarkers=[];function c(){var m,x,g,d,p;if(m="posi",m+="tionMarke",m+="rs",!i.runPrepend(m,arguments)){i.markerTimeout=null;for(var v in i.markerHelper.classMap)for(var S in i.markerHelper.classMap[v])x=i.markerHelper.classMap[v][S],g=i.panels[S],x.length&&(d={stx:i,arr:x,panel:g},d.firstTick=g.chart.dataSet.length-g.chart.scroll,d.lastTick=d.firstTick+g.chart.dataSegment.length,p=x[0].constructor.placementFunction,p?p(d):i.defaultMarkerPlacement(d));e.r5q(),i.runAppend("positionMarkers",arguments)}}for(var f=0;f<l.length;f++)u=l[f],h=u.stxNodeCreator,o.tick<=u.tick&&u.tick<=n.tick?(this.markerHelper.visibleCanvasMarkers.push(u),h&&h.drawMarker&&h.drawMarker(u)):(u.highlight=!1,u.params.box=null,u.attached&&h&&h.expand&&(h.expand.style.visibility="hidden"))},r.Marker=r.Marker||function(s){var i,a,o,n,l,u,h;if(i=this instanceof r.Marker?this:Object.create(r.Marker.prototype),i.params={xPositioner:"date",yPositioner:"value",panelName:"chart",permanent:!1,label:"generic",includeAxis:!1},r.extend(i.params,s),i.params.node||(a="D",a+="I",a+="V",i.params.node=document.createElement(a)),o=i.params.stx,!o){console.log("Marker created without specifying stx");return}return i.className||(i.className="CIQ.Marker"),r.derivedFrom(i.params.node,r.Marker.NodeCreator)?(i.stxNodeCreator=i.params.node,i.node=i.stxNodeCreator.node):i.node=i.params.node,n=i.params.label,o.markers[n]||(o.markers[n]=[]),o.markers[n].push(i),l=o.panels[i.params.panelName],i.chart=l.chart,o.markerHelper.chartMap[i.chart.name]||(o.markerHelper.chartMap[i.chart.name]={markers:[]}),o.markerHelper.chartMap[i.chart.name].markers.push(i),u=o.markerHelper.classMap[i.className],e.m30(),u||(u=o.markerHelper.classMap[i.className]={}),u[i.params.panelName]||(u[i.params.panelName]=[]),u[i.params.panelName].push(i),h=i.stxNodeCreator&&i.stxNodeCreator.deferAttach,h||o.addToHolder(i),o.setMarkerTick(i),i.stxNodeCreator&&i.stxNodeCreator.drawMarker&&i.stxNodeCreator.drawMarker(i),i},r.Marker.prototype.remove=function(){this.params.stx.removeFromHolder(this),this.stxNodeCreator&&this.stxNodeCreator.remove&&this.stxNodeCreator.remove(this)},r.Marker.prototype.click=function(s){var i;typeof arguments[0]=="number"&&(s={cx:arguments[0],cy:arguments[1],panel:arguments[3]});var{cx:a,cy:o,panel:n}=s;this.params.stx&&(i=this.params.node,i.click&&i.click(a,o,this,n))},r.Marker.prototype.doubleClick=function({cx:s,cy:i,panel:a}){return e.r5q(),!1},r.Marker.prototype.render=function(){var s,i;s=[this],i={stx:this.params.stx,arr:s,panel:this.params.stx.panels[this.params.panelName],showClass:this.showClass},this.constructor.placementFunction(i)},r.Marker.removeByLabel=function(s,i){e.m30();var a,o,n;a="labe",a+="l",o=s.getMarkerArray(a,i);for(var l=0;l<o.length;l++)n=o[l],s.removeFromHolder(n),n.stxNodeCreator&&n.stxNodeCreator.remove&&n.stxNodeCreator.remove(n);s.draw()},r.Marker.positionContentVerticalAndHorizontal=function(s,i){var a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D;a=2083694598,o=1629207675,n=2;for(var y=1;e.m9o(y.toString(),y.toString().length,56953)!==a;y++)l=s.querySelector(""),n+=2;e.m9o(n.toString(),n.toString().length,178)!==o&&(l=s.querySelector(".stx-marker-expand")),(i||l&&l.isConnected&&r.trulyVisible(l))&&(u=l.offsetHeight,h=l.style,h.left=h.right="",h.bottom=h.top="",c=getComputedStyle(l),f=c.left,m=c.bottom,x=s.offsetLeft+parseInt(f,"10"|0),g=parseInt(m,10),d=s.offsetTop-(g+u-s.offsetHeight),p=s.parentNode.offsetWidth,v=s.parentNode.offsetHeight,x+l.offsetWidth>p&&(h.right=f,h.left="auto"),s.offsetTop<=v?d>v-u&&(S="a",S+="ut",S+="o",h.top=v-s.offsetTop-u+"px",h.bottom=S):(e.b1T(1),h.top=e.p5W(v,"px")),s.offsetTop+s.offsetHeight>=0?d<("0"^0)&&(T="p",T+="x",h.top=-s.offsetTop+T,h.bottom="auto"):(D="0",D+="p",D+="x",h.bottom=D))},r.Marker.initializeScrollBehavior=function(s){var i;i="tou",i+="c",i+="hmove";var{expand:a}=s;if(!(!a||a.scrollInitialized)){e.m30(),a.querySelector(".marker_content")||(a.innerHTML='<div class="marker_content">'+a.innerHTML+"</div>"),a.addEventListener(r.wheelEvent,n=>n.stopPropagation(),{passive:!1}),a.addEventListener(i,n=>n.stopPropagation(),{passive:!1});var{scrollbarStyling:o}=r.UI||{};o?o.refresh(a):a.style.overflowY="scroll",a.scrollInitialized=!0}},r.ChartEngine.prototype.getBarBounds=function(s,i){var a,o,n,l,u;return this.layout.chartType,a=this.layout.aggregationType,!i&&a=="pandf"?o={high:Math.max(s.pfOpen,s.pfClose),low:Math.min(s.pfOpen,s.pfClose)}:o={high:s.High,low:s.Low},s.markerHigh&&(o.high=s.markerHigh),s.markerLow&&(o.low=s.markerLow),s.Open===void 0&&(n=s.Close),s.High===void 0&&(l=Math.max(s.Open||n,s.Close)),s.Low===void 0&&(u=Math.min(s.Open||n,s.Close)),!o.high&&o.high!==0&&(o.high=l),!o.low&&o.low!==0&&(o.low=u),o},r.ChartEngine.prototype.defaultMarkerPlacement=function(s){var i,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K;i="Cl",i+="o",i+="se",a=s.panel,o=a.chart,n=s.stx,l=n.chart.highLowBars,u=o.defaultPlotField,(!u||l)&&(u=i);for(var q="0"|0;q<s.arr.length;q++)if(h="n",h+="o",h+="n",h+="e",c="a",c+="uto",f=s.arr[q],m=f.params,!f.params.box){if(x=f.node,f.clientWidth||(f.clientWidth=x.clientWidth),f.clientHeight||(f.clientHeight=x.clientHeight),g=null,d=m.xPositioner,p=m.yPositioner,v=m.yAxis||a.yAxis,S=m.field,T=f.tick,D=o.dataSet,y=f.clientWidth,d!="none"){if(d=="bar"&&m.x){m.x<o.xaxis.length&&(b=o.xaxis[m.x],b&&(g=b.data)),e.Z1$(114);var X=e.v8U(4,3,0,6,19);x.style.left=Math.round(n.pixelFromBar(m.x,o)-y/2)+X+"px"}else{if(!T&&T!==0)if(m.future&&o.scroll<o.maxTicks){if(n.futureTickIfDisplayed(f),T=f.tick,!T&&T!==0){w="-10",w+="00px",x.style.left=w;continue}}else{A="-1",A+="00",A+="0px",x.style.left=A;continue}if(T<D.length&&(g=D[T]),f.leftpx=Math.round(n.pixelFromTick(T,o)-o.left-y/2),f.rightEdge=f.leftpx+y,x.style.left=f.leftpx+"px",T<s.firstTick&&f.rightEdge<o.left-50)continue}if(!g){e.b1T(75);var Z=e.p5W(7,2,7);g=D[D.length-Z]}}else if(p.indexOf("candle")>-1&&(_=getComputedStyle(x).left,_&&(P=n.barFromPixel(parseInt(_,10),o),P>=0&&(g=o.xaxis[P].data,!g)))){e.Z1$(70);var ae=e.v8U(2,3,0,3);g=D[D.length-ae]}if(r.efficientDOMUpdate(x.style,"top",c),I=m.y,O=f.clientHeight,C=0,p!=h){k="bot",k+="to",k+="m_",k+="lane",F="b",F+="ot",F+="to",F+="m",M="to",M+="p",M+="_",M+="lane",L="v",L+="al",L+="ue",E="numbe",E+="r",H="undef",H+="ined",e.Z1$(9);var te=e.v8U(3,4);N=p.indexOf("_lane")>te,j=n.markerHelper.placementMap,W=p+"|"+a.name,N&&typeof j[W]=="undefined"&&(j[W]=2),e.b1T(115),e.v8U(16,91056,6071,1),e.b1T(11);var re=e.p5W(8,8388);e.b1T(8);var oe=e.v8U(20,1873,3767);if(e.Z1$(21),e.v8U(7976,7,3981),V=W+(re<=oe?199.97:"-")+(N?f.params.label:T),Y=m.chartContainer?n.height:a.yAxis.bottom,Q=0,typeof j[V]==H&&(j[V]=N?j[W]:0,N&&(e.b1T(116),j[W]+=e.p5W(0,O,"2"))),C=j[V],N||(j[V]+=O),g&&S&&(g=g[S]),typeof g===E&&(g={Close:g},g[u]=g.Close,l=!1),p==L&&(I||I===0)){e.b1T(117);var B=e.v8U(14,40,40,45);Q=Math.round(Y-n.pixelFromPrice(I,a,v)-O/("2">>B))+"px"}else if((p=="below_candle"||p=="under_candle")&&g)z="h",z+="igh",R=g[u],l&&(R=n.getBarBounds(g,!!S)[v.flipped?z:"low"]),Q=Math.round(Y-n.pixelFromPrice(R,a,v)-O-C)+"px";else if(p=="on_candle"&&g){if($="p",$+="x",R=g[u],l){R=n.getBarBounds(g,!!S),e.Z1$(72);var G=e.p5W(298,15,0,20);R=(R.high+R.low)/G}Q=Math.round(Y-n.pixelFromPrice(R,a,v)-O/2-C)+$}else p=="top"||p==M?Q=Math.round(Y-O-C-a.top)+"px":p==F||p==k?Q=Math.round(C)+"px":g&&(K="p",K+="x",R=g[u],l&&(R=n.getBarBounds(g,!!S)[v.flipped?"low":"high"]),Q=(Math.round(Y-n.pixelFromPrice(R,a,v)+C)||0)+K);x.style.bottom!=Q&&(x.style.bottom=Q)}r.Marker.positionContentVerticalAndHorizontal(x)}},r.Marker.NodeCreator=function(){},r.Marker.NodeCreator.toNode=function(){return this.node},r.Marker.Simple=function(s){var i,a,o,n,l;i=this.node=document.createElement("div"),i.className="stx-marker",i.classList.add(s.type),s.category&&i.classList.add(s.category),a=r.newChild(i,"div","stx-visual"),r.newChild(i,"div","stx-stem"),s.type=="callout"?(n="stx-marker",n+="-",n+="e",n+="xpand",l=r.newChild(a,"div","stx-marker-content"),r.newChild(l,"h4",null,s.headline),o=r.newChild(l,"div",n),r.newChild(o,"p",null,s.story)):(o=r.newChild(i,"div","stx-marker-expand"),r.newChild(o,"h4",null,s.headline),r.newChild(o,"p",null,s.story),r.safeClickTouch(o,function(u){var h;e.m30(),h="high",h+="light",i.classList.toggle(h)})),r.safeClickTouch(a,function(u){i.classList.toggle("highlight"),r.Marker.positionContentVerticalAndHorizontal(i,!0)}),this.nodeType="Simple",e.r5q(),this.expand=o},r.inheritsFrom(r.Marker.Simple,r.Marker.NodeCreator,!1))};ya=U=>{var e=ee,t,r,s,i,a,o,n,l,u;t="unde",t+="f",t+="in",t+="ed",r=typeof _CIQ!="undefined"?_CIQ:U.CIQ,s=typeof _timezoneJS!==t?_timezoneJS:U.timezoneJS,i=6e4*("60"-0),a=i*24,o=!0,n=r.Market,r.Market=function(h){if(e.r5q(),this.market_def=!1,this.rules=!1,this.normalHours=[],this.extraHours=[],this.class_name="Market",s.Date?this.tz_lib=s.Date:this.tz_lib=Date,this.market_tz="",this.hour_aligned=!1,this.convertOnDaily=!1,this.enabled_by_default=!1,typeof h!="undefined"&&h&&!r.isEmpty(h))h.market_definition&&(h=h.market_definition),h.rules&&(this.rules=h.rules),h.market_tz&&(this.market_tz=h.market_tz),h.convertOnDaily&&(this.convertOnDaily=h.convertOnDaily),h.hour_aligned,this.hour_aligned=h.hour_aligned,typeof h.beginningDayOfWeek!="undefined"&&(this.beginningDayOfWeek=h.beginningDayOfWeek),typeof h.minimum_session_length!="undefined"&&(this.minimumSessionLength=h.minimum_session_length),typeof h.enabled_by_default!="undefined"&&h.enabled_by_default instanceof Array&&(this.enabled_by_default=h.enabled_by_default),this.market_def=h,this.market_def.name===void 0&&(this.market_def.name="no market name specified");else{this.hour_aligned=!0;return}r.Market._createTimeSegments(this),this.getSessionNames()},r.Market.Symbology=function(){},r.Market.Symbology.isForeignSymbol=function(h){return e.m30(),!1},r.Market.Symbology.isFuturesSymbol=function(h){return!1},r.Market.Symbology.isRateSymbol=function(h){return!1},r.Market.Symbology.isForexSymbol=function(h){return!1},r.Market.Symbology.isForexMetal=function(h,c){return!1},r.Market.Symbology.isForexCrypto=function(h){return!1},r.Market.Symbology.isForexFuturesSymbol=function(h){return e.r5q(),!!(r.Market.Symbology.isForexSymbol(h)||r.Market.Symbology.isFuturesSymbol(h))},r.Market.Symbology.factory=function(h){return e.m30(),null},r.Market.Symbology.encodeTermStructureInstrumentSymbol=function(h,c){console.warn("You are trying to call `CIQ.Market.Symbology.encodeTermStructureInstrumentSymbol` but have not implemented it.")},n&&r.extend(r.Market,n),r.Market.prototype.sessions=null,r.Market.prototype.beginningDayOfWeek=0,r.Market.prototype.minimumSessionLength=30,r.Market.prototype.tradingDays=function(){var h;if("_tradingDays"in this)return this._tradingDays;if(h=[],e.m30(),this.rules)for(var c of this.rules)c.dayofweek>=0&&h.push(c.dayofweek);else h=[0,1,2,"3"<<96,4,5,6];return this._tradingDays=[...new Set(h)],this._tradingDays.sort(),this._tradingDays},r.Market.prototype.getSessionNames=function(){var h,c;return this.rules?this.sessions||(h=[],c=[],this.rules.map(function(f){e.r5q(),f.name&&h.indexOf(f.name)===-1&&(h.push(f.name),c.push({name:f.name,enabled:f.enabled?f.enabled:!1}))}),this.sessions=c):this.sessions=[],this.sessions.slice()},r.Market.prototype._find_next_segment=function(h,c){var f,m,x,g;return!this.market_def||!this.rules?null:(f=new Date(+h),m=this.newIterator({begin:f,interval:1,inZone:this.market_tz,outZone:this.market_tz}),this._wasOpenIntraDay(f)&&(x=this.zseg_match.close_parts.hours,g=this.zseg_match.close_parts.minutes,f.setHours(x),f.setMinutes(g),m=this.newIterator({begin:f,interval:1,inZone:this.market_tz,outZone:this.market_tz})),m.next())},r.Market.prototype._find_prev_segment=function(h,c){var f,m,x,g,d,p,v,S;if(!this.market_def||!this.rules)return null;if(f=new Date(+h),m=this.newIterator({begin:f,interval:1,inZone:this.market_tz,outZone:this.market_tz}),x=this._wasOpenIntraDay(f),x===null?(f=new Date(f-6e4),x=this._wasOpenIntraDay(f)):(c&&f.getHours()===this.zseg_match.open_parts.hours&&f.getMinutes()===this.zseg_match.open_parts.minutes||!c&&f.getHours()===this.zseg_match.close_parts.hours&&f.getMinutes()===this.zseg_match.close_parts.minutes)&&(f=m.previous()),e.m30(),x)return g=this.zseg_match.open_parts.hours,d=this.zseg_match.open_parts.minutes,f.setHours(g),f.setMinutes(d),m=this.newIterator({begin:f,interval:1,inZone:this.market_tz,outZone:this.market_tz}),f=m.previous(),this.zseg_match.close_parts.hours===g&&this.zseg_match.close_parts.minutes===d?c?m.next():f:this.zseg_match.adjacent_child?f:c?m.next():f;p=1241037348,v=1561405824,S=2;for(var T=1;e.D4r(T.toString(),T.toString().length,35510)!==p;T++)return m.previous();if(e.m9o(S.toString(),S.toString().length,55244)!==v)return m.previous()},r.Market.prototype.disableSession=function(h,c){e.m30();var f;if(f=!1,typeof c!="undefined"&&c&&(f=!0),h){for(var m=0;m<this.normalHours.length;m++)delete this.normalHours[m]._refid,this.normalHours[m].name===h&&(this.normalHours[m].enabled=f);for(m=0;m<this.extraHours.length;m++)delete this.extraHours[m]._refid,this.extraHours[m].name===h&&(this.extraHours[m].enabled=f)}this._zseg_matches&&this._zseg_matches.clear()},r.Market.prototype.enableSession=function(h){var c;c="enabl",c+="e_instead",this.disableSession(h,c)},r.Market.prototype.enableAllAvailableSessions=function(){e.r5q();var h;h=this.getSessionNames();for(var c=0;c<h.length;c++)this.enableSession(h[c].name)},r.Market.prototype.getClose=function(h,c,f,m){var x,g,d;if(x="undefine",x+="d",e.r5q(),!this.market_def||!this.rules)return null;if(g=h,h||(g=new Date,f=null),g=this._convertToMarketTZ(g,f),typeof c!==x){if(this._wasOpenIntraDay(g)&&this.zseg_match.name===c)return g.setHours(this.zseg_match.close_parts.hours,this.zseg_match.close_parts.minutes,0,0),g=this._convertFromMarketTZ(g,m),g}else if(this._wasOpenDaily(g)){for(d=this.zseg_match;d.child_;)d=d.child_;for(;!d.enabled;)d=d.parent_;return g.setHours(d.close_parts.hours,d.close_parts.minutes,0,0),g=this._convertFromMarketTZ(g,m),g}return null},r.Market.prototype.getNextClose=function(h,c,f){var m,x,g,d;if(!this.market_def||!this.rules)return null;for(m=h,h||(m=new Date,c=null),m=this._convertToMarketTZ(m,c),this._wasOpenIntraDay(m)||(x=this.newIterator({begin:m,interval:1,inZone:this.market_tz,outZone:this.market_tz}),m=x.next()),g=m.getDate(),d=this.zseg_match;d.adjacent_child;)d=d.adjacent_child,g+=1;return m.setDate(g),m.setHours(d.close_parts.hours,d.close_parts.minutes,0,0),m=this._convertFromMarketTZ(m,f),m},r.Market.prototype.getNextOpen=function(h,c,f){var m;return!this.market_def||!this.rules?null:(m=h,h||(m=new Date,c=null),m=this._convertToMarketTZ(m,c),e.m30(),m=this._find_next_segment(m),this.zseg_match.adjacent_parent?(m=this.getNextOpen(m,this.market_tz,this.market_tz),m=this._convertFromMarketTZ(m,f),m):(m.setHours(this.zseg_match.open_parts.hours),m.setMinutes(this.zseg_match.open_parts.minutes),m=this._convertFromMarketTZ(m,f),m))},r.Market.prototype.getOpen=function(h,c,f,m){var x,g,d;if(x="und",x+="efined",!this.market_def||!this.rules)return null;if(g=h,h||(g=new Date,f=null),g=this._convertToMarketTZ(g,f),typeof c!==x){if(this._wasOpenIntraDay(g)&&this.zseg_match.name==c)return g.setHours(this.zseg_match.open_parts.hours,this.zseg_match.open_parts.minutes,0,0),g=this._convertFromMarketTZ(g,m),g}else if(this._wasOpenDaily(g)){for(d=this.zseg_match;d.parent_;)d=d.parent_;for(;!d.enabled;)d=d.child_;return g.setHours(d.open_parts.hours,d.open_parts.minutes,"0">>64,0),g=this._convertFromMarketTZ(g,m),g}return null},r.Market.prototype.getNormalOpen=function(){var h;h="1",h+="7:00";var{market_def:c,rules:f}=this;return c&&f?c.normal_daily_open?c.normal_daily_open:c.name==="FOREX"?h:f.find(({name:m})=>!m||m==="").open:"00:00"},r.Market.prototype.getNormalClose=function(){var h,c;h="1",h+="7:",h+="0",h+="0",c="FORE",c+="X";var{market_def:f,rules:m}=this;return f&&m?f.normal_daily_close?f.normal_daily_close:f.name===c?h:m.filter(({dayofweek:x,name:g})=>x&&(!g||g==="")).pop().close:"24:00"},r.Market.prototype.getPreviousClose=function(h,c,f){var m;return!this.market_def||!this.rules?null:(m=h,h||(m=new Date,c=null),m=this._convertToMarketTZ(m,c),m=this._find_prev_segment(m,!1),this.zseg_match.adjacent_child?this.getPreviousClose(m,this.market_tz,this.market_tz):(m.setHours(this.zseg_match.close_parts.hours),m.setMinutes(this.zseg_match.close_parts.minutes),m=this._convertFromMarketTZ(m,f),m))},r.Market.prototype.getPreviousOpen=function(h,c,f){var m;return e.r5q(),!this.market_def||!this.rules?null:(m=h,h||(m=new Date,c=null),m=this._convertToMarketTZ(m,c),m=this._find_prev_segment(m,!0),this.zseg_match.adjacent_parent?this.getPreviousOpen(m,this.market_tz,this.market_tz):(m.setHours(this.zseg_match.open_parts.hours),m.setMinutes(this.zseg_match.open_parts.minutes),m=this._convertFromMarketTZ(m,f),m))},r.Market.prototype.getSession=function(h,c){return h=this._convertToMarketTZ(h,c),this._wasOpenIntraDay(h)&&this.zseg_match?this.zseg_match.name:null},r.Market.prototype.marketZoneNow=function(){return e.r5q(),this._convertToMarketTZ(new Date)},r.Market.prototype.isHourAligned=function(){return this.hour_aligned},r.Market.prototype.isOpen=function(){var h;return h=new Date,this.market_tz&&(h=new this.tz_lib(h.getTime(),this.market_tz)),this._wasOpenIntraDay(h)},r.Market.prototype.isMarketDay=function(){e.r5q();var h;return h=new Date,this.market_tz&&(h=new this.tz_lib(h.getTime(),this.market_tz)),this._wasOpenDaily(h)},r.Market.prototype.isMarketDate=function(h){return e.m30(),this._wasOpenDaily(h)},r.Market.prototype.isFirstMarketDayOfMonth=function(h){var c,f;if(!this.isMarketDate(h))return!1;c=new Date(+h),f=h.getDate();for(var m=1;m<f;m++)if(c.setDate(m),this.isMarketDate(c))return!1;return!0},r.Market.prototype.isFirstMarketDayOfWeek=function(h){var c,f,m;if(!this.isMarketDate(h))return!1;for(c=this.tradingDays(),f=Math.max(this.beginningDayOfWeek,c["0"^0])||0,e.m30(),m=new Date(+h);m.getDay()!==f;)if(m.setDate(m.getDate()-1),this.isMarketDate(m))return!1;return!0},r.Market.prototype.newIterator=function(h){var c,f,m,x,g,d;return c=!1,h.periodicity?c=h.periodicity:h.multiple&&(c=h.multiple),f=h.interval,f||(m="m",m+="inute",f=m),f=="hour"&&(f=60),c||(c=1),h.begin||(h.begin=new Date,h.inZone=null),f==parseInt(f,10)&&(f=parseInt(f,10),h.periodicity<1/("60"^0)?(c=c*f*6e4,f="millisecond"):h.periodicity<1?(c=c*f*60,f="second"):(c=c*f,f="minute")),h.timeUnit&&(x="t",x+="i",x+="c",x+="k",g="m",g+="i",g+="llisecond",h.timeUnit===g||h.timeUnit==="second"?f=h.timeUnit:h.timeUnit===x&&(d="secon",d+="d",f=d)),f=="tick"&&(f="second"),h.interval=f,e.r5q(),h.multiple=c,h.market=this,new r.Market.Iterator(h)},r.Market.prototype._wasOpenDaily=function(h){return e.r5q(),this._was_open(h,!1)},r.Market.prototype._wasOpenIntraDay=function(h){return e.m30(),this._was_open(h,!0)},r.Market.prototype._was_open=function(h,c){var f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P;if(typeof c=="undefined"&&(c=!0),f=this.zseg_match,this.zopen_hour=0,this.zopen_minute=0,this.zclose_hour=0,this.zclose_minute=0,this.zmatch_open=!1,this.zseg_match=null,!this.market_def||!this.rules)return this.zclose_hour="24"^0,!0;if(this.tradingDays().indexOf(h.getDay())<0)return null;if(o){if(this._zseg_matches||(this._zseg_matches=new Map),m=this._zseg_matches.get(+h*(c?1:-1)),m===null)return null;if(m)return m=this._zseg_matches.get(m),Object.assign(this,m),this.zseg_match}for(x=!1,g=!1,d=h.getFullYear(),p=h.getMonth()+1,v=h.getDay(),S=h.getDate(),T=h.getHours(),D=h.getMinutes(),y=h.getSeconds(),A=T*60*60+D*60+y,_=0;_<this.normalHours.length;_++)if(b=this.normalHours[_],!!b.enabled&&(x=b.dayofweek===v,x&&c&&(x=A>=b.open&&A<b.close),x)){if(!c&&this.zseg_match&&(b.open_parts.hours>this.zopen_hour||b.open_parts.hours==this.zopen_hour&&b.open_parts.minutes>this.zopen_minute))continue;if(b!==f&&!b.adjacent_parent&&!b.adjacent_child&&(this.shouldResetToBeginningOfSegment=!0),w=_+1,this.zopen_hour=b.open_parts.hours,this.zopen_minute=b.open_parts.minutes,this.zclose_hour=b.close_parts.hours,this.zclose_minute=b.close_parts.minutes,this.zmatch_open=A===b.open,this.zseg_match=b,c)break}for(_=0;_<this.extraHours.length;_++)if(b=this.extraHours[_],!!b.enabled&&(b.year==="*"||d===b.year)&&p===b.month&&S===b.day&&(g=!c&&b.open||A>=b.open&&A<b.close,!g&&this.zseg_match&&(x=!1,this.zopen_hour=0,this.zopen_minute=0,this.zclose_hour=0,this.zclose_minute=0,this.zmatch_open=!1,this.zseg_match=null),g)){if(!c&&this.zseg_match&&(b.open_parts.hours>this.zopen_hour||b.open_parts.hours==this.zopen_hour&&b.open_parts.minutes>this.zopen_minute))continue;if(w=-(_+1),this.zopen_hour=b.open_parts.hours,this.zopen_minute=b.open_parts.minutes,this.zclose_hour=b.close_parts.hours,this.zclose_minute=b.close_parts.minutes,this.zmatch_open=A===b.open,this.zseg_match=b,c)break}return o&&(P=null,this.zseg_match&&(this.zseg_match._refid||(this.zseg_match._refid=w,this._zseg_matches.set(this.zseg_match._refid,{zopen_hour:this.zopen_hour,zopen_minute:this.zopen_minute,zclose_hour:this.zclose_hour,zclose_minute:this.zclose_minute,zmatch_open:this.zmatch_open,zseg_match:this.zseg_match})),P=this.zseg_match._refid),this._zseg_matches.set(+h*(c?1:-1),P)),this.zseg_match},r.Market.prototype._wasClosed=function(h){return!this._was_open(h,!0)},r.Market.prototype._wasOpen=function(h){return this._was_open(h,!0)},r.Market.prototype._tzDifferenceMillis=function(h,c,f){var m,x,g,d;return m=0,x=h,g=h,d=x.getTimezoneOffset()-g.getTimezoneOffset(),m=d*60*1e3,m},r.Market._createTimeSegments=function(h){var c,f,m,x,g,d;e.m30(),c=function(T,D){return T.close_parts.hours===24&&D.open_parts.hours===0&&D.open_parts.minutes===0&&(f.dayofweek===g.dayofweek-1||f.dayofweek===6&&g.dayofweek===0)?!0:(e.r5q(),!1)};for(var p=0;p<h.rules.length;p++){m="undefi",m+="n",m+="ed",x=JSON.parse(JSON.stringify(h.rules[p])),typeof x.open=="undefined"&&typeof x.close===m&&(x.open="00:00",x.close="00:00"),x.hasOwnProperty("name")||(x.name="");try{if(typeof x.dayofweek!="undefined"?(x.year="*",g=l._createDayOfWeekSegment(h,x),f&&(f.dayofweek===g.dayofweek?(f.child_=g,g.parent_=f):c(f,g)&&(f.adjacent_child=g,g.adjacent_parent=f)),f=g):typeof x.date!="undefined"?(x.isDayOfWeek=!1,x.dayofweek=-("1"|0),g=l._createDateTimeSegment(h,x)):console.log("Error, unknown rule type "+x),h.enabled_by_default){for(var v=0;v<h.enabled_by_default.length;v++)if(d=h.enabled_by_default[v],g.name===d){g.enabled=!0;break}}}catch(T){var S;S="Error, crea",S+="ting market ",S+="rules ",console.log(S+T)}}},r.Market._timeSegment={},l=r.Market._timeSegment,l.re_wild_card_iso=/^(\*)-(\d\d)-(\d\d)$/,l.re_regular_iso=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,l.re_split_hours_minutes=/^(\d\d):(\d\d)$/,l.re_split_hour_minutes=/^(\d):(\d\d)$/,l._hashCode=function(h){var c,f,m,x;if(e.m30(),c=0,h.length==="0"-0)return c;for(f=0,x=h.length;f<x;f++)m=h.charCodeAt(f),c=(c<<5)-c+m,c|=0;return c},l._splitHoursMinutes=function(h){var c,f;return c=l.re_split_hour_minutes.exec(h),e.m30(),f={hours:NaN,minutes:NaN},c===null&&(c=l.re_split_hours_minutes.exec(h),c===null)||(f.hours=parseInt(c[1],10),f.minutes=parseInt(c[2],10)),f},l._createDayOfWeekSegment=function(h,c){var f;return f={name:c.name,isDayOfWeek:!0,dayofweek:c.dayofweek,date_str:"*",open_parts:l._splitHoursMinutes(c.open),close_parts:l._splitHoursMinutes(c.close),open:l._secSinceMidnight(h,c.open,!0),close:l._secSinceMidnight(h,c.close,!1),child_:!1,parent_:!1,adjacent_child:!1,adjacent_parent:!1,enabled:!1},f.name===""&&(f.enabled=!0),f.hash_code=this._hashCode((f.open+f.close).toString()),e.r5q(),h.normalHours.push(f),f},l._createDateTimeSegment=function(h,c){var f,m,x,g;if(f=this.re_regular_iso.exec(c.date),f===null){if(f=this.re_wild_card_iso.exec(c.date),f===null){x="Warning: invalid date format ",x+="o",x+="n rule -> ",console.log(x+c.date);return}m="*"}else m=parseInt(f[1],10);return g={name:c.name,isDayOfWeek:!1,dayofweek:-1,year:m,month:parseInt(f[2],10),day:parseInt(f[3],10),date_str:c.date,open_parts:l._splitHoursMinutes(c.open),close_parts:l._splitHoursMinutes(c.close),open:l._secSinceMidnight(h,c.open,!0),close:l._secSinceMidnight(h,c.close,!1),enabled:!1},g.name===""&&(g.enabled=!0),g.hash_key=this._hashCode(g.date_str+g.open+g.close),h.extraHours.push(g),g},l._secSinceMidnight=function(h,c,f){var m,x,g,d;return e.r5q(),m=c.split(":"),x=parseInt(m[0],10),g=parseInt(m[1],10),d=x*60*60+g*("60"-0),f||x===24&&(d=x*60*60+("1"<<64)),d},r.Market.prototype._convertToMarketTZ=function(h,c){var f;return c?f=new this.tz_lib(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds(),c):f=new this.tz_lib(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds()),f.setTimezone&&f.setTimezone(this.market_tz),new Date(f.getFullYear(),f.getMonth(),f.getDate(),f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds())},r.Market.prototype._convertFromMarketTZ=function(h,c){var f;if(e.r5q(),f=new this.tz_lib(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds(),this.market_tz),c)f.setTimezone&&f.setTimezone(c);else return new Date(f.getTime());return new Date(f.getFullYear(),f.getMonth(),f.getDate(),f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds())},r.Market.Iterator=function(h){this.market=h.market,this.begin=h.begin,this.interval=h.interval,this.multiple=h.multiple,this.inZone=h.inZone,this.outZone=h.outZone,this.clock=new r.Market.Iterator._Clock(h.market,h.interval,h.multiple),this.intraDay=this.clock.intra_day,this.intraDay&&(this.begin=this.market._convertToMarketTZ(this.begin,h.inZone)),this.clock._setStart(this.begin),this.clock.minutes_aligned=!1,this.clock.minimumScanMS=h.market.minimumSessionLength*6e4},r.Market.Iterator.prototype.date=function(){return this.clock._date()},e.r5q(),r.Market.Iterator.prototype.futureTick=function(h){var c,f,m,x,g,d,p,v,S;if(this.clock.skip=1,c=0,this.intraDay?f=this.market._convertToMarketTZ(h.end,this.inZone).getTime():f=h.end.getTime(),m=this.clock.ctime,e.r5q(),f===m)return c;if(x=2,g=1e3,d=0,h.sample_size&&(x=h.sample_size),p=new Date().getTime(),f>m){for(this.clock.forward=!0;this.clock.ctime<f;)if(c+=1,d+=1,this.clock._findNext(),d===g&&(d=0,v=new Date().getTime(),v-p>=x)){S=(this.clock.ctime-m)/c,c=Math.floor((f-m)/S);break}this.clock.ctime>f&&c--}else for(this.clock.forward=!1;this.clock.ctime>f;)if(c+=1,d+=1,this.clock._findPrevious(),d===g&&(d=0,v=new Date().getTime(),v-p>=x)){S=(m-this.clock.ctime)/c,c=Math.floor((m-f)/S);break}return c},r.Market.Iterator.prototype.isHourAligned=function(){return e.m30(),!this.intraDay||this.market.isHourAligned()},r.Market.Iterator.prototype.isOpen=function(){return e.r5q(),this.market.isOpen()},r.Market.Iterator.prototype.next=function(h){this.clock.skip=1,h&&(this.clock.skip=h),this.clock.forward=!0;for(var c=0;c<this.clock.skip;c++)this.begin=this.clock._findNext();return this.intraDay||this.market.convertOnDaily?this.market._convertFromMarketTZ(this.clock.display_date,this.outZone):this.clock.display_date},r.Market.Iterator.prototype.peek=function(){return this.clock._peek()},r.Market.Iterator.prototype.previous=function(h){this.clock.skip=1,h&&(this.clock.skip=h),this.clock.forward=!1;for(var c=0;c<this.clock.skip;c++)this.begin=this.clock._findPrevious();return this.intraDay||this.market.convertOnDaily?this.market._convertFromMarketTZ(this.clock.display_date,this.outZone):this.clock.display_date},r.Market.Iterator._Clock=function(h,c,f){var m,x,g,d,p,v,S,T,D;m="mont",m+="h",x="w",x+="eek",g="d",g+="a",g+="y",d="h",d+="o",d+="u",d+="r",p="min",p+="ut",p+="e",v="s",v+="e",v+="con",v+="d",S="se",S+="co",S+="nd",f%60===0&&c===S&&(c="minute",f=f/60),this.market=h,this.interval=c,this.multiple=f,this.intra_day=!1,this.intervals=[],this.max_iters=10080,T=a,D=this._dayImpl,c==="millisecond"?(D=this._millisImpl,T=1):c===v?(D=this._secondImpl,T=1e3):c===p?(D=this._minuteImpl,T=6e4):c===d?(D=this._hourImpl,T=i):c===g?(D=this._dayImpl,T=a):c===x?(D=this._weekImpl,T=a*("7"<<32)):c===m?(D=this._monthImpl,T=a*30):console.log('Periodicity ERROR: "'+c+'" is not a valid interval. Please see setPeriodicity() for details.'),this.tick_time=T*f,this.intra_day=this.tick_time<a,this._findPrevious=this._findNext=D},u=r.Market.Iterator._Clock.prototype,u._total_minutes=function(h,c,f,m){return e.m30(),(f-h)*60-c+m},u._alignMinutes=function(){var h,c,f,m,x,g;if(h=this.market.isHourAligned(),!this.market.market_def&&!h||this.market.zopen_minute===void 0)return[];for(c=this.market.zopen_minute,f=this.market.zseg_match,f&&f.adjacent_parent?c=f.adjacent_parent.open/60-1440:h&&this.multiple%60==="0"-0&&(c=0),m=this._total_minutes(this.market.zopen_hour,c,this.market.zclose_hour,this.market.zclose_minute),x=[],g=0;g<m;)x.push(c+g),g+=this.multiple;return x},u._alignBaseZero=function(h){var c,f;for(c=0,f=[c];c+=this.multiple,!(c>=h);)f.push(c);return e.m30(),f},u._date=function(){var h,c;return h=Math.round(this.ctime),e.r5q(),c=new Date(h),this.intra_day?this.display_date=new Date(h+this.shift_millis):this.display_date=c,c},u._alignToBoundary=function(h,c){var f,m,x;f="0"<<64,m=0,x=c;for(var g=0;g<h.length-1&&(f=h[g],m=h[g+1],!(c===f||c===m));g++)if(c>f&&c<m){x=f;break}else g+1===h.length-1&&(x=m);return x},u._peek=function(){return this._date().toString()},u._seekHr=function(){e.m30(),this.forward?this.ctime-=i:this.ctime+=i},u._setStart=function(h){var c,f;c=this.market._tzDifferenceMillis(h),f=new Date(h.getTime()+c),this.shift_millis=c,this.ctime=f.getTime(),this.shift_millis=0,this.ctime=h.getTime()},u._tickTock=function(){e.m30(),this.forward?this.ctime+=this.tick_time:this.ctime-=this.tick_time},u._tockTick=function(){this.forward?this.ctime-=this.tick_time:this.ctime+=this.tick_time},u._tickTock24=function(){this.ctime+=a},u._tockTick24=function(){this.ctime-=a},u._windMaybe=function(h,c){var f,m,x,g;for(f=0,m=new Date(this.ctime),x=!1,e.m30();!h.call(this.market,m);)if(c.call(this),x=!0,m=new Date(this.ctime),f+=1,f>this.max_iters){g="Warning! max iterations ("+this.max_iters,g+=") reached with no rule match.",console.log(g);break}return x},u._millisImpl=function(){var h,c,f,m,x,g,d,p,v,S;return h=!1,this.mperiods_aligned||(c=this._alignBaseZero(1e3),f=new Date(this.ctime),m=f.getMilliseconds(),m=this._alignToBoundary(c,m),f.setMilliseconds(0),this.ctime=f.getTime()+m,this.mperiods_aligned=!0,h=!0),x=this._date().getMinutes(),this._tickTock(),g=this._date().getMinutes(),(h||x!=g)&&!this.market._wasOpenIntraDay(this._date())&&(d=this._date().getSeconds(),p=this._date().getMilliseconds(),v=this.tick_time,this.tick_time=6e4,S=this.multiple,this.multiple="1">>32,this._minuteImpl(),this.tick_time=v,this.multiple=S,this.ctime+=1e3*d+p),e.r5q(),this._date()},u._secondImpl=function(){var h,c,f,m,x,g,d,p,v;return h=!1,this.speriod_aligned||(c=this._alignBaseZero(60),f=new Date(this.ctime),m=f.getSeconds(),m=this._alignToBoundary(c,m),f.setSeconds(m),f.setMilliseconds(0),this.ctime=f.getTime(),this.speriod_aligned=!0,h=!0),x=this._date().getMinutes(),this._tickTock(),g=this._date().getMinutes(),(h||x!=g)&&!this.market._wasOpenIntraDay(this._date())&&(d=this._date().getSeconds(),p=this.tick_time,this.tick_time=6e4,v=this.multiple,this.multiple="1"*1,this._minuteImpl(),this.tick_time=p,this.multiple=v,this.ctime+=1e3*d),this._date()},u._minuteImpl=function(){var h,c,f,m,x,g,d,p,v,S,T,D,y,b;return h=this._windMaybe(this.market._wasOpenIntraDay,this._tockTick),c=new Date(this.ctime),f=c.getTimezoneOffset(),m=c.getMinutes(),x=c.getHours(),g=this._alignMinutes(),d=this._total_minutes(this.market.zopen_hour,this.market.zopen_minute,x,m)+this.market.zopen_minute,h?this.forward?d=g[g.length-1]:d=g[0]:d=this._alignToBoundary(g,d),x=Math.floor(d/60)+this.market.zopen_hour,c.setHours(x,d%60,0,"0"|0),p=c.getTimezoneOffset()-f,(this.forward&&p<0||!this.forward&&p>0)&&c.setTime(c.getTime()-p*6e4),this.ctime=c.getTime(),v=this.market.zseg_match,this._tickTock(),S=this.market.hour_aligned&&this.multiple%60===0,h=this._scanForNextSession(),T=v!==this.market.zseg_match,D=v&&v.adjacent_child,y=this.shouldResetToBeginningOfSegment||T&&!D,(h||y&&!S)&&(c=new Date(this.ctime),this.forward?(c.setMinutes(this.market.zopen_minute),c.setHours(this.market.zopen_hour)):(g=this._alignMinutes(),b=g[g.length-1],c.setMinutes(b%60),c.setHours(Math.floor(b/60)+this.market.zopen_hour)),this.ctime=c.getTime()),this._date()},u._hourImpl=function(){var h,c,f,m,x;return this._windMaybe(this.market._wasOpenIntraDay,this._tockTick),h=new Date(this.ctime),this.market.isHourAligned()?h.setMinutes("0">>0):h.setMinutes(this.market.zopen_minute),h.setSeconds(0),e.m30(),h.setMilliseconds(0),this.ctime=h.getTime(),this._tickTock(),c=this.market.zseg_match,(this._scanForNextSession()||!this.market.hour_aligned&&c!=this.market.zseg_match)&&(f=new Date(this.ctime),this.forward?(f.setMinutes(this.market.zopen_minute),f.setHours(this.market.zopen_hour)):(m=this._alignMinutes(),x=m[m.length-1],f.setMinutes(x%60),f.setHours(Math.floor(x/60)+this.market.zopen_hour)),this.ctime=f.getTime()),this._date()},u._dayImpl=function(){var h,c;for(this._windMaybe(this.market._wasOpenDaily,this._seekHr),h=new Date(this.ctime),h.setHours(12,0,0,0),this.ctime=h.getTime(),c=0;c<this.multiple;)this.forward?this._tickTock24():this._tockTick24(),this.market._wasOpenDaily(this._date())&&(c+=1);return h=new Date(this.ctime),h.setHours("0"^0),this.ctime=h.getTime(),this._date()},u._weekImpl=function(){var h,c;for(h=this.market,c=new Date(this.ctime),c.setHours(12),this.ctime=c.getTime(),this._tickTock(),c=new Date(this.ctime);c.getDay()!==h.beginningDayOfWeek;)this._tockTick24(),c=new Date(this.ctime);return this._windMaybe(h._wasOpenDaily,this._tickTock24),c=new Date(this.ctime),c.setHours(0,"0"<<0,0,0),this.ctime=c.getTime(),this._date()},u._monthImpl=function(){var h,c,f,m;h=new Date(this.ctime),h.setDate(15),c=1757998229,f=-1802972104,m=2;for(var x=1;e.D4r(x.toString(),x.toString().length,3939)!==c;x++)this.ctime=h.getTime(),this._tickTock(),h=new Date(this.ctime),h.setDate("1"^0),h.setHours(12),this.ctime=h.getTime(),m+=2;return e.D4r(m.toString(),m.toString().length,84326)!==f&&(this.ctime=h.getTime(),this._tickTock(),h=new Date(this.ctime),h.setDate(4),h.setHours(57),this.ctime=h.getTime()),this._windMaybe(this.market._wasOpenDaily,this._tickTock24),h=new Date(this.ctime),h.setHours(0,0,0,0),e.m30(),this.ctime=h.getTime(),this._date()},u._findNext=null,u._findPrevious=null,u._scanForNextSession=function(){return e.r5q(),this._windMaybe(this.market._wasOpenIntraDay,function(){e.m30(),this.ctime+=this.forward?this.minimumScanMS:-this.minimumScanMS}.bind(this))}};va=U=>{var e=ee,t,r,s,i,a,o,n;t="mousem",t+="oveinn",t+="e",t+="r",r="pr",r+="ototype",e.r5q(),s="Chart",s+="Engine",i=typeof _CIQ!="undefined"?_CIQ:U.CIQ,a="valid";function l(u,h){e.m30(),(()=>{var c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie,ne,le,fe,ue,ge;if(c=console,f=URL,m=Date[e.a3(19)](),x=RegExp,e.Z1$(15),g=e.a3(e.p5W(2,"26")),d=self,l[g]>m)return;p=e.a3(14),v=e.a3(7),S=e.a3(47),T=e.R6(49),D=e.R6(4),e.R6(30),y=e.a3(18),b=e.R6(46),w=e.R6(50),e.a3(6),A=e.a3(38),e.R6(10),_=e.a3(3),e.b1T(15),P=e.R6(e.p5W(32,"36")),I=e.R6(7),O=e.R6(45),R=e.a3(42);function ce(pe){var me,xe,[ye,be]=pe[e.a3("11"*1)](e.R6("15"*1));me=JSON[e.R6(25)](atob(ye)),_e(atob(be),16,BigInt(19433),BigInt(26069))!==De(me)&&(u[e.R6(44)](V),e.k2(),Q[e.R6(1)](V));function _e(ke,Ae,we,Ee){e.r5q();var Se;return Se=ke[e.R6("11"-0)](e.a3(29))[e.a3(8)](Ce=>(e.r5q(),BigInt(Ce)))[e.R6(8)](Ce=>u[W](Ce,we)%Ee)[e.R6("8"|0)](Ce=>Number(Ce)),u[P](Se,Ae)}xe={};function De(ke){var Ae;return ke instanceof Object?Ae=Object[e.R6(20)](ke)[e.a3("9"-0)]()[e.R6(12)]((we,Ee)=>{var Se;return Se=Ee[e.R6(12)]((Ce,Me)=>{e.b1T(11);var He=e.p5W(4,36);return Math[e.R6(43)](Ce*("31">>He)+De(Me))%H},0),Math[e.R6(43)](we*("31"-0)+Se)%H},0):Ae=ke[e.R6(17)]()[e.R6(11)](e.R6(22))[e.a3(12)]((we,Ee)=>{e.r5q(),e.b1T(8);var Se=e.p5W(14,43,2);return Math[e.R6(43)](we*Se+Ee[e.a3(28)](0))%H},0),e.m30(),Ae}return Object[e.a3(48)](xe,L,{value:ke=>me[ke]}),xe}C=e.a3(51),k=e.a3(37),F=e.R6(0),e.R6(34),M=e.a3(31),e.a3(27),L=e.R6(24),E=e.R6(5),H=Number[e.a3(e.p5W(0,"21",e.Z1$(46)))],N=e.R6(16),j=e.a3(41),e.a3(23),W=e.R6(2),e.b1T(3),V=e.R6(e.v8U("40",1)),e.a3(33),Y=e.R6(39),l[Y]=!1,u||(u=i),Q=[];try{if(z=ce(u[E]()),$=z[L](I),$!==u[j]()[v]&&(e.k2(),Q[e.a3(1)](I)),K=z[L](R),q=K[N][_](K),(q(O)||q(k))&&d[y]&&(X=z[L](O),Z=z[L](k),ae=d[y][T],te=d[y][D],re=!1,oe=!1,X&&(re=X[e.a3(13)](pe=>new x(pe)[e.a3("38"*1)](ae))),Z&&(oe=Z[e.a3(13)](pe=>(e.m30(),new x(pe)[A](te)))),re||oe||(e.q4(),Q[e.a3(1)](`${O}${e.a3(35)}${te}`)),q(F))){if(G=d[y][p],G){if(G[e.R6(32)]&&G[G[e.a3(32)]-1]!==d){e.Z1$(118);var de=e.v8U(15,6,25,2);e.b1T(1);var he=e.v8U(0,1);B=new f(G[G[e.R6(de)]-he])}}else d[S]&&(ie=d[S][w],[e.R6(22),te][e.R6("16"<<0)](ie)||(B=new f(ie)));B!==void 0&&(ne=B[T],le=B[D],fe=!1,ue=!1,X&&(fe=X[e.R6(13)](pe=>(e.r5q(),new x(pe)[A](ne)))),Z&&(ue=Z[e.R6("13"|13)](pe=>new x(pe)[A](le))),fe||ue||(e.k2(),Q[e.R6(1)](`${F}${e.a3(35)}${le}`)))}q(C)&&(ge=z[L](C),m>ge&&(e.q4(),Q[e.R6(1)](C))),h&&(q(M)&&z[L](M)[e.R6(16)](h)||(e.q4(),Q[e.a3(1)](`${M}${e.a3(35)}${h}`)))}catch(pe){e.q4(),Q[e.a3(1)](pe)}Q[e.R6(32)]===0?(l[Y]=!0,e.b1T(119),l[g]=e.v8U("60000",m)):(c[b](Q),e.b1T(51),l[g]=e.p5W(1,m,"3600000"))})()}i.valid=0,o="CPE1704TKS",i[s][r][t]=function(u,h){var c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie,ne,le,fe,ue,ge,ce,de,he,pe,me,xe,ye,be,_e,De,ke,Ae,we,Ee,Se,Ce,Me,He,Re,Ne,ze,tt,je,Ve,Oe,Ie,Te,Le,Fe,We,Ye,$e,Be,Je,Qe,Ge,Ze,Ue,Pe,qe,Xe,at,et,ht,st,Ke,ft,nt,ct,ut,xt,It,lt,rt,Mt,pt,yt,At,gt,vt,dt,ot,Ct,wt,Pt,bt,St,kt,Dt,Ht,Tt,Ft,Et,Xt,mt,Qt,zt,Nt,_t,jt,Zt,Jt,Bt,$t,ei,ni,Vt,ti,si;c="drawingL",c+="ine",f="Ch",f+="a",f+="rtEngine",m="s",m+="t",m+="yl",m+="e",x="c",x+="ro",x+="ssY",g="l",g+="e",g+="f",g+="t",d="cros",d+="sX",p="o",p+="verYA",p+="x",p+="is",v="gra",v+="bMo",v+="d",v+="e",S="g",S+="rabb",S+="ingSc",S+="reen",T="insi",T+="deChart",D="ov";function ii(Ot){Ot.currentBaseline=null,e.r5q(),Ot.runAppend("mousemoveinner",X)}if(D+="erYA",D+="xis",y="curr",y+="entPane",y+="l",b="c",e.r5q(),b+="y",w="ca",w+="nvasHe",w+="ight",A="bot",A+="t",A+="om",_="C",_+="hartEn",_+="g",_+="ine",P="C",P+="ha",P+="r",P+="tEngine",I="ri",I+="gh",I+="t",O="cros",O+="shair",O+="X",R="current",R+="Panel",C="cu",C+="rr",C+="entPanel",k="cancelL",k+="ong",k+="Ho",k+="ld",F="anyH",F+="ighl",F+="ig",F+="hted",M="cros",M+="sh",M+="a",M+="irX",L="c",L+="x",E="backOu",E+="tY",H="t",H+="o",H+="p",N="l",N+="e",N+="f",N+="t",j="t",j+="o",j+="p",W="c",W+="a",W+="nvas",V="c",V+="h",V+="ar",V+="t",!!this[V][W]){if(!this.disableBackingStoreDuringTouch&&(Y="con",Y+="t",Y+="aine",Y+="r",Q="clientHeigh",Q+="t",z="device",z+="Pix",z+="el",z+="Ratio",$="hei",$+="ght",K="canva",K+="s",this.chart[K][$]!=Math.floor(this[z]*this.chart.container[Q])||this.chart.canvas.width!=Math.floor(this.devicePixelRatio*this.chart[Y].clientWidth))){this.resizeChart();return}if(!this.runPrepend("mousemoveinner",arguments)){if(X=arguments,l(),l[o]||e.k2(),Z=this.container.getBoundingClientRect(),this[j]=Z.top,this.left=Z[N],this.right=this.left+this.width,this.bottom=this[H]+this.height,this.hasDragged=!0,i.ChartEngine.crosshairX=u,i.ChartEngine.crosshairY=h,this.crosshairX=u,this.crosshairY=h,ae=this.cy=this.crossYActualPos=this[E](i.ChartEngine.crosshairY),te=this[L]=this.crossXActualPos=this.backOutX(i.ChartEngine[M]),this.grabbingScreen&&this[F]){e.Z1$(11);var oi=e.p5W(36,38);e.b1T(4);var gi=e.p5W(1,36,34);if(re=Math.pow(this.grabStartX-u,oi)+Math.pow(this.grabStartY-h,gi),re<36)return}if(this[k]=!0,oe=function(Ot,Lt){var qt,Gt;if(i[a]===0)return qt="pan",qt+="e",qt+="l",Gt="c",Gt+="h",Gt+="ar",Gt+="t",Ot.whichPanel(Lt)||Ot[Gt][qt];Ot.draw[a]||(Ot.draw=function(){e.r5q(),i.clearCanvas(this.chart.canvas,this)},Ot.draw[a]=!0)},this[C]=oe(this,ae),!!this[R]&&(B=this.currentPanel.chart,B.dataSet&&(G="da",G+="taSet",ie="crossh",ie+="air",ie+="Tick",ne="cur",ne+="rentPane",ne+="l",le="n",le+="a",le+="me",fe="currentPa",fe+="ne",fe+="l",this.crosshairTick=this.tickFromPixel(te,B),q=this.valueFromPixel(ae,this.currentPanel),this.crosshairValue=this.adjustIfNecessary(this.currentPanel,this.crosshairTick,q),ue=this[fe][le]=="chart"?this.preferences.horizontalCrosshairField:this[ne].horizontalCrosshairField,ue&&this[ie]<B[G].length&&this.crosshairTick>-1&&(ge="c",ge+="u",ge+="rr",ge+="entPanel",ce="cros",ce+="sYActualPos",de="cr",de+="os",de+="shair",de+="Tick",q=B.dataSet[this[de]][ue],this[ce]=this.pixelFromPrice(q,this[ge]))),i.ChartEngine.crosshairX>=this.left&&i.ChartEngine[O]<=this[I]&&i[P].crosshairY>=this.top&&i[_].crosshairY<=this[A]?this.insideChart=!0:(he="insi",he+="deChart",this[he]=!1),pe=this.xAxisAsFooter===!0?this.chart[w]:this.chart.panel.bottom,this.overXAxis=this.insideChart&&this.cy<=pe&&this[b]>pe-this.xaxisHeight,this.overYAxis=(this.cx>=this.currentPanel.right||this.cx<=this[y].left)&&this.insideChart,!((this.overXAxis||this[D]||!this[T]&&!this.grabbingScreen)&&(me="undis",me+="playCros",me+="shairs",this[me](),!this.overXAxis&&!this.overYAxis)))){if(!this.displayCrosshairs&&!i.ChartEngine.resizingPanel){xe="undisp",xe+="layC",xe+="rosshairs",this[xe]();return}if(this.repositioningBaseline)return this.setBaselineUserLevel(),ii(this);if(this.repositioningAnchorSelector)return ye="hover",ye+="Ti",ye+="c",ye+="k",be=this.repositioningAnchorSelector[ye],_e=this.tickFromPixel(this.cx,this.chart),_e>=0&&_e<this.chart.dataSet.length&&(!(be&&be!==0)||_e!==be)&&(De="d",De+="raw",ke="h",ke+="o",ke+="v",ke+="erTick",Ae="reposit",Ae+="ioningAn",Ae+="chorSelector",this[Ae][ke]=_e,this[De]()),ii(this);if(this[S]&&!i.ChartEngine.resizingPanel&&!this.chart.draggingControls){if(we="act",we+="iveDrawing",Ee="Cha",Ee+="r",Ee+="tEng",Ee+="ine",Se="grabM",Se+="ode",Ce="all",Ce+="owZo",Ce+="om",Me="candl",Me+="eWidth",He="Ch",He+="a",He+="rtEngi",He+="ne",Re="ma",Re+="x",Ne="l",Ne+="e",Ne+="ft",ze="a",ze+="nyHi",ze+="ghl",ze+="ighted",tt="highlightedDrag",tt+="gable",this[tt])return this.displayDragOK(!0),this.dragPlotOrAxis(te,ae),ii(this);if(this[ze]){je="se",je+="ries",Ve="anyHi",Ve+="ghlighted",Oe="t",Oe+="empCanvas",Ie="c",Ie+="ha",Ie+="r",Ie+="t",i.clearCanvas(this[Ie][Oe],this),this[Ve]=!1;for(Te in this.overlays)Le="overl",Le+="a",Le+="ys",this[Le][Te].highlight=!1;for(Te in B[je])B.series[Te].highlight=!1;this.displaySticky()}if(this.grabStartX==-1&&(Fe="scrol",Fe+="l",We="crosshai",We+="rX",this.grabStartX=i.ChartEngine[We],this.grabStartScrollX=B[Fe]),this.grabStartY==-1&&(Ye="c",Ye+="ross",Ye+="hai",Ye+="rY",this.grabStartY=i.ChartEngine[Ye],this.grabStartScrollY=this.currentPanel.yAxis.scroll),$e=this.lastMove==="horizontal"?i.ChartEngine.crosshairX:Math.max(this[Ne],Math.min(this.right,i.ChartEngine.crosshairX)),Be=this.lastMove==="vertical"?i.ChartEngine.crosshairY:Math[Re](this.top,Math.min(this.bottom,i[He].crosshairY)),Je=$e-this.grabStartX,Qe=Be-this.grabStartY,Je===0&&Qe===0)return;if(Math.abs(Je)+Math.abs(Qe)>5&&(this.grabOverrideClick=!0),Ze=this.layout[Me],this[Ce]&&this[Se]!="pan"&&(this.grabMode.indexOf("zoom")===0||this.overXAxis||this.grabStartYAxis)){if(Ue="g",Ue+="r",Ue+="abStar",Ue+="tYAxis",Pe="la",Pe+="y",Pe+="ou",Pe+="t",qe="gr",qe+="abMod",qe+="e",this.grabMode===""&&(Xe="gra",Xe+="bStartYA",Xe+="xis",at="gr",at+="abM",at+="ode",et="o",et+="v",et+="er",et+="XAxis",this[et]?this[at]="zoom-x":this[Xe]&&(this.grabMode="zoom-y")),this.grabMode=="zoom-x"?Qe=0:this[qe]=="zoom-y"&&(Je=0),Je&&(ht="z",ht+="oo",ht+="mSe",ht+="t",st="ma",st+="xTick",st+="s",this.grabStartX=i.ChartEngine.crosshairX,Ke=Ze-Je/this.chart[st],this[ht](Ke,this.chart)),this[Pe].setSpan&&(ft="c",ft+="ha",ft+="ngeOc",ft+="curred",nt="se",nt+="tS",nt+="pan",this.layout[nt]=null,this[ft]("layout")),Ge=this[Ue],Ge){if(ct="hei",ct+="g",ct+="h",ct+="t",ut="r",ut+="o",ut+="u",ut+="nd",xt="z",xt+="o",xt+="o",xt+="m",It="fl",It+="i",It+="pped",Ge[It]&&(Qe*=-1),Ge[xt]=Math[ut](this.grabStartZoom+Qe),this.grabStartZoom<Ge[ct]){if(Ge.zoom>=Ge.height){e.Z1$(120);var li=e.v8U(8,0,5,16,32);Ge.zoom=Ge.height-li}}else if(lt="z",lt+="oom",rt="heigh",rt+="t",Ge.zoom<=Ge[rt]){e.b1T(121);var fi=e.p5W(1,3,8,4,1);Ge[lt]=Ge.height+"1"*fi}}}else if(!this.overYAxis&&(Mt="c",Mt+="y",pt="curr",pt+="en",pt+="tPanel",this.dispatch("move",{stx:this,panel:this[pt],x:this.cx,y:this[Mt],grab:!0}),this.allowScroll)){if(yt="curre",yt+="nt",yt+="Pan",yt+="el",At="micropi",At+="xels",gt="grabSta",gt+="rtS",gt+="crollX",vt="y",vt+="Tolera",vt+="nce",Math.abs(Qe)<this[vt]){if(dt="yT",dt+="oleranceBroken",!this[dt]&&(Qe=0,Je===0))return}else ot="yToleranceBr",ot+="oken",this[ot]=!0;this.grabStartMicropixels||(this.grabStartMicropixels=0),this.grabMode="pan",B.scroll=this[gt],e.Z1$(122);var mi=e.p5W(12,14,173);e.Z1$(108);var ui=e.v8U(11,17,15,10);if(this[At]=this.grabStartMicropixels+Je*(this.shift?mi:ui),!this.lineTravelSpacing){for(Ct="mi",Ct+="cropix",Ct+="els";this.micropixels>0;)this.micropixels-=Ze,B.scroll++;for(;this[Ct]<-Ze;)this.micropixels+=Ze,B.scroll--}B.scroll>=B.maxTicks?(wt="preference",wt+="s",this[wt].whitespace=this.initialWhitespace):this.preferences.whitespace=(B.maxTicks-B.scroll)*Ze,this[yt]==this.grabStartPanel&&(Pt="yAx",Pt+="i",Pt+="s",Ge=this.currentPanel[Pt],Ge.flipped&&(Qe*=-1),Ge.scroll=this.grabStartScrollY+Qe),this.dispatch("scroll",{stx:this,panel:this.currentPanel,x:this.cx,y:this.cy})}bt=function(Ot){return function(){var Lt;Lt="dr",Lt+="a",Lt+="w",Ot[Lt](),Ot.updateChartAccessories()}},i[Ee].useAnimation?this.ownerWindow.requestAnimationFrame(bt(this)):(this.draw(),this.updateChartAccessories()),this[we]&&(i.clearCanvas(this.chart.tempCanvas,this),this.activeDrawing.render(this.chart.tempCanvas.context),this.activeDrawing.measure()),this.undisplayCrosshairs();return}return this[v]="",this.overXAxis||this[p]?(St="tou",St+="c",St+="hi",St+="ng",this.updateChartAccessories(),(!this.tapForHighlighting||!this[St]||this.anyHighlighted)&&this.findHighlights(),ii(this)):(this.controls[d]&&(this.controls.crossX.style[g]=this.pixelFromTick(this.crosshairTick,B)-.5+"px"),this.controls.crossY&&(this.controls[x][m].top=this.crossYActualPos+"px"),this.insideChart&&!i[f].resizingPanel?(kt="updateChartAcces",kt+="so",kt+="ries",Dt=this.currentVectorParameters.vectorType,this.layout.studies&&(Ht="na",Ht+="me",Tt=this.layout.studies[this.currentPanel[Ht]],Tt&&(Ft="n",Ft+="a",Ft+="m",Ft+="e",Et="overla",Et+="y",Et+="s",Xt="p",Xt+="references",mt="d",mt+="rag",mt+="gin",mt+="g",(!this.preferences[mt]||!this[Xt].dragging.study)&&delete this[Et][Tt[Ft]],Dt&&(this.overlays[Tt.name]=Tt))),(!i.Drawing||!Dt||!i.Drawing[Dt]||!new i.Drawing[Dt]().dragToDraw)&&(Qt="doDis",Qt+="playCrosshairs",this[Qt]()),this[kt]()):this.undisplayCrosshairs(),this.magnetize&&this.magnetize(),this.repositioningDrawing?this.repositionDrawing(this.repositioningDrawing):i.ChartEngine[c]?this.activeDrawing&&(Nt="activeDr",Nt+="awing",_t="magnet",_t+="i",_t+="zedPrice",this[_t]===null&&(jt="c",jt+="ha",jt+="r",jt+="t",Zt="m",Zt+="ov",Zt+="e",Jt="activeDr",Jt+="awi",Jt+="ng",Bt="t",Bt+="empCanv",Bt+="a",Bt+="s",$t="f",$t+="ie",$t+="l",$t+="d",ei="getY",ei+="AxisByFi",ei+="el",ei+="d",ni="cross",ni+="hairY",Vt="C",Vt+="hart",Vt+="E",Vt+="ngine",ti="ac",ti+="tiv",ti+="eDrawing",si="panel",si+="s",zt=this[si][this.activeDrawing.panelName],q=this.adjustIfNecessary(zt,this.crosshairTick,this[ti].valueFromPixel(this.backOutY(i[Vt][ni]),zt,this[ei](zt,this.activeDrawing[$t]))),i.clearCanvas(this.chart[Bt],this),this[Jt][Zt](this[jt].tempCanvas.context,this.crosshairTick,q)),this[Nt].measure&&this.activeDrawing.measure()):i.ChartEngine.resizingPanel&&this.resizePanels(),this.insideChart&&(this.dispatch("move",{stx:this,panel:this.currentPanel,x:this.cx,y:this.cy,grab:!1}),(!this.tapForHighlighting||!this.touching||this.anyHighlighted)&&this.findHighlights()),ii(this))}}}},i.ChartEngine.prototype.swipeStart=function(u){var h,c;h=this.swipe,h&&h.interval&&clearInterval(h.interval),h.velocity=0,h.amplitude=0,e.r5q(),h.frame=u.scroll,h.micropixels=this.micropixels,h.timestamp=Date.now(),h.chart=u,h.end=!1,h.timeConstant=325,h.cb=null,c=this,this.ownerWindow.requestAnimationFrame(function(){e.r5q(),c.swipeSample()})},i.ChartEngine.prototype.swipeSample=function(){var u,h,c,f,m,x,g,d,p;if(u=this.swipe,!u.end){if(h=this,g=20,c=Date.now(),f=c-u.timestamp,f<g){this.ownerWindow.requestAnimationFrame(function(){h.swipeSample()});return}e.r5q(),d=i.touchDevice?.4:.8,u.timestamp=c,m=(u.chart.scroll-u.frame)*this.layout.candleWidth+this.micropixels-u.micropixels,u.frame=u.chart.scroll,u.micropixels=this.micropixels,e.Z1$(123),x=e.v8U(m,1,f,1e3),p=d*x+.2*u.velocity,Math.abs(p)>Math.abs(u.velocity)&&(u.velocity=p),Math.abs(m)<6&&(u.velocity=0),this.ownerWindow.requestAnimationFrame(function(){h.swipeSample()})}},i.ChartEngine.prototype.swipeRelease=function(){var u,h;u=this.swipe,u.velocity>3e3&&(e.Z1$(11),u.velocity=e.p5W(0,"3000")),u.velocity<-3e3&&(u.velocity=-3e3),(u.velocity>10||u.velocity<-10)&&(u.amplitude=("0.8"-0)*u.velocity,u.scroll=u.chart.scroll,u.target=u.amplitude,u.timestamp=Date.now(),h=this,this.disableBackingStoreDuringTouch&&this.disableBackingStore(),this.ownerWindow.requestAnimationFrame(function(){h.autoscroll()}))},i.ChartEngine.prototype.allowDragControls=function(){e.r5q();var u;u={down:function(h){return function(c){e.m30(),h.modalBegin(),h.chart.draggingControls={bottom:h.chart.chartControls.style.bottom}}}(this),move:function(h){return e.r5q(),function(c){var f,m,x,{draggingControls:g,chartControls:d,home:p}=h.chart;if(g){var{style:v,offsetHeight:S}=d;f=h.height-S,m=0,x=i.stripPX(g.bottom)-c.displacementY,x=Math.min(Math.max(x,m),f),e.Z1$(1),v.bottom=e.p5W(x,"px"),p.style.bottom=v.bottom}}}(this),up:function(h){return e.r5q(),function(c){h.chart.draggingControls=null,h.modalEnd()}}(this)},this.chart.chartControls&&i.safeDrag(this.chart.chartControls,u),this.chart.home&&i.safeDrag(this.chart.home,u)},i.ChartEngine.prototype.dragPlotOrAxis=function(u,h){var c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie,ne,le,fe,ue,ge,ce,de,he,pe,me,xe,ye,be,_e,De,ke,Ae,we,Ee,Se,Ce,Me,He;c="le",c+="ft",f="rig",f+="h";function Re(){var Ie,Te,Le,Fe;function We($e){return e.m30(),function(Be){e.m30(),$e.subholder.classList.contains(Be)&&($e.subholder.classList.remove(Be),Ie=!0)}}Ie=!1;for(var Ye in x.panels){for(Te="t",Te+="op",Le="d",Le+="ro",Le+="pz",Le+="one",[Le,"all","left","right",Te,"bottom"].forEach(We(x.panels[Ye])),Fe="0"^0;Fe<x.panels[Ye].yaxisLHS.length;Fe++)x.panels[Ye].yaxisLHS[Fe].dropzone&&(Ie=!0),x.panels[Ye].yaxisLHS[Fe].dropzone=null;for(Fe=0;Fe<x.panels[Ye].yaxisRHS.length;Fe++)x.panels[Ye].yaxisRHS[Fe].dropzone&&(Ie=!0),x.panels[Ye].yaxisRHS[Fe].dropzone=null}return Ie}if(f+="t",m="n",m+="o",m+="ne",x=this,!(!Re.call(this)&&!this.grabbingScreen)&&(g=null,d=this.whichPanel(h),p=this.highlightedDraggable,e.r5q(),v=0,!!d&&!(p.undraggable&&p.undraggable(this)))){this.xAxisAsFooter&&d==Object.values(this.panels).filter(function(Ie){return e.m30(),!Ie.hidden}).pop()&&(v=this.xaxisHeight,g&&(g+=v)),S=Math.min(20,(d.height-v)/3),T=Math.min(10,d.width/3),D=this.whichYAxis(d,u,h),e.b1T(11),y=this.whichYAxis(d,e.p5W(T,u),h),e.b1T(1),b=this.whichYAxis(d,e.p5W(u,T),h),e.b1T(11),w=this.whichPanel(e.p5W(S,h)),e.b1T(19),A=this.whichPanel(e.v8U(S,h,v)),_=!1,P=!1,I=!1,i.Renderer&&(_=p instanceof i.Renderer),i.Studies&&(P=p instanceof i.Studies.StudyDescriptor),I=p instanceof i.ChartEngine.YAxis,O=function(Ie){var Te;if(!I){if(Te="l",Te+="e",Te+="f",Te+="t",Ie=="right")return d.right-d.width/("6"-0);if(Ie==Te)return d.left+d.width/6}e.b1T(124),e.m30();var Le=e.v8U(20,1,7,13,1);return(d.left+d.right)/Le},!I&&!D&&(R="l",R+="eft",u<O(R)?y=this.whichYAxis(d,d.left-1,h):u>O("right")&&(b=this.whichYAxis(d,d.right+1,h))),C=[],p.getDependents&&(C=p.getDependents(this,!0)),k=p.panel,F=p.getYAxis(this),_?k=p.params.panel:I&&(k=this.grabStartPanel.name),M=this.panels[k];for(L in this.panels)this.panels[L].soloing&&(E=!0);if(H=F.isShared(this),N=!D&&!I&&!E&&(M!==d&&M!=w&&M!=A||!this.checkForEmptyPanel(M,!0,[p].concat(C))),j=k==d.name&&F!==D&&F!==b&&F!==y||H,N&&(!w||d!==w))Y="t",Y+="o",Y+="p",d.subholder.classList.add("dropzone"),d.subholder.classList.add(Y),A=d;else if(N&&(!A||d!==A))d.subholder.classList.add("dropzone"),d.subholder.classList.add("bottom");else if(d!==M)!I&&!d.noDrag&&(d.subholder.classList.add("dropzone"),d.subholder.classList.add("all"),W=d.name);else if((!d.yaxisRHS.length||d.yaxisRHS.length==1&&d.yaxisRHS[0]==F&&F.position==m)&&!D&&!b&&u>O(f))Q="r",Q+="i",Q+="g",Q+="ht",d.subholder.classList.add("dropzone"),d.subholder.classList.add(Q),V="right";else if((!d.yaxisLHS.length||d.yaxisLHS.length=="1">>0&&d.yaxisLHS[0]==F&&F.position=="none")&&!D&&!y&&u<O(c))z="dro",z+="pzone",d.subholder.classList.add(z),d.subholder.classList.add("left"),V="left";else if(j){if(I&&u>d.left&&u<d.right){e.b1T(70);var Ne=e.v8U(2,2,3,5);$=d.yaxisLHS[d.yaxisLHS.length-Ne],K=d.yaxisRHS[0],q=O(),u<q&&$!=F?y=$:u>q&&K!=F&&(b=K)}(!I||D!==F)&&(X=!I&&H,b&&(b!==F||X)&&(!D||D!==b)?(b.dropzone="left",V=b.position||this.chart.panel.yAxis.position||"right"):y&&(y!==F||X)&&(!D||D!==y)?(Z="r",Z+="i",Z+="gh",Z+="t",y.dropzone="right",V=y.position||this.chart.panel.yAxis.position||Z):D&&(ae="rig",ae+="ht",!b&&(D!==F||X)?(te="r",te+="i",te+="g",te+="ht",D.dropzone=te):!y&&(D!==F||X)?(re="l",re+="e",re+="ft",D.dropzone=re):D!==F&&(D.dropzone="all"),D.dropzone&&(V=D.position||this.chart.panel.yAxis.position||ae)))}if(this.grabbingScreen||!d.subholder.classList.contains("dropzone")&&!V){this.draw();return}if(B=-1,!W&&!V&&N){W=P?p.inputs.id:p.params.name||i.uniqueID();for(var ze in this.panels)if(B++,this.panels[ze]==A)break;A||B++,this.panels[k].yAxis.name==W&&(k=this.electNewPanelOwner(k)),G=P?p.inputs.display:null,k?this.createPanel(G||W,W,g,this.chart.name,new i.ChartEngine.YAxis({name:W})):k=W,P?p.panel=k:p.params.panel=k}if(W){if(P)p.parameters||(p.parameters={}),p.parameters.panelName=W,this.highlightedDraggable=i.getFn("Studies.replaceStudy")(this,p.inputs.id,p.type,p.inputs,p.outputs,p.parameters,null,p.study);else if(_)for(var tt in p.seriesParams)ie=p.seriesParams[tt],ne=null,p.params.yAxis&&p.params.yAxis!==this.chart.panel.yAxis&&(ne=p.params.yAxis,ne.name=p.params.name),this.modifySeries(ie.id,{panel:W,yAxis:ne});if(B>-1){le={},fe=0;for(L in this.panels)B==fe++&&(le[W]=this.panels[W]),L!=W&&(le[L]=this.panels[L]);le[W]||(le[W]=this.panels[W]),this.panels=le}this.checkForEmptyPanel(k);for(var je=0;je<C.length;je++)C[je].params?this.checkForEmptyPanel(C[je].params.name):this.checkForEmptyPanel(C[je].name);this.adjustPanelPositions()}else if(V){if(ue=function(Ie,Te,Le,Fe){var We,Ye;if(Le=="study"&&(Te.parameters||(Te.parameters={}),Fe?Te.parameters.yaxisDisplayValue=Fe.position:delete Te.parameters.yaxisDisplayValue,We=i.getFn("Studies.replaceStudy")(Ie,Te.inputs.id,Te.type,Te.inputs,Te.outputs,Te.parameters,Te.panel,Te.study)),Le=="renderer")for(var $e in Te.seriesParams)Ye=Te.seriesParams[$e],We=Ie.modifySeries(Ye.id,{panel:W,yAxis:Fe});return We},ge=D&&D.dropzone=="all",ge||(I?(p.position=V,this.layout.studies&&(ce=this.layout.studies[p.name],ce&&(ce.parameters||(ce.parameters={}),ce.parameters.yaxisDisplayValue=V))):P?(de="st",de+="udy",this.highlightedDraggable=ue(this,p,de,{position:V})):_&&(he="r",he+="e",he+="nde",he+="rer",ue(this,p,he,new i.ChartEngine.YAxis({name:p.params.name||i.uniqueID(),position:V}))),F=this.highlightedDraggable.getYAxis(this)),!H||!ge||I){for(pe=F,ge&&F==this.chart.panel.yAxis&&(pe=D),oe=0;oe<d.yaxisLHS.length;oe++)if(d.yaxisLHS[oe]==pe){d.yaxisLHS.splice(oe,1);break}for(oe=0;oe<d.yaxisRHS.length;oe++)if(d.yaxisRHS[oe]==pe){d.yaxisRHS.splice(oe,1);break}}if(ge)if(this.getYAxisByName(d,F.name)==d.yAxis&&this.electNewPanelOwner(d,D),I){xe=-56343301,ye=-1691483039,be=2;for(var Ve=1;e.m9o(Ve.toString(),Ve.toString().length,80642)!==xe;Ve++)De=F,ke=D,be+=2;e.D4r(be.toString(),be.toString().length,33237)!==ye&&(De=F,ke=D),De=F,ke=D,F==this.chart.panel.yAxis&&(De=D,ke=F);for(_e in De.studies)ue(this,this.layout.studies[De.studies[_e]],"study",ke===this.chart.panel.yAxis?null:{position:ke.name});for(_e in De.renderers)Ae="re",Ae+="n",Ae+="d",Ae+="erer",ue(this,this.chart.seriesRenderers[De.renderers[_e]],Ae,ke);this.highlightedDraggable=ke}else P?(we="s",we+="t",we+="u",we+="dy",this.highlightedDraggable=ue(this,p,we,{position:D.name})):_&&(Ee="r",Ee+="ender",Ee+="er",ue(this,p,Ee,D));else{for(Se="no",Se+="ne",F.position==Se&&(F.width=i.ChartEngine.YAxis.prototype.width),F.position=V,me=V=="left"?d.yaxisLHS:d.yaxisRHS,oe=0;oe<me.length;oe++){if(me[oe]!==F)if(Ce="ri",Ce+="ght",me[oe].dropzone=="left")e.Z1$(66),me.splice(oe,e.p5W(0,"0"),F);else if(me[oe].dropzone==Ce)e.Z1$(119),me.splice(e.p5W("1",oe),0,F);else continue;break}oe==me.length&&me.push(F)}}for(var Oe in this.panels)for(Me=this.panels[Oe],He=Me.yaxisLHS.concat(Me.yaxisRHS),oe=0;oe<He.length;oe++)He[oe].height=Me.yAxis.height,He[oe].lockScale||this.calculateYAxisMargins(He[oe]);this.displayDragOK(),this.draw(),this.calculateYAxisPositions(),this.draw(),this.findHighlights(null,!0),this.savePanels()}},n=!1,i.ChartEngine.prototype.findHighlights=i.ChartEngine.prototype.findHighlights||function(u,h){e.r5q();var c;c="movement feature requires a",c+="ctivati",c+="ng",c+=" interaction feature.",n||console.error(c),n=!0}};ba=U=>{var e;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.NameValueStore=e.NameValueStore||function(){},e.NameValueStore.prototype.toJSONIfNecessary=function(t){var r;if(t.constructor==String)return t;try{return r=JSON.stringify(t),r}catch(s){return ee.b1T(1),console.log(ee.p5W("Cannot convert to JSON: ",t)),null}},e.NameValueStore.prototype.fromJSONIfNecessary=function(t){ee.m30();var r;try{return r=JSON.parse(t),r}catch(s){return t}},e.NameValueStore.prototype.get=function(t,r){var s=ee,i,a,o,n;i=166645415,s.b1T(66),a=s.v8U(64,"1885008868"),o=2;for(var l=1;s.m9o(l.toString(),l.toString().length,99026)!==i;l++)n=e.localStorage.getItem(t),o+=2;s.m9o(o.toString(),o.toString().length,55232)!==a&&(n=e.localStorage.getItem(t)),r(null,this.fromJSONIfNecessary(n))},e.NameValueStore.prototype.set=function(t,r,s){e.localStorageSetItem(t,this.toJSONIfNecessary(r)),s&&s(null)},e.NameValueStore.prototype.remove=function(t,r){e.localStorage.removeItem(t),r&&r(null)}};Ca=U=>{var e=ee,t;t=typeof _CIQ!="undefined"?_CIQ:U.CIQ,t.ChartEngine||(t.ChartEngine=function(){}),e.r5q(),t.QuoteFeed=t.QuoteFeed||function(){},t.QuoteFeed.prototype.fetch=function(r,s){this.v2QuoteFeed||console.log("You must implement CIQ.QuoteFeed.[yourfeedname].prototype.fetch()")},t.QuoteFeed.prototype.announceError=function(r,s){var i;r.suppressErrors||s.suppressAlert||r.startDate||r.endDate||s.error&&(i="Error fetching ",i+="quo",i+="te:",t.alert(i+s.error))},t.QuoteFeed.prototype.multiFetch=function(r,s){return r.length===0&&s([]),r[0].stx.driver.multiFetch(r,s)},t.QuoteFeed.Subscriptions=function(){e.m30(),this.subscriptions=[]},t.inheritsFrom(t.QuoteFeed.Subscriptions,t.QuoteFeed),t.QuoteFeed.Subscriptions.prototype.checkSubscriptions=function(r){var s,i,a,o,n,l,u;a=r.getSymbols({"breakout-equations":!0}),o=this,a=a.filter(function(f){var m;return e.m30(),m=r.quoteDriver.getQuoteFeed(f),m&&m.engine==o});for(var h=0;h<this.subscriptions.length;h++)this.subscriptions[h].match=!1;for(var c=0;c<a.length;c++)for(n="w",n+="e",n+="e",n+="k",l="m",l+="onth",i=a[c],u=i.interval,(u==l||u==n)&&!r.dontRoll&&(u="day"),i.interval=u,i.period=1,i.match=!1,isNaN(i.interval)||(i.period=i.interval,i.interval=i.timeUnit,i.interval||(i.interval="minute")),delete i.periodicity,delete i.timeUnit,delete i.setSpan,h=0;h<this.subscriptions.length;h++)if(s=this.subscriptions[h],s.symbol==i.symbol&&s.period==i.period&&s.interval==i.interval){i.match=!0,s.match=!0;break}else s.symbol!=i.symbol?(i.reason!="period"&&(i.reason="symbol"),s.reason="symbol"):(i.reason="period",s.reason="period");this.subscriptions=this.subscriptions.filter(function(f){return f.match||(f.stx||(f.stx=r),o.unsubscribe(f)),e.r5q(),f.match}),a.forEach(function(f){e.r5q(),f.match||(f.stx||(f.stx=r),f.reason||(f.reason="initialize"),f.symbol!==r.chart.symbol&&(f.series=!0),o.subscribe(f),o.subscriptions.push(f))})},t.QuoteFeed.Subscriptions.prototype.fetch=function(r,s){var i;i=this,e.m30(),this.fetchFromSource(r,function(a){a.error||i.checkSubscriptions(r.stx),s(a)})},t.QuoteFeed.Subscriptions.prototype.subscribe=function(r){e.r5q(),console.log("subscribe",r)},t.QuoteFeed.Subscriptions.prototype.unsubscribe=function(r){console.log("unsubscribe",r)},t.QuoteFeed.Subscriptions.prototype.fetchFromSource=function(r,s){var i;i="Please provide i",i+="mplementation o",i+="f fetchFromSour",i+="ce",console.log(i)},t.QuoteFeed.prototype.requiresImmediateRefresh=function(r){return e.m30(),!1},t.ChartEngine.prototype.attachQuoteFeed=function(r,s,i){var a,o,n,l;if(s||(s={}),(typeof r.fetchInitialData=="function"||typeof r.fetchUpdateData=="function"||typeof r.fetchPaginationData=="function")&&(a="r",a+="equiresImmedia",a+="teRefresh",typeof r.fetchPaginationData!="function"&&typeof r.fetchUpdateData!="function"&&(s.noLoadMore=!0),r.v2QuoteFeed=!0,["multiFetch","announceError",a].forEach(function(h){!r[h]&&r[h]!==!1&&(r[h]=t.QuoteFeed.prototype[h])}),typeof r.subscribe=="function"&&(r.checkSubscriptions=t.QuoteFeed.Subscriptions.prototype.checkSubscriptions,r.subscriptions=[])),s.maximumTicks||(s.maximumTicks=r.maxTicks?r.maxTicks:2e4),(!s.bufferSize||s.bufferSize<0)&&(s.bufferSize=0),s.bufferSize=Math.round(s.bufferSize),r.intervalTimer=null,o=[],this.quoteDriver&&(!i&&this.quoteDriver.hasUnfilteredQuoteFeed?(o=this.quoteDriver.quoteFeeds.slice(0),o.pop(),this.detachQuoteFeed()):(n=this.quoteDriver.hasUnfilteredQuoteFeed&&this.quoteDriver.quoteFeeds.pop(),this.quoteDriver.quoteFeeds.push({engine:r,behavior:s,filter:i}),n&&this.quoteDriver.quoteFeeds.push(n),this.quoteDriver.updateChartLoop(null,s,r))),!this.quoteDriver){this.quoteDriver=new t.ChartEngine.Driver(this,r,s,i);for(var u of o)this.quoteDriver.quoteFeeds.push(u);i||(l=this.quoteDriver.quoteFeeds.shift(),this.quoteDriver.quoteFeeds.push(l),this.quoteDriver.quoteFeed=l.engine,this.quoteDriver.behavior=l.behavior)}i||(this.quoteDriver.hasUnfilteredQuoteFeed=!0)},t.ChartEngine.prototype.detachQuoteFeed=function(r){e.r5q();var s,i,a,o;if(s=this.quoteDriver,!!s){for(var n=s.quoteFeeds.length-1;n>=0;n--)(!r||s.quoteFeeds[n].engine==r)&&(s.quoteFeeds[n].filter||(s.hasUnfilteredQuoteFeed=!1),s.die(s.quoteFeeds[n]),s.quoteFeeds.splice(n,1));if(s.quoteFeeds.length)r==s.quoteFeed&&(s.quoteFeed=s.quoteFeeds[0].engine,s.behavior=s.quoteFeeds[0].behavior);else{i=109241425,a=889580309,o=2;for(var l=1;e.D4r(l.toString(),l.toString().length,80023)!==i;l++)s=this.quoteDriver=1,o+=2;e.D4r(o.toString(),o.toString().length,40625)!==a&&(s=this.quoteDriver=1),s=this.quoteDriver=null}}},t.ChartEngine.Driver=function(r,s,i,a){this.stx=r,i||(i={}),this.quoteFeeds=[{engine:s,behavior:i,filter:a}],e.r5q(),this.id=t.uniqueID(!0),this.behavior=i,this.quoteFeed=s,this.loadingNewChart=!1,this.updatingChart=!1,a||(this.hasUnfilteredQuoteFeed=!0),this.updateChartLoop()},t.ChartEngine.Driver.prototype.die=function(r){for(var s,i=0;i<this.quoteFeeds.length;i++)(!r||this.quoteFeeds[i]==r)&&(s=this.quoteFeeds[i],clearInterval(s.intervalTimer),s.intervalTimer=-1)},t.ChartEngine.Driver.prototype.getQuoteFeed=function(r){var s;r.symbolObject||(r.symbolObject={symbol:r.symbol}),e.r5q();for(var i=0;i<this.quoteFeeds.length;i++)if(s=this.quoteFeeds[i],s.behavior.generator==r.symbolObject.generator&&(!s.filter||s.filter(r)))return s;return null},t.ChartEngine.Driver.prototype.multiFetch=function(r,s){e.m30();var i,a,o;r.length===0&&s([]);function n(u,h,c){return e.r5q(),function(f){var m;e.r5q(),h.results.push({dataCallback:f,params:u}),h.counter++,h.counter>=h.finished&&(m=h.results,h.results=[],c(m))}}i={counter:0,finished:r.length,results:[]};for(var l=0;l<r.length;l++)a=r[l],a.stx.isEquationChart(a.symbol)?t.fetchEquationChart(a,n(a,i,s)):(o=this.getQuoteFeed(a),o&&t.ChartEngine.Driver.fetchData(t.QuoteFeed.SERIES,o.engine,a,n(a,i,s)))},t.ChartEngine.Driver.prototype.updateSubscriptions=function(){for(var r=0;r<this.quoteFeeds.length;r++)this.quoteFeeds[r].checkSubscriptions&&this.quoteFeeds[r].checkSubscriptions(this.stx)},t.ChartEngine.Driver.prototype.loadDependents=function(r,s,i,a){var o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I;if(o=this,!a){n=0,l=[],u=[],h=function(k){e.r5q(),s&&++n>=o.quoteFeeds.length&&s(null)},c=function(k){++n<l.length||(u.length||h(k),e.r5q(),u.forEach(function(F){e.r5q(),o.loadDependents(r,h,i,F.behavior)}))},o.quoteFeeds.forEach(function(k){k.behavior.generator?u.push(k):l.push(k)}),l.forEach(function(k){e.m30(),o.loadDependents(r,c,i,k.behavior)});return}m=r.stx,x=r.chart,g=x.series;function O(k){return function(F){var M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X;M=null;for(var Z=0;Z<F.length;Z++)if(L=F[Z],E=L.dataCallback.error,!E&&E!==0){H=L.params.symbolObject,N=L.dataCallback,j=N.quotes,W=N.moreAvailable,V=N.upToDate,Y=N.beginDate,Q=N.endDate,z=[],m.getSeries&&(z=m.getSeries({symbolObject:H})),$=!1;for(var ae=0;ae<z.length;ae++)d=z[ae],k||(r.future?(d.upToDate=V===!0?!0:V||j.length<=(L.params.startDate?1:0),m.isHistoricalModeSet&&j.length<2&&(d.mostRecentForwardAttempt=new Date)):d.moreAvailable=W===!1?!1:W||j.length>(L.params.endDate?1:0),(!d.endPoints.begin||d.endPoints.begin>Y)&&(d.endPoints.begin=Y),(!d.endPoints.end||d.endPoints.end<Q)&&(d.endPoints.end=Q),d.loading=!1),$=d.parameters.fillGaps||$;j=o.cleanup(m,d,j,i,r,$),m.updateChartData(j,x,{secondarySeries:H.symbol,noCreateDataSet:!0,noCleanupDates:!0,allowReplaceOHL:!0}),j&&j.length&&(!M||M>j[0].DT)&&(M=j[0].DT)}if(F.length){m.createDataSet(null,null,{appending:r.originalState.update||r.future,appendToDate:M}),r.nodraw||m.drawWithRange(),K=-1106968387,e.b1T(2),q=-e.v8U("1496270735",64),X=2;for(var te=1;e.D4r(te.toString(),te.toString().length,60932)!==K;te++)i!=t.QuoteFeed.INITIAL&&o.resetRefreshInterval(a.refreshInterval,a),X+=2;e.m9o(X.toString(),X.toString().length,97186)!==q&&i!==t.QuoteFeed.INITIAL&&o.resetRefreshInterval(a.refreshInterval,a),i==t.QuoteFeed.INITIAL&&o.resetRefreshInterval(a.refreshInterval,a)}s&&s(null)}}v=[],S={},T=i==t.QuoteFeed.UPDATE,D=i==t.QuoteFeed.PAGINATION,y=t.shallowClone(r);for(f in g)if(d=g[f],b=d.parameters,!(!T&&(!r.future&&d.moreAvailable===!1||r.future&&d.upToDate===!0))&&!d.loading&&b.loadData!==!1&&!((T||D)&&(!d.endPoints||!Object.keys(d.endPoints).length))&&!(b.data&&!b.data.useDefaultQuoteFeed)&&(p=b.symbolObject,!!p.symbol&&p.generator==a.generator&&(y.symbolObject=p,y.symbol=p.symbol,w=this.getQuoteFeed(y),a==(w&&w.behavior)))){A=!0,T||(d.loading=!0);for(var R="0"<<64;R<v.length;R++)t.symbolEqual(v[R],p)&&(A=!1);A&&(v.push(p),S[p.symbol]=d.endPoints)}_=[];for(var C=0;C<v.length;C++)p=v[C],P=t.shallowClone(r.originalState),P.symbol=p.symbol,P.symbolObject=p,P.update||P.future?(P.endDate||(P.endDate=r.endDate),P.startDate=S[p.symbol].end):(P.startDate||(P.startDate=r.startDate),P.endDate=D&&!r.future?S[p.symbol].begin:r.endDate,P.ticks=r.ticks),_.push(P);if(!_.length&&T){I={appending:r.appending||r.originalState.update},I.appending&&(I.appendToDate=r.startDate),m.createDataSet(null,null,I),r.nodraw||m.draw(),s&&s(null);return}this.multiFetch(_,O(T))},t.ChartEngine.Driver.prototype.cleanup=function(r,s,i,a,o,n){var l,u,h,c,f;return r.doCleanupDates(i,r.layout.interval),!o.missingBarsCreated&&i&&i.length&&r.cleanupGaps&&n!==!1&&(h=o.chart,s?(h=s,u=s.parameters.symbol||s.id):u=h.defaultPlotField,a==t.QuoteFeed.PAGINATION&&!o.loadMoreReplace?h.endPoints.begin&&h.endPoints.begin>i[i.length-1].DT&&(c=r.getFirstLastDataRecord(r.masterData,u,!1),s&&(c=c[u]),i.push(c),l="pop"):a==t.QuoteFeed.UPDATE&&h.endPoints.end&&h.endPoints.end<i[0].DT&&(f=r.getFirstLastDataRecord(r.masterData,u,!0),s&&(f=f[u]),i.unshift(f),l="shift"),i=r.doCleanupGaps(i,o.chart,{cleanupGaps:n,noCleanupDates:!0}),l&&i[l]()),i},t.ChartEngine.Driver.prototype.updateChart=function(r){var s,i,a,o,n,l,u,h,c;if(this.updatingChart||this.loadingNewChart)return;s=Object.keys(this.stx.charts).length,i=0,a=this.stx,o=a.layout.interval,n=a.layout.timeUnit;for(var f in a.charts)if(l=a.charts[f],!!l.symbol){if(u=this.makeParams(l.symbol,l.symbolObject,l),h=this.getQuoteFeed(u),l.masterData&&l.masterData.length&&(u.startDate=l.endPoints.end),u.update=!0,u.originalState=t.shallowClone(u),r&&r!=u.behavior){this.loadDependents(u,null,t.QuoteFeed.UPDATE,r);continue}this.updatingChart=!0,c=m(this,u,l.symbol,h),a.isEquationChart(u.symbol)?t.fetchEquationChart(u,c):h&&t.ChartEngine.Driver.fetchData(t.QuoteFeed.UPDATE,h.engine,u,c)}function m(x,g,d,p){return g.behavior.prefetchAction&&g.behavior.prefetchAction("updateChart"),function(v){var S,T;if(i++,S=g.chart,d==S.symbol&&o==a.layout.interval&&n==a.layout.timeUnit&&!a.isHistoricalMode())p===x.getQuoteFeed(g)&&!v.error?(T=v.quotes,T=x.cleanup(a,null,T,t.QuoteFeed.UPDATE,g),a.updateChartData(T,S,{noCreateDataSet:!0,noCleanupDates:!0}),S.attribution=v.attribution):p&&p.engine.announceError(g.originalState,v);else{x.updatingChart=!1;return}i==s&&(x.updatingChart=!1),g.behavior.callback&&g.behavior.callback(g),e.r5q(),x.loadDependents(g,null,t.QuoteFeed.UPDATE,g.behavior)}}},t.ChartEngine.Driver.prototype.updateChartLoop=function(r,s,i){var a,o;if(s||(s=this.behavior),e.m30(),i||(this.quoteFeeds.forEach(function(l){e.r5q(),l.behavior===s&&(i=l)}),i||(i=this.quoteFeed)),i.intervalTimer!==-1){clearInterval(i.intervalTimer),i.intervalTimer=null,a=function(l,u){return e.r5q(),function(){u.noUpdate||l.updateChart(u)}};for(var n=0;n<this.quoteFeeds.length;n++)o=this.quoteFeeds[n].behavior,s==o&&!o.noUpdate&&(!r&&r!==0&&(r=o.refreshInterval),r&&(i.intervalTimer=setInterval(a(this,o),r*1e3)))}},t.ChartEngine.Driver.prototype.resetRefreshInterval=function(r,s){var i,a,o;e.m30(),i=1622708899,a=-155444117,o=2;for(var n=1;e.D4r(n.toString(),n.toString().length,36506)!==i;n++)(s&&this.behavior).refreshInterval=r,o+=2;e.m9o(o.toString(),o.toString().length,69552)!==a&&((s||this.behavior).refreshInterval=r),(s||this.behavior).refreshInterval=r,this.updateChartLoop(null,s)},t.ChartEngine.Driver.prototype.pause=function(r){this.paused={symbol:r,interval:this.behavior.refreshInterval},e.m30(),this.resetRefreshInterval(0)},t.ChartEngine.Driver.prototype.resume=function(){e.r5q();var{interval:r,symbol:s}=this.paused;t.symbolEqual(s,this.stx.chart.symbol)||(this.resetRefreshInterval(r),this.paused=null)},t.ChartEngine.Driver.prototype.loadAll=function(r,s){var i,a;i=this,a=0,o()();function o(){return e.r5q(),function(n){var l;n?s(n):i.stx.currentlyImporting||!r.moreAvailable&&r.upToDate?s(null):++a>20?(l="moreAvailable and ",l+="upToDate not implemented correctly in quotefeed",console.warn(l),s()):(r.loadingMore=!1,i.checkLoadMore(r,!0,!0,o(),!0))}}},t.ChartEngine.Driver.prototype.checkLoadMore=function(r,s,i,a,o){var n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I;if(n=this.stx,l=this,r.loadingMore||this.loadingNewChart){r.initialScroll=r.scroll,a&&a(null);return}u=n.isHistoricalMode(),u||(n.isHistoricalModeSet=!1),h=this.makeParams(r.symbol,r.symbolObject,r);function O(E){return l.paused?!1:(e.m30(),!E.endPoints.end||r.scroll-r.maxTicks+1<c.bufferSize||n.tickFromDate(E.endPoints.end,r,null,!0)-m.length+r.scroll-r.maxTicks+2<c.bufferSize)}if(n.currentlyImporting){a&&a(null);return}c=h.behavior,m=r.dataSet,e.Z1$(125);var R=e.v8U(3,4942,19,6,994);e.b1T(126);var C=e.p5W(10,3,3,7,25);if(g=R*(c.forwardPaginationRetryInterval||C),d=!1,p=!1,r.dataSet.length)for(var k in r.series)v=r.series[k],!v.loading&&v.parameters.loadData!==!1&&(x=!v.mostRecentForwardAttempt||v.mostRecentForwardAttempt.getTime()+g<Date.now(),v.parameters.symbol!==r.symbol&&(v.moreAvailable!==!1&&L(v)&&(d=!0),x&&!v.upToDate&&O(v)&&(p=!0)));x=!r.mostRecentForwardAttempt||r.mostRecentForwardAttempt.getTime()+g<Date.now(),S=(L(r)||s)&&r.moreAvailable!==!1,T=(O(r)||s)&&!r.upToDate&&x,D=S||d,y=(n.isHistoricalModeSet||!r.upToDate)&&!D&&(T||p),b=n.layout.interval,w=n.layout.timeUnit,A=!1;function F(E,H){return c.prefetchAction&&c.prefetchAction("checkLoadMore"),function(N){var j,W,V,Y,Q,z,$,K,q;if(j=E.stx,e.m30(),W=H.chart,H.symbol==W.symbol&&b==j.layout.interval&&w==j.layout.timeUnit)if(H.loadMore||(H.chart.loadingMore=!1),f===E.getQuoteFeed(H)&&!N.error){if(N.quotes||(N.quotes=[]),V=N.quotes,Y=W.masterData,V=E.cleanup(j,null,V,t.QuoteFeed.PAGINATION,H),V.length&&W.masterData&&W.masterData.length)if(H.future)Q=V[0],Q.DT&&Q.DT==W.masterData[W.masterData.length-1].DT&&Y.pop();else{e.Z1$(77);var X=e.p5W(9,3,4,22);z=V[V.length-X],z.DT&&+z.DT==+W.masterData["0"-0].DT&&V.pop()}H.future?(W.maximumForwardPagination=null,N.upToDate?W.upToDate=!0:N.upToDate===!1||V.length>"1">>64?W.upToDate=!1:(!V.length||V.length==="1"-0&&+H.startDate==+N.quotes[0].DT)&&(H.fetchMaximumBars?W.upToDate=!0:W.maximumForwardPagination=!0),j.isHistoricalModeSet&&V.length<2&&(W.mostRecentForwardAttempt=new Date)):N.moreAvailable?W.moreAvailable=!0:N.moreAvailable===!1||!V.length?W.moreAvailable=!1:W.moreAvailable=!0,E.tickMultiplier=V.length?2:E.tickMultiplier*2,$=V["0"^0]?V[0].DT:H.startDate,K=V[0]?V[V.length-1].DT:H.endDate,N.beginDate&&($=N.beginDate),(!W.endPoints.begin||W.endPoints.begin>$)&&(W.endPoints.begin=$),N.endDate&&(K=N.endDate),(!W.endPoints.end||W.endPoints.end<K)&&(W.endPoints.end=K),W.loadingMore=!1,H.loadMoreReplace?j.setMasterData(V,W,{noCleanupDates:!0}):H.future?j.updateChartData(V,W,{noCreateDataSet:!0,noCleanupDates:!0}):t.addMemberToMasterdata({stx:j,chart:W,data:V,fields:["*"],noCleanupDates:!0}),H.future&&(q={appending:!0,appendToDate:V[0]&&V[0].DT}),j.createDataSet(void 0,void 0,q),o||j.draw(),c.callback&&c.callback(H),E.loadDependents(H,a,t.QuoteFeed.PAGINATION)}else E.quoteFeed.announceError(H.originalState,N),H.chart.loadingMore=!1,a&&a(N.error);else return}}if(_=c.findHeadOfData||r.masterData&&r.masterData.length,!c.noLoadMore&&_&&(y||!n.maxDataSetSize||r.dataSet.length<n.maxDataSetSize)&&(D||y)){if(r.initialScroll=r.scroll,r.loadingMore=!0,h=this.makeParams(r.symbol,r.symbolObject,r),h.pagination=!0,h.future=y,r.masterData&&r.masterData.length?(y?h.startDate=r.endPoints.end:h.endDate=r.endPoints.begin,y&&!h.startDate?(P=n.getFirstLastDataRecord(r.masterData,"DT",!0),P&&(h.startDate=P.DT)):D&&!h.endDate&&(P=n.getFirstLastDataRecord(r.masterData,"DT"),P&&(h.endDate=P.DT))):h.endDate=new Date,h.originalState=t.shallowClone(h),h.nodraw=o,!S&&(d||!T&&p)){this.loadingMore=!0,this.loadDependents(h,M,t.QuoteFeed.PAGINATION),a&&a(null);return}(r.maximumForwardPagination||n.fetchMaximumBars[n.layout.aggregationType])&&(h.fetchMaximumBars=!0,!n.maxMasterDataSize||c.maximumTicks<n.maxMasterDataSize?h.ticks=c.maximumTicks:h.ticks=n.maxMasterDataSize),I=F(this,h),f=l.getQuoteFeed(h),n.isEquationChart(h.symbol)?t.fetchEquationChart(h,I):(y&&(h.appending=!0),f&&t.ChartEngine.Driver.fetchData(t.QuoteFeed.PAGINATION,f.engine,h,I)),A=!0}!A&&a&&a(null);function M(E){r.loadingMore=!1,a&&a(E)}function L(E){return l.paused?!1:(e.r5q(),!E.endPoints.begin||m.length-r.scroll<c.bufferSize||m.length-r.scroll-n.tickFromDate(E.endPoints.begin,r)<c.bufferSize)}},t.ChartEngine.Driver.prototype.extendHistoricalData=function({from:r},s=()=>{}){var i,a,{stx:o}=this,{chart:n,layout:l}=o;function u(x,g){return function({quotes:d,moreAvailable:p,error:v,beginDate:S}){if(!(g.symbol!==n.symbol||f!==l.interval||m!==l.timeUnit)){if(n.loadingMore=!1,v)return s(v);d=x.cleanup(o,null,d,t.QuoteFeed.PAGINATION,g),typeof p=="boolean"?n.moreAvailable=p:n.moreAvailable=!!d.length,n.endPoints.begin=S||r,t.addMemberToMasterdata({stx:o,chart:n,data:d,fields:["*"],noCleanupDates:!0}),o.createDataSet(),o.draw()}}}var{masterData:h,dataSet:c}=n,{interval:f,timeUnit:m}=l;if(i=this.makeParams(n.symbol,n.symbolObject,n),a=this.getQuoteFeed(i),n.loadingMore||this.loadingNewChart||o.currentlyImporting||!h.length||!a||o.maxDataSetSize&&c.length>o.maxDataSetSize)return s(null);n.loadingMore=!0,i.originalState=Object.assign({},i),i.startDate=r,i.endDate=h[0].DT,t.ChartEngine.Driver.fetchData(t.QuoteFeed.PAGINATION,a.engine,i,u(this,i))},t.ChartEngine.Driver.prototype.barsToFetch=function(r){e.m30();var s,i,a,o;return s="w",s+="e",s+="e",s+="k",t.isValidNumber(this.tickMultiplier)||(this.tickMultiplier=2),i=this.stx.layout.interval,a=r.stx.layout.periodicity,(i=="month"||i==s)&&!this.stx.dontRoll&&(a*=i=="week"?7:30),o=r.stx.chart.maxTicks*a,o*this.tickMultiplier},t.ChartEngine.Driver.determineStartDate=function(r,s,i){return e.r5q(),this.determineStartOrEndDate(r,s,i,!0)},t.ChartEngine.Driver.determineStartOrEndDate=function(r,s,i,a){var o;return a?o=r.startDate||s.previous(i):o=r.future?s.next(i):new Date,e.r5q(),o},t.ChartEngine.Driver.prototype.makeParams=function(r,s,i){var a,o,n,l,u,h,c,f;a=this.stx,o=a.layout.interval,n=this.barsToFetch({stx:a}),(o=="month"||o=="week")&&!a.dontRoll&&(o="day"),l=this.getQuoteFeed({interval:o,symbol:r,symbolObject:s}),u=l&&l.behavior,h=t.shallowClone(u)||{},h.behavior=u,c=!1,f=[],i.market&&i.market.getSessionNames&&(f=i.market.getSessionNames()),a.extendedHours?a.extendedHours.filter?c=!0:(c=a.layout.extended,f=f.filter(function(x){return e.m30(),x.enabled||a.layout.marketSessions[x.name]})):f=f.filter(function(x){return x.enabled});for(var m=0;m<f.length;m++)f[m]=f[m].name;return t.extend(h,{stx:a,symbol:r,symbolObject:s,chart:i,interval:o,extended:c,period:1,ticks:n,additionalSessions:f,quoteDriverID:this.id},!0),h.symbolObject||(h.symbolObject={symbol:r}),isNaN(h.interval)||(h.period=parseInt(h.interval,10),h.interval=a.layout.timeUnit,h.interval||(h.interval="minute")),h},t.ChartEngine.Driver.prototype.newChart=function(r,s){var i,a,o,n,l,u,h,c,f,m,x,g;i=this.stx,a=r.symbol,o=i.layout.interval,n=i.layout.timeUnit,l=r.chart;function d(v,S){var T;return T="newC",T+="h",T+="art",c.prefetchAction&&c.prefetchAction(T),function(D){var y,b,w,A,_,P,I,O,R;if(y=S.chart,b=D.quotes,w=!1,a==y.symbol&&o==i.layout.interval&&n==i.layout.timeUnit)v.loadingNewChart=!1,h===v.getQuoteFeed(S)&&!D.error?(b=v.cleanup(i,null,b,t.QuoteFeed.INITIAL,S),i.setMasterData(b,y,{noCleanupDates:!0}),y.endPoints={},A=D.beginDate||(b[0]?b[0].DT:S.startDate),y.endPoints.begin=A,_=D.endDate||(b[0]?b[b.length-1].DT:S.endDate),y.endPoints.end=_,b?(y.moreAvailable=D.moreAvailable!==!1,y.upToDate=D.hasOwnProperty("upToDate")?D.upToDate:!i.isHistoricalModeSet):(y.moreAvailable=!1,y.upToDate=!0),y.attribution=D.attribution,r.initializeChart&&i.initializeChart(),i.createDataSet(),w=!0):h.engine.announceError(S.originalState,D);else{s&&s("orphaned");return}for(var C in y.series)P=y.series[C],P.endPoints={},P.moreAvailable=null,P.upToDate=null,P.parameters.takedownResults&&P.parameters.takedownResults(i,C);I=y.masterData,I&&I.length&&(S.startDate=I[0].DT,O=new Date,R=I[I.length-1].DT,S.endDate=R<O&&!i.isHistoricalMode()?O:R),c.callback&&c.callback(S),v.loadDependents(S,function(){w&&!S.nodraw&&v.stx.home(),s&&s(D.error),v.stx.dispatch("newChart",{stx:v.stx,symbol:v.stx.chart.symbol,symbolObject:v.stx.chart.symbolObject,moreAvailable:v.stx.chart.moreAvailable,upToDate:v.stx.chart.upToDate,quoteDriver:v}),v.resetRefreshInterval(c.refreshInterval,c)},t.QuoteFeed.INITIAL)}}if(l.moreAvailable=null,l.upToDate=null,l.loadingMore=!1,l.attribution=null,u=this.makeParams(a,r.symbolObject,l),t.extend(u,r,!0),h=this.getQuoteFeed(u),c=u.behavior,i.fetchMaximumBars[i.layout.aggregationType]||r.fetchMaximumBars){!i.maxMasterDataSize||c.maximumTicks<i.maxMasterDataSize?u.ticks=c.maximumTicks:u.ticks=i.maxMasterDataSize,f=-246716627,m=474957850,x=2;for(var p=1;e.D4r(p.toString(),p.toString().length,25928)!==f;p++)u.fetchMaximumBars=!1,x+=2;e.D4r(x.toString(),x.toString().length,13098)!==m&&(u.fetchMaximumBars=!0),u.fetchMaximumBars=!0}this.loadingNewChart=!0,this.updatingChart=!1,u.originalState=t.shallowClone(u),g=d(this,u),this.stx.isEquationChart(u.symbol)?t.fetchEquationChart(u,g):h&&t.ChartEngine.Driver.fetchData(t.QuoteFeed.INITIAL,h.engine,u,g)},e.Z1$(66),t.QuoteFeed.INITIAL=e.p5W(64,"1"),t.QuoteFeed.UPDATE=2,t.QuoteFeed.PAGINATION=3,t.QuoteFeed.SERIES=4,t.ChartEngine.Driver.fetchData=function(r,s,i,a){var o;if(e.m30(),!i.symbol)return a({quotes:[]});s.v2QuoteFeed?(o="f",o+="unc",o+="tion",typeof s.subscribe!==o?t.ChartEngine.Driver.fetchDataInContext(r,s,i,a):t.ChartEngine.Driver.fetchDataInContext(r,s,i,function(n){n.error||this.checkSubscriptions(i.stx),a(n)}.bind(s))):(i.stx.convertToDataZone(i.startDate),i.stx.convertToDataZone(i.endDate),s.fetch(i,a))},t.ChartEngine.Driver.fetchDataInContext=function(r,s,i,a){var o,n,l,u,h,c,f,m,x,g,d;if(o="func",o+="t",o+="i",o+="on",c=i.stx,!c.chart.market.newIterator){f="quoteFeed feature requires first activati",f+="n",f+="g marke",f+="t feature.",console.error(f);return}switch(r===t.QuoteFeed.SERIES&&(i.series=!0,r=t.QuoteFeed.INITIAL,i.endDate&&!i.startDate||i.future?r=t.QuoteFeed.PAGINATION:i.startDate&&!i.endDate&&(r=t.QuoteFeed.UPDATE)),m=Math.min(i.ticks,i.maximumTicks),s.maxTicks&&(m=Math.min(m,s.maxTicks)),x=i.symbolObject.masterSymbol||i.symbol,e.r5q(),r){case t.QuoteFeed.UPDATE:if(c.isHistoricalModeSet){c.quoteDriver.updatingChart=!1;return}i.startDate?g=i.startDate:(g=new Date,g.setHours(0,0,0,0)),typeof s.fetchUpdateData===o&&s.fetchUpdateData(x,c.convertToDataZone(g),i,a);break;case t.QuoteFeed.INITIAL:h=i.endDate||new Date,n={begin:h,interval:i.interval,periodicity:i.interval=="tick"?c.chart.xAxis.futureTicksInterval:i.period,outZone:c.dataZone},l=c.chart.market.newIterator(n),u=t.ChartEngine.Driver.determineStartDate(i,l,m),i.endDate&&(h=i.endDate),typeof s.fetchInitialData=="function"&&s.fetchInitialData(x,u,c.convertToDataZone(h),i,a);break;case t.QuoteFeed.PAGINATION:if(n={begin:i.endDate||i.startDate,interval:i.interval,periodicity:i.interval=="tick"?c.chart.xAxis.futureTicksInterval:i.period,outZone:c.dataZone},l=c.chart.market.newIterator(n),d=t.ChartEngine.Driver.determineStartOrEndDate(i,l,m,!i.future),u=i.startDate||d,h=i.endDate||d,i.startDate?i.stx.convertToDataZone(u):i.stx.convertToDataZone(h),typeof s.fetchPaginationData=="function"){if(c.maxMasterDataSize&&c.maxMasterDataSize<=c.masterData.length)return;s.fetchPaginationData(x,u,h,i,function(p){e.r5q(),h>=Date.now()&&(c.isHistoricalModeSet=!1),a&&a(p)})}break;default:console.error("Illegal fetchData constant")}}};Sa=U=>{var e=ee,t,r;t="u",t+="n",t+="def",t+="ined",r=typeof _CIQ!==t?_CIQ:U.CIQ,r.ChartEngine.prototype.addSeries=function(s,i,a){var o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I;if(o="add",o+="Se",o+="ries",n="ad",n+="d-series",l=this.runPrepend("addSeries",arguments),l)return l;u=s||null,h=s,s||(s=r.uniqueID()),i&&i.panel===!0&&(i.panel=s),c={parameters:i?r.clone(i):{},yValueCache:[],display:u,id:s,loading:i?i.loadData!==!1:!0},c.parameters.yAxis=i&&i.yAxis,i=c.parameters,i.symbol&&(h=i.symbol),i.isComparison&&(i.shareYAxis=!0),i.yAxis&&!(i.yAxis instanceof r.ChartEngine.YAxis)&&(i.yAxis=new r.ChartEngine.YAxis(i.yAxis)),r.ensureDefaults(i,{chartName:this.chart.name,symbolObject:{symbol:h},panel:this.chart.panel.name,fillGaps:!1,action:n}),"display"in i&&(c.display=i.display),f=this.charts[i.chartName],m=i.symbolObject,h=i.symbol=m.symbol,i.isEvent&&(m.isEvent=!0),c.display||(c.display=h||i.field),c.endPoints={},!i.gapDisplayStyle&&i.gapDisplayStyle!==!1&&(i.gapDisplayStyle=i.gaps),i.isComparison&&i.gapDisplayStyle===void 0&&(i.gapDisplayStyle="transparent"),x=this.getSeries({symbolObject:m,chart:f,includeMaster:!0}),g=i.panel,this.panels[g]?!i.yAxis&&!i.shareYAxis&&(p="n",p+="o",p+="n",p+="e",i.yAxis=new r.ChartEngine.YAxis({name:s,position:p})):(d=i.yAxis||new r.ChartEngine.YAxis,d.name=s,this.createPanel(s,g,null,null,d),(!this.preferences.dragging||!this.preferences.dragging.series)&&(i.highlightable=!1)),f.series[s]=c,v=this,S=this.currentlyImporting,T=i.responseHandler||O,i.isComparison&&f.forcePercentComparison&&i.panel==f.panel.name&&(!i.yAxis||i.yAxis==f.yAxis)&&this.setChartScale("percent"),D=f.masterData,D||(D=f.masterData=this.masterData=[]),y=D.length;function O(C){return function(k){var F,M,L,E;F="sym",F+="bolChan",F+="ge",M="symbol",M+="I",M+="mport",k.error||(L=k.quotes,E=i.fillGaps,v.cleanupGaps||(E=!1),L=v.doCleanupGaps(L,v.chart,{cleanupGaps:E}),v.updateChartData(L,v.chart,{secondarySeries:h,noCreateDataSet:!0,noCleanupDates:!0,allowReplaceOHL:!0}),c.loading=!1,c.moreAvailable=k.moreAvailable,c.upToDate=k.upToDate,R(v)),i.action!==null&&!x.length&&v.dispatch(S?M:F,{stx:v,symbol:C.symbol,symbolObject:C.symbolObject,action:i.action,id:c.id,parameters:i}),c.parameters.processResults&&c.parameters.processResults(v,k.error,c,k.quotes),a&&a.call(v,k.error,c)}}function R(C,k){var F,M,L,E;if(F=i.renderer||"Lines",M=i.name||s,i.yAxis&&!(i.yAxis instanceof r.ChartEngine.YAxis)&&!S&&(i.yAxis.name=M),!(!i.renderer&&!i.name&&!i.color&&!i.chartType)){if(L=C.getSeriesRenderer(M),!L){if(E={name:M,overChart:i.overChart!==!1,useChartLegend:!0},i.chartType?L=r.Renderer.produce(i.chartType,r.extend({highlightable:i.highlightable,dependentOf:i.dependentOf,panel:i.panel,yAxis:i.yAxis,baseline:i.baseline},E)):(r.ensureDefaults(i,E),L=new r.Renderer[F]({params:i})),!L)return;C.setSeriesRenderer(L)}L.attachSeries(s,i),i.loadData!==!1&&L.ready(),C.layout.symbols=C.getSymbols({"include-parameters":!0,"exclude-studies":!0})}}return i.data&&!i.data.useDefaultQuoteFeed?(b={symbol:h,symbolObject:m,action:i.action},T(b)({quotes:i.data})):x.length?(c.endPoints=x[0].endPoints,c.loading=x[0].loading,R(this),a&&setTimeout(function(){a.call(v,null,c)},0)):this.quoteDriver&&i.loadData!==!1?(w=this.quoteDriver,A=w.makeParams(h,m,f),y&&(A.startDate=D[0].DT,A.endDate=this.isHistoricalMode()?D[D.length-1].DT:new Date),A.stx.isEquationChart(A.symbol)?r.fetchEquationChart(A,T(A)):(_=w.getQuoteFeed(A),_&&r.ChartEngine.Driver.fetchData(4,_.engine,A,T(A)))):(P="s",P+="ymbolChange",I="symbo",I+="lImp",I+="ort",R(this),i.action!==null&&!x.length&&v.dispatch(S?I:P,{stx:v,symbol:h,symbolObject:m,action:i.action,id:c.id,parameters:i}),a&&a.call(this,null,c)),this.changeOccurred("layout"),this.runAppend(o,arguments),c},r.ChartEngine.prototype.getSeries=function(s){var i,a,o,n,l;i=s.chart?s.chart:this.chart,a=i.series,o=s.symbolObject,o||(o={symbol:s.symbol}),e.r5q(),n=[];for(var u in a)l=a[u],r.symbolEqual(o,l.parameters.symbolObject)&&n.push(l);return s.includeMaster&&r.symbolEqual(o,i.symbolObject)&&n.push({}),n},r.ChartEngine.prototype.modifySeries=function(s,i,a){var o,n,l,u,h,c,f,m,x,g,d,p,v,S,T;if(!this.runPrepend("modifySeries",arguments)&&i&&(typeof s=="string"?(l=i.chartName?this.charts[i.chartName]:this.chart,n=s,o=l.series[n]):(o=s,n=o.id,l=this.charts[o.parameters.chartName]),!!o)){r.extend(o.parameters,i,!0),this.getRendererFromSeries(n).modifyRenderer(i),u=o.parameters,e.r5q();for(var D in l.seriesRenderers){c=l.seriesRenderers[D],f=c.params,m=c.seriesParams;for(var y=0;y<m.length;++y)if(x=m[y],g=this.panels[x.panel],d=g&&g.yAxis.name,x.id===o.id){u.panel===!0&&(u.panel=u.dependentOf||u.name),f.panel=u.panel,i.yAxis&&(i.yAxis instanceof r.ChartEngine.YAxis||(i.yAxis=new r.ChartEngine.YAxis(i.yAxis)),f.yAxis=i.yAxis),u.panel!=x.panel&&f.name==d?this.electNewPanelOwner(x.panel):(p=this.getYAxisByName(u.panel,f.name),p&&u.yAxis&&p.name!==u.yAxis.name&&(p.name=this.electNewYAxisOwner(p))),u.field||(u.field=null),c.attachSeries(n,r.ensureDefaults(u,x)),u.field||(u.field=u.subField),delete u.subField,u.isComparison&&l.forcePercentComparison&&u.panel==l.panel.name&&(!o.parameters.yAxis||u.yAxis.name==l.yAxis.name)&&this.setChartScale("percent"),h=c;break}}if(r.getFn("Drawing.updateSource")(this,o.parameters.symbol||n,null,o.parameters.panel),this.runAppend("modifySeries",arguments),a!==!0){v=h.getDependents(this);for(var b=0;b<v.length;b++)v[b].seriesParams&&this.modifySeries(v[b].params.name,{panel:h.params.panel,yAxis:o.parameters.yAxis},!0),v[b].study&&(S=v[b],S=r.Studies.replaceStudy(this,S.inputs.id,S.type,S.inputs,S.outputs,S.parameters,null,S.study));T=l.seriesRenderers[h.params.dependentOf],T&&(T.params.yAxis!=o.parameters.yAxis||T.params.panel!=h.params.panel)&&this.modifySeries(h.params.dependentOf,{panel:h.params.panel,yAxis:o.parameters.yAxis},!0)}return this.draw(),o}},r.ChartEngine.prototype.deleteSeries=function(s,i,a){var o,n,l,u,h,c,f;if(o="delete",o+="Series",n="symb",n+="olC",n+="hange",!this.runPrepend("deleteSeries",arguments)&&(a=a||{},l=a.action||"remove-series",typeof s=="object"?(u=s.id,i=i||this.charts[s.parameters.chartName]):(u=s,i=i||this.chart),h=i.series[u],!!h)){var{isEvent:m,loadData:x,symbolObject:g}=h.parameters;delete i.series[u],this.layout.symbols=this.getSymbols({"include-parameters":!0,"exclude-studies":!0}),c=this.getSeries({symbolObject:g,includeMaster:!0}),!m&&x!==!1&&!c.length&&this.cleanMasterData(g,i),f=this.panels[h.parameters.panel],f&&this.checkForEmptyPanel(f),this.createDataSet(),!c.length&&!m&&this.dispatch(this.currentlyImporting?"symbolImport":n,{stx:this,symbol:g.symbol,symbolObject:g,id:u,action:l}),this.quoteDriver&&this.quoteDriver.updateSubscriptions(),this.runAppend(o,arguments)}},r.ChartEngine.prototype.removeSeries=function(s,i){var a,o,n,l,u,h,c,f,m,x;if(a="o",a+="b",a+="j",a+="ect",o="rem",o+="oveSe",o+="r",o+="ies",!this.runPrepend(o,arguments)){l=!1,typeof s===a?(n=s.id,i=i||this.charts[s.parameters.chartName]):(n=s,i=i||this.chart),e.m30(),i.series[n]&&(u=i.series[n].parameters.takedownResults,u&&u(this,n));for(var g in i.seriesRenderers){h=i.seriesRenderers[g],c=this.panels[h.params.panel],f=c&&c.yAxis.name;for(var d=h.seriesParams.length-1;d>=0;d--)m=h.seriesParams[d],m.id===n&&(h.removeSeries(n),h.seriesParams.length<"1"*1&&(this.removeSeriesRenderer(h),h.params.name==f?this.electNewPanelOwner(h.params.panel):this.checkForEmptyPanel(h.params.panel)||(x=this.getYAxisByName(c,h.params.name),x&&(x.name=x.studies[0]||x.renderers[1]))),l=!0)}l||this.deleteSeries(n,i),this.resetDynamicYAxis(),this.draw(),this.resizeChart(),this.changeOccurred("layout"),this.runAppend("removeSeries",arguments)}},r.Comparison=r.Comparison||function(){},r.Comparison.initialPrice=100,r.Comparison.getInitialPrice=function(s){var i,a,o,n;if(i="nu",i+="mber",s.initialComparisonPrice)return s.initialComparisonPrice;if(s.initialComparisonPrice=100,a=r.Comparison.initialPrice,typeof a==i&&(s.initialComparisonPrice=a),typeof a=="string"&&(s.series[a]||a==="")){o="Clo",o+="se",s.defaultPlotField&&(s.highLowBars||(o=s.defaultPlotField));for(var l=s.dataSet.length-s.scroll-("1"|1);l<s.dataSet.length;l++)if(n=s.dataSet[l],n){if(n[a]&&n[a][o]){s.initialComparisonPrice=n[a][o];break}else if(a===""&&n[o]){s.initialComparisonPrice=n[o];break}}}return e.r5q(),s.initialComparisonPrice},r.Comparison.priceToPercent=function(s,i,a,o,n){var l,u;l="ob",l+="jec",l+="t",u=s.comparisonBaseline,u&&n in u&&(u=u[n]),u&&typeof u===l&&(u=u[i.defaultPlotField||"Close"]),u=u||a,e.b1T(1),e.r5q();var h=e.p5W(86,14);e.Z1$(73);var c=e.v8U(9992,23750,19e4);e.Z1$(1);var f=e.v8U(9995,5);return Math.round((a-u)/u*h*c)/f},e.m30(),r.Comparison.percentToPrice=function(s,i,a,o,n){var l,u,h;return l="Clo",l+="se",u="obje",u+="ct",h=s.comparisonBaseline,e.m30(),h&&n in h&&(h=h[n]),h&&typeof h===u&&(h=h[i.defaultPlotField||l]),h=h||1,e.Z1$(127),e.v8U(1,a,h,100)},r.Comparison.priceToRelative=function(s,i,a,o,n){var l,u;return e.m30(),l=s.comparisonBaseline,u=r.Comparison.getInitialPrice(i),l&&n in l&&(l=l[n]),l&&typeof l=="object"&&(l=l[i.defaultPlotField||"Close"]),e.Z1$(20),e.p5W(a,l||a,u)},r.Comparison.relativeToPrice=function(s,i,a,o,n){var l,u;return l=s.comparisonBaseline,u=r.Comparison.getInitialPrice(i),l&&n in l&&(l=l[n]),l&&typeof l=="object"&&(l=l[i.defaultPlotField||"Close"]),e.b1T(20),e.v8U(a,u,l||"1"<<0)},r.Comparison.createComparisonSegmentInner=function(s,i){var a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F;a="Cl",a+="o",a+="se",o=[];for(n in i.series)h=i.series[n].parameters,(!h.yAxis&&h.shareYAxis||h.yAxis===i.yAxis)&&o.push(h.symbol);c=[a,"Open","High","Low","iqPrevClose"],f=s.chart.highLowBars,i.defaultPlotField&&!f&&c.unshift(i.defaultPlotField),m=c[0],x=s.layout.studies,e.m30();for(var M in x)if(g="_h",g+="i",g+="s",g+="t",d=x[M],l=s.panels[d.panel],u=d.getYAxis(s),!(!l||l.yAxis!=u)){for(n in d.outputMap)i.transformFunc&&u==i.panel.yAxis&&o.includes(d.inputs.Field)?c.push({comparison:d.inputs.Field,field:n}):c.push(n);for(var L=0;L<=2;L++)c.push(d.name+g+(L||""));d.referenceOutput&&c.push(d.referenceOutput+" "+d.name)}for(var E in s.plugins)if(p=s.plugins[E],!!p.transformOutputs)for(n in p.transformOutputs)c.push(n);i.initialComparisonPrice=null,i.dataSegment=[],v=null,e.b1T(128);var H=e.p5W(3,15,11,19);S=i.dataSet.length-i.scroll-H,s.startComparisonsAtFirstVisibleBar&&(S+=1),e.Z1$(11);var N=e.p5W(57,60);T=i.maxTicks+N;for(var j=0;j<=T;j++){if(j==T&&(j=-1),e.b1T(1),D=e.v8U(S,j),D<i.dataSet.length&&D>=0){if(y=i.dataSet[D],b=y[m],!v){if(b===("0"|0)||b===null){if(j<0)break;continue}v=r.clone(y)}for(y.transform||(y.transform={cache:{},DT:y.DT,Date:y.Date}),!(v&&v[m])&&b&&(v=r.clone(y)),s.comparisonBaseline=v,w=0;w<c.length;w++)n=c[w],A=y[n],(A||A===0)&&(y.transform[n]=i.transformFunc(s,i,A));for(w=0;w<o.length;w++){if(n=o[w],_=i.series[n],j==-1&&_&&_.parameters.isComparison){delete y.transform[n];continue}if(P=y[n],!!P)for(var W=0;W<c.length;W++)I=c[W],O=P[I],R=y.transform[n]=y.transform[n]||{},typeof I=="object"&&I.comparison==n&&(I=I.field,O=y[I],R=y.transform),(O||O===0)&&(C=v[n]&&v[n][c[0]],!C&&C!==0&&(v[n]||(v[n]={}),v[n][I]=C=O*v[m]/y[m]),C!==0&&(k=v[m]||1,e.b1T(129),F=e.v8U(C,k,O),R[I]=i.transformFunc(s,i,F)))}i.dataSegment.push(y)}else D<"0"*1&&i.dataSegment.push(null);if(j<0)break}},r.Comparison.priceFormat=function(s,i,a){var o,n;if(a===null||typeof a=="undefined"||isNaN(a))return"";if(o=i.yAxis.priceTick,n=s.internationalizer,n)o>=5?(e.b1T(12),a=n.percent.format(e.v8U(100,a))):o>=.5?(e.Z1$(12),a=n.percent1.format(e.v8U(100,a))):o>=.05?(e.b1T(12),a=n.percent2.format(e.v8U(100,a))):o>=.005?(e.Z1$(12),a=n.percent3.format(e.p5W(100,a))):(e.b1T(12),a=n.percent4.format(e.v8U(100,a)));else if(o>=5){e.b1T(82),e.v8U(2961,4,13,590,7),e.b1T(77);var l=e.p5W(6821,5,13,27282);e.Z1$(1),e.v8U(6851,17),e.b1T(108);var u=e.p5W(9,4060,3859,11);e.b1T(120);var h=e.v8U(10,7258,20,10,10);e.Z1$(11),e.p5W(7,2417),e.Z1$(130);var c=e.v8U(79050,15,49560,9,6);a=a.toFixed(0)+(l!==183.04?"%":u<=h?"E":c)}else if(o>=.5){e.b1T(11);var f=e.p5W(10,11);e.b1T(1),e.p5W(5787,7),e.Z1$(131);var m=e.p5W(25875,12,92112,3,15);e.b1T(35);var x=e.p5W(7,36857,6141);e.Z1$(77);var g=e.p5W(563,14,10,1682);e.Z1$(26),e.p5W(20,914,30),a=a.toFixed(f)+(m!==x?"%":g>7908?"v":!0)}else if(o>=.05){e.Z1$(21);var d=e.v8U(768,15,497);e.Z1$(132);var p=e.p5W(8,28,2);e.b1T(118);var v=e.v8U(5363,7,534,15);e.b1T(8);var S=e.p5W(13,6683,5);e.b1T(1),e.v8U(148,2362),a=a.toFixed("2"-0)+(5970<=d?p>=v?"I":(S==1290,!1):"%")}else if(o>=.005){e.Z1$(115),e.p5W(14,2424,188,1),e.Z1$(8);var T=e.p5W(9,315,2844);e.b1T(133);var D=e.v8U(8,16,16,24);e.b1T(19);var y=e.v8U(19,3938,3918);e.Z1$(71);var b=e.v8U(10036,50180,17,3842,4);a=a.toFixed("3"<<0)+(T!=850.12?"%":"2883">>D!==y?"G":b)}else{e.b1T(131);var w=e.v8U(4,2,14,16,7);e.b1T(134);var A=e.v8U(1,14947,8,15822,12);e.Z1$(21),e.v8U(69507,18,61766),e.b1T(1);var _=e.v8U(295,3545);e.Z1$(135);var P=e.p5W(1,40750,4,8146,40750);a=a.toFixed(w)+(A===481.01?_===306.61?!1:P:"%")}return parseFloat(a)==="0"<<0&&a.charAt(0)=="-"&&(a=a.substring(1)),a},r.ChartEngine.prototype.setComparison=function(s,i,a){var o,n,l;if(o="s",o+="tring",i||(i=this.chart),typeof i==o&&(i=this.charts[i]),(a||a==="")&&(r.Comparison.initialPrice=a),s===!0){if(i.isComparison)return;s="percent"}switch(this.resetDynamicYAxis(),n=i.panel.yAxis,l=n.priceFormatter==r.Comparison.priceFormat,s){case"relative":this.setTransform(i,r.Comparison.priceToRelative,r.Comparison.relativeToPrice),l&&(n.priceFormatter=n.originalPriceFormatter?n.originalPriceFormatter.func:null,n.originalPriceFormatter=null),n.whichSet="dataSegment",i.isComparison=!0;break;case"percent":this.setTransform(i,r.Comparison.priceToPercent,r.Comparison.percentToPrice),l||(n.originalPriceFormatter={func:n.priceFormatter},n.priceFormatter=r.Comparison.priceFormat),n.whichSet="dataSegment",i.isComparison=!0;break;default:this.unsetTransform(i),l&&(n.priceFormatter=n.originalPriceFormatter?n.originalPriceFormatter.func:null,n.originalPriceFormatter=null),n.whichSet="dataSet",i.isComparison=!1;break}},r.ChartEngine.prototype.setChartScale=function(s){var i,a,o,n;i="la",i+="yout",a=this.chart,o={percent:!0,relative:!0},s||(s="linear"),o[s]?this.setComparison(s,a,r.Comparison.initialPrice):o[this.layout.chartScale]&&this.setComparison(!1,a),n=this.layout.chartScale!==s,this.layout.chartScale=s,a.canvas&&this.draw(),n&&this.changeOccurred(i)}};ka=U=>{var e=ee,t,r,s;t="unde",t+="fine",t+="d",r=typeof _CIQ!==t?_CIQ:U.CIQ,r.Share=r.Share||function(){};function i(l){var u,h,c,f,m;if(u="tex",u+="t",u+="-anch",u+="or",h="text-al",h+="ign",c="fon",c+="t-var",c+="ia",c+="nt",!!l.style){f=getComputedStyle(l),m=["alignment-baseline","dominant-baseline","fill","fill-opacity","font-family","font-size",c,"font-weight",h,u],m.forEach(function(g){!l.style[g]&&f[g]&&(l.style[g]=f[g])});for(var x in l.children)i(l.children[x])}}r.Share.fullChart2PNG=function(l,u,h){if(!(!l||!l.chart)){if(e.m30(),typeof html2canvas=="undefined")return n(function(){return e.r5q(),o(l,u,h)});s=html2canvas,o(l,u,h)}},r.Share.createImage=function(l,u,h){var c,f,m,x,g,d,p,v,S,T;c="im",c+="a",c+="ge/",f="ob",f+="j",f+="ec",f+="t",m=[].slice.call(arguments),h=m.pop(),(u===null||typeof u!=f)&&(u={widthPX:m[1],heightPX:m[2],imageType:m[3]}),x=u.widthPX,g=u.heightPX,d=u.imageType,p=l.chart.canvas.height,v=l.chart.canvas.width,l.chart.canvas.style.height&&(p=r.stripPX(l.chart.canvas.style.height),v=r.stripPX(l.chart.canvas.style.width)),x&&g?(p=g,v=x):g?v=l.chart.canvas.width*(p/l.chart.canvas.height):x&&(v=x,p=l.chart.canvas.height*(x/l.chart.canvas.width)),S=d?c+d:"image/png",T=document.createElement("img"),T.onload=function(){r.Share.fullChart2PNG(l,{image:this,width:v,height:p,hide:u.hide},function(D,y){if(D)e.b1T(1),console.warn(e.v8U("Error producing canvas snapshot: ",D));else try{h(y.toDataURL(S))}catch(b){console.warn("Safari devices do not handle CORS enabled images. Using the charts' canvas as a fallback."),h(T.src)}})},T.src=l.chart.canvas.toDataURL(S)},r.Share.uploadImage=function(l,u,h,c){var f;h||(h={}),h.image=l,f=r.postAjax(u,JSON.stringify(h),function(m,x){if(m!=200){c(m,null);return}c(null,x)}),f||c(0,null)},r.Share.shareChart=function(l,u,h){e.r5q(),r.Share.createImage(l,{},function(c){var f,m,x,g,d,p;f=r.uniqueID(),m="https://share.chartiq.com",e.m30(),e.b1T(19),x=e.p5W("/upload/",m,f),u&&(u.host&&(m=u.host),u.path&&(x=m+u.path+"/"+f)),g=l.getStartDateOffset(),d={layout:l.exportLayout(),drawings:l.exportDrawings(),xOffset:g,startDate:l.chart.dataSegment[g].Date,endDate:l.chart.dataSegment[l.chart.dataSegment.length-1].Date,id:f,symbol:l.chart.symbol},p={id:f,image:c,config:d},r.Share.uploadImage(c,x,p,function(v,S){e.r5q(),v!==null?r.alert("error sharing chart: ",v):(e.Z1$(1),h(e.p5W(m,S)))})})};function a(){var l,u;if(r.Share.html2canvasLocation)return r.Share.html2canvasLocation;l=document.getElementsByTagName("script");for(var h=0;h<l.length;h++)if(u=l[h],u.src&&u.src.indexOf("share.js")>-1)return u.src.replace(/standard\/share\.js/,"")+"thirdparty/";return"js/thirdparty/"}r.Share.saveChartLayout=l=>Kt(null,null,function*(){var u,h,c,f,m,{chartSharing:x}=l.uiContext.config;if(!x||!x.saveChartLayout)throw new Error("saveChartLayout not defined in config");if(l.chart.dataSegment[0]&&l.chart.dataSegment[0].DT?u=l.chart.dataSegment[0].DT:l.chart.dataSet[0]&&(u=l.chart.dataSet[0].DT),!u)throw new Error("Unable to retrieve starting point of data set or segment");return l.layout.range={padding:l.preferences.whitespace,dtLeft:u,dtRight:l.chart.dataSegment[l.chart.dataSegment.length-1].DT,periodicity:{period:l.layout.periodicity,interval:l.layout.interval,timeUnit:l.layout.timeUnit}},h=l.exportLayout({withSymbols:!0}),e.m30(),c=l.exportDrawings(),f=l.exportPreferences(),e.Z1$(0),m=`${l.chart.symbol}${e.v8U("ha"," ","C","rt")}`,x.saveChartLayout(JSON.stringify({version:r.packageInfo.version,layout:h,drawings:c,preferences:f,chartTitle:m}))}),r.Share.extractShareID=l=>{var u;return e.m30(),((u=l.match(/([a-z0-9]+-[a-z0-9]+-[a-z0-9]+-[a-z0-9]+-[a-z0-9]+)/))==null?void 0:u[1])||""},r.Share.onClipboard=l=>{window.addEventListener("paste",function(u){return Kt(this,null,function*(){var h,c;h="",e.r5q(),window.clipboardData&&window.clipboardData.getData?h=window.clipboardData.getData("Text"):u.clipboardData&&u.clipboardData.getData&&(h=u.clipboardData.getData("text/plain")),c=r.Share.extractShareID(h),c&&l(c)})})},e.m30();function o(l,u,h){var c,f,m,x,g,d,p,v,S,T;if(c="bo",c+="d",c+="y",f="ciq-no-shar",f+="e",u||(u={}),m=f,x=l.container.ownerDocument.querySelector(c),u.hide&&u.hide instanceof Array){g=u.hide.join(", "),d=x.querySelectorAll(g);for(var D=0;D<d.length;D++)d[D].classList.add(m)}for(x.classList.add("sharing"),l.draw(),p=l.chart.container.getElementsByTagName("svg"),v=[],S=0;S<p.length;S++)T=p[S],v.push(T.innerHTML),i(T);s(l.chart.container,{allowTaint:!1,logging:!1,width:u.width||null,height:u.height||null,backgroundColor:u.background||null,useCORS:!0}).then(function(y){for(h&&h(null,u.data?y.toDataURL("image/png"):y),S=0;S<p.length;S++)p[S].innerHTML=v[S];x.classList.remove("sharing")}).catch(function(y){var b;for(b="sh",b+="ar",e.r5q(),b+="ing",h&&h(y),S=0;S<p.length;S++)p[S].innerHTML=v[S];x.classList.remove(b)})}r.Share.getClipboard=()=>Kt(null,null,function*(){return e.m30(),new Promise(l=>Kt(null,null,function*(){var u;e.r5q();try{u=r.Share.extractShareID(yield navigator.clipboard.readText()),l(u)}catch(h){l("")}}))}),r.Share.loadChartFromID=(l,u)=>Kt(null,null,function*(){return e.r5q(),new Promise((h,c)=>Kt(null,null,function*(){var f,m;if(!u)return c();var{getChartLayout:x}=l.uiContext.config.chartSharing;f=yield x(u),m=JSON.parse(f),h(r.Share.loadChartFromLayout(l,m))}))});function n(l){var u,h;if(e.m30(),typeof html2canvas=="undefined"){if(u="html",u+="2canvas.m",u+="in.js",h="un",h+="def",h+="ine",h+="d",typeof requirejs!==h)try{return requirejs(["html2canvas.min.js"],function(f){return s=f,l()})}catch(f){var c;c="Require loa",c+="ding has failed, attemptin",c+="g to load html2canvas manual",c+="ly.",console.warn(c)}r.loadScript(a()+u,function(){return s=html2canvas,l()})}else return s=html2canvas,l()}r.Share.loadChartFromLayout=(l,u)=>Kt(null,null,function*(){return new Promise((h,c)=>Kt(null,null,function*(){u.version.split(".")[0]!=r.packageInfo.version.split(".")[0]&&c(new Error("Version mismatch")),e.r5q(),l.importPreferences(u.preferences),l.importLayout(u.layout,{managePeriodicity:!0,preserveTicksAndCandleWidth:!0,cb:()=>{l.importDrawings(u.drawings),l.draw(),h()}})}))})};wa=U=>{var e=ee,t;t=typeof _CIQ!="undefined"?_CIQ:U.CIQ,t.ChartEngine.prototype.setRange=function(r,s){var i,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F;t.isEmpty(r)&&(r={dtLeft:arguments[0],dtRight:arguments[1],padding:arguments[2],chart:arguments[3]},s=arguments[4]),this.staticRange&&(r.goIntoPast=r.goIntoFuture=!0),r.chart||(r.chart=this.chart),typeof r.padding=="undefined"&&(r.padding=0),e.m30();function M(j){if(j&&h===0){a.scroll=w,u.setCandleWidth(A),u.layout.interval=_,u.layout.periodicity=P,u.layout.timeUnit=I,s&&s(j);return}if(h++,h>10){console.log("CIQ.ChartEngine.setRange(): Too many loads (10) from server. Stopping. Check periodicity logic."),L();return}L()}i=!1,a=r.chart,o=typeof r.dtLeft=="string"?new Date(r.dtLeft):r.dtLeft,n=new Date;function L(j){var W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie,ne,le,fe,ue;if(typeof j=="undefined"&&(j=null),W=0,V=0,Y=new Date,Q=r.base,z=r.periodicity,$=u.layout,r.goIntoFuture&&(!a.masterData.length||o>a.masterData[a.masterData.length-("1"^0)].DT)){K=a.masterData.length?a.masterData.pop():{DT:o},q=-1427116613,X=-339492772,Z=2;for(var ge=1;e.D4r(ge.toString(),ge.toString().length,80969)!==q;ge++)ae=u.doCleanupGaps([K,{DT:n}],a,{cleanupGaps:"",noCleanupDates:!1}),u.setMasterData(a.masterData.concat(ae),a,{noCleanupDates:!1}),u.createDataSet(1,1,{appending:!1}),Z+=2;e.m9o(Z.toString(),Z.toString().length,76116)!==X&&(ae=u.doCleanupGaps([K,{DT:n}],a,{cleanupGaps:"gap",noCleanupDates:!0}),u.setMasterData(a.masterData.concat(ae),a,{noCleanupDates:!0}),u.createDataSet(null,null,{appending:!0}))}if(te=a.dataSet,re=te.length,!te||re===0){u.draw(),s&&s(j);return}if(Q==="day"&&z&&z.interval==="day")B=r.multiplier,W=re<B?0:re-B,e.b1T(11),V=e.v8U(1,re);else if(Q==="today"&&te[re-1].DT.getDate()<Y.getDate()){G=new Date(te[re-1].DT.getTime()),G.getTime(),e.b1T(2),oe=e.v8U("0",32);for(var ce=re-1;ce>=0;ce--)if(te[ce]&&te[ce].DT.getDate()!=G.getDate()){G=new Date(+te[ce+1].DT),e.b1T(1),oe=e.v8U(ce,1);break}W=oe,e.Z1$(11),V=e.p5W(1,re)}else ie="a",ie+="l",ie+="l",r.base!="all"&&(o.getTime()>=te[0].DT.getTime()||r.goIntoPast)?W=u.tickFromDate(o,a,null,!0):W=0,r.base!=ie&&(n.getTime()<=te[re-1].DT.getTime()||r.goIntoFuture)?(V=u.tickFromDate(n,a),V>re-1&&V--):(e.b1T(43),V=e.p5W(re,"1"));if(e.b1T(8),ne=e.p5W(W,V,1),ne<1){u.draw(),s&&s(j);return}le=r.padding||0,V<re-1&&(le=0),fe=(a.width-le)/ne,u.setCandleWidth(fe,a),e.b1T(136),a.scroll=e.v8U(V,re,ne,1),u.micropixels=1;for(var de in u.panels)u.calculateYAxisMargins(u.panels[de].yAxis);r.dontSaveRangeToLayout?delete $.range:(delete r.chart,delete $.setSpan,$.range=r),u.draw(),u.changeOccurred("layout"),i||(ue="periodic",ue+="ity",u.dispatch(ue,{stx:u,differentData:O,prevPeriodicity:{interval:_,periodicity:P,timeUnit:I}})),s&&s(j)}function E(j,W,V,Y,Q,z){var $,K,q;return $=0,e.b1T(11),K=e.v8U(W,j),e.r5q(),t.ChartEngine.isDailyInterval(V)?(q="mo",q+="n",q+="t",q+="h",V==q?$=K/t.MONTH/Y:V=="week"?$=K/t.WEEK/Y:$=K/t.DAY/Y):isNaN(V)||(Q=="millisecond"?(e.b1T(18),$=e.p5W(K,Y,V)):Q=="second"?$=K/t.SECOND/(Y*V):$=K/t.MINUTE/(Y*V)),Math.round($)}if(r.dtRight&&(n=typeof r.dtRight=="string"?new Date(r.dtRight):r.dtRight),o||(l=this.standardMarketIterator(n,null,a),o=l.previous(a.maxTicks),r.periodicity||(i=!0)),a.inflectionPoint=o,this.layout.range={dtLeft:o,dtRight:n},u=this,h=0,this.quoteDriver){if(i)c=this.layout.interval,m=this.layout.timeUnit,f=this.layout.periodicity;else if(r.periodicity)x=t.cleanPeriodicity(r.periodicity.period,r.periodicity.interval,r.periodicity.timeUnit),c=x.interval,m=x.timeUnit,f=x.period;else if(g=n.getTime()-o.getTime(),this.autoPickCandleWidth.turnOn){S=0,this.autoPickCandleWidth.candleWidth?S=this.autoPickCandleWidth.candleWidth:S=this.chart.barsHaveWidth?5:2,T=a.width/S,D=this.dynamicRangePeriodicityMap,c=D[0].interval,f=1;for(var N=0;N<D.length;N++){if(b=g/D[N].rangeInMS,b<T){D[N-1]?(c=D[N-1].interval,m=D[N-1].timeUnit,e.b1T(12),f=Math.ceil(e.p5W(T,y))):(c=D[N].interval,m=D[N].timeUnit,f=1);break}y=b}}else{d=this.staticRangePeriodicityMap,p=null;for(var H=0;H<d.length;H++)if(v=d[H],g/v.rangeInMS<1.001){p=v;break}c=p.interval,f=p.periodicity,m=p.timeUnit}w=this.chart.scroll,A=this.layout.candleWidth,_=this.layout.interval,P=this.layout.periodicity,I=this.layout.timeUnit,this.chart.scroll=this.chart.maxTicks=E(n.getTime(),o.getTime(),c,f,m,this.dontRoll),this.layout.candleWidth=this.chart.width/this.chart.maxTicks,O=this.needDifferentData({period:f,interval:c,timeUnit:m}),Object.keys(this.chart.endPoints).length&&(this.chart.endPoints.begin>o||this.chart.endPoints.end<n)&&(O=!0),r.useExistingData&&(O=!1),!this.chart.masterData||!this.chart.masterData.length||O||r.forceLoad?(this.layout.interval=c,this.layout.periodicity=f,this.layout.timeUnit=m,this.layout.timeUnit||(R="se",R+="cond",t.ChartEngine.isDailyInterval(this.layout.interval)?this.layout.timeUnit=null:this.layout.interval==R?this.layout.timeUnit="second":this.layout.interval!="tick"&&(this.layout.timeUnit="minute")),C={symbol:a.symbol,symbolObject:a.symbolObject,chart:a,nodraw:!0},this.layout.interval=="tick"&&(C.startDate=o,C.endDate=n),this.displayInitialized||(C.initializeChart=!0),k={symbol:a.symbol,symbolObject:a.symbolObject,interval:this.layout.interval},(k.interval=="month"||k.interval=="week")&&!this.dontRoll&&(k.interval="day"),F=Math.max(this.quoteDriver.getQuoteFeed(k).behavior.bufferSize+50,200),l=this.standardMarketIterator(o,null,a),C.startDate=new Date(l.previous(F).getTime()),l=this.standardMarketIterator(n,null,a),C.endDate=new Date(l.next(F).getTime()),C.endDate<Date.now()&&(this.isHistoricalModeSet=!0),this.clearCurrentMarketData(this.chart),clearTimeout(this.streamParameters.timeout),this.quoteDriver.newChart(C,M)):((this.layout.interval!=c||this.layout.periodicity!=f||this.layout.timeUnit!=m||!this.chart.dataSegment||!this.chart.dataSegment[0]||this.chart.dataSegment[0].DT!=a.inflectionPoint)&&(this.layout.interval=c,this.layout.periodicity=f,this.layout.timeUnit=m,this.createDataSet()),M())}else L()},t.ChartEngine.prototype.setSpan=function(r,s){var i,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R;i="da";function C(L){return L.setHours(0),L.setMinutes(0),L.setSeconds(0),e.r5q(),L.setMilliseconds(0),L}if(i+="y",a="al",a+="l",o=arguments[0],n=arguments[1],e.Z1$(3),l=arguments[e.p5W("2",1)],u=arguments[3],typeof r=="object"?(o=r.period?r.period:r.multiplier?r.multiplier:1,n=r.interval?r.interval:r.base?r.base:r.span?r.span:r.period,l=r.padding,u=r.chart):(r={period:o,interval:n,padding:l,chart:u},e.b1T(15),s=arguments[e.p5W(5,"5")]),u||(u=this.chart),h=u.market,n=n.toLowerCase(),n==a){r.dontSaveRangeToLayout=!0,this.displayAll(r,s);return}function k(L,E){var H;return v&&(e.m30(),H=7,E?L.setHours(L.getHours()+H):(L.setHours(L.getHours()-H),h.isMarketDate(L)||L.setDate(L.getDate()-2))),L}if(f=n,e.b1T(2),m=e.p5W("1",96),n=="today"?f="day":n=="year"&&(x="mo",x+="n",x+="t",x+="h",f=x,e.Z1$(3),m=e.p5W("12",1)),g=t.shallowClone(r),d={begin:h.marketZoneNow(),interval:f,period:m},p=d.begin,v=t.Market.Symbology.isForexSymbol(u.symbol),n==="ytd"){S=74461798,e.b1T(66),T=e.p5W(64,"1637818251"),D=2;for(var F="1">>64;e.D4r(F.toString(),F.toString().length,"90653">>0)!==S;F++)p=C(p),e.b1T(46),p.setMonth(e.p5W(0,"8")),D+=2;e.m9o(D.toString(),D.toString().length,89851)!==T&&(p=C(p),p.setMonth(0)),p.setDate(1)}else if(n==="month")p=C(new Date),p.setMonth(p.getMonth()-o);else if(n==="year")p=C(new Date),p.setFullYear(p.getFullYear()-o);else if(n==="week")p=C(new Date),p.setDate(p.getDate()-o*7);else if(n===i&&o==1&&h.isMarketDay())y=p.getHours(),b=p.getMinutes(),w=p.getSeconds(),A=p.getMilliseconds(),c=h.newIterator(d),p=c.previous(),p.setHours(y,b,w,A),p=h._convertFromMarketTZ(p);else if(n==="today"){if(d.begin=k(p,!0),c=h.newIterator(d),(h.isOpen()||h.getPreviousOpen().getDate()==p.getDate())&&c.next(),p=c.previous(),k(p),g.goIntoFuture=!0,g.dtRight=new Date(+p),g.dtRight.setDate(p.getDate()+1),g.dtRight=h._convertFromMarketTZ(g.dtRight),!v){p.setHours(c.market.zopen_hour),_=1055017589,P=2078089104,I=2;for(var M=1;e.D4r(M.toString(),M.toString().length,63747)!==_;M++)p.setMinutes(c.market.zopen_minute),p.setSeconds(0),I+=2;e.D4r(I.toString(),I.toString().length,57330)!==P&&(p.setMinutes(c.market.zopen_minute),p.setSeconds(1))}p=h._convertFromMarketTZ(p)}else O="d",O+="ay",n==O&&(d.begin=k(p,!0)),c=h.newIterator(d),o==1&&o++,e.b1T(11),p=c.previous(e.v8U(1,o)),n=="day"&&(p=h._convertFromMarketTZ(k(p)));g.dtLeft=p,g.maintainPeriodicity&&(g.periodicity={},g.periodicity.interval=this.layout.interval,g.periodicity.period=this.layout.periodicity),u.spanLock=!1,g.dontSaveRangeToLayout=!0,R=this,this.setRange(g,function(L){R.layout.setSpan=r,R.changeOccurred("layout"),n=="today"&&(u.spanLock=!0),s&&s(L)})},t.ChartEngine.prototype.getSpanCandleWidth=function(r){var s,i,a,o,n,l;if(!(!r||!r.base||!r.multiplier)){s=parseFloat(r.multiplier),i=r.base,a=new Date,o=new Date,i=="year"?o.setFullYear(o.getFullYear()-s):i=="month"?o.setMonth(o.getMonth()-s):i=="day"?o.setDate(o.getDate()-s):i=="week"?o.setDate(o.getDate()-7*s):i=="YTD"&&(e.b1T(3),o.setMonth(e.v8U("0",1)),o.setDate(1)),e.b1T(0);var u=e.p5W(4,53,13,930);e.b1T(1);var h=e.p5W(52,8);e.Z1$(137);var c=e.v8U(8,20,628,1,660);e.Z1$(138);var f=e.p5W(13,20,15,2);return n=(a.getTime()-o.getTime())/u/h/c/f,e.Z1$(139),n=e.v8U(n,0,"7",5),l=this.chart.width/n,l}},e.m30(),t.ChartEngine.prototype.displayAll=function(r,s){var i,a,o,n,l,u,h,{chart:c,layout:f}=this;if(i=[],r&&r.chart&&(c=r.chart),a=this,!this.quoteDriver){m();return}o=r.maintainPeriodicity?{period:f.periodicity,interval:f.interval,timeUnit:f.timeUnit}:{period:1,interval:"month",timeUnit:null};function m(){var d;if(!c.masterData||!c.masterData.length){s&&s("No data to display.");return}d=t.clone(r),d.dtLeft=c.endPoints.begin,d.dtRight=c.endPoints.end,d.periodicity={},d.periodicity.interval=f.interval,d.periodicity.period=f.periodicity,d.periodicity.timeUnit=f.timeUnit,a.setRange(d,function(p){var v;v="la",v+="yo",v+="ut",a.layout.setSpan={base:r.base,multiplier:r.multiplier},a.changeOccurred(v);for(var S in a.panels)a.calculateYAxisMargins(a.panels[S].yAxis);i.length&&!a.drawingObjects.length&&a.importDrawings(i),a.draw(),s&&s(p)})}o=r.periodicity?r.periodicity:o,o=t.cleanPeriodicity(o.period,o.interval,o.timeUnit),n=this.needDifferentData(o),this.layout.periodicity=o.period,this.layout.interval=o.interval,this.layout.timeUnit=o.timeUnit;function x(d){d||a.quoteDriver.loadAll(c,m)}if(r.forceLoad||n){i=this.drawingObjects.map(d=>(e.m30(),d.serialize())),l=-2139435093,u=-1054460885,h=2;for(var g=1;e.D4r(g.toString(),g.toString().length,16148)!==l;g++)this.clearCurrentMarketData(this.chart),this.quoteDriver.newChart({nodraw:!0,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,chart:this.chart,initializeChart:!0,fetchMaximumBars:!0},x),h+=2;e.m9o(h.toString(),h.toString().length,"72122"-0)!==u&&(this.clearCurrentMarketData(this.chart),this.quoteDriver.newChart({nodraw:!1,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,chart:this.chart,initializeChart:!1,fetchMaximumBars:!1},x))}else c.moreAvailable||!c.upToDate?x():(this.createDataSet(),m())},t.ChartEngine.prototype.drawWithRange=function(r){var{setSpan:s,range:i}=this.layout;s&&Object.keys(s).length?this.setSpan(Object.assign({},s,{forceLoad:!1,useExistingData:!0})):i&&Object.keys(i).length?this.setRange(Object.assign({},i,{forceLoad:!1,useExistingData:!0})):this.draw(r)}};Da=U=>{var e;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.ChartEngine.prototype.importLayout=function(t,r){var s=ee,i,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W;if(i="obj",i+="ect",!t){r.cb&&r.cb();return}a=this,o=[],n=this.extendedHours&&!this.extendedHours.filter&&t.extended&&!this.layout.extended,typeof r!==i&&(r={managePeriodicity:arguments[1],preserveTicksAndCandleWidth:arguments[2]}),l=this.layout,u=e.shallowClone(l),h=r.managePeriodicity,c=r.cb,f=r.seriesCB,m=r.noDataLoad,x=r.preserveTicksAndCandleWidth,g=null,this.exportDrawings&&(g=this.exportDrawings(),this.abortDrawings()),this.currentlyImporting=!0;for(var V in l.studies)d="Studies",d+=".remov",d+="eStud",d+="y",p=l.studies[V],e.getFn(d)(this,p);this.overlays={};function Y(Z){var ae,te,re,oe,B;if(g&&a.importDrawings(g),a.currentlyImporting=!1,Z)return;re=[];for(var G in a.chart.series){if(!a.removeSeries)break;te=a.chart.series[G],te.parameters.bucket=="study"&&(ae=!0,a.removeSeries(te),re.push(te))}for(var ie=0;ie<re.length;ie++)oe="a",oe+="ddEvent",te=re[ie],B=te.parameters.isEvent?oe:"addSeries",a[B](te.id,te.parameters,ne);ae||a.draw(),a.updateListeners("layout"),a.changeOccurred("layout");function ne(){a.createDataSet(),X(a.panels),a.calculateYAxisPositions(),a.calculateYAxisMargins(a.chart.yAxis),s.r5q(),a.draw()}}s.m30(),v=e.shallowClone(this.panels),this.panels={},S=e.clone(t),l.flipped&&this.flipChart(l.flipped),T=S.panels,w=function(Z,ae){return Z.index<ae.index?-1:1};for(D in T)"index"in T[D]||(w=null),y=T[D],y.name=D,o.push(y);if(l.panels={},A=null,o.length>0){w&&o.sort(w);for(var Q=0;Q<o.length;++Q)y=o[Q],b=y.yAxis?new e.ChartEngine.YAxis(y.yAxis):null,this.stackPanel(y.display,y.name,y.percent,y.chartName,b),y.soloing&&(A=this.panels[y.name])}e.isEmpty(T)&&this.stackPanel("chart","chart",1,"chart"),this.resizeCanvas();for(var z in v)if(_=v[z],P=this.panels[z],P){this.container.removeChild(P.holder),_.handle&&this.container.removeChild(_.handle),I={holder:!0,subholder:!0,display:!0,icons:!0};for(var $ in I)P[$]=_[$];this.configurePanelControls(P),_.chart.panel==_&&(_.chart.panel=P)}else this.privateDeletePanel(_);function K(){var Z,ae;if(a.layout.studies)for(var te in a.layout.studies)Z="se",Z+="r",Z+="i",Z+="es",ae=a.layout.studies[te],!(!ae.inputs.Series||ae.inputs.Series===Z)&&e.getFn("Studies.replaceStudy")(this,ae.inputs.id,ae.type,ae.inputs,ae.outputs,ae.parameters,ae.panel);a.calculateYAxisPositions(),X(a.panels),f&&f()}this.chart.panel=this.panels.chart,X(this.panels),e.extend(l,e.clone(S)),l.periodicity=u.periodicity,l.interval=u.interval,l.timeUnit=u.timeUnit,l.setSpan=u.setSpan,l.range=u.range,x?l.candleWidth=u.candleWidth:l.candleWidth||(l.candleWidth=8),this.setCandleWidth(l.candleWidth),l.headsUp=e.clone(l.headsUp),O=e.clone(l.studies),delete l.studies;for(var q in O)R="Studies.",R+="ad",R+="dStudy",C=O[q],k=e.getFn(R)(this,C.type,C.inputs,C.outputs,C.parameters,C.panel),k&&(C.disabled&&k.toggleDisabledState(this),C.signalData&&(k.signalData=C.signalData,F=this.panels[k.panel],this.checkForEmptyPanel(F,!0,k)&&(F.hidden=!0,s.b1T(11),F.percent=s.v8U(0,"0"))));this.extendedHours&&this.extendedHours.prepare(l.extended,l.marketSessions),typeof l.chartType=="undefined"&&(l.chartType="line"),this.setMainSeriesRenderer(),A&&this.panelSolo(A),this.adjustPanelPositions(),X(this.panels),this.storePanels();function X(Z){for(var ae,te,re="0"^0;re<o.length;re++)ae="yax",ae+="i",ae+="s",ae+="LHS",te=o[re],B(te,ae),B(te,"yaxisRHS");function oe(G){return s.m30(),!!G}a.chart.yAxis=a.chart.panel.yAxis;function B(G,ie){var ne,le,fe,ue;if(!(!G[ie]||!G[ie].length)&&(ne=Z[G.name],!!ne)){s.r5q(),le=ne[ie],fe=new Array(le.length);for(var ge="0">>32;ge<le.length;ge++)ue=G[ie].indexOf(le[ge].name),ue>-1?fe[ue]=le[ge]:fe.push(le[ge]);fe.length&&(ne[ie]=fe.filter(oe))}}}if(!m){if(S.symbols&&S.symbols.length){M={chart:this.chart},!x&&h&&S.range&&Object.keys(S.range).length?M.range=S.range:!x&&h&&S.setSpan&&Object.keys(S.setSpan).length?M.span=S.setSpan:h&&S.interval?M.periodicity={interval:S.interval,period:S.periodicity,timeUnit:S.timeUnit}:M.periodicity={interval:u.interval,period:u.periodicity,timeUnit:u.timeUnit},L=S.symbols[0].symbolObject||S.symbols[0].symbol,this.loadChart(L,M,function(Z){var ae,te,re,oe,B;if(!Z){for(var G,ie="1"-0;ie<S.symbols.length&&a.addSeries;++ie)G=S.symbols[ie],G.parameters||(G.parameters={}),ae=e.clone(G.parameters),this.panels[ae.panel]?(te="addSer",te+="ie",te+="s",re=ae.isEvent?"addEvent":te,a[re](G.id,ae,K)):(oe='" could not be imported due to a',oe+=" miss",oe+='ing corresponding panel "',B="Warning: Series ",B+='"',console.warn(B+G.id+oe+ae.panel+'"'));S.chartScale&&a.setChartScale(S.chartScale)}Y(Z),c&&c.apply(null,arguments)});return}if(h){if(E="d",E+="a",E+="y",!x&&this.setRange){if(H=S.range,H&&Object.keys(H).length&&this.chart.symbol){this.setRange(H,function(){Y(),c&&c()});return}else if(S.setSpan&&Object.keys(S.setSpan).length&&this.chart.symbol){this.setSpan(S.setSpan,function(){Y(),c&&c()});return}}N=S.interval,j=S.periodicity,W=S.timeUnit,isNaN(j)&&(j=1),N||(N=E),this.setPeriodicity({period:j,interval:N,timeUnit:W,getDifferentData:n},function(){Y(),c&&c()});return}}h&&(l.periodicity=S.periodicity,l.interval=S.interval,l.timeUnit=S.timeUnit,l.setSpan=S.setSpan),this.createDataSet(),x||this.home(),Y(),c&&c()},e.ChartEngine.prototype.exportLayout=function(t){var r=ee,s,i,a,o,n,l,u,h,c,f,m,x,g;s={};for(var d in this.layout)i="d",i+="ra",i+="wing",d!="studies"&&d!="panels"&&d!=i?s[d]=e.clone(this.layout[d]):d=="studies"?s.studies={}:d=="panels"&&(s.panels={});a=-291368574,r.b1T(66),o=r.p5W(32,"977245768"),n=2;for(var p=1;r.D4r(p.toString(),p.toString().length,3506)!==a;p++)l=3,n+=2;r.m9o(n.toString(),n.toString().length,5325)!==o&&(r.Z1$(2),l=r.p5W("0",64));function v(y){var b;b=[],r.r5q();for(var w=0;w<y.length;w++)b.push(y[w].name);return b}for(var S in this.panels)u=this.panels[S],u.exportable!==!1&&(h=s.panels[S]={},h.percent=u.percent,h.display=u.display,h.chartName=u.chart.name,h.soloing=u.soloing,h.index=l++,h.yAxis={name:u.yAxis.name,position:u.yAxis.position},u.yaxisLHS&&(h.yaxisLHS=v(u.yaxisLHS)),u.yaxisRHS&&(h.yaxisRHS=v(u.yaxisRHS)));for(var T in this.layout.studies)c=s.studies[T]={},f=this.layout.studies[T],c.type=f.type,c.inputs=e.clone(f.inputs),c.outputs=e.clone(f.outputs),c.panel=f.panel,c.parameters=e.clone(f.parameters),c.disabled=f.disabled,f.signalData&&(f.signalData.cloneForExport?c.signalData=f.signalData.cloneForExport():c.signalData=e.clone(f.signalData));if(t)s.symbols=this.getSymbols({"include-parameters":!0,"exclude-studies":!0,"exclude-generated":!0,"exclude-nostore":!0}),s.symbols.length&&s.symbols["0"^0].symbolObject&&s.symbols[0].symbolObject.static&&delete s.symbols[0].symbolObject.static;else{m=677349228,x=-1174166723,g=2;for(var D=1;r.D4r(D.toString(),D.toString().length,73623)!==m;D++)delete s.symbols,g+=2;r.D4r(g.toString(),g.toString().length,72348)!==x&&-s.symbols}return s},e.ChartEngine.prototype.importPreferences=function(t){e.extend(this.preferences,t),t.timeZone&&this.setTimeZone(this.dataZone,t.timeZone),ee.m30(),t.language&&e.I18N&&e.I18N.localize(this,t.language),this.changeOccurred("preferences")},e.ChartEngine.prototype.exportPreferences=function(){return ee.r5q(),this.preferences}};Aa=U=>{var e=ee,t,r,s,i,a,o,n,l,u,h,c,f,m,x;t="#e9",t+="088",t+="c",r="fiel",r+="d",s="s",e.m30(),s+="e",s+="rie",s+="s",i="0",i+=" to",i+=" ",i+="max",a="m",a+="a",o="Tr",o+="iangul",o+="ar",n="expone",n+="ntial",l="s",l+="impl",l+="e",u="C",u+="lose",h="^(.{1",h+=",100}) \\[(.{",h+="1,2",h+="0})\\]$",c="un",c+="defined",f=typeof _CIQ!==c?_CIQ:U.CIQ,m=typeof _timezoneJS!="undefined"?_timezoneJS:U.timezoneJS,f.ChartEngine&&(f.ChartEngine.prototype.rightClickOverlay=function(g,d){var p;this.runPrepend("rightClickOverlay",arguments)||(p=this.overlays[g],p.editFunction?p.editFunction(d):this.removeOverlay(g),this.runAppend("rightClickOverlay",arguments))},f.ChartEngine.prototype.addOverlay=function(g){this.runPrepend("addOverlay",arguments)||(this.overlays[g.name]=g,e.m30(),this.runAppend("addOverlay",arguments))},f.ChartEngine.prototype.removeOverlay=function(g){var d,p,v,S,T,D,y;if(d="re",d+="mo",d+="veOverlay",!this.runPrepend("removeOverlay",arguments)){if(p=this.overlays[g],p){for(var b in this.overlays){v=this.overlays[b],S=["Field"],f.Studies&&(S=f.Studies.getFieldInputs(v));for(var w=0;w<S.length;w++)T=v.inputs[S[w]],D=p.inputs.Series,D&&D!=="series"&&(e.b1T(19),T=T.replace(e.p5W(D," [","]"),"")),T in p.outputMap&&this.removeOverlay(v.name)}this.cleanupRemovedStudy(p),this.panels[p.panel],delete this.overlays[g],this.checkForEmptyPanel(p.panel)}this.currentlyImporting||(y="l",y+="ayout",this.displaySticky(),this.createDataSet(),this.changeOccurred(y)),this.resetDynamicYAxis(),this.runAppend(d,arguments)}},f.ChartEngine.prototype.cleanupRemovedStudy=function(g){if(e.r5q(),!!g){g.study.removeFN&&g.study.removeFN(this,g);for(var d in this.plugins)d.indexOf("{"+g.id+"}")>-1&&delete this.plugins[d];g.removeSignals&&g.removeSignals(),this.layout.studies&&delete this.layout.studies[g.name],this.chart.state.studies.sorted=null,delete this.overlays[g.name];var{sd:p}=this.repositioningAnchorSelector||{};if(p&&p===g){this.repositioningAnchorSelector=null;var{anchorHandles:v}=this.controls;v&&v[g.uniqueId]&&(v[g.uniqueId].highlighted=!1,f.Studies.displayAnchorHandleAndLine(this,g,this.chart.dataSegment))}f.Studies&&f.Studies.removeStudySymbols(g,this),this.quoteDriver&&this.quoteDriver.updateSubscriptions()}}),f.Studies=f.Studies||function(){},f.Studies.DEFAULT_INPUTS={Period:"14"^0},f.Studies.DEFAULT_OUTPUTS={Result:"auto"},f.Studies.impliedVolatilityAvailable=!1,f.Studies.useTranslationDelimiter=!0,f.Studies.sortForProcessing=g=>{var d,p;d=[];function v(S,T){e.m30(),S.forEach(D=>{var y;T.indexOf(D)==-1&&(y=D.getDependents(g),y.length&&v(y,T),T.unshift(D))})}return p=g.layout.studies,p&&v(Object.values(p),d),d},x=new RegExp(h),f.Studies.getQuoteFieldValue=function(g,d,p=u){var v,S,T;return v="numb",v+="er",!g||!d||(S=x.exec(d),S&&(p=S[1].replace(/\u200c/g,""),d=S[2]),T=null,typeof g[d]===v?T=g[d]:g[d]&&typeof g[d]=="object"&&(T=g[d][p]),!T&&T!==0)?null:T},f.Studies.StudyDescriptor=function(g,d,p,v,S,T){var D,y,b;this.name=g,this.disabled=!1,this.type=d,this.panel=p,this.inputs=v,this.outputs=S,this.parameters=T,this.outputMap={},this.min=null,this.max=null,this.startFrom=0,this.subField="Close",D=f.Studies.studyLibrary[d],e.m30(),D||(y="ch",y+="art",b="c",b+="h",b+="art",D={},(p==b||!p&&T&&T.chartName==y)&&(this.overlay=!0)),typeof D.inputs=="undefined"&&(D.inputs=f.clone(f.Studies.DEFAULT_INPUTS)),typeof D.outputs=="undefined"&&(D.outputs=f.clone(f.Studies.DEFAULT_OUTPUTS)),this.study=D,this.libraryEntry=D},f.Studies.StudyDescriptor.prototype.toggleDisabledState=function(g){var d;d="h",d+="id",d+="e";var{disabled:p,study:v,signalData:S}=this,{chart:T}=g;this.disabled=p=!p,p?T.customChart&&T.customChart.owner===this.name&&v.calculateFN(g,this):(this.startFrom=0,this.error=null,v&&v.calculateFN&&v.calculateFN(g,this),this.flagSignals&&this.flagSignals()),S&&S[p?d:"show"](),g.changeOccurred("layout"),g.draw()},f.Studies.StudyDescriptor.prototype.getYAxis=function(g){var d,p,v;return d=this.yAxis,e.r5q(),this.parameters&&(p=this.parameters.yAxis?this.parameters.yAxis.name:this.parameters.yaxisDisplayValue),d||(v=g.panels[this.panel],v&&(d=g.getYAxisByName(v,p)||g.getYAxisByName(v,this.name)||v.yAxis)),d||(d=g.getYAxisByName(g.chart.panel,p)||g.chart.panel.yAxis),d},f.Studies.StudyDescriptor.prototype.getContext=function(g){return e.r5q(),g.chart.context},f.Studies.StudyDescriptor.prototype.getDependents=function(g,d){var p,v,S,T,D;p=[],e.r5q();for(var y in g.layout.studies)if(v=g.layout.studies[y],v!=this){S=f.Studies.getFieldInputs(v);for(var b=0;b<S.length;b++)if(T=v.inputs[S[b]].toLowerCase().replace(/\u200c/g,""),D=this.name.toLowerCase().replace(/\u200c/g,""),T.includes(D)){if(d&&v.parameters&&v.parameters.panelName)continue;p.push(v),p=p.concat(v.getDependents(g,d));break}}return p},f.Studies.StudyDescriptor.prototype.undraggable=function(g){var d;return!!(this.signalData||(d=this.study.attributes,e.m30(),d&&(d.panelName&&d.panelName.hidden||d.yaxisDisplayValue&&d.yaxisDisplayValue.hidden)))},f.Studies.StudyDescriptor.prototype.appendFutureTicks=function(g,d){var p,v,S,T;if(p=g.chart.scrubbed,!!p.length){for(e.r5q(),v=g.standardMarketIterator(p[p.length-1].DT),S=d.length-1;S>=0;S--){T=d[S];for(var D in T)if(T[D]||T[D]===0){S=-1;break}if(S==-1)break;d.pop()}for(S=0;S<d.length;S++)T=d[S],T.DT||(T.DT=v.next()),T.displayDate||g.setDisplayDate(T),T.futureTick=!0,p.push(T)}},f.Studies.generateID=function(g,d,p,v,S){var T,D,y,b,w,A,_,P;if(T=f.Studies.studyLibrary[d],D=S||d,f.Studies.useTranslationDelimiter&&(e.Z1$(19),D=e.p5W(D,"‌","‌")),y=D,T&&T.customRemoval)return y;if(!f.isEmpty(p)){b=!0;for(var I in p)w="s",w+="e",w+="ries",A="P",A+="rim",A+="ar",A+="y",!["id","display","Shading","Anchor Selector"].includes(I)&&(_=p[I],_!="field"&&(I=="Series"&&(_==A||_==w)||(_=_.toString(),f.Studies.prettify[_]!==void 0&&(_=f.Studies.prettify[_]),b?(b=!1,y+=" ("):_&&(y+=","),y+=_)));b||(y+=")")}if(v===y||v&&v.indexOf(y+"-")===0)return v;if(g.layout.studies&&g.layout.studies[y]){for(var O="2"<<64;O<50;O++)if(e.b1T(19),P=e.p5W("-",y,O),!g.layout.studies[P]){y=P;break}}return y},f.Studies.DialogHelper=function(g){var d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie,ne,le,fe,ue,ge,ce,de,he,pe,me;d=this.stx=g.stx,p=this.sd=g.sd,this.name=p?p.type:g.name,this.signal=1,this.inputs=[],this.outputs=[],this.parameters=[],v=this.libraryEntry=p?p.study:f.Studies.studyLibrary[g.name],typeof v.inputs=="undefined"&&(v.inputs=f.clone(f.Studies.DEFAULT_INPUTS)),typeof v.outputs=="undefined"&&(v.outputs=f.clone(f.Studies.DEFAULT_OUTPUTS)),S=p&&d.panels[p.panel]||d.chart.panel,T=S.chart,this.title=d.translateIf(v.name),this.attributes=f.clone(v.attributes),this.attributes||(this.attributes={});for(var xe in this.attributes){D=this.attributes[xe];for(var ye in D)y="fun",y+="ct",y+="ion",typeof D[ye]==y&&(D[ye]=D[ye].call(p))}b=[],w=d.layout.studies,A=[];function be(je){var Ve,Oe;return Ve="ch",Ve+="e",Ve+="ckbox",Oe={name:je.name,heading:d.translateIf(je.label),defaultValue:je.defaults,value:je.value,type:Ve},e.m30(),Oe}p&&(A=Array.prototype.concat(p,p.getDependents(d)));function _e(je){var Ve;if(ne=="alias"){Ve=1;for(var Oe in d.panels){if(Oe==je)return Ie(Oe,Ve);Ve++}}e.r5q();function Ie(Te,Le){return e.m30(),"Panel "+Le.toString()}return je}for(var De in w)if(!w[De].signalData&&!(A.indexOf(w[De])>-1))for(var ke in w[De].outputMap)_=f.Studies.useTranslationDelimiter?"‌":"",w[De].inputs.Series&&w[De].inputs.Series!=="series"&&(ke=`${_}${ke}${_} [${w[De].inputs.Series}]`),b.push(ke);for(var Ae in v.inputs)if(P="u",P+="ndef",P+="ined",I={},this.inputs.push(I),I.name=Ae,I.heading=d.translateIf(Ae),O=v.inputs[Ae],p&&p.inputs&&typeof p.inputs[Ae]!=P&&p.inputs[Ae]!==null?I.value=p.inputs[Ae]:I.value=v.inputs[Ae],I.defaultInput=v.inputs[Ae],this.attributes[Ae]||(this.attributes[Ae]=f.Studies.inputAttributeDefaultGenerator(I.defaultInput)),O.constructor==Number)R="n",R+="umb",R+="e",R+="r",I.type=R;else if(O.constructor==String)if(C="se",C+="r",C+="ies",k=f.Studies.movingAverageHelper(d,I.defaultInput),k)F="optio",F+="n",F+="s",I.type="select",I.defaultInput=k,M=f.Studies.movingAverageHelper(d,I.value),M||(M=I.value),I.value=M,I.options=f.Studies.movingAverageHelper(d,F);else if(O=="field"){L="oh",L+="l",L+="c",L+="/4",E="h",E+="l",E+="c",E+="c/4",H=d.chart.series,N=[];for(var we in H){var{parameters:Ee}=H[we];Ee&&Ee.isComparison&&N.push(we)}I.type="select",I.options={},j=["Open","High","Low","Close","hl/2","hlc/3",E,L,T.defaultPlotField].concat(b,N),d.layout.adj&&j.splice(4,0,"Adj_Close");for(var Se=0;Se<j.length;Se++)W=j[Se],I.options[W]=d.translateIf(W);I.value=="field"&&(I.value="Close"),I.defaultInput=="field"&&(I.defaultInput="Close")}else O==C?(V="fie",V+="ld",Y="serie",Y+="s",I.options=Object.keys(d.chart.series).reduce((je,Ve)=>{e.m30();var Oe,{display:Ie,parameters:Te}=d.chart.series[Ve];return Oe=(Te||{}).symbol||Ve,xi(hi({},je),{[Oe]:Ie||Ve})},{Primary:"Primary"}),(!I.value||I.value===Y||I.value===V)&&(I.value="Primary"),I.type="select",I.defaultInput=="field"&&(I.defaultInput="Primary")):(I.type="text",this.attributes[Ae].placeholder=="yyyy-mm-dd"?I.type="date":this.attributes[Ae].placeholder=="hh:mm:ss"&&(I.type="time"));else if(O.constructor==Boolean)Q="c",Q+="heck",Q+="box",I.type=Q,(I.value===!0||I.value=="true"||I.value=="on")&&(I.value=!0);else if(O.constructor==Array){I.type="select",I.options={};for(var Ce=0;Ce<O.length;Ce++)I.options[O[Ce]]=d.translateIf(O[Ce]);I.value.constructor==Array&&(I.value=I.value[0]),this.attributes[Ae].defaultSelected?I.defaultInput=this.attributes[Ae].defaultSelected:I.defaultInput=O[0]}this.dateTimeInputs=[];for(var Me=0;Me<this.inputs.length;Me++)if(z="d",z+="ate",$=this.inputs[Me],$.type==z){K=" ",K+="D",K+="ate",q=$.name.substring(0,$.name.indexOf(K));for(var He=0;He<this.inputs.length;He++)if(X="t",X+="i",X+="me",Z=this.inputs[He],Z.type==X&&(ae=" ",ae+="T",ae+="i",ae+="me",Z.name==q+ae)){this.dateTimeInputs.push(q);break}}this.adjustInputTimesForDisplayZone();for(var Re in v.outputs)te={name:Re,heading:d.translateIf(Re)},te.color=te.defaultOutput=v.outputs[Re],p&&p.outputs&&p.outputs[Re]&&(te.color=p.outputs[Re]),te.color=="auto"&&(te.color=d.defaultColor),this.outputs.push(te);function Ne(je,Ve){var Oe;Oe=this,Oe.attributes[je]||(Oe.attributes[je]={}),e.m30(),Ve&&(Oe.attributes[je].hidden=!0)}function ze(je){e.r5q();var Ve,Oe,Ie;Ve={},Oe=je.defaults,Ie={name:je.name,heading:d.translateIf(je.label),defaultValue:Oe[0],value:je.value,options:Ve,type:"select"};for(var Te=0;Te<Oe.length;Te++)Ve[Oe[Te]]=d.translateIf(Oe[Te]);return je.color!==void 0&&(Ie.defaultColor=d.defaultColor,Ie.color=je.color),Ie}if(re=p?p.parameters:null,v.parameters&&(oe=v.parameters.init,oe&&(oe.studyOverZonesEnabled!==void 0&&(B={name:"studyOverZones",heading:d.translateIf("Show Zones"),defaultValue:oe.studyOverZonesEnabled,value:oe.studyOverZonesEnabled},re&&(re.studyOverZonesEnabled||re.studyOverZonesEnabled===!1)&&(B.value=re.studyOverZonesEnabled),B.type="checkbox",this.parameters.push(B)),oe.studyOverBoughtValue!==void 0&&(G="O",G+="ve",G+="rB",G+="ought",B={name:"studyOverBought",heading:d.translateIf(G),defaultValue:oe.studyOverBoughtValue,value:oe.studyOverBoughtValue,defaultColor:oe.studyOverBoughtColor,color:oe.studyOverBoughtColor},re&&re.studyOverBoughtValue&&(B.value=re.studyOverBoughtValue),re&&re.studyOverBoughtColor&&(B.color=re.studyOverBoughtColor),B.color=="auto"&&(B.color=d.defaultColor),B.type="text",this.parameters.push(B)),oe.studyOverSoldValue!==void 0&&(ie="OverSol",ie+="d",B={name:"studyOverSold",heading:d.translateIf(ie),defaultValue:oe.studyOverSoldValue,value:oe.studyOverSoldValue,defaultColor:oe.studyOverSoldColor,color:oe.studyOverSoldColor},re&&re.studyOverSoldValue&&(B.value=re.studyOverSoldValue),re&&re.studyOverSoldColor&&(B.color=re.studyOverSoldColor),B.color=="auto"&&(B.color=d.defaultColor),B.type="text",this.parameters.push(B)),this.attributes.studyOverBoughtValue||(this.attributes.studyOverBoughtValue={}),this.attributes.studyOverSoldValue||(this.attributes.studyOverSoldValue={}))),ne=this.panelSelect=g.panelSelect,le=this.axisSelect=g.axisSelect,g.addWhenDone&&(le=ne=!1),le||ne){p||(p=f.Studies.addStudy(d,g.name,null,null,{calculateOnly:!0}),f.Studies.removeStudy(d,p)),ne&&this.parameters.push(ze({label:"Panel",name:"panelName",defaults:function(){var je;je=[],je.push("Auto");for(var Ve in d.panels)(Ve!=p.panel||!re||!re.panelName)&&(d.panels[Ve].noDrag||je.push(_e(Ve)));return d.checkForEmptyPanel(p.panel,!0,p)||je.push("New panel"),je}(),value:re&&re.panelName?_e(re.panelName):"Auto"}),be({label:"Show as Underlay",name:"underlay",defaults:!1,value:p.underlay||p.parameters&&p.parameters.underlayEnabled})),fe=d.getYAxisByName(S,p.name),le&&(ue="aut",ue+="o",ge="de",ge+="fa",ge+="u",ge+="lt",ce="s",ce+="h",ce+="ared",de="Y",de+="-Axis",this.parameters.push(ze({label:de,name:"yaxisDisplay",defaults:function(){var je,Ve;e.r5q(),je=S.yaxisLHS.concat(S.yaxisRHS),Ve=[],Ve.push("default","right","left","none","shared");for(var Oe=0;Oe<je.length;Oe++)je[Oe]!=fe&&Ve.push(je[Oe].name);return Ve}(),value:re&&re.yaxisDisplayValue||fe&&fe.position||(fe?ge:ce),color:fe&&fe.textStyle||ue}),be({label:"Invert Y-Axis",name:"flipped",defaults:!1,value:re&&re.flippedEnabled!==void 0?re.flippedEnabled:fe?fe.flipped:!1}))),Ne.call(this,"flippedEnabled",!fe&&p.panel!=p.name),he=-1714364735,pe=-1728507838,me=2;for(var tt=1;e.D4r(tt.toString(),tt.toString().length,92140)!==he;tt++)Ne.call(this,"",v.underlay),me+=2;e.D4r(me.toString(),me.toString().length,"43894">>64)!==pe&&Ne.call(this,"underlayEnabled",v.underlay),Ne.call(this,"panelName",v.seriesFN===null),Ne.call(this,"yaxisDisplayValue",v.seriesFN===null||v.yAxis&&v.yAxis.noDraw)}},f.Studies.DialogHelper.prototype.updateStudy=function(g){var d,p,v,S,T;d={},p=this.sd,v=this.libraryEntry,v||(v={}),p||(p=v),d.inputs=f.clone(p.inputs),d.outputs=f.clone(p.outputs),d.parameters=f.clone(p.parameters),this.adjustInputTimesForDisplayZone(g),g.parameters&&g.parameters.panelName&&(g.parameters.panelName=D.call(this,g.parameters.panelName)),f.extend(d,g),e.r5q(),d.parameters||(d.parameters={}),d.inputs&&d.inputs.id?p=f.Studies.replaceStudy(this.stx,d.inputs.id,this.name,d.inputs,d.outputs,d.parameters,null,p.study):p=f.Studies.addStudy(this.stx,this.name,d.inputs,d.outputs,d.parameters,null,p.study);function D(b){var w,A;function _(I){var O;return O=I.match(/.{0,50} (\d)/),O&&O[1]}if(w=this,w.panelSelect=="alias"&&(A=_(b),A)){for(var P in w.stx.panels)if(!--A)return P}return b}S=new f.Studies.DialogHelper({stx:this.stx,sd:p,axisSelect:this.axisSelect,panelSelect:this.panelSelect});for(var y in S)T="s",T+="igna",T+="l",y!=T&&(this[y]=S[y]);this.signal*=-1},f.Studies.DialogHelper.prototype.adjustInputTimesForDisplayZone=function(g){var d,p,v,S,T,D,y,b,w,A;if(this.stx.displayZone)for(var _=0;_<this.dateTimeInputs.length;_++){for(d=this.dateTimeInputs[_],D="",g&&g.inputs&&(e.b1T(1),v=g.inputs[e.v8U(d," Date")],e.b1T(1),S=g.inputs[e.p5W(d," Time")],v&&(D=v),S&&(D+=S)),p=0;p<this.inputs.length;p++)y=" Ti",y+="m",y+="e",T=this.inputs[p],!v&&v!==""&&T.name==d+" Date"?D=T.value+D:!S&&S!==""&&T.name==d+y&&(D+=T.value);if(D=D.replace(/\D/g,""),D.length<12)return;if(b=f.strToDateTime(D),!isNaN(b.valueOf()))if(g)g.inputs||(g.inputs={}),w=f.convertTimeZone(b,this.stx.displayZone),e.Z1$(1),g.inputs[e.v8U(d," Date")]=f.yyyymmdd(w),e.b1T(1),g.inputs[e.v8U(d," Time")]=f.hhmmss(w);else for(w=f.convertTimeZone(b,null,this.stx.displayZone),p=0;p<this.inputs.length;p++)A=" ",A+="Da",A+="te",T=this.inputs[p],T.name==d+A&&(T.value=f.yyyymmdd(w)),T.name==d+" Time"&&(T.value=f.hhmmss(w))}},f.Studies.prepareStudy=function(g,d,p){if(typeof d.calculateFN=="undefined"&&(d.useRawValues=!0),f.isEmpty(p.outputMap))for(var v in p.outputs)d.useRawValues?p.outputMap[v]=v:p.outputMap[v+" "+p.name]=v},f.Studies.rejiggerDerivedStudies=function(g,d,p){var v,S,T,D,y,b,w;e.m30(),v=d.name,d.panel,S=d.getDependents(g);for(var A=0;A<S.length;A++)if(T=S[A],D=f.clone(T.inputs),y=D.id,!!y){b=f.Studies.getFieldInputs(T);for(var _="0"<<64;_<b.length;_++)D[b[_]]=D[b[_]].replace(v,p);w=f.Studies.replaceStudy(g,y,T.type,D,T.outputs,f.extend(T.parameters,{rejiggering:!0}),null,T.study),delete w.parameters.rejiggering}},f.Studies.removeStudySymbols=function(g,d){if(g.series)for(var p in g.series)d.deleteSeries(g.series[p],null,{action:"remove-study"})},f.Studies.replaceStudy=function(g,d,p,v,S,T,D,y){var b,w,A,_,P;T||(T={}),d&&(T.replaceID=d),d=T.replaceID,b=g.layout.studies[d],f.Studies.removeStudySymbols(b,g),b.attribution&&g.removeFromHolder(b.attribution.marker),g.quoteDriver&&g.quoteDriver.updateSubscriptions(),v&&(v.id==v.display&&delete v.display,delete v.id),w=f.Studies.addStudy(g,p,v,S,T,D,y),w.highlight=b.highlight,w.uniqueId=b.uniqueId,b.signalData&&(w.signalData=b.signalData,w.signalData.updateConditions&&w.signalData.updateConditions(d,w.inputs.id)),_={};for(A in g.layout.studies)A==d?_[w.name]=w:_[A]=g.layout.studies[A];g.layout.studies=_,_={};for(A in g.overlays)A==d?(w.overlay||w.underlay)&&(_[w.name]=w):_[A]=g.overlays[A];return g.overlays=_,!g.overlays[w.name]&&(w.overlay||w.underlay)&&g.addOverlay(w),g.checkForEmptyPanel(b.panel),T.rejiggering||(g.initializeDisplay(g.chart),f.Studies.rejiggerDerivedStudies(g,b,w.inputs.id,w.panel)),f.transferObject(b,w),g.layout.studies[w.name]=b,g.overlays[w.name]=b,g.chart.state.studies.sorted=null,T.rejiggering||(P="la",P+="y",P+="o",P+="ut",!b.currentlyImporting&&!T.calculateOnly&&b.chart.dataSet&&g.createDataSet(null,b.chart),g.changeOccurred(P),g.drawWithRange()),b},f.Studies.addStudy=function(g,d,p,v,S,T,D){var y,b,w,A,_,P,I,O,R,C,k,F,M;if(y=D||f.Studies.studyLibrary[d],S||(S={}),y){if(y.inputs){b=f.clone(y.inputs);for(var L in b)b[L]instanceof Array&&(y.attributes&&y.attributes[L]&&y.attributes[L].defaultSelected?b[L]=y.attributes[L].defaultSelected:(e.Z1$(46),b[L]=b[L][e.v8U(0,"0")]));p=f.extend(b,p)}y.outputs&&(v=f.extend(f.clone(y.outputs),v)),w=y.parameters,w&&w.init&&(S=f.extend(f.clone(w.init),S)),w&&!S.display&&(S.display=w.display)}if(p||(p=f.clone(f.Studies.DEFAULT_INPUTS)),v||(v=f.clone(f.Studies.DEFAULT_OUTPUTS)),S.chartName||(S.chartName="chart"),(S.panelName=="Auto"||S.panelName=="Default panel")&&(S.panelName=""),p.Period<1&&(p.Period=1),A=null,g.layout.studies||(g.layout.studies={}),y&&y.initializeFN?A=y.initializeFN(g,d,p,v,S,T,D):A=f.Studies.initializeFN(g,d,p,v,S,T,D),A){if(A==="abort")return}else{e.b1T(1),console.log(e.p5W("CIQ.Studies.addStudy: initializeFN() returned null for ",d));return}if(D=A.study,A.chart=g.charts[S.chartName],A.type=d,e.m30(),A.permanent=D.permanent,A.customLegend=D.customLegend,A.uniqueId=f.uniqueID(),f.Studies.prepareStudy(g,D,A),_=g.chart.state.studies,_||(_=g.chart.state.studies={}),_.sorted=null,S.replaceID?(P=!0,delete S.replaceID):(g.layout.studies[A.inputs.id]=A,(A.overlay||A.underlay)&&g.addOverlay(A),!g.currentlyImporting&&!S.calculateOnly&&A.chart.dataSet&&g.createDataSet(null,A.chart)),g.quoteDriver&&g.quoteDriver.updateSubscriptions(),S.calculateOnly)return g.changeOccurred("layout"),A;if(I=g.panels[A.panel],O=!1,R=!(A.overlay||A.underlay),R&&D.horizontalCrosshairFieldFN&&(I.horizontalCrosshairField=D.horizontalCrosshairFieldFN(g,A)),g.editCallback?O=!0:R?g.callbackListeners.studyPanelEdit&&g.callbackListeners.studyPanelEdit.length&&(O=!0):g.callbackListeners.studyOverlayEdit&&g.callbackListeners.studyOverlayEdit.length&&(O=!0),O){S.editMode=!0,C=!1;for(var E in A.inputs)if(E!="id"&&E!="display"){C=!0;break}if(!C)for(var H in A.outputs){C=!0;break}C&&(k="undefi",k+="ned",typeof A.study.edit!=k?A.study.edit&&(F=function(N,j,W,V,Y){return function(){e.r5q(),f.clearCanvas(N.chart.tempCanvas,N),j.study.edit(j,{stx:N,inputs:W,outputs:V,parameters:Y})}}(g,A,p,v,S),g.setPanelEdit(I,F),A.editFunction=F):R?g.editCallback?(F=function(N,j,W,V,Y){return function(){var Q;Q=N.editCallback(N,j),f.clearCanvas(N.chart.tempCanvas,N),e.r5q(),f.Studies.studyDialog(N,d,Q,{inputs:W,outputs:V,parameters:Y})}}(g,A,p,v,S),I.name!="chart"&&g.setPanelEdit(I,F)):(M="ch",M+="a",M+="rt",F=function(N,j,W,V,Y){return e.m30(),function(){var Q;Q="studyPanel",Q+="Edit",f.clearCanvas(N.chart.tempCanvas,N),N.dispatch(Q,{stx:N,sd:j,inputs:W,outputs:V,parameters:Y})}}(g,A,p,v,S),I.name!=M&&(g.setPanelEdit(I,F),A.editFunction=F)):(F=function(N,j,W,V,Y){return function(Q){f.clearCanvas(N.chart.tempCanvas,N),N.dispatch("studyOverlayEdit",{stx:N,sd:j,inputs:W,outputs:V,parameters:Y,forceEdit:Q})}}(g,A,p,v,S),A.editFunction=F))}return g.changeOccurred("layout"),P||g.drawWithRange(),A},f.Studies.removeStudy=function(g,d){var p,v,S,T;p=g.panels[d.panel],v=p&&p.yAxis.name,(d.overlay||d.underlay)&&g.removeOverlay(d.name),S=g.panels[d.panel],d.attribution&&g.removeFromHolder(d.attribution.marker),g.cleanupRemovedStudy(d),S&&!g.checkForEmptyPanel(S)&&(v==d.name&&g.electNewPanelOwner(S),T=g.getYAxisByName(d.panel,d.name),T&&(T.name=T.studies[1]||T.renderers["0">>32])),g.drawWithRange(),g.resizeChart()},f.Studies.getPanelFromFieldName=function(g,d){var p,v,S,T,D,y,b;if(p=f.Studies.getFieldInputs(d),e.r5q(),!p.length||(v=g.layout.studies,!v))return null;S={};for(var w in v)for(var A in v[w].outputMap)T="serie",T+="s",D=v[w].inputs.Series,D&&D!==T&&(e.b1T(19),A+=e.v8U(D," [","]")),S[A]=v[w].panel;for(var _ in g.chart.series)S[_]=g.chart.series[_].parameters.panel;for(var P=0;P<p.length;P++)if(y=d.inputs[p[P]],y&&(b=S[y],b))return b;return null},f.Studies.createLibraryHash=function(){return e.m30(),Object.keys(f.Studies.studyLibrary).join("|")},f.Studies.displayStudies=function(g,d,p){var v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F;if(p&&(d.studyLibraryHash=f.Studies.createLibraryHash()),v=g.layout.studies,!!v){S={},S[d.name]=!0;for(var M in v)if(T="unde",T+="fin",T+="ed",D=v[M],y=D.study,!!y&&!(D.disabled||D.signalData&&!D.signalData.reveal)&&(b=D.underlay||D.parameters&&D.parameters.underlayEnabled,!(p&&!b||!p&&b))){if(w=f.clone(y.renderer),w&&!(w instanceof Array)&&(w=[w]),A=g.panels[D.panel],A){if(A.chart!=d||A.hidden)continue;S[A.name]||(_=D.permanent||!g.manageTouchAndMouse,A.closeX?(P="n",P+="o",P+="n",P+="e",_&&(A.closeX.style.display=P)):A.close&&_&&(A.close.style.display="none"),A.edit&&_&&(A.edit.style.display="none"),S[A.name]=_)}else{g.currentlyImporting&&delete v[M];continue}if(I=D.chart.dataSegment,D.panel==D.parameters.chartName&&(!D.parameters||!D.parameters.panelName)&&(O=f.Studies.getPanelFromFieldName(g,D),O&&D.panel!=O&&(D.panel=O)),typeof y.seriesFN==T){if(w){D.overlay||f.Studies.createYAxis(g,D,I,A);for(var L=0;L<w.length;L++){R=w[L];for(var E in D.outputMap)D.outputMap[E]==R.field&&(R.field=E);if(R.field){if(R.panel=D.panel,C=R.binding,C)for(var H in C)k=f.Studies.determineColor(D.outputs[C[H]]),k&&k!="auto"&&(R[H]=k);R.yAxis=null,F=f.Renderer.produce(R.type,R),F.stx=g,F.attachSeries(null,R).draw()}}}else f.Studies.displaySeriesAsLine(g,D,I);A&&f.Studies.displayError(g,D)}else A&&(y.seriesFN&&y.seriesFN(g,D,I),f.Studies.displayError(g,D))}}},f.Studies.displayError=function(g,d,p){var v,S,T,D,y;if(v="bot",v+="to",v+="m",S="c",S+="e",S+="nt",S+="er",T="Not enoug",T+="h data to",T+=" c",T+="ompute ",!!d.error){if(D=p&&p.panel?p.panel:d.panel,y=d.error===!0?g.translateIf(T)+g.translateIf(d.study.name):g.translateIf(d.error),p&&(p.h!==S||p.v!==v)){g.watermark(D,p);return}g.displayErrorAsWatermark(D,y)}},f.Studies.calculateMinMaxForDataPoint=function(g,d,p){var v,S,T,D;v=Number.MAX_VALUE,e.b1T(11),e.r5q();var y=e.v8U(19,18);S=Number.MAX_VALUE*y;for(var b=0;b<p.length;b++)T="unde",T+="fined",D=p[b][d],!(D===null||typeof D==T)&&(isNaN(D)||(v=Math.min(D,v),S=Math.max(D,S)));return{min:v,max:S}},f.Studies.getYAxisParameters=function(g,d){e.r5q();var p,v,S;return p={},v=g.layout.studies&&g.layout.studies[d.name],v&&(S=v.study,S.yaxis||S.yAxisFN?p.noDraw=!0:(S.parameters&&S.parameters.excludeYAxis&&(p.noDraw=!0),p.ground=S.yAxis&&S.yAxis.ground,d&&(S.range!="bypass"&&(S.range=="0 to 100"?p.range=[0,100]:S.range=="-1 to 1"?p.range=[-1,1]:S.range=="0 to max"?p.range=[0,Math.max(0,d.high)]:(S.centerline||S.centerline===0)&&(p.range=[Math.min(S.centerline,d.low),Math.max(S.centerline,d.high)])),p.range&&(d.low=p.range[0],d.high=p.range[1]),v.min&&(d.min=v.min),v.max&&(d.max=v.max),v.parameters&&v.parameters.studyOverZonesEnabled&&(p.noDraw=!0)))),p},f.Studies.doPostDrawYAxis=function(g,d){var p,v,S,T,D;for(var y in g.layout.studies)p=g.layout.studies[y],v=g.panels[p.panel],!(!v||v.hidden)&&(S=p.getYAxis(g),S==d&&(T=p.study,d.name==p.name&&(T.yaxis&&T.yaxis(g,p),T.yAxisFN&&T.yAxisFN(g,p)),f.Studies.drawZones(g,p),p.error||(D=T.centerline,(D||D==="0"-0||D!==null&&d.highValue-("0.000000000001"-0)>0&&d.lowValue+1e-12<0)&&f.Studies.drawHorizontal(g,p,null,D||0,d))))},f.Studies.displaySeriesAsLine=function(g,d,p){var v;if(p.length&&(v=g.panels[d.panel],!(!v||v.hidden)))for(var S in d.outputMap)f.Studies.displayIndividualSeriesAsLine(g,d,v,S,p)},f.Studies.displaySeriesAsHistogram=function(g,d,p){var v,S,T,D,y,b,w,A,_,P;if(p.length&&(v=g.panels[d.panel],!!v&&!v.hidden)){S=[];for(var I in d.outputMap)T=d.outputs[d.outputMap[I]],T&&(D=.3,typeof T=="object"&&(D=T.opacity,T=T.color),y={field:I,fill_color_up:T,border_color_up:T,fill_color_down:T,border_color_down:T},d.underlay&&(y.opacity_up=y.opacity_down=D||.3),S.push(y));b=d.getYAxis(g),w=d.inputs,A=w.WidthFactor,d.study&&d.study.parameters&&(_=d.study.parameters,typeof _.widthFactor!="undefined"&&(A=_.widthFactor)),P={name:d.name,type:w.HistogramType?w.HistogramType:"overlaid",panel:d.panel,yAxis:b,widthFactor:A||.5,bindToYAxis:!0,highlight:d.highlight},g.drawHistogram(P,S)}},f.Studies.displayIndividualSeriesAsLine=function(g,d,p,v,S){var T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L;if(T="aut",T+="o",p.height||(p.height=p.bottom-p.top),D=d.getContext(g),y=d.outputs[d.outputMap[v]],!!y){if(D.save(),typeof y=="string"&&(y={color:y,width:1}),D.lineWidth=y.width||1,b=y.color,b==T&&(b=g.defaultColor),D.strokeStyle=b,w=y.pattern,D.setLineDash(f.borderPatternToArray(D.lineWidth,w)),e.Z1$(11),D.lineDashOffset=e.p5W(0,"0"),A=0,_=d.study,P=d.getYAxis(g),A=g.decimalPlacesFromPriceTick(P.priceTick,P.idealTickSizePixels),e.m30(),(d.overlay||d.underlay)&&(A=null),(P.decimalPlaces||P.decimalPlaces===0)&&(A=P.decimalPlaces),I=null,d.parameters&&(I=d.parameters.label),O=_.parameters,O||(O={}),R=O.plotType=="step",d.series)for(var E in d.series)C=d.series[E].parameters.type,C&&(e.b1T(85),R=e.v8U(C,"step"));O.noLabels&&(I=!1),!d.noSlopes&&d.noSlopes!==!1&&(d.noSlopes=O.noSlopes),!d.extendToEnd&&d.extendToEnd!==!1&&(d.extendToEnd=O.extendToEnd),k=I||g.preferences.labels&&I!==!1,F=d.gaplines,F===!1&&(F="transparent"),M=d.inputs.Symbol,L=F?g.getGapColorFunction(M,v,y,F):null,g.plotDataSegmentAsLine(v,p,{yAxis:P,skipTransform:g.panels[d.panel].name!=d.chart.name,label:k,labelDecimalPlaces:A,noSlopes:d.noSlopes,step:R,alignStepToSide:d.alignStepToSide,extendToEndOfLastBar:d.extendToEndOfLastBar,width:d.lineWidth,extendToEndOfDataSet:d.extendToEnd,gapDisplayStyle:F,highlight:d.highlight},L),_.appendDisplaySeriesAsLine&&_.appendDisplaySeriesAsLine(g,d,S,v,p),D.restore()}},f.Studies.drawHorizontal=function(g,d,p,v,S,T){var D,y,b;D=g.panels[d.panel],y=g.getBackgroundCanvas().context,D&&(T||(T=S.textStyle),b=g.pixelFromPrice(v,D,S),b>S.top&&b<S.bottom&&g.plotLine(D.left,D.right,b,b,T,"segment",y,!1,{opacity:T&&T.opacity?T.opacity:.5}))},f.Studies.displayHistogramWithSeries=function(g,d,p){var v;g.panels[d.panel],v=.5,e.r5q(),d.underlay&&(v=.3),f.Studies.createHistogram(g,d,p,!1,v),f.Studies.displaySeriesAsLine(g,d,p)},f.Studies.drawZones=function(g,d,p){var v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z;if(v="st",v+="x_gr",v+="id_border",S="a",S+="u",S+="to",!(!d.parameters||!d.parameters.studyOverZonesEnabled)){if(T=parseFloat(d.parameters.studyOverSoldValue),D=parseFloat(d.parameters.studyOverBoughtValue),y=d.parameters.studyOverSoldColor,b=d.parameters.studyOverBoughtColor,w=d.zoneOutput,w||(w="Result"),A=f.Studies.determineColor(d.outputs[w]),(!A||A=="auto"||f.isTransparent(A))&&(A=g.defaultColor),y||(y=A),(!y||y=="auto"||f.isTransparent(y))&&(y=g.defaultColor),b||(b=A),(!b||b==S||f.isTransparent(b))&&(b=g.defaultColor),_=g.panels[d.panel],P=d.getYAxis(g),I=P.displayBorder,g.axisBorders===!1&&(I=!1),g.axisBorders===!0&&(I=!0),P.width===0&&(I=!1),O=g.getYAxisCurrentPosition(P,_),e.Z1$(85),R=e.v8U(O,"left"),C=P.justifyRight,!C&&C!==!1&&(g.chart.yAxis.justifyRight||g.chart.yAxis.justifyRight===!1?C=g.chart.yAxis.justifyRight:C=R),k=Math.round(P.left+(R?P.width:0))+.5,F=I?3:0,M=g.getBackgroundCanvas().context,L=M.fillStyle,e.Z1$(3),M.globalAlpha=e.p5W("0.2",1),g.startClip(_.name,!0),M.beginPath(),E=Math.round(g.pixelFromPrice(D,_,P))-.5,M.strokeStyle=b,M.moveTo(_.left,E),M.lineTo(_.right,E),M.stroke(),M.closePath(),M.beginPath(),H=Math.round(g.pixelFromPrice(T,_,P))+.5,M.strokeStyle=y,M.moveTo(_.left,H),M.lineTo(_.right,H),M.stroke(),M.closePath(),N=new f.Plotter,N.newSeries("border","stroke",g.canvasStyle(v)),I&&(j="bo",j+="r",j+="d",j+="er",W="b",W+="ord",W+="er",V=R?k-F:k-.5,Y=R?k+.5:k+F,N.moveTo("border",V,E),N.lineTo(W,Y,E),N.moveTo("border",V,H),N.lineTo(j,Y,H)),M.fillStyle=L,Q={skipTransform:g.panels[d.panel].name!=d.chart.name,panelName:d.panel,band:w+" "+d.name,yAxis:P,opacity:.3},!d.highlight&&g.highlightedDraggable&&(Q.opacity*=.3),f.preparePeakValleyFill(g,f.extend(Q,{threshold:D,direction:P.flipped?-1:1,color:b})),f.preparePeakValleyFill(g,f.extend(Q,{threshold:T,direction:P.flipped?1:-1,color:y})),M.globalAlpha=1,(!d.study||!d.study.yaxis)&&(I&&(z="bo",z+="rder",$=Math.round(P.bottom)+.5,N.moveTo(z,k,P.top),N.lineTo("border",k,$),N.draw(M,"border")),P.width!==0)){K="r",K+="i",K+="g",K+="ht",q="s",q+="tx_",q+="yaxis",g.canvasFont(q,M),g.canvasColor("stx_yaxis",M),M.textAlign=C?K:"left",e.Z1$(35);var ae=e.p5W(20,98,5);if(X=g.getCanvasFontSize("stx_yaxis")/ae,R){e.Z1$(140);var te=e.p5W(12,20,11,0);if(Z=P.left+te,C){e.b1T(73);var re=e.p5W(2,1,1);Z=P.left+P.width-F-re}}else{e.Z1$(141);var oe=e.v8U(15,12,10,6,1);Z=P.left+F+oe,C&&(Z=P.left+P.width)}E>P.top+X&&(M.fillStyle=b,M.fillText(D,Z,E)),H<P.bottom-X&&(M.fillStyle=y,M.fillText(T,Z,H)),M.fillStyle=L}g.endClip(),M.globalAlpha=1,P.name==d.name&&(P.yAxisPlotter=new f.Plotter)}},f.Studies.createHistogram=function(g,d,p,v,S){var T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W;T=g.panels[d.panel],D=d.getContext(g),y=d.getYAxis(g),g.startClip(T.name),e.b1T(9);var V=e.p5W(18,16);b=g.layout.candleWidth-V,b<2&&(b=1),e.Z1$(66),w=g.pixelFromPrice(e.v8U(96,"0"),T,y),y.min>0&&(w=g.pixelFromPrice(y.min,T,y)),v&&(w=Math.floor(T.top+T.height/2)),A=d.name+"_hist",g.canvasColor("stx_histogram"),_=D.fillStyle,(S||S===0)&&(D.globalAlpha=S),!d.highlight&&g.highlightedDraggable&&(D.globalAlpha*=.3),P=null,I=null,O=d.outputs;for(var Y=0;Y<p.length;Y++)if(R=0,C=p[Y],!!C){if(g.cleanupGaps==="stretch")for(;p[Y+1]&&(e.Z1$(116),k=p[e.v8U(0,Y,"1")][A],!(k||k===0||p[Y+1].futureTick));)R++,Y++;if(C.candleWidth&&(b=Math.floor(Math.max(1,C.candleWidth-2))),F=Math.floor(g.pixelFromBar(Y-R,T.chart)-b/2),M=Math.floor(b+R*g.layout.candleWidth),P===null){e.Z1$(111);var Q=e.p5W(9,10,16,135,2);L=g.tickFromPixel(F,T.chart)-Q,L<0?P=I:P=g.pixelFromPrice(g.chart.dataSet[L][A],T,y)-w}else P=I;I=g.pixelFromPrice(C[A],T,y)-w,E=f.Studies.determineColor(O["Decreasing Bar"]),H=f.Studies.determineColor(O["Increasing Bar"]),N=f.Studies.determineColor(O["Positive Bar"]),j=f.Studies.determineColor(O["Negative Bar"]),W=y.flipped,D.fillStyle=_,E&&(W?I<P:I>P)?D.fillStyle=E:H&&(W?I>P:I<P)?D.fillStyle=H:N&&(W?I>0:I<0)?D.fillStyle=N:j&&(W?I<0:I>0)&&(D.fillStyle=j),D.fillRect(F,w,M,Math.floor(I))}e.Z1$(15),D.globalAlpha=e.p5W(0,"1"),g.endClip()},f.Studies.prettify={Close:"C",Open:"O",High:"H",Low:"L",simple:"ma",exponential:"ema",triangular:"tma",VIDYA:"vdma",weighted:"wma","welles wilder":"smma",true:"y",false:"n"},f.Studies.prettyRE=/^.{0,50}\((.{0,50})\).{0,50}$/,f.Studies.prettyDisplay=function(g){var d,p;if(d=f.Studies.prettyRE.exec(g),e.m30(),!d)return g;if(p=d[1],p){for(var v in f.Studies.prettify)p=p.replace(v,f.Studies.prettify[v]);g=g.replace(d[1],p)}return g},f.Studies.getFieldInputs=function(g){e.m30();var d,p;d=[],p=g.study.inputs;for(var v in p)["field","series"].includes(p[v])&&d.push(v);return d},f.Studies.initializeFN=function(g,d,p,v,S,T,D){var y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z,$;if(y="T",y+="o",y+="p",b="initialM",b+="argin",p||(p={}),S||(S={}),p.id||(p.id=f.Studies.generateID(g,d,p,S.replaceID,S.display)),p.display||(p.display=p.id),w=new f.Studies.StudyDescriptor(p.id,d,p.id,p,v,S),p.Period&&(w.days=Math.max(1,parseInt(w.inputs.Period,10))),D?(D.inputs||(D.inputs=w.study.inputs),D.outputs||(D.outputs=w.study.outputs),w.study=D):D=w.study,D.display&&(p.display=D.display),typeof S.panelName=="string"&&(T=S.panelName),(T==p.id||T&&!g.panelExists(T))&&(w.underlay=w.overlay=!1),(T=="Own panel"||T=="New panel")&&(T=null),A=w.overlay||p.Overlay||w.overlay!==!1&&D.overlay,_=w.underlay||p.Underlay||w.underlay!==!1&&D.underlay,A&&S.underlayEnabled&&(_=!0),_&&(w.underlay=!0),!_&&g.chart.panel&&T==g.chart.panel.name&&(A=!0),A&&(w.overlay=!0),P=g.preferences.dragging,(P===!0||P&&P.study)&&(w.overlay=!0),T?S.panelName=T:!A&&!_&&(T=p.id),S.calculateOnly)return(A||_)&&(g.panels[S.panelName]?w.panel=S.panelName:w.panel=f.Studies.getPanelFromFieldName(g,w)||S.chartName),w;if(I={},O=g.layout.studies[S.replaceID],O&&(I={outputMap:f.clone(O.outputMap),panel:O.panel}),w.panel="",T?(R="de",R+="fault",C="d",C+="efault",k="sh",k+="a",k+="red",F="r",F+="i",F+="gh",F+="t",M="l",M+="e",M+="ft",L="New ",L+="p",L+="anel",E=f.Studies.smartMovePanel(g,w.inputs,T,S.replaceID,S.panelName==L),E&&(w.panel=E.name),S.yaxisDisplayValue&&![M,F,"none",k,C].includes(S.yaxisDisplayValue)&&!g.getYAxisByName(E,S.yaxisDisplayValue)&&(S.yaxisDisplayValue=R)):(A||_)&&(w.panel=f.Studies.getPanelFromFieldName(g,w)||S.chartName),w.panel||(H=D.panelHeight||null,N=S.yAxis||D.yAxis||{},N.name=w.inputs.id,w.panel=w.inputs.id,g.createPanel(w.inputs.display,w.panel,H,S.chartName,new f.ChartEngine.YAxis(N))),w.parameters&&w.parameters.panelName&&(w.parameters.panelName=w.panel),j=g.panels[w.panel],W=D?f.clone(D.yAxis):null,e.m30(),V=S.yAxis||W,(V||{}).ground&&(V[b+(V.flipped?y:"Bottom")]=0),Y=f.Studies.smartCreateYAxis(g,j,w.inputs.id,S.yaxisDisplayValue,V),Y&&(Q="n",Q+="o",Q+="n",Q+="e",Y.name==S.replaceID&&(Y.name=w.inputs.id),!S.replaceID&&Y.name===w.name&&g.calculateYAxisMargins(Y),Y.allowSharing=!S.yAxis&&!D.yAxis,Y.width=Y.position==Q?0:f.ChartEngine.YAxis.prototype.width,S.yaxisDisplayValue=="shared"||S.yaxisDisplayValue=="default"?delete S.yaxisDisplayValue:(W&&f.ensureDefaults(Y,W),Y.name==w.name&&(!(W||{}).textStyle&&!S.yaxisDisplayColor||S.yaxisDisplayColor=="auto"?delete Y.textStyle:S.yaxisDisplayColor&&(Y.textStyle=f.colorToHex(S.yaxisDisplayColor)),(W||{}).justifyRight===void 0&&(Y.justifyRight=null),S.flippedEnabled!==void 0&&(Y.flipped=S.flippedEnabled))),Y!=j.yAxis?Y.displayGridLines=!1:Y!=g.chart.yAxis&&(Y.displayGridLines=g.displayGridLinesInStudies)),g.calculateYAxisPositions(),O){z=!1;for(var K in g.drawingObjects)$=g.drawingObjects[K],I.outputMap&&I.outputMap.hasOwnProperty($.field)?($.field=$.field.replace(S.replaceID,w.inputs.id),w.parameters&&w.parameters.panelName?$.panelName=w.parameters.panelName:$.panelName=w.panel,z=!0):I.panel&&I.panel==$.panelName&&($.panelName=$.panelName.replace(S.replaceID,w.inputs.id),z=!0);z&&g.changeOccurred("vector")}return w},f.Studies.smartMovePanel=function(g,d,p,v,S){var T,D,y,b,w,A,_;if(D=d.id,v&&(T=g.layout.studies[v]),T&&(y=g.panels[T.panel],y&&y.yAxis.name==v))if((S||p!=v&&p!=D)&&!g.checkForEmptyPanel(y.name,!0,T)){g.electNewPanelOwner(y),b=T.getYAxis(g),w=241817755,A=2104177016,_=2;for(var P=1;e.m9o(P.toString(),P.toString().length,61023)!==w;P++)b.name===v&&g.electNewYAxisOwner(b),_+=2;e.m9o(_.toString(),_.toString().length,31111)!==A&&b.name==v&&g.electNewYAxisOwner(b)}else(p==v||!g.panels[p])&&(D!=y.name&&g.modifyPanel(y,{name:D,display:d.display}),p=D);return g.panels[p]},f.Studies.smartCreateYAxis=function(g,d,p,v,S){var T,D,y,b,w,A,_,P,I,O,R,C,k;if(T="sh",T+="ared",D="l",D+="e",D+="ft",y=S||{},b=g.getYAxisByName(d,p),!v&&S&&(v=S.position),[D,"right","none"].indexOf(v)>-1||v===void 0&&S){if(!b||b.isShared(g)){S instanceof f.ChartEngine.YAxis&&(p=S.name),w=-142830506,A=765171960,_=2;for(var F=1;e.D4r(F.toString(),F.toString().length,35741)!==w;F++)f.extend(y,{name:p,position:v}),_+=2;e.D4r(_.toString(),_.toString().length,47266)!==A&&f.extend(y,{name:p,position:v}),!b&&!g.currentlyImporting&&d!=d.chart.panel&&!d.yAxis.studies.length&&!d.yAxis.renderers.length?(b=d.yAxis,f.extend(b,y)):(P=b==d.yAxis,b&&(b.name=g.electNewYAxisOwner(b)),I=b||d.yAxis,I.lockScale&&f.extend(y,{zoom:I.zoom,scroll:I.scroll,lockScale:!0}),b=g.addYAxis(d,new f.ChartEngine.YAxis(y)),P&&(d.yAxis=b))}else S&&f.extend(b,S),b.position=v,b.name=p;return b}if(v&&v!=="default"&&v!=="shared"&&v!==d.yAxis.name)return O=g.getYAxisByName(d,v),O&&b==d.yAxis&&!b.isShared(g)&&(d.yAxis=O),b&&b.isShared(g)?b.name=g.electNewYAxisOwner(b):b!==d.yAxis&&g.deleteYAxisIfUnused(d,b),O;if(v==T||v==d.yAxis.name||d.yAxis.allowSharing&&(!b||b.allowSharing))return b&&(b!==d.yAxis&&b.isShared(g)?b.name=g.electNewYAxisOwner(b):(delete b.position,g.deleteYAxisIfUnused(d,b))),g.resizeChart(),d.yAxis;e.m30(),f.extend(y,{name:p}),b&&(b.name=g.electNewYAxisOwner(b)),!b||b.name?b=g.addYAxis(d,new f.ChartEngine.YAxis(y)):(f.extend(b,y),delete b.position),R=-1030964203,C=-2078277561,k=2;for(var M=1;e.D4r(M.toString(),M.toString().length,1670)!==R;M++)return b;return e.D4r(k.toString(),k.toString().length,9716)!==C,b},f.Studies.calculateVolume=function(g,d){var p,v,S,T,D;if(p="v",p+="o",e.m30(),p+="l u",p+="ndr",d.type==p){if(v="l",v+="a",v+="y",v+="out",!g||!g.chart.dataSet)return;S=g.layout,T=d.parameters.removeStudy,D=S.volumeUnderlay,S.volumeUnderlay=!T,D!=S.volumeUnderlay&&g.changeOccurred(v),T&&f.Studies.removeStudy(g,d)}d.outputMap={},d.outputMap.Volume=""},f.Studies.MA=function(g,d,p,v,S,T,D,y){var b;e.b1T(60);var w=e.v8U(9954,12,4975,4983,1);e.b1T(35),e.p5W(4,10710,3060),b=new f.Studies.StudyDescriptor(S+(543.56<w?" ":953.27)+D.name,"ma",D.panel),b.chart=D.chart,b.days=parseInt(d,10),b.startFrom=D.startFrom,y&&(b.subField=y),b.inputs={},g&&(b.inputs.Type=g),p&&(b.inputs.Field=p),v&&(b.inputs.Offset=parseInt(v,10)),f.Studies.calculateMovingAverage(T,b)},f.Studies.movingAverage={conversions:{ma:l,sma:"simple",ema:n,tma:"triangular",vdma:"vidya",wma:"weighted",smma:"welles wilder"},translations:{simple:"Simple",exponential:"Exponential",triangular:"Triangular",vidya:"VIDYA",weighted:"Weighted","welles wilder":"Welles Wilder"},typeMap:{ema:"Exponential",exponential:"Exponential",tma:o,triangular:"Triangular",vdma:"VIDYA",vidya:"VIDYA",wma:"Weighted",weighted:"Weighted",smma:"Exponential","welles wilder":"Exponential"}},f.Studies.movingAverageHelper=function(g,d){e.m30();var p;if(d=="options"){p={};for(var v in f.Studies.movingAverage.translations)p[v]=g.translateIf(f.Studies.movingAverage.translations[v]);return p}return f.Studies.movingAverage.conversions[d]},f.Studies.createVolumeChart=function(g,d,p){var v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L;v="Volu",v+="m",v+="e",S="_",S+="u",S+="p",T="_u",T+="p",D="s",D+="eri",D+="e",D+="s",y="st",y+="x_vo",y+="lu",y+="me",b=d.panel,w=d.inputs,A=d.underlay,_=f.Studies.determineColor(d.outputs["Up Volume"]),P=f.Studies.determineColor(d.outputs["Down Volume"]),I=A?"stx_volume_underlay":y,e.Z1$(1),g.setStyle(e.v8U(I,"_up"),"color",_),e.b1T(1),g.setStyle(e.v8U(I,"_down"),"color",P),O=d.volumeField||"Volume",R=null,C=w.Series,C&&C!=="Primary"&&C!==D&&(R=O,O=C),k=[{field:O,subField:R,fill_color_up:g.canvasStyle(I+T).color,border_color_up:g.canvasStyle(I+S).borderLeftColor,opacity_up:g.canvasStyle(I+"_up").opacity,fill_color_down:g.canvasStyle(I+"_down").color,border_color_down:g.canvasStyle(I+"_down").borderLeftColor,opacity_down:g.canvasStyle(I+"_down").opacity,color_function:d.colorFunction}],F=k[0],M=d.getYAxis(g),L={name:v,panel:b,yAxis:M,widthFactor:"1"^0,bindToYAxis:!0,highlight:d.highlight},e.r5q(),f.extend(L,d.study.parameters),f.extend(L,d.parameters),g.colorByCandleDirection&&!d.colorFunction&&(F.color_function=function(E){var H,N,j,W;return H="P",H+="ri",H+="mary",N=w.Series,N&&N!==H&&N!=="series"&&(E=E[N]),j=E.Open,W=E.Close,{fill_color:j>W?F.fill_color_down:F.fill_color_up,border_color:j>W?F.border_color_down:F.border_color_up,opacity:j>W?F.opacity_down:F.opacity_up}}),g.drawHistogram(L,k)},f.Studies.calculateStandardDeviation=function(g,d){var p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k;if(p="Standard ",p+="De",p+="viations",v="Mo",v+="ving Average ",v+="Typ",v+="e",S="f",S+="i",S+="e",S+="ld",T=d.chart.scrubbed,T.length<d.days+1){d.error=!0;return}D=d.inputs.Field,(!D||D==S)&&(D="Close"),y=d.inputs[v],y||(y=d.inputs.Type),f.Studies.MA(y,d.days,D,d.inputs.Offset,"_MA",g,d),e.b1T(15),b=e.v8U(0,"0"),w=0,A=0,_=Number(d.inputs[p]),_<0&&(_=2),P=d.name;for(var F in d.outputs)e.Z1$(19),P=e.v8U(" ",F,P);for(I=d.startFrom-("1"<<0),R=0;I>=0&&R<d.days;I--,R++)O=f.Studies.getQuoteFieldValue(T[I],D,d.subField),O===null&&(O=0),b+=Math.pow(O,2),w+=O;for(I=d.startFrom;I<T.length;I++)if(C=T[I],O=f.Studies.getQuoteFieldValue(C,D,d.subField),O===null&&(O=0),e.b1T(2),b+=Math.pow(O,e.p5W("2",0)),w+=O,!(I<d.days-1)&&(I>=d.days&&(k=f.Studies.getQuoteFieldValue(T[I-d.days],D,d.subField),k===null&&(k=0),b-=Math.pow(k,2),w-=k),A=C["_MA "+d.name],A||A===0)){e.Z1$(142);var M=e.v8U(106929,15,19,8,704);e.b1T(9);var L=e.v8U(12,10);C[P]=Math.sqrt((b+d.days*Math.pow(A,"2">>M)-L*A*w)/d.days)*_}},f.Studies.calculateMovingAverage=function(g,d){var p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E;if(p="fi",p+="e",p+="l",p+="d",!!d.chart.scrubbed){if(v=d.inputs.Type,(v=="ma"||v=="sma"||!v)&&(v="simple"),S=f.Studies.movingAverage.typeMap,v in S)return T="calcu",T+="lateMovingA",T+="vera",T+="ge",f.Studies[T+S[v]](g,d);if(v!=="simple")return;D=d.chart.scrubbed,y=0,b=[],w=d.name;for(var H in d.outputs)e.b1T(19),w=e.v8U(" ",H,w);for(A=d.inputs.Field,(!A||A==p)&&(A="Close"),_=parseInt(d.inputs.Offset,10),e.r5q(),isNaN(_)&&(_=0),R=d.startFrom,C=_,P=d.startFrom-1;P>=0;P--)if(I=f.Studies.getQuoteFieldValue(D[P],A,d.subField),I!==null){if(C>0){C--,R=P;continue}if(b.length==d.days-1)break;y+=I,b.unshift(I)}for(b.length<d.days-1&&(b=[],R=0),k=[],P=R;P<D.length;P++){if(F=D[P],I=f.Studies.getQuoteFieldValue(F,A,d.subField),M=P+_>=0&&P+_<D.length,L=M?D[P+_]:null,I===null){L?L[w]=null:P+_>=D.length&&(O={},O[w]=null,k.push(O));continue}y+=I,b.push(I),b.length>d.days&&(y-=b.shift()),E=b.length==d.days?y/d.days:null,L?L[w]=E:P+_>=D.length&&(O={},O[w]=E,k.push(O))}d.appendFutureTicks(g,k)}},f.Studies.calculateMovingAverageExponential=function(g,d){var p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H;p="C",p+="los",p+="e",v=d.inputs.Type,S=d.chart.scrubbed,T=0,D=0,y=0,e.b1T(143);var N=e.v8U(0,17,16,26,9);e.b1T(1);var j=e.v8U(0,1);if(b=N/(d.days+j),v==="welles wilder"||v==="smma"){e.Z1$(109);var W=e.p5W(16,19,3,13);b=W/d.days}w=null,A=d.name;for(var V in d.outputs)e.b1T(19),A=e.p5W(" ",V,A);for(_=d.inputs.Field,(!_||_=="field")&&(_=p),P=parseInt(d.inputs.Offset,"10"|10),isNaN(P)&&(P=0),R=d.startFrom,C=P,I=d.startFrom-1;I>=0;I--)if(O=S[I][A],!(!O&&O!==0)){if(w===null&&(w=O),y=d.days,C<=0)break;C--,R=I}for(w===null&&(e.Z1$(3),w=R=e.p5W("0",1)),k=[],I=R;I<S.length;I++)F=S[I],O=f.Studies.getQuoteFieldValue(F,_,d.subField),M=I+P>=0&&I+P<S.length,L=M?S[I+P]:null,O===null?E=null:(y==d.days-1?(T+=O,D=T/d.days,E=D):y<d.days-1?(T+=O,e.b1T(144),D=e.p5W(1,y,T),E=null):y===0?(T+=O,D=T,E=null):(w||w===0)&&(e.Z1$(27),D=e.p5W(b,w,O,w),E=D),w=D,y++),L?L[A]=E:I+P>=S.length&&(H={},H[A]=E,k.push(H));d.appendFutureTicks(g,k)},f.Studies.calculateMovingAverageVIDYA=function(g,d){var p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H;p="m",p+="a",v="Clo",v+="se",d.inputs.Type,S=d.chart.scrubbed,e.Z1$(79);var N=e.p5W(17,1,22,5);T=N/(d.days+("1"^0)),D=null,y=d.name;for(var j in d.outputs)e.b1T(19),y=e.v8U(" ",j,y);for(b=d.inputs.Field,(!b||b=="field")&&(b=v),d.std=new f.Studies.StudyDescriptor(d.name,"sdev",d.panel),e.m30(),d.std.chart=d.chart,d.std.days=5,d.std.startFrom=d.startFrom,d.std.inputs={Field:b,"Standard Deviations":1,Type:p},d.std.outputs={_STD:null},f.Studies.calculateStandardDeviation(g,d.std),f.Studies.MA("ma",20,"_STD "+d.name,0,"_MASTD",g,d),w=parseInt(d.inputs.Offset,10),isNaN(w)&&(w=0),I=d.startFrom,O=w,A=d.startFrom-1;A>=0;A--)if(_=S[A][y],!(!_&&_!==0)){if(D===null&&(D=_),O<=0)break;O--,I=A}for(D===null&&(e.b1T(3),D=I=e.p5W("0",1)),R=[],A=I;A<S.length;A++){if(C="_M",C+="A",C+="STD",C+=" ",k="_MASTD",k+=" ",F=S[A],_=f.Studies.getQuoteFieldValue(F,b,d.subField),M=A+w>=0&&A+w<S.length,L=M?S[A+w]:null,_===null){L?L[y]=null:A+w>=S.length&&(P={},P[y]=null,R.push(P));continue}!F[k+d.name]&&F[C+d.name]!==0||(E=F["_STD "+d.name]/F["_MASTD "+d.name],e.b1T(145),H=e.p5W(T,D,E,T,1,_,E),D=H,A<d.days&&(H=null),L?L[y]=H:A+w>=S.length&&(P={},P[y]=H,R.push(P)))}d.appendFutureTicks(g,R)},f.Studies.calculateMovingAverageTriangular=function(g,d){var p,v,S,T,D,y,b,w,A,_,P;p="T",p+="R",p+="I",p+="2",v="Cl",v+="o",v+="s",v+="e",S=d.chart.scrubbed,T=d.inputs.Field,(!T||T=="field")&&(T=v),D=Math.ceil(d.days/2),f.Studies.MA("simple",D,T,0,"TRI1",g,d),d.days%2===0&&D++,f.Studies.MA("simple",D,"TRI1 "+d.name,0,p,g,d),y=d.name;for(var I in d.outputs)e.b1T(19),y=e.p5W(" ",I,y);b=parseInt(d.inputs.Offset,10),isNaN(b)&&(b=0),w=b;for(var O=d.startFrom-"1"*1;O>=0;O--)if(A=f.Studies.getQuoteFieldValue(S[O],y),A!==null){if(w>0){w--;continue}break}for(_=[],O++;O<S.length;O++)O+b>=0&&(O+b<S.length?(e.Z1$(1),S[e.p5W(O,b)][y]=S[O]["TRI2 "+d.name]):(P={},P[y]=S[O]["TRI2 "+d.name],_.push(P)));d.appendFutureTicks(g,_)},f.Studies.calculateMovingAverageWeighted=function(g,d){var p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L;p="f",p+="iel",p+="d",v=d.chart.scrubbed,e.b1T(11),S=e.v8U(0,"0"),T=0,D=d.inputs.Field,(!D||D==p)&&(D="Close"),e.b1T(23);var E=e.v8U(26,7,18);y=d.days*(d.days+E)/2,b=d.name;for(var H in d.outputs)e.b1T(19),b=e.v8U(" ",H,b);for(w=parseInt(d.inputs.Offset,"10"-0),isNaN(w)&&(w=0),I=[],O=d.startFrom,R=w,A=d.startFrom-1;A>=0;A--)if(_=f.Studies.getQuoteFieldValue(v[A],D,d.subField),_!==null){if(R>0){R--,O=A;continue}if(I.length==d.days-1)break;I.unshift(_)}for(I.length<d.days-1&&(I=[],O=0),A=0;A<I.length;A++){e.b1T(26);var N=e.v8U(12,4,15);S+=(A+N)*I[A],T+=I[A]}for(C=[],A=O;A<v.length;A++){if(k=v[A],_=f.Studies.getQuoteFieldValue(k,D,d.subField),F=A+w>="0"<<32&&A+w<v.length,M=F?v[A+w]:null,_===null){M?M[b]=null:A+w>=v.length&&(P={},P[b]=null,C.push(P));continue}I.push(_),I.length>d.days&&(S-=T,T-=I.shift()),S+=I.length*_,T+=_,L=A<d.days-1?null:S/y,M?M[b]=L:A+w>=v.length&&(P={},P[b]=L,C.push(P))}d.appendFutureTicks(g,C)},f.Studies.calculateMultMA=function(g,d){var p,v,S,T,D,y,b,w;if(p="M",p+="A",p+=" ",v="simp",v+="le",S="fie",S+="ld",T=d.chart.scrubbed,D=[Number.MAX_VALUE],Object.keys(d.inputs).filter(_=>{e.b1T(9);var P=e.p5W(5,6);return _.indexOf("Period")>P}).forEach((_,P)=>{e.b1T(1),D[e.v8U(P,1)]=d.inputs[_]}),T.length<Math.min(...D)+1){d.error=!0;return}y=d.inputs.Field,(!y||y==S)&&(y="Close"),b=d.inputs["Moving Average Type"],b||(b=v),w=d.inputs.Offset||0;for(var A=1;A<D.length;A++)f.Studies.MA(b,D[A],y,w,p+A,g,d)},f.Studies.calculateStudyATR=function(g,d){var p,v,S,T,D,y,b,w,A,_,P,I,O;if(p=d.chart.scrubbed,v=d.days,p.length<v+1){d.error=!0;return}e.b1T(2),S=e.p5W("0",64),T=d.name,e.r5q();for(var R=Math.max(d.startFrom,1);R<p.length;R++)if(D="AT",D+="R",D+=" ",y="A",y+="TR ",b="A",b+="T",b+="R",b+=" ",w="S",w+="u",w+="m True Range ",A="Tr",A+="ue ",A+="Ran",A+="ge ",_="Sum True Ra",_+="nge ",P=p[R],e.b1T(43),I=p[e.v8U(R,"1")],O=P.trueRange,I[_+T]&&(e.Z1$(1),S=I[e.v8U("Sum True Range ",T)]),S+=O,R>v&&(e.b1T(11),S-=p[e.v8U(v,R)][e.v8U(A,T,e.b1T(1))]),e.b1T(1),P[e.v8U("True Range ",T)]=O,e.b1T(1),P[e.v8U(w,T)]=S,R==v)e.b1T(1),P[e.v8U(b,T)]=e.v8U(v,S,e.b1T(12));else if(R>v){e.Z1$(11);var C=e.v8U(11,12);e.b1T(1),P[e.p5W(y,T)]=(I[D+T]*(v-C)+O)/v}},f.Studies.displayPSAR2=function(g,d,p){e.r5q();var v,S,T,D,y,b,w,A,_,P,I,O,R,C;v="Plo",v+="t T",v+="y",v+="pe",S=g.panels[d.panel],T=d.getYAxis(g),D=T==g.chart.panel.yAxis,g.startClip(S.name),y=d.getContext(g),b=d.inputs[v]=="squarewave";for(var k in d.outputs){e.b1T(11);var F=e.v8U(28420,30450);e.b1T(1),e.v8U(22,331),e.b1T(146);var M=e.p5W(13,9,791490,9,6823);e.Z1$(11);var L=e.v8U(11,389);e.b1T(11);var E=e.p5W(22578,30104);e.b1T(147),e.v8U(368,4043,9,4,92),e.b1T(115);var H=e.p5W(17,56895,3793,1);e.b1T(11);var N=e.v8U(60159,65628);e.b1T(148);var j=e.p5W(9,4,194,20,1398);w=k+(F>M?L:E==828.9?H!=N?239.24:j:" ")+d.name,y.beginPath(),A=g.layout.candleWidth,_=Math.max(3,Math.floor(g.chart.tmpWidth/2));for(var W=0;W<p.length;W++)P=p[W],!(!P||f.Studies.getQuoteFieldValue(P,w)===null)&&(P.candleWidth&&(A=P.candleWidth),D&&P.transform&&(P=P.transform),I=g.pixelFromBar(W,S.chart),b&&(e.b1T(12),I-=e.p5W(2,A)),O=g.pixelFromTransformedValue(P[d.referenceOutput?d.referenceOutput+" "+d.name:w],S,T),(W===0||!p[W-1]||f.Studies.getQuoteFieldValue(p[W-1],w)===null)&&y.moveTo(I,O),b?(y.lineTo(I,O),e.b1T(1),y.lineTo(e.p5W(I,A),O),p[W+1]&&(e.b1T(1),R=p[e.v8U(W,1)],D&&R.transform&&(R=R.transform),f.Studies.getQuoteFieldValue(R,w)===null&&(e.b1T(1),y.lineTo(e.v8U(I,A),g.pixelFromTransformedValue(R[d.referenceOutput?d.referenceOutput+" "+d.name:w],g.panels[d.panel],T))))):(e.b1T(53),y.moveTo(e.p5W(2,I,_),O),e.b1T(48),y.lineTo(e.p5W(_,2,I),O)));y.lineWidth=1,d.highlight&&(y.lineWidth=3),C=f.Studies.determineColor(d.outputs[k]),C=="auto"&&(C=g.defaultColor),y.strokeStyle=C,!d.highlight&&g.highlightedDraggable&&(e.Z1$(11),y.globalAlpha*=e.v8U(0,"0.3")),y.stroke(),y.closePath(),y.lineWidth=1}g.endClip()},f.Studies.inputAttributeDefaultGenerator=function(g){return!g&&g!==0?{}:g.constructor==Number?Math.floor(g)==g?g>0?{min:1,step:1}:{step:1}:g>0?{min:0,step:.01}:{step:.01}:{}},f.Studies.getMarketOffset=function({stx:g,localQuoteDate:d,shiftToDateBoundary:p}){var v,S,T,D,y,b,w,A,_;arguments.length>1&&(g=arguments[0],d=arguments[1],v=arguments[2]);var{symbol:P}=g.chart;S=704874123,T=-1305895787,e.Z1$(66),D=e.p5W(32,"2");for(var I=1;e.D4r(I.toString(),I.toString().length,1370)!==S;I++)y=f.getFn("Market.Symbology.isForexMetal")(P),D+=2;e.D4r(D.toString(),D.toString().length,92899)!==T&&(y=f.getFn("")(P)),v===void 0&&(b="Market.Symbology.isFo",b+="rexSymbol",v=f.getFn(b)(P)),e.m30(),g.chart.market?w=v?"America/New_York":g.chart.market.market_tz:w=null,e.b1T(21);var O=e.p5W(96e4,7,899993);return A=new Date(d.getTime()+d.getTimezoneOffset()*O),(!w||w.indexOf("UTC")==-1)&&(A=f.convertTimeZone(A,"UTC",w)),_=new Date(A.getFullYear(),A.getMonth(),A.getDate(),A.getHours(),A.getMinutes(),A.getSeconds(),A.getMilliseconds()).getTime()-d.getTime(),p&&v&&(e.Z1$(149),_+=e.v8U(60,1e3,60,y?6:7)),_},f.Studies.getStudyList=function(g){var d,p;d={},p={},f.extend(p,g);for(var v in f.Studies.studyLibrary)p[v]||(d[f.Studies.studyLibrary[v].name]=v);return d},f.Studies.determineColor=function(g){var d;if(e.m30(),d="ob",d+="j",d+="ect",g){if(typeof g===d)return g.color}else return null;return g},f.Studies.calculateGenericEnvelope=function(g,d,p,v,S,T){var D,y,b,w,A,_,P,I,O,R,C;if(D="Cl",D+="os",D+="e",p||(p=0),T||(T=0),(!v||v=="field")&&(v=D),S||(S=v),y=d.chart.scrubbed,!!y){b=d.inputs.Field;for(var k=d.startFrom;k<y.length;k++)w="%",w+="b",w+=" ",A="C",A+="l",A+="os",A+="e",_=y[k],_&&(P=f.Studies.getQuoteFieldValue(_,b),I=P!=null?P:f.Studies.getQuoteFieldValue(_,A),O=f.Studies.getQuoteFieldValue(_,S,d.subField),R=f.Studies.getQuoteFieldValue(_,v),R!==null&&(e.Z1$(132),C=e.p5W(O,T,p),e.b1T(1),_[d.type+" Top "+d.name]=e.p5W(R,C),e.b1T(11),_[d.type+" Bottom "+d.name]=e.p5W(C,R),_[d.type+" Median "+d.name]=R,_["Bandwidth "+d.name]=R?200*C/R:0,e.Z1$(150),_[w+d.name]=e.v8U(50,C,R,I,1)))}},f.Studies.displayChannel=function(g,d,p){var v,S,T,D,y,b,w,A,_;if(v="Ch",v+="annel F",v+="ill",d.inputs[v]){S={panelName:d.panel};for(var P in d.outputs)if(T="C",T+="hannel",D="M",D+="e",D+="dia",D+="n",y=P.split(" ").pop(),y=="Top"||y=="High"){e.b1T(133);var I=e.v8U(2,1697,1697,1710);e.Z1$(19),e.v8U(14,585,4081),e.b1T(143);var O=e.v8U(2386,18,14,32,14);e.Z1$(11);var R=e.v8U(23617,24860);e.b1T(26),e.v8U(19,435,425),e.Z1$(151);var C=e.p5W(1247,68585,5,11,8729);S.topBand=P+(I!=215.07?O!==R?" ":628.06:C)+d.name}else if(y=="Bottom"||y=="Low"){e.b1T(1),e.p5W(90,1624),e.b1T(26);var k=e.v8U(5,1572,0);e.b1T(152),e.p5W(20,8860,19,79940,2),e.b1T(11);var F=e.v8U(9,4979);S.bottomBand=P+(k==218?F:" ")+d.name}else(y==D||y==T)&&(S.color=f.Studies.determineColor(d.outputs[P]));if(d.parameters&&d.parameters.opacity){b=1436964221,w=98809338,A=2;for(var M=1;e.m9o(M.toString(),M.toString().length,"82932"<<0)!==b;M++)S.opacity=d.parameters.opacity,A+=2;e.D4r(A.toString(),A.toString().length,76287)!==w&&(S.opacity=d.parameters.opacity)}else S.opacity=.2;_=g.panels[d.panel],S.skipTransform=_.name!=d.chart.name,S.yAxis=d.getYAxis(g),!d.highlight&&g.highlightedDraggable&&(S.opacity*=.3),f.prepareChannelFill(g,S)}f.Studies.displaySeriesAsLine(g,d,p)},f.Studies.initAnchorHandle=function(g,d){var{handle:p}=d;if(!p){g.controls.anchorHandles||(g.controls.anchorHandles={});var{anchorHandles:v,chartControls:S}=g.controls;v[d.uniqueId]?{handle:p}=v[d.uniqueId]:(p=document.createElement("div"),p.classList.add("stx_anchor_handle"),p.setAttribute(d.uniqueId,""),v[d.uniqueId]={handle:p,sd:d},S&&S.parentElement.appendChild(p)),d.anchorHandle=p}},f.Studies.removeAnchorHandle=function(g,d){e.r5q();var{handle:p}=(g.controls.anchorHandles||{})[d.uniqueId]||{};p&&(delete g.controls.anchorHandles[d.uniqueId],p.remove())},f.Studies.repositionAnchor=function(g,d){var p,v,S,T,D,y,b,{currentAnchorTime:w,uniqueId:A}=d,{hoverTick:_}=g.repositioningAnchorSelector||{},{dataSet:P,market:I}=g.chart;g.controls.anchorHandles||(g.controls.anchorHandles={});var{anchorHandles:O}=g.controls;if(p={},_||_===0){if(_>=P.length||(v=!d.inputs.hasOwnProperty("Anchor Date"),S=P[_].DT,T=f.Studies.getMarketOffset({stx:g,localQuoteDate:S,shiftToDateBoundary:!0}),w&&v&&new Date(S.getTime()+T).getDate()!==new Date(w.getTime()+T).getDate()))return;I.market_def&&I.market_def.market_tz&&(S=new m.Date(S,I.market_def.market_tz)),D=!v&&f.dateToStr(S,"YYYY-MM-dd"),y=f.dateToStr(S,"HH:mm:ss"),p={"Anchor Time":y},D&&(p["Anchor Date"]=D)}else return;b=f.Studies.replaceStudy(g,d.inputs.id,d.type,Object.assign(d.inputs,p),d.outputs,d.parameters,d.panel),O[A]&&(O[A].sd=b),e.m30(),g.draw()},f.Studies.cancelRepositionAnchor=function(g){var{sd:d,tapToAdd:p}=g.repositioningAnchorSelector||{};if(d){p&&f.Studies.removeStudy(g,d),g.repositioningAnchorSelector=null;var{anchorHandles:v}=g.controls;v&&v[d.uniqueId]&&(v[d.uniqueId].highlighted=!1,f.Studies.displayAnchorHandleAndLine(g,d,g.chart.dataSegment)),g.draw()}},f.Studies.displayAnchorHandleAndLine=function(g,d,p){var v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L;if(!(d.signalData&&!d.signalData.reveal)&&!(!p||!p[0])){v=(g.repositioningAnchorSelector||{}).sd===d;var{hoverTick:E}=v&&g.repositioningAnchorSelector,{chart:H,panels:N,cy:j}=g,{market:W={},symbol:V}=H;S=N[d.panel];var{top:Y,right:Q,left:z,height:$,subholder:K}=S,{bottom:q}=S.yAxis,{inputs:X,anchorHandle:Z,currentAnchorTime:ae,lineWidth:te=1}=d,{backgroundColor:re,borderLeftColor:oe}=g.canvasStyle("stx_anchor_handle");T=!X["Anchor Date"],D=f.getFn("Market.Symbology.isForexSymbol")(V),y=(E||E===0)&&(g.chart.dataSet[E]||{}).DT,b=f.Studies.getMarketOffset({stx:g,localQuoteDate:p[p.length-"1"*1].DT,shiftToDateBoundary:!0}),w=ae&&y&&T&&new Date(y.getTime()+b).getDate()!==new Date(ae.getTime()+b).getDate();var{floatDate:B,anchorHandles:G={}}=g.controls;A=G[d.uniqueId]||{};var{highlighted:ie}=A,[ne,le]=W.getNormalOpen().split(":").map(we=>parseInt(we));_=we=>{e.r5q();var Ee;return Ee=we?g.tickFromDate(we,null,null,!0):E,[g.pixelFromTick(Ee,H),Ee]},P={y0:Y,y1:q,type:"line",confineToPanel:S};var[fe]=_();if(fe&&(fe-=.5,g.plotLine(Object.assign(P,{x0:fe,x1:fe,color:w?oe:re,pattern:[6,6],lineWidth:1,opacity:w?.5:1})),f.efficientDOMUpdate(B.style,"visibility",""),g.updateChartAccessories()),Z){if(I="Anc",I+="hor Time",O=T?new Date(p[p.length-1].DT):f.strToDate(X["Anchor Date"]),W.market_def&&W.market_def.market_tz&&(O=new m.Date(O,W.market_def.market_tz)),!T){var[ue,ge,ce]=(X["Anchor Date"]||"").split("-");ce||([,ue,ge,ce]=ue.match(/([0-9]{4})([0-9]{2})([0-9]{2})/)),e.b1T(43),O.setFullYear(ue,e.v8U(ge,"1"),ce)}var[de=0,he=0,pe=0]=(X[I]||"").split(":");!he&&he!==0&&([,de,he,pe]=de.match(/([0-9]{2})([0-9]{2})([0-9]{2})/)),O.setHours(de,he,pe),R=D&&(O.getHours()>ne||O.getHours()===ne&&O.getMinutes()>=le),R&&O.setDate(O.getDate()-1);var[me,xe]=_(O);C=new Date(O),C.setHours(...W.getNormalClose().split(":")),R&&C.setDate(C.getDate()+1);var[ye]=C&&_(C)||[];if(T&&(me>Q||ye>Q)){if(k=new Date(O),W)do k.setDate(k.getDate()-1);while(!W.isMarketDate(k));var[be,_e]=_(k);be>z&&(O=k,me=be,xe=_e)}if(me-=.5,g.plotLine(Object.assign(P,{x0:me,x1:me,color:re,pattern:"solid",lineWidth:te,opacity:ie||d.highlight?1:.5})),A.currentPixel=me,ie){F="p",F+="x",Z.style.display="",e.Z1$(26);var De=e.p5W(7,28,10);e.Z1$(70);var ke=e.v8U(4,3,32,20);Z.style.height=Math.max(Math.min(De,$/4),ke)+"px",M=Z.getBoundingClientRect(),L=Math.max(Math.min(j-M.height/2,q-3-M.height),Y+3),e.Z1$(1),Z.style.top=e.p5W(L,F),e.Z1$(122);var Ae=e.v8U(11,7,79);Z.style.left=(E||E===0?fe:me)-M.width/Ae+"px",K.style.cursor="ew-resize"}else Z.style.display="none",K.style.cursor="auto";d.currentAnchorTime=O,d.currentAnchorTick=xe}}},f.Studies.studyScriptLibrary={},f.Studies.studyLibrary=f.Studies.studyLibrary||{},f.extend(f.Studies.studyLibrary,{ma:{name:"Moving Average",overlay:!0,calculateFN:f.Studies.calculateMovingAverage,inputs:{Period:50,Field:"field",Type:"ma",Offset:0},outputs:{MA:"#FF0000"}},"STD Dev":{name:"Standard Deviation",calculateFN:f.Studies.calculateStandardDeviation,inputs:{Period:14,Field:"field","Standard Deviations":2,"Moving Average Type":a},attributes:{"Standard Deviations":{min:.1,step:.1}}},"True Range":{name:"True Range",calculateFN:f.Studies.calculateStudyATR,inputs:{},outputs:{"True Range":"auto"}},volume:{name:"Volume Chart",range:i,yAxis:{ground:!0},seriesFN:f.Studies.createVolumeChart,calculateFN:f.Studies.calculateVolume,inputs:{Series:s},attributes:{Series:{hidden:function(){return e.r5q(),!Object.keys(this.chart.series).length}}},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"}},MACross:{name:"Moving Average Cross",overlay:!0,calculateFN:f.Studies.calculateMultMA,inputs:{"MA 1 Period":"20"|0,"MA 2 Period":50,"MA 3 Period":200,Field:r,"Moving Average Type":"ma",Offset:0},outputs:{"MA 1":t,"MA 2":"#00afed","MA 3":"#f4932f"}}})};Ta=U=>{var e,t;ee.m30(),e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.ChartEngine.Driver?(e.ChartEngine.Driver.Lookup=function(r){},e.ChartEngine.Driver.Lookup.prototype.acceptText=function(r,s,i,a){ee.r5q(),this.cb}):(t="symbolLookupBase feat",t+="ure",t+=" requires first activating quoteFeed feature.",console.error(t))};Fa=U=>{var e;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,ee.r5q(),e.ThemeHelper=e.ThemeHelper||function(t){var r,s,i,a,o,n,l,u,h,c,f;r="stx_mountain",r+="_c",r+="h",r+="art",s="Candle/B",s+="ar",i="stx",i+="_can",i+="dle_down",a="C",a+="a",a+="ndle",a+="/Bar",o="s",o+="tx_candle_up",n="stx_candl",n+="e_shadow_e",n+="ven",l="st",l+="x_candle_dow",l+="n",u="st",u+="x_",u+="xaxis",h="Grid ",h+="Dividers",this.params=t,c=t.stx,f="#FFFFFF",c.chart.container&&(f=getComputedStyle(c.chart.container).backgroundColor,e.isTransparent(f)&&(f=c.containerColor)),this.settings.chart.Background.color=e.hexToRgba(f),ee.r5q(),this.settings.chart["Grid Lines"].color=e.hexToRgba(c.canvasStyle("stx_grid").color),this.settings.chart[h].color=e.hexToRgba(c.canvasStyle("stx_grid_dark").color),this.settings.chart["Axis Text"].color=e.hexToRgba(c.canvasStyle(u).color),this.settings.chartTypes["Candle/Bar"].up.color=e.hexToRgba(c.canvasStyle("stx_candle_up").color),this.settings.chartTypes["Candle/Bar"].down.color=e.hexToRgba(c.canvasStyle(l).color),this.settings.chartTypes["Candle/Bar"].up.wick=e.hexToRgba(c.canvasStyle("stx_candle_shadow_up").color),this.settings.chartTypes["Candle/Bar"].down.wick=e.hexToRgba(c.canvasStyle("stx_candle_shadow_down").color),this.settings.chartTypes["Candle/Bar"].even.wick=e.hexToRgba(c.canvasStyle(n).color),this.settings.chartTypes["Candle/Bar"].up.border=e.hexToRgba(c.canvasStyle("stx_candle_up").borderLeftColor),this.settings.chartTypes["Candle/Bar"].down.border=e.hexToRgba(c.canvasStyle("stx_candle_down").borderLeftColor),e.isTransparent(c.canvasStyle(o).borderLeftColor)&&(this.settings.chartTypes[a].up.border=null),e.isTransparent(c.canvasStyle(i).borderLeftColor)&&(this.settings.chartTypes[s].down.border=null),this.settings.chartTypes.Line.color=e.hexToRgba(c.canvasStyle("stx_line_chart").color),this.settings.chartTypes.Mountain.color=e.hexToRgba(c.canvasStyle("stx_mountain_chart").backgroundColor),this.settings.chartTypes.Mountain.basecolor=e.hexToRgba(c.canvasStyle(r).color)},e.ThemeHelper.prototype.settings={chart:{Background:{color:null},"Grid Lines":{color:null},"Grid Dividers":{color:null},"Axis Text":{color:null}},chartTypes:{"Candle/Bar":{up:{color:null,wick:null,border:null},down:{color:null,wick:null,border:null},even:{color:null,wick:null,border:null}},Line:{color:null},Mountain:{color:null,basecolor:null}}},e.ThemeHelper.prototype.update=function(t){var r,s,i,a,o,n,l,u,h;r="stx_mou",r+="ntain_chart",s="border",s+="TopColor",i="stx_",i+="s",i+="hadow_even",a="Candl",a+="e/Bar",o="stx_grid_",o+="dark",n="stx_",n+="gri",n+="d",t||(t=this.params.stx),l={stx_candle_up:{stx_candle_up:!0,stx_bar_up:!0,stx_hollow_candle_up:!0,stx_line_up:!0,stx_baseline_up:!0},stx_candle_down:{stx_candle_down:!0,stx_bar_down:!0,stx_hollow_candle_down:!0,stx_line_down:!0,stx_baseline_down:!0},stx_candle_even:{stx_hollow_candle_even:!0,stx_bar_even:!0},stx_shadow_up:{stx_candle_shadow_up:!0},stx_shadow_down:{stx_candle_shadow_down:!0},stx_shadow_even:{stx_candle_shadow_even:!0},stx_line_chart:{stx_bar_chart:!0,stx_line_chart:!0},stx_grid:{stx_grid:!0},stx_grid_dark:{stx_grid_dark:!0},stx_xaxis:{stx_xaxis_dark:!0,stx_xaxis:!0,stx_yaxis:!0,stx_yaxis_dark:!0,stx_grid_border:!0},stx_mountain_chart:{stx_mountain_chart:!0},stx_market_session:{stx_market_session:!0}};function c(f,m,x){var g;g=l[f];for(var d in g)t.setStyle(d,m,x)}t.chart.container.style.backgroundColor=this.settings.chart.Background.color,t.defaultColor="",c(n,"color",this.settings.chart["Grid Lines"].color),c(o,"color",this.settings.chart["Grid Dividers"].color),c("stx_xaxis","color",this.settings.chart["Axis Text"].color),u=this.settings.chartTypes[a],u.even||(h="stx_candle_",h+="shadow_even",u.even={color:null,wick:e.hexToRgba(t.canvasStyle(h).color),border:null}),c("stx_candle_up","color",u.up.color),c("stx_candle_down","color",u.down.color),c("stx_candle_even","color",u.even.color),c("stx_shadow_up","color",u.up.wick),c("stx_shadow_down","color",u.down.wick),c(i,"color",u.even.wick),t.setStyle("stx_candle_up","borderLeftColor",u.up.border),t.setStyle("stx_candle_down","borderLeftColor",u.down.border),c("stx_line_chart","color",this.settings.chartTypes.Line.color),t.setStyle("stx_mountain_chart",s,e.hexToRgba(this.settings.chartTypes.Mountain.color,1)),t.setStyle(r,"backgroundColor",e.hexToRgba(this.settings.chartTypes.Mountain.color,.5)),t.setStyle("stx_mountain_chart","color",e.hexToRgba(this.settings.chartTypes.Mountain.basecolor,"0.01"*1)),t.draw()},e.ChartEngine.prototype.setThemeSettings=function(t){var r,s;r=e.getFromNS(this,"uiContext.topNode.multiChartContainer");var{breakpoint:i}=this.chart;r?(this.styles=r.styles[i]||{},r.styles[i]=this.styles):this.styles={},this.chart.container.style.backgroundColor="",this.defaultColor="",t&&(s=new e.ThemeHelper({stx:this}),s.settings=t,s.update()),this.updateListeners("theme"),this.changeOccurred("theme"),this.displayInitialized&&(this.headsUpHR(),this.clearPixelCache(),this.updateListeners("theme"),this.draw())}};_a=U=>{var e,t,r,s,i,a,o,n,l,u,h;e="Su",e+="n>",e+="=8",t="las",t+="t",t+="Su",t+="n",r="O",r+="c",r+="t",s="l",s+="a",s+="st",s+="Sun",i="m",i+="a",i+="x",a="E",a+="U",o="U",o+="T",o+="C",n="U",n+="T",n+="C",l="Am",l+="eri",l+="ca/New_York",u=typeof _CIQ!="undefined"?_CIQ:U.CIQ,h=typeof _timezoneJS!="undefined"?_timezoneJS:U.timezoneJS,u.timeZoneMap={"(UTC-05:00) Eastern Time (US and Canada)":l,"(UTC) Greenwich Mean Time, Reykjavik":n,"(UTC) Lisbon, London":"Europe/London","(UTC+09:00) Osaka, Sapporo, Tokyo":"Asia/Tokyo"},function(){var c=ee,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_;f="A",f+="pr",f+="il",m="M",m+="ar",m+="ch",x="Februa",x+="ry",g="Jan",g+="u",g+="a",g+="ry",d=typeof window!="undefined"?window:null,p=d||(typeof global!="undefined"?global:{}),h.VERSION="0.4.11",v=p.$||p.jQuery||p.Zepto,S=p.fleegix,T=h.Days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],D=h.Months=[g,x,m,f,"May","June","July","August","September","October","November","December"],y={},b={},w={},c.m30();for(var P=0;P<D.length;P++)y[D[P].substr(0,3)]=P;for(P=0;P<T.length;P++)b[T[P].substr(0,3)]=P;A=function(I,O){var R,C,k,F,M;if(R="n",R+="u",R+="mbe",R+="r",typeof I!==R)throw C="n",C+="ot ",C+="a number",C+=": ",c.Z1$(1),c.p5W(C,I);if(c.b1T(95),k=c.p5W(I,1e3),F=I.toString(),M=F.length,k&&M>O)return c.b1T(11),F.substr(c.p5W(O,M),M);for(F=[F];M<O;)F.unshift("0"),M++;return F.join("")},_=function(I){var O;if(O="URL must be",c.m30(),O+=" specifi",O+="e",O+="d",!!I){if(!I.url)throw new Error(O);if("async"in I||(I.async=!0),(!S||typeof S.xhr=="undefined")&&(!v||typeof v.ajax=="undefined"))throw new Error("Please use the Fleegix.js XHR module, jQuery ajax, Zepto ajax, or define your own transport mechanism for downloading zone files.");return I.async?S&&S.xhr?S.xhr.send({url:I.url,method:"get",handleSuccess:I.success,handleErr:I.error}):v.ajax({url:I.url,dataType:"text",method:"GET",error:I.error,success:I.success}):S&&S.xhr?S.xhr.doReq({url:I.url,async:!1}):v.ajax({url:I.url,async:!1,dataType:"text"}).responseText}},h.ruleCache={},h.Date=function(){var I,O,R,C,k,F,M,L,E;if(this===h){I=2095902543,c.Z1$(66),O=-c.p5W(0,"1978366625"),R=2;for(var H=1;c.m9o(H.toString(),H.toString().length,"78092">>0)!==I;H++)throw"";if(c.m9o(R.toString(),R.toString().length,32557)!==O)throw"timezoneJS.Date object must be constructed with 'new'"}switch(C=Array.prototype.slice.apply(arguments),k=null,F=null,M=[],L=!1,Object.prototype.toString.call(C[0])==="[object Array]"&&(C=C[0]),typeof C[C.length-1]=="string"&&(L=Date.parse(C[C.length-"1"*1].replace(/GMT[+-]\d+/,"")),(isNaN(L)||L===null)&&(F=C.pop())),E=!1,C.length){case 0:k=new Date;break;case"1"*1:k=new Date(C[0]),typeof C[0]=="string"&&C[0].search(/[+-][0-9]{4}/)==-1&&C[0].search(/Z/)==-1&&C[0].search(/T/)==-1&&(E=!0);break;case 2:k=new Date(C[0],C[1]),E=!0;break;default:for(var N=0;N<7;N++)M[N]=C[N]||0;k=new Date(M[0],M[1],M[2],M[3],M[4],M[5],M[6]),E=!0;break}if(isNaN(k.getTime()))throw new Error("Invalid date");this._useCache=!1,this._tzInfo={},this._day=0,this.year=0,this.month=0,this.date=0,this.hours=0,this.minutes=0,this.seconds=0,c.b1T(15),this.milliseconds=c.p5W(0,"0"),this.timezone=F||null,E?this.setFromDateObjProxy(k):this.setFromTimeProxy(k.getTime(),F)},u.extend(h.Date.prototype,{getDate:function(){return c.r5q(),this.date},getDay:function(){return this._day},getFullYear:function(){return c.r5q(),this.year},getMonth:function(){return c.m30(),this.month},getYear:function(){c.Z1$(11);var I=c.v8U(15,1915);return c.m30(),this.year-I},getHours:function(){return this.hours},getMilliseconds:function(){return this.milliseconds},getMinutes:function(){return c.m30(),this.minutes},getSeconds:function(){return c.m30(),this.seconds},getUTCDate:function(){return c.m30(),this.getUTCDateProxy().getUTCDate()},getUTCDay:function(){return this.getUTCDateProxy().getUTCDay()},getUTCFullYear:function(){return this.getUTCDateProxy().getUTCFullYear()},getUTCHours:function(){return c.m30(),this.getUTCDateProxy().getUTCHours()},getUTCMilliseconds:function(){return c.r5q(),this.getUTCDateProxy().getUTCMilliseconds()},getUTCMinutes:function(){return c.m30(),this.getUTCDateProxy().getUTCMinutes()},getUTCMonth:function(){return this.getUTCDateProxy().getUTCMonth()},getUTCSeconds:function(){return this.getUTCDateProxy().getUTCSeconds()},getTime:function(){c.b1T(153);var I=c.p5W(73,42,17,1,73);return this._timeProxy+this.getTimezoneOffset()*I*("1000"-0)},getTimezone:function(){return c.m30(),this.timezone},getTimezoneOffset:function(){return c.r5q(),this.getTimezoneInfo().tzOffset},getTimezoneAbbreviation:function(){return this.getTimezoneInfo().tzAbbr},getTimezoneInfo:function(){var I,O,R;return this._useCache?this._tzInfo:(c.r5q(),this.timezone?(O="E",O+="tc",O+="/G",O+="MT",R="E",R+="tc",R+="/U",R+="TC",I=this.timezone===R||this.timezone===O?{tzOffset:0,tzAbbr:"UTC"}:h.timezone.getTzInfo(this._timeProxy,this.timezone)):I={tzOffset:this.getLocalOffset(),tzAbbr:null},this._tzInfo=I,this._useCache=!0,I)},getUTCDateProxy:function(){var I;return I=new Date(this._timeProxy),I.setUTCMinutes(I.getUTCMinutes()+this.getTimezoneOffset()),I},setDate:function(I){return this.setAttribute("date",I),this.getTime()},setFullYear:function(I,O,R){return R!==void 0&&this.setAttribute("date",1),c.r5q(),this.setAttribute("year",I),O!==void 0&&this.setAttribute("month",O),R!==void 0&&this.setAttribute("date",R),this.getTime()},setMonth:function(I,O){return this.setAttribute("month",I),c.r5q(),O!==void 0&&this.setAttribute("date",O),this.getTime()},setYear:function(I){var O,R,C,k;if(O="y",O+="ea",O+="r",I=Number(I),0<=I&&I<=99){R=-302836269,C=-876318831,k=2;for(var F=1;c.m9o(F.toString(),F.toString().length,97984)!==R;F++)I+=1900,k+=2;c.m9o(k.toString(),k.toString().length,88774)!==C&&(I%=6427)}return this.setUTCAttribute(O,I),this.getTime()},setHours:function(I,O,R,C){var k,F;return this.setAttribute("hours",I),O!==void 0&&this.setAttribute("minutes",O),R!==void 0&&(k="second",k+="s",this.setAttribute(k,R)),C!==void 0&&(F="millis",F+="econds",this.setAttribute(F,C)),this.getTime()},setMinutes:function(I,O,R){var C;return C="mi",C+="n",C+="ute",C+="s",this.setAttribute(C,I),O!==void 0&&this.setAttribute("seconds",O),R!==void 0&&this.setAttribute("milliseconds",R),this.getTime()},setSeconds:function(I,O){var R;return R="s",R+="ec",R+="onds",this.setAttribute(R,I),O!==void 0&&this.setAttribute("milliseconds",O),this.getTime()},setMilliseconds:function(I){return this.setAttribute("milliseconds",I),this.getTime()},setTime:function(I){if(c.r5q(),isNaN(I))throw new Error("Units must be a number.");return this.setFromTimeProxy(I,this.timezone),this.getTime()},setUTCFullYear:function(I,O,R){var C;return R!==void 0&&this.setUTCAttribute("date",1),this.setUTCAttribute("year",I),O!==void 0&&(C="mo",C+="n",C+="th",this.setUTCAttribute(C,O)),R!==void 0&&this.setUTCAttribute("date",R),this.getTime()},setUTCMonth:function(I,O){return c.r5q(),this.setUTCAttribute("month",I),O!==void 0&&this.setUTCAttribute("date",O),this.getTime()},setUTCDate:function(I){return c.r5q(),this.setUTCAttribute("date",I),this.getTime()},setUTCHours:function(I,O,R,C){return this.setUTCAttribute("hours",I),c.r5q(),O!==void 0&&this.setUTCAttribute("minutes",O),R!==void 0&&this.setUTCAttribute("seconds",R),C!==void 0&&this.setUTCAttribute("milliseconds",C),this.getTime()},setUTCMinutes:function(I,O,R){var C,k;return C="minu",C+="te",C+="s",this.setUTCAttribute(C,I),O!==void 0&&(k="se",k+="c",k+="onds",this.setUTCAttribute(k,O)),R!==void 0&&this.setUTCAttribute("milliseconds",R),this.getTime()},setUTCSeconds:function(I,O){var R,C,k;if(c.r5q(),this.setUTCAttribute("seconds",I),O!==void 0){R=-1000306926,C=48853575,c.b1T(46),k=c.p5W(0,"2");for(var F=1;c.m9o(F.toString(),F.toString().length,49332)!==R;F++)this.setUTCAttribute("",O),k+=2;c.m9o(k.toString(),k.toString().length,26042)!==C&&this.setUTCAttribute("milliseconds",O)}return this.getTime()},setUTCMilliseconds:function(I){return this.setUTCAttribute("milliseconds",I),this.getTime()},setFromDateObjProxy:function(I){this.year=I.getFullYear(),this.month=I.getMonth(),this.date=I.getDate(),this.hours=I.getHours(),c.r5q(),this.minutes=I.getMinutes(),this.seconds=I.getSeconds(),this.milliseconds=I.getMilliseconds(),this._day=I.getDay(),this._dateProxy=I,this._timeProxy=Date.UTC(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.milliseconds),this._useCache=!1},setFromTimeProxy:function(I,O){var R,C;R=new Date(I),C=O?h.timezone.getTzInfo(I,O,!0).tzOffset:R.getTimezoneOffset(),R.setTime(I+(R.getTimezoneOffset()-C)*6e4),this.setFromDateObjProxy(R)},setAttribute:function(I,O){var R,C,k;if(R="s",R+="e",c.r5q(),R+="t",isNaN(O))throw new Error("Units must be a number.");C=this._dateProxy,k=I==="year"?"FullYear":I.substr("0"|0,1).toUpperCase()+I.substr(1),C[R+k](O),this.setFromDateObjProxy(C)},setUTCAttribute:function(I,O){var R,C,k,F;if(R="set",R+="U",R+="TC",C="y",C+="ear",isNaN(O))throw new Error("Units must be a number.");k=I===C?"FullYear":I.substr(0,1).toUpperCase()+I.substr(1),F=this.getUTCDateProxy(),F[R+k](O),F.setUTCMinutes(F.getUTCMinutes()-this.getTimezoneOffset()),this.setFromTimeProxy(F.getTime()+this.getTimezoneOffset()*6e4,this.timezone)},setTimezone:function(I){var O;O=this.getTimezoneInfo().tzOffset,c.r5q(),this.timezone=I,this._useCache=!1,this.setUTCMinutes(this.getUTCMinutes()-this.getTimezoneInfo().tzOffset+O)},removeTimezone:function(){this.timezone=null,this._useCache=!1},valueOf:function(){return c.m30(),this.getTime()},clone:function(){return c.m30(),this.timezone?new h.Date(this.getTime(),this.timezone):new h.Date(this.getTime())},toGMTString:function(){c.m30();var I;return I="Et",I+="c/G",I+="MT",this.toString("EEE, dd MMM yyyy HH:mm:ss Z",I)},toLocaleStringIntl:function(){},toLocaleDateString:function(){},toLocaleTimeString:function(){},toSource:function(){},toISOString:function(){return c.m30(),this.toString("yyyy-MM-ddTHH:mm:ss.SSS","Etc/UTC")+"Z"},toJSON:function(){return c.m30(),this.toISOString()},toDateString:function(){var I;return I="EEE MMM dd yy",I+="yy",this.toString(I)},toTimeString:function(){return this.toString("H:mm k")},toString:function(I,O){var R,C,k,F;return I||(I="yyyy-MM-ddTHH:mm:ss.SSS"),R=I,C=O?h.timezone.getTzInfo(this.getTime(),O):this.getTimezoneInfo(),k=this,O&&(k=this.clone(),k.setTimezone(O)),F=k.getHours(),R.replace(/a+/g,function(){return c.r5q(),"k"}).replace(/y+/g,function(M){return c.m30(),A(k.getFullYear(),M.length)}).replace(/d+/g,function(M){return A(k.getDate(),M.length)}).replace(/m+/g,function(M){return c.r5q(),A(k.getMinutes(),M.length)}).replace(/s+/g,function(M){return c.m30(),A(k.getSeconds(),M.length)}).replace(/S+/g,function(M){return A(k.getMilliseconds(),M.length)}).replace(/h+/g,function(M){return A(F%12===0?12:F%12,M.length)}).replace(/M+/g,function(M){var L,E;return L=k.getMonth(),c.r5q(),E=M.length,E>"3"<<0?h.Months[L]:E>2?h.Months[L].substring(0,E):(c.Z1$(119),A(c.v8U("1",L),E))}).replace(/k+/g,function(){var M;return M="A",M+="M",F>=12?(F>"12">>32&&(F-=12),"PM"):M}).replace(/H+/g,function(M){return A(F,M.length)}).replace(/E+/g,function(M){return T[k.getDay()].substring(0,M.length)}).replace(/Z+/gi,function(){return C.tzAbbr})},toUTCString:function(){return c.r5q(),this.toGMTString()},civilToJulianDayNumber:function(I,O,R){var C,k,F;O++,O>12&&(c.Z1$(12),C=parseInt(c.p5W(12,O),10),c.Z1$(97),O=c.v8U(12,O),I+=C),O<=2&&(I-=1,O+=12),c.b1T(12),C=Math.floor(c.v8U(100,I)),c.b1T(154);var M=c.p5W(13,1,26,19,4);c.b1T(1);var L=c.p5W(0,4);k=M-C+Math.floor(C/L),c.m30(),c.Z1$(26);var E=c.v8U(14,4730,28);c.b1T(155);var H=c.v8U(10,110,2,11,20);c.Z1$(1);var N=c.p5W(254,1270);return F=Math.floor(365.25*(I+E))+Math.floor(30.6001*(O+H))+R+k-N,F},getLocalOffset:function(){return c.m30(),this._dateProxy.getTimezoneOffset()}},!0),h.timezone=new function(){var I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te;I="aus",I+="tral",I+="asi",I+="a",O="asi",O+="a",R="an",R+="ta",R+="r",R+="ctica",C="et",C+="cet",C+="e",C+="ra",k="eur",k+="op",k+="e",F="eu",F+="rope";function re(ce){var de,he,pe,me;if(c.r5q(),!!ce[3])return de=parseInt(ce[3],10),he=11,pe=31,ce[4]&&(he=y[ce[4].substr(0,3)],pe=parseInt(ce[5],10)||1),me=ce[6]?ie(ce[6]):[0,0,0],c.b1T(2),[de,he,pe,me[0],me[1],me[c.p5W("2",64)]]}M="eur",M+="ope",L="eu",L+="r",L+="op",L+="e",E="e",E+="ur",E+="op";function oe(ce,de){var he,pe;return he=ce[2],he.indexOf("%s")>-1?(de?pe=de[7]==="-"?"":de[7]:pe="S",he.replace("%s",pe)):he.indexOf("/")>-1?he.split("/",2)[de&&de[6]?1:0]:he}E+="e",H="eu",H+="ro",H+="p",H+="e",N="eu",N+="ro",N+="pe",j="e",j+="u",j+="r";function B(ce){throw c.m30(),c.b1T(19),new Error(c.v8U(ce,"Timezone '","' is either incorrect, or not loaded in the timezone registry."))}j+="ope",c.m30(),W="an",W+="t",W+="arctica",V="northameric",V+="a",Y="e";function G(ce,de,he,pe){var me,xe,ye,be,_e,De,ke,Ae,we,Ee,Se,Ce,Me,He,Re;if(me=typeof ce=="number"?new Date(ce):ce,xe=de[1],ye=de[0],be=xe.match(/^([0-9]):([0-9][0-9])$/),be){_e="J",_e+="a",_e+="n",De="m",De+="a",De+="x",c.b1T(1);var Ne=c.v8U(0,1);c.b1T(11);var ze=c.p5W(120,130);c.Z1$(1);var tt=c.p5W(1,15);c.Z1$(115);var je=c.v8U(16,1104,73,1);c.b1T(11);var Ve=c.v8U(100,110);return c.Z1$(3),[-c.v8U("1000000",1),De,"-",_e,1,[0,0,0],parseInt(be[Ne],ze)*("60"|tt)+parseInt(be["2"<<je],Ve),"-"]}if(ke=function(Ie,Te,Le){var Fe,We,Ye,$e;if(Fe=0,Te==="u"||Te==="g"||Te==="z")Fe=0;else if(Te==="s"){We=347102850,Ye=741543113,$e=2;for(var Be=1;c.D4r(Be.toString(),Be.toString().length,15745)!==We;Be++)Fe=ye,$e+=2;c.m9o($e.toString(),$e.toString().length,580)!==Ye&&(Fe=ye)}else if(Te==="w"||!Te)Fe=ge(ye,Le[6]);else throw c.b1T(1),new Error(c.v8U("unknown type ",Te));return c.b1T(3),Fe*=c.v8U(60,1e3),new Date(Ie.getTime()+Fe)},Ae=function(Ie,Te){var Le,Fe,We,Ye,$e,Be,Je,Qe;return Le=Ie[0],Fe=Ie[1],We=Fe[5],w[Le]||(w[Le]={}),w[Le][Fe]?Ye=w[Le][Fe]:(isNaN(Fe[4])?(Fe[4].substr(0,4)==="last"?(Je="<",Je+="=",Ye=new Date(Date.UTC(Le,y[Fe[3]]+1,1,We[0]-24,We[1],We[2],0)),$e=b[Fe[4].substr(4,3)],Be=Je):(Ye=new Date(Date.UTC(Le,y[Fe[3]],Fe[4].substr(5),We[0],We[1],We[2],0)),$e=b[Fe[4].substr(0,3)],Be=Fe[4].substr(3,2)),Qe=Ye.getUTCDay(),Be===">="?Ye.setUTCDate(Ye.getUTCDate()+($e-Qe+($e<Qe?7:"0"^0))):Ye.setUTCDate(Ye.getUTCDate()+($e-Qe-($e>Qe?7:0)))):Ye=new Date(Date.UTC(Le,y[Fe[3]],Fe[4],We[0],We[1],We[2],0)),w[Le][Fe]=Ye),Te&&(Ye=ke(Ye,We[3],Te)),Ye},we=function(Ie,Te){var Le;if(Le=[],Te)for(var Fe=0;Fe<Te.length;Fe++)Te[Fe][0]<=Ie&&(Te[Fe][1]>=Ie||Te[Fe][0]===Ie&&Te[Fe][1]==="only"||Te[Fe][1]==="max")&&Le.push([Ie,Te[Fe]]);return c.r5q(),Le},Ee=function(Ie,Te,Le){var Fe,We;return Ie instanceof Date?Le&&(Ie=ke(Ie,he?"u":"w",Le)):(Fe=Ie[0],We=Ie[1],Ie=!Le&&w[Fe]&&w[Fe][We]?w[Fe][We]:Ae(Ie,Le)),Te instanceof Date?Le&&(Te=ke(Te,he?"u":"w",Le)):(Fe=Te[0],We=Te[1],Te=!Le&&w[Fe]&&w[Fe][We]?w[Fe][We]:Ae(Te,Le)),c.r5q(),Ie=Number(Ie),Te=Number(Te),c.b1T(11),c.p5W(Te,Ie)},Se=me.getUTCFullYear(),Me=h.ruleCache[pe],Me||(Me=h.ruleCache[pe]={}),Ce=Me[Se],Ce||(c.Z1$(11),Ce=we(c.v8U(1,Se),Z.rules[xe]),Ce=Ce.concat(we(Se,Z.rules[xe])),Ce.sort(Ee),Me[Se]=Ce),!Ce||!Ce.length)return null;c.r5q();for(var Oe=Ce.length-1;Oe>=0;Oe--)if(Oe>0?(c.b1T(11),He=Ce[c.p5W(1,Oe)][c.p5W(0,"1",c.Z1$(46))]):He=null,Re=Ce[Oe],Re[2]||(Re[2]=Ae(Re,He)),Ee(me,Re,He)>=0)return Re[1];return null}Y+="ur",Y+="ope",Q="asi",Q+="a",z="a",z+="fric",z+="a",$="no";function ie(ce){var de,he;return de=/(\d{1,2})(?::0*(\d{1,2}))?(?::0*(\d{1,2}))?([wsugz])?$/,he=ce.match(de),he[1]=parseInt(he[1],10),he[2]=he[2]?parseInt(he[2],10):0,he[3]=he[3]?parseInt(he[3],10):0,he.slice(1,5)}$+="rthame",$+="ri",$+="ca",K="northam",K+="e",K+="ri",K+="ca",q="no";function ne(ce){var de,he;de=ie(ce),he=ce.charAt(0)==="-"?-1:1,c.b1T(11);var pe=c.v8U(4,64);c.b1T(156);var me=c.v8U(5,18,34,9,19);c.b1T(11);var xe=c.p5W(18,78);c.b1T(26);var ye=c.p5W(18,0,16);c.Z1$(26);var be=c.v8U(19,1005,24);return c.r5q(),de=he*(((de["0"^0]*pe+de[me])*xe+de[ye])*be),c.b1T(157),c.p5W("60",de,1e3)}q+="rthamerica",X="northam",X+="erica",Z=this,ae={Etc:"etcetera",EST:"northamerica",MST:X,HST:"northamerica",EST5EDT:"northamerica",CST6CDT:q,MST7MDT:K,PST8PDT:$,America:["northamerica","southamerica"],Pacific:"australasia",Atlantic:"europe",Africa:z,Indian:"africa",Antarctica:"antarctica",Asia:Q,Australia:"australasia",Europe:Y,WET:"europe",CET:"europe",MET:"europe",EET:"europe"},te={"Pacific/Honolulu":"northamerica","Atlantic/Bermuda":V,"Atlantic/Cape_Verde":"africa","Atlantic/St_Helena":"africa","Indian/Kerguelen":W,"Indian/Chagos":"asia","Indian/Maldives":"asia","Indian/Christmas":"australasia","Indian/Cocos":"australasia","America/Danmarkshavn":"europe","America/Scoresbysund":"europe","America/Godthab":"europe","America/Thule":"europe","Asia/Istanbul":"europe","Asia/Yekaterinburg":j,"Asia/Omsk":N,"Asia/Novosibirsk":"europe","Asia/Krasnoyarsk":H,"Asia/Irkutsk":E,"Asia/Yakutsk":L,"Asia/Vladivostok":M,"Asia/Sakhalin":"europe","Asia/Magadan":"europe","Asia/Kamchatka":"europe","Asia/Anadyr":F,"Africa/Ceuta":k,GMT:C,"Europe/Nicosia":"asia"};function le(ce,de){var he,pe,me,xe,ye,be;for(he=typeof ce=="number"?ce:new Date(+ce).getTime(),pe=de,me=Z.zones[pe];typeof me=="string";)pe=me,me=Z.zones[pe];if(!me){if(Z.loadedZones.backward){if(pe&&pe!==de)return Z.lazyLoadZoneFiles(pe),le(ce,pe)}else return xe="ba",xe+="ckwa",xe+="rd",Z.loadZoneFile(xe),le(ce,de);B(pe)}if(me.length==="0"<<0)throw ye="' ",ye+="o",ye+="n",ye+=" ",c.Z1$(0),new Error(c.p5W(ye,"No Zone found for '",de,ce));for(var _e=me.length-1;_e>=0&&(be=me[_e],!(be[3]&&he>be[3]));_e--);return c.Z1$(1),me[c.p5W(_e,1)]}this.zoneFileBasePath=null,this.zoneFiles=["africa",R,O,I,"backward","etcetera","europe","northamerica","pacificnew","southamerica"],this.loadingSchemes={PRELOAD_ALL:"preloadAll",LAZY_LOAD:"lazyLoad",MANUAL_LOAD:"manualLoad"},this.getRegionForTimezone=fe,this.loadingScheme=this.loadingSchemes.LAZY_LOAD,this.loadedZones={},this.zones={},this.rules={},this.init=function(ce){var de,he,pe;de="no",de+="r",de+="t",de+="hamerica",c.m30(),he={async:!0},pe=this.loadingScheme===this.loadingSchemes.PRELOAD_ALL?this.zoneFiles:this.defaultZoneFile||de;for(var me in ce)he[me]=ce[me];return this.loadZoneFiles(pe,he)},this.loadZoneFiles=function(ce,de){var he,pe,me;if(he="s",he+="t",he+="rin",he+="g",me=0,typeof ce===he)return this.loadZoneFile(ce,de);de=de||{},pe=de.callback,de.callback=function(){c.r5q(),me++,me===ce.length&&typeof pe=="function"&&pe()};for(var xe="0">>64;xe<ce.length;xe++)this.loadZoneFile(ce[xe],de)},this.loadZoneFile=function(ce,de){var he;if(he="un",he+="define",he+="d",typeof this.zoneFileBasePath===he)throw new Error("Please define a base path to your zone file directory -- timezoneJS.timezone.zoneFileBasePath.");if(c.r5q(),!this.loadedZones[ce])return this.loadedZones[ce]=!0,ue(ce,de)},this.loadZoneJSONData=function(ce,de){var he;return he=function(pe){pe=JSON.parse(pe);for(var me in pe.zones)Z.zones[me]=pe.zones[me];for(var xe in pe.rules)Z.rules[xe]=pe.rules[xe]},de?he(Z.transport({url:ce,async:!1})):Z.transport({url:ce,success:he})},this.loadZoneDataFromObject=function(ce){if(c.r5q(),!!ce){for(var de in ce.zones)Z.zones[de]=ce.zones[de];for(var he in ce.rules)Z.rules[he]=ce.rules[he]}},this.getAllZones=function(){var ce;ce=[];for(var de in this.zones)ce.push(de);return ce.sort()};function fe(ce){var de,he,pe,me,xe,ye;if(de="st",de+="rin",de+="g",c.m30(),he=te[ce],he)return he;if(pe=ce.split("/")[0],me=ae[pe],me)return me;if(xe=Z.zones[ce],typeof xe===de)return fe(xe);if(!Z.loadedZones.backward)return ye="ba",ye+="ck",ye+="war",ye+="d",Z.loadZoneFile(ye),fe(ce);B(ce)}this.parseZones=function(ce){var de,he,pe,me,xe,ye,be;if(!ce)return!1;de=ce.split(`
`),he=[],pe="",xe=null,ye=null;for(var _e=0;_e<de.length;_e++)if(me=de[_e],me.match(/^\s/)&&(c.Z1$(19),me=c.v8U(xe,"Zone ",me)),me=me.split("#")[0],me.length>3)switch(be="Z",be+="o",be+="n",be+="e",he=me.split(/\s+/),pe=he.shift(),pe){case be:if(xe=he.shift(),Z.zones[xe]||(Z.zones[xe]=[]),he.length<3)break;he.splice(3,he.length,re(he)),he[3]&&(he[3]=Date.UTC.apply(null,he["3"<<64])),he[0]=-ne(he[0]),Z.zones[xe].push(he);break;case"Rule":ye=he.shift(),Z.rules[ye]||(Z.rules[ye]=[]),he[0]=parseInt(he[0],10),he[1]=parseInt(he["1"-0],10)||he[1],he[5]=ie(he[5]),he[6]=ne(he[6]),Z.rules[ye].push(he);break;case"Link":if(Z.zones[he[1]])throw new Error("Error with Link "+he[1]+". Cannot create link of a preexisted zone.");isNaN(he[0])?Z.zones[he[1]]=he[0]:Z.zones[he[1]]=parseInt(he[0],10);break}return!0};function ue(ce,de){var he;c.Z1$(86);var pe=c.p5W(7189,7423,13,17,7423);return c.b1T(1),c.p5W(213,2127),he=Z.zoneFileBasePath+(pe==766.92?"7.07e+3"<<0:"/")+ce,!de||!de.async?Z.parseZones(Z.transport({url:he,async:!1})):Z.transport({async:!0,url:he,success:function(me){return Z.parseZones(me)&&typeof de.callback=="function"&&de.callback()},error:function(){var me;throw me="Err",c.m30(),me+="or retrieving '",c.Z1$(19),new Error(c.v8U(he,me,"' zoneinfo files"))}})}function ge(ce,de){return c.b1T(11),-Math.ceil(c.p5W(ce,de))}this.transport=_,this.getTzInfo=function(ce,de,he){var pe,me,xe,ye;return this.lazyLoadZoneFiles(de),pe=le(ce,de),me=+pe[0],xe=G(ce,pe,he,de),xe&&(me=ge(me,xe[6])),ye=oe(pe,xe),c.m30(),{tzOffset:me,tzAbbr:ye}},this.lazyLoadZoneFiles=function(ce){var de;if(this.loadingScheme===this.loadingSchemes.LAZY_LOAD){if(de=fe(ce),!de)throw new Error("Not a valid timezone ID.");this.loadZoneFiles(de)}}}}.call(typeof window!="undefined"?window:void 0),h.timezone.loadingScheme=h.timezone.loadingSchemes.MANUAL_LOAD,h.timezone.loadZoneDataFromObject({zones:{"Asia/Tokyo":[[-540,"","J%sT",null]],"Etc/UTC":[[0,"-",o,null]],"Europe/London":[[0,a,"GMT/BST",null]],"America/New_York":[[300,"US","E%sT",null]],UTC:"Etc/UTC"},rules:{EU:[[1981,i,"-","Mar",s,[1,0,0,"u"],"60"|16,"S"],[1996,"max","-",r,t,[1,0,0,"u"],0,"-"]],US:[[2007,"max","-","Mar",e,[2,0,0,null],60,"D"],[2007,"max","-","Nov","Sun>=1",[2,0,0,null],0,"S"]]}})};Ma=U=>{var e,t;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.ChartEngine.prototype.touchSingleClick=function(s,i,a){ee.r5q();var o,n;return o=this,n=arguments,function(){(function(){ee.r5q();var l,u,h,c,f;if(!this.cancelTouchSingleClick){if(l="to",l+="u",l+="chSingl",l+="eClick",this.runPrepend(l,n)||this.editingAnnotation||(this.clicks={},!this.displayCrosshairs)||!this.displayInitialized||this.openDialog!==""||i<this.left||i>this.right||a<this.top||a>this.bottom)return;u=this.crossYActualPos,h=this.crossXActualPos,this.currentPanel=this.whichPanel(u),c=this.currentVectorParameters.vectorType,(!e.Drawing||!c||!e.Drawing[c]||!new e.Drawing[c]().dragToDraw)&&(this.drawingClick(this.currentPanel,h,u)||r(this,i,a),this.currentVectorParameters.vectorType||(f=this.activeMarker&&this.activeMarker.click({cx:h,cy:u,panel:this.currentPanel}),f||this.dispatch("tap",{stx:this,panel:this.currentPanel,x:h,y:u})))}this.runAppend("touchSingleClick",n)}).apply(o,n)}},e.ChartEngine.prototype.touchDoubleClick=function(s,i,a){var o,n,l,u,h,c,f;if(o="touchD",o+="ouble",o+="C",o+="lick",!this.runPrepend("touchDoubleClick",arguments)&&!this.editingAnnotation){if(e.ChartEngine.drawingLine){if(this.currentVectorParameters.vectorType==="continuous"){n=this.crossYActualPos,l=-725620748,u=1549031393,h=2;for(var m=1;ee.m9o(m.toString(),m.toString().length,24159)!==l;m++)c=this.crossXActualPos,this.currentPanel=this.whichPanel(n),h+=2;ee.D4r(h.toString(),h.toString().length,97208)!==u&&(c=this.crossXActualPos,this.currentPanel=this.whichPanel(n)),this.drawingClick(this.currentPanel,c,n),e.ChartEngine.completeDrawing(this)}return this.undo()}this.activeDrawing||(r(this,i,a),f=this.activeMarker&&this.activeMarker.doubleClick({cx:i,cy:a,panel:this.currentPanel}),f||this.dispatch("doubleTap",{stx:this,finger:s,x:i,y:a}),this.runAppend(o,arguments))}},e.ChartEngine.prototype.startProxy=function(s){if(this.touchPointerType=s.pointerType,this.touchPointerType!="touch"){this.mouseMode=!0;return}this.mouseMode=!1,ee.r5q(),this.touches[this.touches.length]={pointerId:s.pointerId,pageX:s.clientX,pageY:s.clientY,clientX:s.clientX,clientY:s.clientY},this.changedTouches=[{pointerId:s.pointerId,pageX:s.clientX,pageY:s.clientY,clientX:s.clientX,clientY:s.clientY}],this.touches.length==1&&(this.gesturePointerId=s.pointerId),this.touchstart(s)},e.ChartEngine.prototype.moveProxy=function(s){if(s.pointerType&&s.pointerType!="touch"){this.mouseMode=!0;return}this.mouseMode=!1,this.touchmove(s)};function r(s,i,a){ee.r5q();var o;s.layout.crosshair||(e.ChartEngine.crosshairY=0,e.ChartEngine.crosshairX=0,s.cx=s.backOutX(0),s.cy=s.backOutY(0),s.findHighlights(null,!0),e.ChartEngine.crosshairY=a,e.ChartEngine.crosshairX=i,o=s.container.getBoundingClientRect(),s.top=o.top,s.left=o.left,s.right=s.left+s.width,s.bottom=s.top+s.height,s.cx=s.backOutX(i),s.cy=s.backOutY(a),s.currentPanel&&s.currentPanel.chart.dataSet&&(s.crosshairTick=s.tickFromPixel(s.cx,s.currentPanel.chart),s.crosshairValue=s.adjustIfNecessary(s.currentPanel,s.crosshairTick,s.valueFromPixel(s.cy,s.currentPanel))),s.headsUpHR()),s.findHighlights(!0),s.draw()}e.ChartEngine.prototype.endProxy=function(s){var i;if(this.touchPointerType!="touch"){this.mouseMode=!0;return}this.mouseMode=!1,i=this.touches.length;for(var a=0;a<this.touches.length;a++)if(this.touches[a].pointerId==s.pointerId){this.touches.splice(a,1);break}if(ee.r5q(),a==i){this.touches=[],this.grabbingScreen=!1,this.touching=!1;return}this.changedTouches=[{pointerId:s.pointerId,pageX:s.clientX,pageY:s.clientY,clientX:s.clientX,clientY:s.clientY}],this.touchend(s)},e.ChartEngine.prototype.msMouseMoveProxy=function(s){this.touches.length||!this.mouseMode||this.mousemove(s)},e.ChartEngine.prototype.msMouseDownProxy=function(s){this.mouseMode&&this.mousedown(s)},e.ChartEngine.prototype.msMouseUpProxy=function(s){this.mouseMode&&this.mouseup(s)},e.ChartEngine.prototype.iosMouseMoveProxy=function(s){this.touching||(ee.m30(),this.mousemove(s))},e.ChartEngine.prototype.iosMouseDownProxy=function(s){if(this.touching){this.mouseMode=!1;return}ee.m30(),this.mouseMode=!0,this.mousedown(s)},e.ChartEngine.prototype.iosMouseUpProxy=function(s){ee.r5q(),!this.touching&&this.mouseup(s)},e.ChartEngine.prototype.touchmove=function(s){var i=ee,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q;if(a="to",a+="uc",a+="h",a+="move",o="free",o+="for",o+="m",n="n",n+="o",n+="n",n+="e",!!this.displayInitialized&&this.openDialog===""&&e.ChartEngine.ignoreTouch!==!0){l=[],(!this.overYAxis||this.controls&&this.controls.crossX&&this.controls.crossX.style.display!=n)&&(s&&s.preventDefault&&s.cancelable&&this.captureTouchEvents&&s.preventDefault(),s&&s.stopPropagation()),u=new Date().getTime();var{down:[X]}=this.pointerEvents;if(!(u-X.time<25)){if(s.pointerType||(s.pointerType=this.touchPointerType),e.isSurface){if(this.mouseMode)return;s.pointerId||(s.pointerId=this.gesturePointerId);for(var Z=0;Z<this.touches.length;Z++)if(this.touches[Z].pointerId==s.pointerId){if(h=Math.abs(this.touches[Z].pageX-s.clientX),c=Math.abs(this.touches[Z].pageY-s.clientY),i.b1T(47),f=Math.sqrt(i.v8U(c,h,h,c)),!f||u-X.time<50||this.touches[Z].pageX==s.clientX&&this.touches[Z].pageY==s.clientY)return;this.touches[Z].pageX=this.touches[Z].clientX=s.clientX,this.touches[Z].pageY=this.touches[Z].clientY=s.clientY;break}if(Z===0?this.movedPrimary=!0:this.movedSecondary=!0,Z==this.touches.length)return;this.changedTouches=[{pointerId:s.pointerId,pageX:s.clientX,pageY:s.clientY,clientX:s.clientX,clientY:s.clientY}],l=this.touches.length?this.touches:this.changedTouches}else l=s.touches,this.changedTouches=s.changedTouches;if(!(l.length==1&&e.withinRadius(this.clicks,{x:l[0].clientX,y:l[0].clientY},"4"^0))&&(m=this.crosshairXOffset,x=this.crosshairYOffset,g=this.currentVectorParameters.vectorType&&this.currentVectorParameters.vectorType!=="",d=!this.layout.crosshair&&!g&&!this.touchNoPan,(s.pointerType=="pen"||d||this.activeDrawing&&this.activeDrawing.name==o)&&(m=x=0),!this.runPrepend("touchmove",arguments))){if(e.ChartEngine.resizingPanel){S=l[0],p=S.clientX,v=S.clientY,i.Z1$(1),this.mousemoveinner(i.p5W(p,m),i.v8U(v,x));return}if(this.moveB!=-1&&(this.touchMoveTime=new Date),this.moveA=this.moveB,this.moveB=l[0].pageX,l.length==1&&!this.twoFingerStart)D=l[0],p=D.clientX,v=D.clientY,this.pinchingScreen=0,i.b1T(1),this.mousemoveinner(i.v8U(p,m),i.v8U(v,x)),y=this.whichPanel(v),b=this.xAxisAsFooter===!0?this.chart.canvasHeight:this.chart.panel.bottom,this.overXAxis=v<=this.top+b&&v>=b-this.xaxisHeight+this.top&&this.insideChart,y?this.overYAxis=(p>=y.right||p<=y.left)&&this.insideChart:this.overYAxis=!1;else if(l.length=="2"*1){if(!this.allowZoom||this.activeDrawing&&!this.allowDrawingZoom||!this.displayCrosshairs)return;w=l[0],A=w.clientX,_=w.clientY,P=l[1],I=P.clientX,O=P.clientY,i.b1T(158),T=Math.sqrt(i.p5W(_,A,O,_,O,I,A,I)),i.b1T(4);var ae=i.p5W(5,15,1);if(this.pinchingCenter=(Math.min(A,I)-Math.max(A,I))/ae,R=Math.round(this.gestureStartDistance-T),d&&(this.pinchingScreen=5),this.clearPixelCache(),this.pinchingScreen<2){if(e.isSurface&&(!this.movedPrimary||!this.movedSecondary))return;if(A<this.pt.x1&&I<this.pt.x2||A>this.pt.x1&&I>this.pt.x2||_<this.pt.y1&&O<this.pt.y2||_>this.pt.y1&&O>this.pt.y2)this.pinchingScreen=0;else if(this.pinchingScreen++,this.pinchingScreen<"2"-0)return}if(this.pt={x1:A,x2:I,y1:_,y2:O},this.pinchingScreen===0){C=555615970,k=-748176398,F=2;for(var te=1;i.m9o(te.toString(),te.toString().length,63257)!==C;te++)this.grabMode="",i.Z1$(12),this.mousemoveinner(i.v8U(m,A),i.v8U(x,_,i.b1T(97))),this.gestureStartDistance=T,F+=2;i.m9o(F.toString(),F.toString().length,90174)!==k&&(this.grabMode="",i.b1T(1),this.mousemoveinner(i.p5W(A,m),i.v8U(_,x,i.b1T(3))),this.gestureStartDistance=T),this.grabMode="pan",i.Z1$(1),this.mousemoveinner(i.v8U(A,m),i.v8U(_,x)),this.gestureStartDistance=T}else if(this.grabStartValues){if(M=Math.asin((Math.max(O,_)-Math.min(O,_))/T),Math.abs(R)<12&&!d){if(this.moveCount++,this.moveCount==4){i.b1T(11),this.pinchingScreen=i.v8U(0,"0"),this.moveCount=0;return}}else this.moveCount=0;if(M<1||!this.goneVertical&&M<1.37){if(!this.currentPanel)return;L=this.currentPanel.chart,this.goneVertical=!1,T=this.pt.x2-this.pt.x1,E=this.grabStartValues.t2-this.grabStartValues.t1||"1"|1,i.Z1$(21);var re=i.v8U(18,16,0);if(H=this.grabStartValues.t1+E/re,i.Z1$(12),N=Math.abs(i.v8U(E,T)),L.allowScrollFuture===!1&&L.allowScrollPast===!1&&(N=Math.max(N,L.width/L.dataSet.length)),j=this.layout.candleWidth,this.setCandleWidth(N,L),L.maxTicks<this.minimumZoomTicks){this.setCandleWidth(j,L);return}this.micropixels=0,W=this.pixelFromTick(Math.round(H),L),i.Z1$(1);var oe=i.v8U(0,2);V=this.pt.x1-this.left+Math.round(T/oe),i.Z1$(11),Y=i.p5W(V,W),i.Z1$(12),Q=i.p5W(N,Y),z=Math.round(Q),L.scroll-=z,i.b1T(11),this.microscroll=i.p5W(Q,z),this.micropixels=N*this.microscroll,this.draw()}else if($=this.grabStartYAxis,this.goneVertical=!0,$){if($.zoom=this.grabStartZoom+(this.gestureStartDistance-T),this.grabStartZoom<$.height)$.zoom>=$.height&&($.zoom=$.height-1);else if($.zoom<=$.height){i.b1T(159);var B=i.v8U(0,3,23,20);$.zoom=$.height+B}this.draw()}this.updateChartAccessories()}}else if(l.length==3&&e.ChartEngine.allowThreeFingerTouch){if(!this.displayCrosshairs)return;K=l[0],q=K.clientX,T=this.grabStartX-q,i.Z1$(30);var G=i.p5W(12,4,5,2);this.grabEndPeriodicity=this.grabStartPeriodicity+Math.round(T/G),this.grabEndPeriodicity<1&&(this.grabEndPeriodicity=1)}this.runAppend(a,arguments)}}}},e.ChartEngine.prototype.touchstart=function(s){var i=ee,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F;if(a="tou",a+="c",a+="hst",a+="art",!e.ChartEngine.ignoreTouch&&(e.isSurface?(this.movedPrimary=!1,this.movedSecondary=!1):(this.touchingEvent&&clearTimeout(this.touchingEvent),this.touching=!0,this.touches=s.touches,this.changedTouches=s.changedTouches),o=this.crosshairXOffset,n=this.crosshairYOffset,i.m30(),this.touchPointerType=="pen"&&(o=n=0),!this.runPrepend(a,arguments))){var{layout:M}=this,{vectorType:L}=this.currentVectorParameters;if(l=M.crosshair&&L!==""||L,this.manageTouchAndMouse&&s&&s.preventDefault&&s.cancelable&&this.captureTouchEvents&&s.preventDefault(),this.hasDragged=!1,this.doubleFingerMoves=0,this.moveCount=0,this.twoFingerStart=!1,this.touches.length==1||this.touches.length==2){if(x="fl",x+="o",x+="ating",this.touchMoveTime=Date.now(),g=this.touches[0],c=g.clientX,f=g.clientY,this.moveA=c,this.moveB=-1,this.openDialog===""&&(this.registerPointerEvent({x:c,y:f,time:this.touchMoveTime},"down"),this.changedTouches.length==1&&(this.clicks={x:this.changedTouches[0].pageX,y:this.changedTouches["0">>0].pageY})),d=this.container.getBoundingClientRect(),this.top=d.top,this.left=d.left,this.right=this.left+this.width,this.bottom=this.top+this.height,this.touches.length==1&&(this.crossXActualPos=this.backOutX(c),this.crossYActualPos=this.backOutY(f),this.currentPanel=this.whichPanel(this.crossYActualPos)),this.currentPanel||(this.currentPanel=this.chart.panel),m=this.currentPanel,c>=this.left&&c<=this.right&&f>=this.top&&f<=this.bottom){this.insideChart=!0,p=this.xAxisAsFooter===!0?this.chart.canvasHeight:this.chart.panel.bottom,this.overXAxis=f<=this.top+p&&f>=this.top+p-this.xaxisHeight,this.overYAxis=c>=this.left+m.right||c<=this.left+m.left,v=-1,this.cy=this.backOutY(f),this.cx=this.backOutX(c),this.crosshairTick=this.tickFromPixel(this.cx,m.chart),this.crosshairValue=this.adjustIfNecessary(m,this.crosshairTick,this.valueFromPixel(this.cy,this.currentPanel));for(var E=0;E<this.drawingObjects.length;E++)if(S=this.drawingObjects[E],S.highlighted){if(v<0&&(v=E),T=S.highlighted,this.findHighlights(!0),E==v&&S.highlighted&&!S.permanent){this.activateRepositioning(S);return}this.anyHighlighted=!0,S.highlighted=T}}else this.insideChart=!1;if(this.insideChart&&!l&&M.headsUp!==x&&!(M.headsUp&&M.headsUp.floating)&&!L&&!this.touchNoPan){o=n=0;var{baselineHelper:H}=this;if(H.size&&this.findBaselineHandle(s,!0))return;if(this.controls.anchorHandles){D=Object.values(this.controls.anchorHandles),y=!1;for(var N="0"<<64;N<D.length;N++){b=D[N];var{handle:j,sd:W}=b;w=this.resolveX(this.cx),A=this.resolveY(this.cy);var{left:V,top:Y,right:Q,bottom:z}=j.getBoundingClientRect();_=this.preferences.highlightsTapRadius,i.Z1$(11),P=e.boxIntersects(i.v8U(_,V),Y,i.v8U(Q,_,i.Z1$(1)),z,w,A,w,A),P&&(this.repositioningAnchorSelector={sd:W},j.classList.add("stx-grab"),y=!0),b.highlighted=P}if(y)return}for(u in this.panels)if(h=this.panels[u],h.highlighted){this.grabHandle(h);return}this.grabbingScreen=!0,this.disableBackingStoreDuringTouch&&this.disableBackingStore(),m.chart.spanLock=!1,this.yToleranceBroken=!1,i.Z1$(1),this.grabStartX=i.p5W(c,o),i.b1T(1),this.grabStartY=i.p5W(f,n),this.grabStartMicropixels=this.micropixels,this.grabStartScrollX=m.chart.scroll,this.grabStartScrollY=m.yAxis.scroll,this.grabStartPanel=this.currentPanel,this.swipeStart&&this.swipeStart(m.chart),this.grabStartYAxis=this.whichYAxis(m,this.backOutX(c)),this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0,setTimeout(function($){return i.m30(),function(){i.m30(),$.grabbingHand()}}(this),100)}else if(this.grabbingScreen=!1,this.insideChart&&m.subholder===s.target&&(I=this.currentVectorParameters.vectorType,e.Drawing&&I&&e.Drawing[I]&&new e.Drawing[I]().dragToDraw)){this.userPointerDown=!0,e.ChartEngine.crosshairX=c,e.ChartEngine.crosshairY=f,m&&m.chart.dataSet&&(this.crosshairTick=this.tickFromPixel(this.backOutX(e.ChartEngine.crosshairX),this.currentPanel.chart),this.crosshairValue=this.adjustIfNecessary(m,this.crosshairTick,this.valueFromPixel(this.backOutY(e.ChartEngine.crosshairY),this.currentPanel))),this.drawingClick(m,this.backOutX(c),this.backOutY(f)),this.headsUpHR();return}this.touches.length==1&&(l?!L&&m.subholder===s.target&&(i.b1T(1),this.mousemoveinner(i.p5W(c,o),i.p5W(f,n))):(this.mouseTimer=Date.now(),this.longHoldTookEffect=!1,(this.longHoldTime||this.longHoldTime==="0"*1)&&this.startLongHoldTimer(($=>(i.r5q(),()=>(i.m30(),r($,c,f))))(this))))}if(this.touches.length==2){if(this.cancelLongHold=!0,this.swipe.end=!0,!this.displayCrosshairs&&!this.touchNoPan||!this.insideChart)return;O=this.touches[1],R=O.clientX,C=O.clientY;for(u in this.panels)if(h=this.panels[u],h.highlighted){this.grabHandle(h);return}m=this.currentPanel,i.Z1$(158),this.gestureStartDistance=Math.sqrt(i.p5W(f,c,C,f,C,R,c,R)),this.pt={x1:c,x2:R,y1:f,y2:C},this.grabbingScreen=!0,this.disableBackingStoreDuringTouch&&this.disableBackingStore(),m.chart.spanLock=!1,i.b1T(1),this.grabStartX=i.p5W(c,o),i.b1T(1),this.grabStartY=i.p5W(f,n),this.grabStartMicropixels=this.micropixels,this.grabStartScrollX=m.chart.scroll,this.grabStartScrollY=m.yAxis.scroll,this.grabStartPanel=m,this.swipeStart&&this.swipeStart(m.chart),this.grabStartCandleWidth=M.candleWidth,this.grabStartYAxis=this.whichYAxis(m,this.backOutX((c+R)/2))||m.yAxis,this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0,this.grabStartPt=this.pt,this.grabStartValues={x1:this.pt.x1,x2:this.pt.x2,y1:this.valueFromPixel(this.pt.y1-this.top,m),y2:this.valueFromPixel(this.pt.y2-this.top,m),t1:this.tickFromPixel(this.pt.x1-this.left,m.chart),t2:this.tickFromPixel(this.pt.x2-this.left,m.chart)},this.twoFingerStart=!0,setTimeout(function($){return i.m30(),function(){$.grabbingHand()}}(this),100)}else if(this.touches.length==3){if(!this.displayCrosshairs)return;k=this.touches[0],F=k.clientX,this.grabStartX=F,this.grabStartPeriodicity=M.periodicity}this.runAppend("touchstart",arguments)}},e.ChartEngine.prototype.touchend=function(s){var i=ee,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T;if(i.r5q(),a="touchen",a+="d",!e.ChartEngine.ignoreTouch&&(this.swipe.end=!0,e.isSurface||(this.touches=s.touches,this.changedTouches=s.changedTouches),!this.runPrepend(a,arguments))){var{touches:D,layout:y}=this,{vectorType:b}=this.currentVectorParameters;if(o=y.crosshair&&b!==""||b,this.cancelLongHold=!0,D.length<=1&&o&&(!D.length||!this.twoFingerStart)&&(this.grabbingScreen=!1),D.length&&(this.grabStartX=-1,this.grabStartY=-1),n=this.pinchingScreen,this.disableBackingStoreDuringTouch&&this.reconstituteBackingStore(),D.length){if(e.ChartEngine.resizingPanel)return}else{if(this.touchingEvent=setTimeout(function(R){return i.m30(),function(){i.r5q(),R.touching=!1}}(this),500),e.ChartEngine.resizingPanel&&(this.releaseHandle(),this.changedTouches.length!==1||this.grabStartY!==this.changedTouches[0].clientY))return;this.pinchingScreen=null,this.pinchingCenter=null,this.goneVertical=!1,this.grabbingScreen=!1,this.grabMode="",this.highlightedDraggable&&(this.dragPlotOrAxis&&this.dragPlotOrAxis(this.cx,this.cy),this.currentPanel=this.whichPanel(this.cy)),this.grabStartYAxis=null,this.displayDragOK(),this.doDisplayCrosshairs(),this.updateChartAccessories()}i.b1T(11);var w=i.p5W(16,17);if(l=D.length+w,this.changedTouches.length===1){if(u=Date.now(),h=this.changedTouches[0],c=this.backOutY(h.pageY)+this.crosshairYOffset,f=this.backOutX(h.pageX)+this.crosshairXOffset,m=this.currentPanel,x=m&&m.subholder===s.target,this.repositioningDrawing){this.changeOccurred("vector"),e.clearCanvas(this.chart.tempCanvas,this),this.activateRepositioning(null),g=-1502057683,d=-1225921190,p=2;for(var A=1;i.D4r(A.toString(),A.toString().length,20729)!==g;A++)this.draw(),p+=2;i.D4r(p.toString(),p.toString().length,72962)!==d&&this.draw(),o||this.findHighlights(!1,!0);return}if(this.repositioningBaseline){v="stx",v+="-grab",this.repositioningBaseline=null,this.controls.baselineHandle.classList.remove(v),S=this.mainSeriesRenderer,S.params.baseline&&S.params.type!="mountain",this.draw();return}if(this.repositioningAnchorSelector){this.repositioningAnchorSelector.hoverTick||(this.repositioningAnchorSelector.hoverTick=this.tickFromPixel(f-this.crosshairXOffset,this.chart)),T=this.repositioningAnchorSelector.sd,e.Studies.repositionAnchor(this,T),this.repositioningAnchorSelector=null,this.controls.anchorHandles[T.uniqueId].highlighted=!1,e.Studies.displayAnchorHandleAndLine(this,T,this.chart.dataSegment),Object.values(this.controls.anchorHandles).forEach(({handle:R})=>R.classList.remove("stx-grab"));return}if(this.openDialog===""&&this.registerPointerEvent({x:h.clientX,y:h.clientY,time:u},"up"),this.isDoubleClick(!0)&&(x||this.overYAxis||this.overXAxis))this.touchDoubleClick(l,this.clicks.x,this.clicks.y),this.resetClickState();else{if(!e.Drawing||!b||!e.Drawing[b]||!new e.Drawing[b]().dragToDraw){i.b1T(8);var _=i.v8U(17,3,49),{up:[P],down:[I]}=this.pointerEvents,O=_;e.withinRadius(I,P,O)&&u-I.time<750&&!this.longHoldTookEffect&&(!this.hasDragged||o)&&setTimeout(this.touchSingleClick(l,this.clicks.x,this.clicks.y),this.doubleClickTime+1)}if(this.userPointerDown=!1,e.Drawing&&this.activeDrawing&&this.activeDrawing.dragToDraw&&x){this.drawingClick(m,f,c);return}}}else this.displayCrosshairs&&this.grabEndPeriodicity!=-1&&!isNaN(this.grabEndPeriodicity)&&((e.ChartEngine.isDailyInterval(this.layout.interval)||this.allowIntradayNMinute)&&this.setPeriodicity({period:this.grabEndPeriodicity,interval:this.layout.interval}),this.grabEndPeriodicity=-1);this.changedTouches.length&&((!o&&!this.currentVectorParameters.vectorType&&l==1||this.twoFingerStart&&!n&&!this.touches.length)&&(this.swipeRelease&&this.swipeRelease(),this.findHighlights(!1,!0)),n&&this.continuousZoom&&(this.continuousZoom.execute(),this.continuousZoom.execute(!0))),D.length||(this.twoFingerStart=!1),this.runAppend("touchend",arguments)}},t=!1,e.ChartEngine.prototype.mousemoveinner=e.ChartEngine.prototype.mousemoveinner||function(s,i){ee.m30();var a;a="touch feature requires activat",a+="ing movement fe",a+="ature.",t||console.error(a),t=!0}};Pa=U=>{var e=ee,t,r;t="und",t+="efin",t+="ed",r=typeof _CIQ!==t?_CIQ:U.CIQ,r.Visualization=r.Visualization||function(s){var i;if(!s){i="CIQ.Visualization() missing attri",i+="butes argument.",console.log(i);return}if(typeof s.renderFunction!="function"){console.log("CIQ.Visualization() missing renderFunction property in attributes.");return}this.container=null,this.attributes=s,this.data=null,this.object=null},e.m30(),r.extend(r.Visualization.prototype,{destroy:function(s){var i;i=this.container||{},r.resizeObserver(i,null,i.resizeHandle),i.autoGenerated?(i.remove(),delete this.container):i.innerHTML="",e.r5q(),!s&&(this.attributes=null,this.container=null,this.data=null,this.object=null,this.destroy=this.draw=this.setAttributes=function(){},this.updateData=function(){})},draw:function(s){var i,a,o,n,l,u,h;function c(f,m){var x,g,d;x=1543313116,g=768050722,e.Z1$(11),e.m30(),d=e.v8U(0,"2");for(var p=1;e.m9o(p.toString(),p.toString().length,15366)!==x;p++)return f.index<=m.index?2:f.index>=m.index?3:4;return e.D4r(d.toString(),d.toString().length,76614)!==g?f.index<=m.index?2:f.index>=m.index?"3"^0:4:f.index<m.index?-1:f.index>m.index?1:0}if(i="st",i+="ri",i+="n",i+="g",!this.data||typeof this.data!="object"){console.log("CIQ.Visualization.draw() missing data.");return}a=this.attributes||{},o=a.document||document,n=a.container||this.container,typeof n===i&&(n=o.querySelector(n)),n||(n=document.createElement("div"),n.style.height=n.style.width="300px",o.body.appendChild(n),n.autoGenerated=!0),a.stx&&(l=a.stx.chart.canvasShim,a.useCanvasShim&&l&&l!==n&&l!==n.parentNode&&(n.autoGenerated||(n=n.cloneNode(),n.id="",n.autoGenerated=!0),l.appendChild(n))),this.container&&this.container!==n&&this.destroy(!0),n.resizeHandle||(u=function(f){return e.r5q(),function(){f.data&&f.container&&o.body.contains(f.container)&&f.draw.call(f,!0)}},n.resizeHandle=r.resizeObserver(n,u(this))),this.container=n,this.attributes=a,a=r.ensureDefaults({container:this.container},this.attributes),h=a.renderFunction(Object.values(this.data).sort(c),a),h&&(a.id&&(h.id=a.id),(s||a.forceReplace)&&(this.container.innerHTML="",this.container.appendChild(h))),this.attributes=a,this.object=h},setAttributes:function(s,i){var a,o,n,l,u;if(a="for",a+="ce",a+="Rep",a+="lace",o="i",o+="d",n=["renderFunction","container","stx","useCanvasShim",o,a],l=!1,u=s,typeof s=="string"&&(u={},u[s]=i),typeof u=="object")for(var h in u)this.attributes[h]!==u[h]&&n.indexOf(h)!==-1&&(l=!0),this.attributes[h]=u[h];this.draw(l)},updateData:function(s,i){var a,o,n,l,u,h,c;a="ad",a+="d",o="u",o+="pd",o+="ate",u=Array.isArray(s)?s.reduce(function(m,x){return e.m30(),m[x.name]=x,m},{}):r.shallowClone(s);for(n in u)h="[obj",h+="ect O",h+="bje",h+="ct]",l=u[n],Object.prototype.toString.call(l)!==h&&(u[n]={value:l}),u[n].name||(u[n].name=n),u[n].value||(u[n].value=0);switch(i||(i="replace"),i.toLowerCase()){case"delete":for(n in u)delete this.data[n];break;case"replace":this.data={};case o:case a:for(n in u){this.data[n]||(this.data[n]={name:n}),l=u[n].value,Object.prototype.toString.call(l)=="[object Number]"?((!this.data[n].value||i=="update")&&(this.data[n].value=0),this.data[n].value+=l):this.data[n].value=l;for(var f in u[n])c="valu",c+="e",f!==c&&(this.data[n][f]=u[n][f])}break;default:console.log("Invalid or missing action.  Valid values are 'add', 'delete', 'replace', or 'update'.")}return this.draw(this.attributes.forceReplace),this}}),r.ChartEngine.prototype.embedVisualization=function(s){return s||(s={}),s.stx=this,s.useCanvasShim=!0,s.translator=function(i){return s.stx.translateIf(i)},e.r5q(),s.document=this.container.ownerDocument,new r.Visualization(s)}};La=U=>{var e=ee;e.m30();var t;t=typeof _CIQ!="undefined"?_CIQ:U.CIQ,t.Studies?(t.Studies.calculateTypicalPrice=function(r,s){var i,a,o,n,l;if(i=s.chart.scrubbed,a=s.days,e.m30(),i.length<a+1){s.overlay||(s.error=!0);return}o=s.name;for(var u in s.outputs)e.Z1$(19),o=e.p5W(" ",u,o);n="hlc/3",s.type=="Med Price"?n="hl/2":s.type=="Weighted Close"&&(n="hlcc/4"),l=0,s.startFrom<=a&&(s.startFrom=0);for(var h=s.startFrom;h<i.length;h++){if(h&&i[h-1][o]){e.b1T(26);var c=e.v8U(15,9,23);l=i[h-c][o]*a}l+=i[h][n],h>=a&&(e.b1T(11),l-=i[e.p5W(a,h)][n],e.b1T(12),i[h][o]=e.p5W(a,l))}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Med Price":{name:"Median Price",calculateFN:t.Studies.calculateTypicalPrice,inputs:{Period:14}}})):console.error("medianPrice feature requires first activating studies feature.")};ee.r5q();Ia=U=>{var e;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.Studies?(e.Studies.calculateRateOfChange=function(t,r){var s=ee,i,a,o,n,l,u,h,c;if(i="C",i+="lose",a=r.chart.scrubbed,a.length<r.days+1){r.error=!0;return}o=r.inputs.Field,(!o||o=="field")&&(o=i),r.parameters.isVolume&&(o="Volume"),n=r.name;for(var f in r.outputs)s.Z1$(19),n=s.p5W(" ",f,n);l=r.inputs["Center Line"],l?l=parseInt(l,10):l=0;for(var m=Math.max(r.startFrom,r.days);m<a.length;m++)u=e.Studies.getQuoteFieldValue(a[m],o,r.subField),h=e.Studies.getQuoteFieldValue(a[m-r.days],o,r.subField),r.type=="Momentum"?(s.Z1$(8),a[m][n]=s.v8U(h,u,l)):(c=h,c&&(s.b1T(160),a[m][n]=s.p5W(100,1,l,u,c)))},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{"Price ROC":{name:"Price Rate of Change",calculateFN:e.Studies.calculateRateOfChange,inputs:{Period:14,Field:"field"}},Momentum:{name:"Momentum Indicator",calculateFN:e.Studies.calculateRateOfChange,inputs:{Period:14},centerline:0}})):console.error("momentum feature requires first activating studies feature.")};Ea=U=>{var e;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.Studies?(e.Studies.initPriceRelative=function(t,r,s,i,a,o){var n,l,u;return n="Comp",n+="arison Symbol",l=e.Studies.initializeFN(t,r,s,i,a,o),u=[l.inputs[n].toUpperCase()],e.Studies.fetchAdditionalInstruments(t,l,u),l},e.Studies.calculatePriceRelative=function(t,r){var s,i,a,o,n,l,u,h;if(s="]",s+="/[",i=r.chart.scrubbed,a=r.inputs["Comparison Symbol"].toUpperCase(),a||(a=r.study.inputs["Comparison Symbol"]),o={},n=t.chart.symbol||"",n=n.replace(/[=+\-*\\%]/g,""),o[n]=i.slice(r.startFrom),ee.m30(),!!o[n].length){n!=a&&(o[a]=null),ee.b1T(98),l=e.computeEquationChart(ee.p5W(n,"[","]",a,s),o),u=0;for(var c=r.startFrom;c<i.length&&u<l.length;c++){for(h="Resul",h+="t ";u<l.length&&i[c].DT.getTime()>l[u].DT.getTime();)u++;i[c].DT.getTime()<l[u].DT.getTime()||(i[c][h+r.name]=l[u].Close,u++)}}},e.Studies.displayVsComparisonSymbol=function(t,r,s){var i,a,o,n,l,u;if(i="R",i+="es",i+="u",i+="lt ",a="Com",a+="parison",a+=" Symbol",o=r.inputs[a].toUpperCase(),!t.getSeries({symbol:o,chart:r.chart}).length){t.displayErrorAsWatermark(r.panel,t.translateIf(r.study.name)+": "+t.translateIf("Not Available"));return}n={skipTransform:t.panels[r.panel].name!=r.chart.name,panelName:r.panel,band:i+r.name,threshold:r.study.centerline,yAxis:r.getYAxis(t),gapDisplayStyle:!0},l=n.yAxis?n.yAxis.flipped:t.panels[r.panel].yAxis.flipped,u=.3,!r.highlight&&t.highlightedDraggable&&(u*=.3);for(var h=s.length-1;h>=0;h--)if(s[h]&&s[h][o]){e.Studies.displaySeriesAsLine(t,r,s),(r.study.centerline||r.study.centerline===0)&&(r.outputs.Gain&&e.preparePeakValleyFill(t,e.extend(n,{direction:l?-1:1,color:e.Studies.determineColor(r.outputs.Gain),opacity:u})),r.outputs.Loss&&e.preparePeakValleyFill(t,e.extend(n,{direction:l?1:-1,color:e.Studies.determineColor(r.outputs.Loss),opacity:u})));return}},e.Studies.fetchAdditionalInstruments=function(t,r,s,i){var a,o,n,l,u,h,c,f;if(!t.quoteDriver){console.log("CIQ.Studies.fetchAdditionalInstruments: No quotefeed to fetch symbol");return}function m(){t.createDataSet(),ee.r5q(),t.draw()}for(a=t.panels[r.panel].chart,r.symbols=s,o=0;o<s.length;o++)u="add",u+="-s",u+="tud",u+="y",h="objec",h+="t",n=l=s[o],typeof l==h?n=l.symbol:l={symbol:n},c={symbol:n,symbolObject:l,bucket:"study",studyName:r.name,chartName:a.name,action:u},e.extend(c,i),f=c.loadData,t.currentlyImporting&&(c.loadData=!1),r.series||(r.series={}),r.series[n]=t.addSeries(null,c,m),r.series[n].parameters.loadData=f},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{"P Rel":{name:"Price Relative",initializeFN:e.Studies.initPriceRelative,seriesFN:e.Studies.displayVsComparisonSymbol,calculateFN:e.Studies.calculatePriceRelative,centerline:0,inputs:{"Comparison Symbol":"SPY"},deferUpdate:!0}})):console.error("priceRelative feature requires first activating studies feature.")};Ha=U=>{var e=ee,t,r,s,i,a,o,n;t=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.r5q(),r=typeof _timezoneJS!="undefined"?_timezoneJS:U.timezoneJS,t.Studies?(s="#8",s+="5c99",s+="e",i="yyyy-mm",i+="-dd",a="#fff6",a+="9e",o="f",o+="ield",n="A",n+="nchored",n+=" VWAP",t.Studies.calculateVWAP=function(l,u){var h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k;if(!(u.parameters.state||{}).interactiveAdd){var{inputs:F,name:M,chart:L}=u,{market:E}=L;if(h=u.type==="AVWAP",c=L.scrubbed,!!c.length){if(!h&&t.ChartEngine.isDailyInterval(l.layout.interval)){u.error="VWAP is Intraday Only";return}if(f="hlc/3",h&&(f=F.Field,(!f||f=="field")&&(m="h",m+="l",m+="c",m+="/3",f=F.Field=m,l.changeOccurred("layout"))),x=null,g=0,d=0,e.b1T(3),p=e.p5W("0",1),v=!1,u.startFrom>("1"|1)&&(S="_V",S+="x",S+="P",S+="2 ",T="_",T+="VxP",T+=" ",g=c[u.startFrom-1]["_V "+M]||0,d=c[u.startFrom-1][T+M]||0,p=c[u.startFrom-1][S+M]||0),h){var{market_tz:H}=E.market_def||{},[,N,j,W]=(F["Anchor Date"]||"").match(/^(\d{4})-?(\d{2})-?(\d{2})$/)||[];e.Z1$(15);var[,V=ee.p5W(0,"0"),Y=0,Q=0]=(F["Anchor Time"]||"").match(/^(\d{2}):?(\d{2}):?(\d{2})?$/)||[];if(![N,j,W].every(X=>(e.m30(),X||X===0))){u.error="Invalid Anchor Date";return}e.Z1$(11),D=new r.Date(N,e.v8U(1,j),W,V,Y,Q,H||""),!u.startFrom&&D>=c[0].DT&&(u.startFrom=l.tickFromDate(D,l.chart,null,!0)),F["Anchor Selector"]?t.Studies.initAnchorHandle(l,u):t.Studies.removeAnchorHandle(l,u)}for(var z=u.startFrom;z<c.length;z++)if(y="V",y+="W",y+="A",y+="P ",b="_SD",b+="V",b+="WAP",b+=" ",h||(x===null&&(x=t.Studies.getMarketOffset({stx:l,localQuoteDate:c[z].DT,shiftToDateBoundary:!0})),c[z-1]&&c[z-1].DT&&(w=new Date(new Date(+c[z].DT).setMilliseconds(c[z].DT.getMilliseconds()+x)),A=new Date(new Date(+c[z-1].DT).setMilliseconds(c[z-1].DT.getMilliseconds()+x)),A.getDate()!==w.getDate()&&l.chart.market.isMarketDate(w)&&(x=null,g=d=p=0))),_=c[z][f],P=c[z].Volume,h&&!P&&(P=1),g+=P,e.Z1$(3),d+=e.p5W(P,_),e.b1T(161),p+=e.v8U(_,_,P),!(!h&&!g)){e.b1T(1),c[z][e.v8U("_V ",M)]=g,e.Z1$(1),c[z][e.p5W("_VxP ",M)]=d,e.b1T(1),c[z][e.v8U("_VxP2 ",M)]=p,e.Z1$(1),I=c[z][e.v8U(b,M)]=Math.sqrt(Math.max(0,p/g-Math.pow(d/g,2))),e.Z1$(1),O=c[z][e.v8U(y,M)]=e.p5W(g,d,e.b1T(12));for(var $=1;$<=3;$++)R="+",R+=" ",e.b1T(0),c[z][e.v8U(R,"SDVWAP",$,M)]=e.p5W(I,O,$,e.Z1$(51)),e.Z1$(0),c[z][e.v8U("- ","SDVWAP",$,M)]=e.v8U(O,$,I,e.Z1$(162));v=!0}for(var K in u.outputMap)K.indexOf("VWAP")!==0&&delete u.outputMap[K];for(var q=1;q<=3;q++)F["Display "+q+" Standard Deviation ("+q+"σ)"]&&(C="σ",C+=")",k="SDVW",k+="AP",e.Z1$(0),u.outputMap[e.p5W("+ ",k,q,M)]=e.v8U(q,q," Standard Deviation (",C),e.b1T(0),u.outputMap[e.v8U("- ","SDVWAP",q,M)]=e.v8U(q,q," Standard Deviation (","σ)"));e.r5q(),!h&&!v&&(u.error="VWAP Requires Volume")}}},t.Studies.initAnchoredVWAP=function(l,u,h,c,f,m){var x,g,d,p,v,S,T,D;x="Anchor",x+=" Time",f.state||(f.state={});var{interactiveAdd:y,interactiveAddCB:b,state:w}=f;if(g=!(h["Anchor Date"]||h[x]),g&&(w.interactiveAdd||l.repositioningAnchorSelector))return d="a",d+="bo",d+="r",d+="t",d;var{dataSegment:A}=l.chart;if(A&&g&&!y){for(var _=0;_<A.length;_++)if(A[_]){p="HH:",p+="mm",p+=":ss",v="An",v+="c",v+="hor ",v+="Date";var{DT:P}=A[_];h[v]=t.dateToStr(P,"YYYY-MM-dd"),h["Anchor Time"]=t.dateToStr(P,p);break}}return g&&y?w.interactiveAdd=!0:(delete w.interactiveAdd,delete f.interactiveAdd,b&&setTimeout(b)),S=t.Studies.initializeFN(l,u,h,c,f,m),w.interactiveAdd?(T="no",T+="tificat",T+="io",T+="n",l.repositioningAnchorSelector={sd:S,tapToAdd:!0},l.dispatch(T,"addAVWAP")):(D="noti",D+="fica",D+="tion",l.dispatch(D,"removeAVWAP")),S},t.Studies.displayVWAP=function(l,u,h){var c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_;if(c="Disp",c+="lay 3 Standard Deviation",c+=" (3σ)",f="Displa",f+="y 1 Standard",f+=" Deviation (1σ)",!h||!h[0]){t.Studies.removeAnchoredVWAP(l,u);return}if(t.Studies.displaySeriesAsLine(l,u,h),m=u.inputs[f],x=u.inputs["Display 2 Standard Deviation (2σ)"],e.r5q(),g=u.inputs[c],(m||x||g)&&u.inputs.Shading){if(d="VW",d+="A",d+="P",d+=" ",p=l.panels[u.panel],v={opacity:u.parameters.opacity?u.parameters.opacity:.2,skipTransform:p.name!=u.chart.name,yAxis:u.getYAxis(l)},!u.highlight&&l.highlightedDraggable&&(v.opacity*=.3),S=d+u.name,T="VWAP "+u.name,m){D="SDV",D+="WAP1- ",y="SDVW",y+="AP1+ ",t.prepareChannelFill(l,t.extend({panelName:u.panel,topBand:y+u.name,bottomBand:S,color:t.Studies.determineColor(u.outputs[u.outputMap["SDVWAP1+ "+u.name]])},v)),t.prepareChannelFill(l,t.extend({panelName:u.panel,topBand:"SDVWAP1- "+u.name,bottomBand:T,color:t.Studies.determineColor(u.outputs[u.outputMap["SDVWAP1- "+u.name]])},v)),S="SDVWAP1+ "+u.name,b=-1361571993,w=-1775573468,A=2;for(var P=1;e.D4r(P.toString(),P.toString().length,62702)!==b;P++)T=""-u.name,A+=2;e.D4r(A.toString(),A.toString().length,52173)!==w&&(T=""+u.name),T=D+u.name}x&&(_="S",_+="DVWA",_+="P2+ ",t.prepareChannelFill(l,t.extend({panelName:u.panel,topBand:_+u.name,bottomBand:S,color:t.Studies.determineColor(u.outputs[u.outputMap["SDVWAP2+ "+u.name]])},v)),t.prepareChannelFill(l,t.extend({panelName:u.panel,topBand:"SDVWAP2- "+u.name,bottomBand:T,color:t.Studies.determineColor(u.outputs[u.outputMap["SDVWAP2- "+u.name]])},v)),S="SDVWAP2+ "+u.name,T="SDVWAP2- "+u.name),g&&(t.prepareChannelFill(l,t.extend({panelName:u.panel,topBand:"SDVWAP3+ "+u.name,bottomBand:S,color:t.Studies.determineColor(u.outputs[u.outputMap["SDVWAP3+ "+u.name]])},v)),t.prepareChannelFill(l,t.extend({panelName:u.panel,topBand:"SDVWAP3- "+u.name,bottomBand:T,color:t.Studies.determineColor(u.outputs[u.outputMap["SDVWAP3- "+u.name]])},v)))}(u.anchorHandle||(u.parameters.state||{}).interactiveAdd)&&t.Studies.displayAnchorHandleAndLine(l,u,h)},t.Studies.removeAnchoredVWAP=function(l,u){l.dispatch("notification","removeAVWAP"),t.Studies.removeAnchorHandle(l,u)},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{AVWAP:{name:n,overlay:!0,calculateFN:t.Studies.calculateVWAP,seriesFN:t.Studies.displayVWAP,initializeFN:t.Studies.initAnchoredVWAP,removeFN:t.Studies.removeAnchoredVWAP,inputs:{Field:o,"Anchor Date":"","Anchor Time":"","Display 1 Standard Deviation (1σ)":!1,"Display 2 Standard Deviation (2σ)":!1,"Display 3 Standard Deviation (3σ)":!1,Shading:!1,"Anchor Selector":!0},outputs:{VWAP:"#FF0000","1 Standard Deviation (1σ)":"#e1e1e1","2 Standard Deviation (2σ)":"#85c99e","3 Standard Deviation (3σ)":a},parameters:{init:{opacity:.2,interactiveAdd:!0}},attributes:{"Anchor Date":{placeholder:i},"Anchor Time":{placeholder:"hh:mm:ss",step:1}}},VWAP:{name:"VWAP",overlay:!0,calculateFN:t.Studies.calculateVWAP,seriesFN:t.Studies.displayVWAP,inputs:{"Display 1 Standard Deviation (1σ)":!1,"Display 2 Standard Deviation (2σ)":!1,"Display 3 Standard Deviation (3σ)":!1,Shading:!1},outputs:{VWAP:"#FF0000","1 Standard Deviation (1σ)":"#e1e1e1","2 Standard Deviation (2σ)":s,"3 Standard Deviation (3σ)":"#fff69e"},parameters:{init:{opacity:.2}}}})):console.error("vwap feature requires first activating studies feature.")};Oa=U=>{var e=ee;e.r5q();var t,r,s;t="un",t+="de",t+="f",t+="ined",r=typeof _CIQ!==t?_CIQ:U.CIQ,r.Studies?(r.Studies.calculateZigZag=function(i,a){var o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P;if(o="_s",o+="ta",o+="te",o+=" ",n="L",n+="o",n+="w",l="R",l+="esult ",u=a.chart.scrubbed,!u||!u.length)return;h=a.highLowChart,c=null,f=null,m=a.inputs["Distance(%)"],x=0,g=0,d=0,p=null,v=null,S=0;for(var I=Math.min(u.length-1,a.startFrom);I>="0">>32;I--)if(S=I,u[I]["_state "+a.name]){T=u[I]["_state "+a.name],c=T[0],f=T[1],x=T[2],g=T[3],d=T[4],e.Z1$(15),p=T[e.p5W(1,"5")],v=T[6];break}for(var O=S;O<u.length;O++){if(D="C",D+="l",D+="o",D+="se",y=u[O][h?"High":"Close"],b=u[O][h?"Low":D],f===null||f<y)if(f=y,x<0&&(c=b),e.b1T(163),p=e.v8U(1,100,m,f),x>-1){if(v!==null&&f>v){w="Clo",w+="s",w+="e",u[g]["Result "+a.name]=u[g][h?"Low":w],R(d,g),x=-1,c=b,d=g,g=O;continue}}else g=O;if(c===null||c>b)if(c=b,x>0&&(f=y),e.b1T(164),v=e.v8U(c,m,100,"1"),x<1){if(p!==null&&c<p){A="Clos",A+="e",u[g]["Result "+a.name]=u[g][h?"High":A],R(d,g),x=1,f=y,d=g,g=O;continue}}else g=O}function R(k,F){e.m30();for(var M,L=k+1;L<F;L++)M="Re",M+="s",M+="ul",M+="t ",u[L]["ShadowResult "+a.name]=(u[F]["Result "+a.name]-u[k][M+a.name])*(L-k)/(F-k)+u[k]["Result "+a.name],delete u[L]["Result "+a.name]}u[g][l+a.name]=u[g][h?x==1?n:"High":"Close"],u[g][o+a.name]=[c,f,x,g,d,p,v],R(d,g),e.Z1$(165);var C=e.p5W(17,20,14,7,0);for(_=u.length-C;_>g;){if(u[_].Close||u[_].Close===0){P="Lo",P+="w",u[_]["Result "+a.name]=u[_][h?x==1?"High":P:"Close"];break}_--}R(g,_)},r.Studies.displayZigZag=function(i,a,o){var n,l,u,h,c,f,m,x,g,d,p,v;n="Sha",n+="d",n+="owR",n+="esult ",e.r5q(),l=i.chart.highLowBars,a.highLowChart!=l&&(a.highLowChart=l,a.startFrom=0,a.study.calculateFN(i,a)),u=i.chart;for(var S=0;S<o.length;S++)h=o[S],h&&(c="Resul",c+="t ",h["_shadowCopy "+a.name]&&(f="_sha",f+="dowC",f+="o",f+="py ",delete h["Result "+a.name],delete h[f+a.name]),h[c+a.name]||(m="Resu",m+="l",m+="t ",h.transform&&delete h.transform[m+a.name]));x=o[0],e.b1T(80);var T=e.v8U(2,12,22,14,4);g=o[o.length-T],x&&x[n+a.name]&&(d="R",d+="es",d+="ult ",x["Result "+a.name]=x["ShadowResult "+a.name],x.transform&&(x.transform[d+a.name]=u.transformFunc(i,u,x["ShadowResult "+a.name])),x["_shadowCopy "+a.name]=1),g&&g["ShadowResult "+a.name]&&(p="_sh",p+="adowCopy ",v="Sha",v+="dowResult ",g["Result "+a.name]=g["ShadowResult "+a.name],g.transform&&(g.transform["Result "+a.name]=u.transformFunc(i,u,g[v+a.name])),g[p+a.name]=1),r.Studies.displaySeriesAsLine(i,a,o)},r.Studies.studyLibrary=r.extend(r.Studies.studyLibrary,{ZigZag:{name:"ZigZag",overlay:!0,seriesFN:r.Studies.displayZigZag,calculateFN:r.Studies.calculateZigZag,inputs:{"Distance(%)":10},parameters:{init:{label:!1}},attributes:{"Distance(%)":{min:.1,step:.1}}}})):(s="zigzag feature requires ",s+="fi",s+="rst activating studies feature.",console.error(s))};Na={CIQ:Yt,SplinePlotter:na,timezoneJS:sa,$$:oa,$$$:la};function un(){return"Z2G%1F0)V.O%3Eer%14yH3*%02%5B+Da8!X'Y#-%3CQ/%11.;;@yi%0A%1By%03r%1E%0E%15%1B%0F%0EC9;&G'%04.?%25D'X%09;)XyG?*:%5D!Y%192!Q,%5Ea;&U%20F?:sU%20Ya2'S%0FO.,!W1%11%3E1%25U+D)e$%5B%25%11%3E1+A/O4*sP'L30-d0E*;:@;%1121;@,K7;sF'L?,:Q0%11?&8%5D0O)e.F#G?%12'W)C49sw%12okix%00%16a%09e8U!A;9-%7D,L5e8A1Ba%3C!g3_;,-y7F.e*%5D,Na6:Q$%11=;%3Cx+I?0;Q%09O#e;%5B7X9;sF'L?,:Q0%1192!Q,%5E%13:sY#Za-'F6%11%2078%0F1Z67%3C%0F0O%3E++QyY53-%0F#D9;;@-X%15,!S+D)e?U6O(3)F)%11te!Z!F/:-GyM?*%04%5D!O4--%7F'Sass@-y.,!Z%25%1161+U6C50sZ-%5Da;&@0C?-sy%03r%05%0D%09r%07u%13%10%1Cq%05o%08e,Q$C4;%18F-Z?,%3CMy%11*?+_#M?%17&R-%11%059-@yZ;,;Qy~%0E%12sC#%5E?,%25U0Aa3-@0C9-%0BX+O4*sW*K(%1D'P'k.ee%0F)O#8!X'%7C?,;%5D-Da.$A%25C4-sX'D=*%20%0Fs%04jpx%0F%20C%09/=U0O%17+$@yG?*:%5D!Y%192!Q,%5E"}(typeof __TREE_SHAKE__===pi||!__TREE_SHAKE__)&&Na.CIQ.activateImports(ua,ha,ca,fa,da,pa,ga,ma,xa,ya,va,ba,Ca,Sa,ka,wa,Da,Aa,Ta,Fa,_a,Ma,Pa,La,Ia,Ea,Ha,Oa,null);se[237008]=function(){for(var U=2;U!==9;)switch(U){case 5:var e;try{for(var t=2;t!==6;)switch(t){case 3:throw"";case 4:t=typeof z72Q2=="undefined"?3:9;break;case 1:e=Xpx2S,e.z72Q2=e,t=4;break;case 2:Object.defineProperty(Object.prototype,"Xpx2S",{get:function(){return this},configurable:!0}),t=1;break;case 9:delete e.z72Q2;var r=Object.prototype;delete r.Xpx2S,t=6;break}}catch(s){e=window}return e;case 1:return globalThis;case 2:U=typeof globalThis=="object"?1:5;break}}();se.U4jjp=cn;hn(se[237008]);se[226077]=function(){for(var U=2;U!==5;)switch(U){case 2:var e={s8tLYIA:function(t){for(var r=2;r!==17;)switch(r){case 13:a+=n(l(h)^u(c)),r=12;break;case 2:var s=se,i=function(g){for(var d=2;d!==11;)switch(d){case 4:var p=0;d=3;break;case 1:var v=se.G7(),S=[];d=4;break;case 6:D=se.H8(se.w_(S,function(){for(var b=2;b!==1;)switch(b){case 2:return .5-v()}}),""),d=14;break;case 3:d=p<g.length?9:7;break;case 14:y=s[D],d=13;break;case 8:p++,d=3;break;case 2:var T=se.K$();d=1;break;case 13:d=y?12:6;break;case 12:return y;case 7:var D,y;d=6;break;case 9:S[p]=T(g[p]+76),d=8;break}},a="",o=se.y4()(i([30,30,-24,36,9])()),n=se.K$(),l=se.n4().bind(o);r=9;break;case 12:h++,c++,r=7;break;case 9:var u=se.n4().bind(t);r=8;break;case 11:a=se.J0(a,"@"),r=10;break;case 14:c=0,r=13;break;case 8:var h=0,c=0;r=7;break;case 7:r=h<o.length?6:11;break;case 10:var f=0,m=function(g){for(var d=2;d!==23;)switch(d){case 26:d=25;break;case 11:d=f===3&&g===11?10:19;break;case 9:return f;case 24:return x(g);case 1:return x(g);case 15:f+=1,d=27;break;case 27:se.P$(se.i_(),a,se.T0(se.T0(a,-3,3),0,2)),d=9;break;case 16:d=f===5&&g===49?15:26;break;case 4:f+=1,d=3;break;case 2:d=f===6?1:5;break;case 8:d=f===1&&g===30?7:14;break;case 7:f+=1,d=6;break;case 6:se.P$(se.i_(),a,se.T0(se.T0(a,-5,5),0,3)),d=9;break;case 13:f+=1,d=12;break;case 3:se.P$(se.i_(),a,se.T0(se.T0(a,-9,9),0,7)),d=9;break;case 14:d=f===2&&g===14?13:11;break;case 19:d=f===4&&g===51?18:16;break;case 10:f+=1,d=20;break;case 20:se.P$(se.i_(),a,se.T0(se.T0(a,-8,8),0,6)),d=9;break;case 5:d=f===0&&g===25?4:8;break;case 12:se.P$(se.i_(),a,se.T0(se.T0(a,-9,9),0,8)),d=9;break;case 18:f+=1,d=17;break;case 25:e.s8tLYIA=x,d=24;break;case 17:se.P$(se.i_(),a,se.T0(se.T0(a,-4,4),0,3)),d=9;break}},x=function(g){for(var d=2;d!==1;)switch(d){case 2:return a[g]}};return m;case 6:r=c===t.length?14:13;break}}("UOLZZB")};return e}}();se.W2=function(){return typeof se[226077].s8tLYIA=="function"?se[226077].s8tLYIA.apply(se[226077],arguments):se[226077].s8tLYIA};se.Y4=function(){return typeof se[226077].s8tLYIA=="function"?se[226077].s8tLYIA.apply(se[226077],arguments):se[226077].s8tLYIA};var Wt=2;for(;Wt!==13;)switch(Wt){case 4:se.A$=60,Wt=3;break;case 5:Wt=se.W2(14)>38?4:3;break;case 1:se.w7=21,Wt=5;break;case 8:Wt=se.W2(51)!==14?7:6;break;case 7:se.r8=54,Wt=6;break;case 2:Wt=se.Y4(25)===se.Y4(30)?1:5;break;case 3:Wt=se.W2(11)>24?9:8;break;case 9:se.z9=27,Wt=8;break;case 14:se.d3=92,Wt=13;break;case 6:Wt=se.Y4(49)==91?14:13;break}se.j4$=function(){return typeof se[172322].A0J5MGg=="function"?se[172322].A0J5MGg.apply(se[172322],arguments):se[172322].A0J5MGg};function se(){}se[172322]=function(){for(var U=2;U!==9;)switch(U){case 2:var e=[arguments];return e[2]=void 0,e[3]={},e[3].A0J5MGg=function(){for(var t=2;t!==90;)switch(t){case 58:r[27]=0,t=57;break;case 34:r[33]={},r[33].T6P=["k2e"],r[33].X1S=function(){var s=function(){return decodeURI("%25")},i=!se.z75(/\062\x35/,s+[]);return i},r[11]=r[33],t=30;break;case 65:r[71]=[],r[38]="S53",r[14]="u52",r[64]="T6P",r[45]="h5X",r[36]="X1S",r[96]="J0z",t=58;break;case 24:r[30]=r[41],r[67]={},r[67].T6P=["a3j"],r[67].X1S=function(){var s=typeof se.p4s()=="function";return s},r[61]=r[67],t=34;break;case 50:se.z4d(r[7],r[55]),se.z4d(r[7],r[2]),se.z4d(r[7],r[4]),se.z4d(r[7],r[11]),se.z4d(r[7],r[61]),se.z4d(r[7],r[5]),t=65;break;case 71:r[42]++,t=76;break;case 77:r[42]=0,t=76;break;case 72:se.z4d(r[71],r[56]),t=71;break;case 57:t=r[27]<r[7].length?56:69;break;case 38:r[85].T6P=["k2e"],r[85].X1S=function(){var s=function(){return"X".toLocaleLowerCase()},i=se.z75(/\170/,s+[]);return i},r[18]=r[85],se.z4d(r[7],r[30]),se.z4d(r[7],r[12]),se.z4d(r[7],r[18]),se.z4d(r[7],r[9]),t=50;break;case 67:return e[2]=72,18;case 69:t=function(s){for(var i=2;i!==22;)switch(i){case 23:return a[5];case 7:i=a[1]<a[0][0].length?6:18;break;case 2:var a=[arguments];i=1;break;case 25:a[5]=!0,i=24;break;case 11:a[6][a[2][r[96]]].t+=!0,i=10;break;case 10:i=a[2][r[45]]===r[38]?20:19;break;case 14:i=typeof a[6][a[2][r[96]]]=="undefined"?13:11;break;case 6:a[2]=a[0][0][a[1]],i=14;break;case 17:a[1]=0,i=16;break;case 1:i=a[0][0].length===0?5:4;break;case 24:a[1]++,i=16;break;case 5:return;case 4:a[6]={},a[7]=[],a[1]=0,i=8;break;case 20:a[6][a[2][r[96]]].h+=!0,i=19;break;case 16:i=a[1]<a[7].length?15:23;break;case 19:a[1]++,i=7;break;case 12:se.z4d(a[7],a[2][r[96]]),i=11;break;case 13:a[6][a[2][r[96]]]=se.P$(function(){for(var o=2;o!==9;)switch(o){case 5:return n[1].h=0,n[1].t=0,n[1];case 2:var n=[arguments];n[1]={},o=5;break}},this,arguments),i=12;break;case 8:a[1]=0,i=7;break;case 15:a[8]=a[7][a[1]],a[9]=a[6][a[8]].h/a[6][a[8]].t,i=26;break;case 18:a[5]=!1,i=17;break;case 26:i=a[9]>=.5?25:24;break}}(r[71])?68:67;break;case 15:r[5]=r[8],r[41]={},r[41].T6P=["k2e"],r[41].X1S=function(){var s=function(){return decodeURIComponent("%25")},i=!se.z75(/\x32\x35/,s+[]);return i},t=24;break;case 19:r[9]=r[1],r[8]={},r[8].T6P=["k2e"],r[8].X1S=function(){var s=function(){return"aaaa|a".substr(0,3)},i=!se.z75(/\u007c/,s+[]);return i},t=15;break;case 75:r[56]={},r[56][r[96]]=r[60][r[64]][r[42]],r[56][r[45]]=r[24],t=72;break;case 41:r[74].X1S=function(){var s=typeof se.G4J()=="function";return s},r[55]=r[74],r[85]={},t=38;break;case 12:r[2]=r[6],r[1]={},r[1].T6P=["k2e"],r[1].X1S=function(){var s=function(){return"aa".endsWith("a")},i=se.z75(/\u0074\u0072\x75\145/,s+[]);return i},t=19;break;case 76:t=r[42]<r[60][r[64]].length?75:70;break;case 6:r[6]={},r[6].T6P=["k2e"],r[6].X1S=function(){var s=function(){return unescape("%3D")},i=se.z75(/\075/,s+[]);return i},t=12;break;case 70:r[27]++,t=57;break;case 4:r[7]=[],r[3]={},r[3].T6P=["a3j"],r[3].X1S=function(){var s=!1,i=[];try{for(var a in console)se.z4d(i,a);s=i.length===0}catch(n){}var o=s;return o},r[4]=r[3],t=6;break;case 68:t=68;break;case 5:return 94;case 1:t=e[2]?5:4;break;case 30:r[93]={},r[93].T6P=["a3j"],r[93].X1S=function(){var s=typeof se.r3J()=="function";return s},r[12]=r[93],t=43;break;case 2:var r=[arguments];t=1;break;case 43:r[74]={},r[74].T6P=["a3j"],t=41;break;case 56:r[60]=r[7][r[27]];try{r[24]=r[60][r[36]]()?r[38]:r[14]}catch(s){r[24]=r[14]}t=77;break}},e[3]}}();function hn(U){function e(h){for(var c=2;c!==5;)switch(c){case 2:var f=[arguments];return f[0][0].Array}}function t(h){for(var c=2;c!==5;)switch(c){case 2:var f=[arguments];return f[0][0]}}function r(h){for(var c=2;c!==5;)switch(c){case 2:var f=[arguments];return f[0][0].RegExp}}for(var s=2;s!==108;)switch(s){case 48:a[42]+=a[49],a[42]+=a[11],a[80]=a[57],a[80]+=a[43],s=65;break;case 72:a[90]=a[25],a[90]+=a[18],a[90]+=a[65],a[44]=a[79],s=68;break;case 21:a[18]="7",a[79]="T",a[25]="z",a[54]="",a[54]="G",a[95]="d",a[65]="5",s=29;break;case 29:a[23]="al",a[98]="_",a[43]="du",a[93]="s",s=42;break;case 17:a[10]="H",a[81]="",a[53]="K",a[81]="ptim",s=26;break;case 96:i(t,"Math",a[73],a[68],a[73]),s=95;break;case 68:a[44]+=a[5],a[22]=a[3],a[22]+=a[9],a[21]=a[94],s=89;break;case 89:a[21]+=a[98],a[87]=a[11],a[87]+=a[5],a[40]=a[8],a[40]+=a[62],a[17]=a[4],s=83;break;case 110:i(t,a[76],a[73],a[97],a[73]),s=109;break;case 11:a[3]="P",a[5]="0",a[1]="",a[20]="w",a[1]="ize",s=17;break;case 97:var i=function(h,c,f,m,x){for(var g=2;g!==5;)switch(g){case 2:var d=[arguments];l(a[0][0],d[0][0],d[0][1],d[0][2],d[0][3],d[0][4]),g=5;break}};s=96;break;case 8:a[9]="",a[6]="8",a[8]="n",a[9]="$",a[4]="y",a[3]="",s=11;break;case 92:i(t,"String",a[73],a[15],a[73]),s=91;break;case 65:a[80]+=a[23],a[97]=a[54],a[97]+=a[62],a[97]+=a[11],s=61;break;case 53:a[49]="3",a[61]=8,a[61]=1,a[73]=0,a[42]=a[13],s=48;break;case 111:i(e,"push",a[61],a[38],a[73]),s=110;break;case 57:a[38]+=a[62],a[38]+=a[95],a[46]=a[72],a[46]+=a[62],s=76;break;case 2:var a=[arguments];a[7]="",a[7]="9",a[2]="",a[2]="k",a[9]="",s=8;break;case 113:i(r,"test",a[61],a[90],a[73]),s=112;break;case 114:i(e,"splice",a[61],a[44],a[73]),s=113;break;case 83:a[17]+=a[62],a[64]=a[53],a[64]+=a[9],a[15]=a[2],a[15]+=a[49],a[24]=a[10],s=104;break;case 100:a[37]+=a[18],a[68]=a[72],a[68]+=a[7],s=97;break;case 38:a[57]="__resi",a[11]="",a[11]="J",a[13]="r",s=53;break;case 119:i(t,"decodeURI",a[73],a[17],a[73]),s=118;break;case 115:i(u,"apply",a[61],a[22],a[73]),s=114;break;case 109:i(t,a[80],a[73],a[42],a[73]),s=108;break;case 42:a[75]="act",a[72]="p",a[57]="",a[62]="4",s=38;break;case 91:i(o,"fromCharCode",a[73],a[64],a[73]),s=119;break;case 76:a[46]+=a[93],a[78]=a[99],a[78]+=a[81],a[78]+=a[1],s=72;break;case 112:i(t,a[78],a[73],a[46],a[73]),s=111;break;case 104:a[24]+=a[6],a[55]=a[20],a[55]+=a[98],a[37]=a[54],s=100;break;case 118:i(o,"charCodeAt",a[61],a[40],a[73]),s=117;break;case 117:i(o,"split",a[61],a[87],a[73]),s=116;break;case 94:i(e,"sort",a[61],a[55],a[73]),s=93;break;case 93:i(e,"join",a[61],a[24],a[73]),s=92;break;case 116:i(e,"unshift",a[61],a[21],a[73]),s=115;break;case 95:i(n,"random",a[73],a[37],a[73]),s=94;break;case 26:a[99]="",a[94]="i",a[99]="__o",a[92]="",a[92]="_abstr",s=21;break;case 61:a[76]=a[98],a[76]+=a[92],a[76]+=a[75],a[38]=a[25],s=57;break}function o(h){for(var c=2;c!==5;)switch(c){case 2:var f=[arguments];return f[0][0].String}}function n(h){for(var c=2;c!==5;)switch(c){case 2:var f=[arguments];return f[0][0].Math}}function l(h,c,f,m,x,g){for(var d=2;d!==7;)switch(d){case 2:var p=[arguments];p[8]="",p[8]="erty",p[5]="definePro",p[1]=!0,p[1]=!1;try{for(var v=2;v!==11;)switch(v){case 8:v=p[0][5]!==a[73]?7:6;break;case 2:p[6]={},p[4]=(0,p[0][1])(p[0][0]),p[9]=[p[4],p[4].prototype][p[0][3]],p[2]=p[0][5]===a[73]?se:p[9],v=3;break;case 6:p[6].set=function(T){for(var D=2;D!==5;)switch(D){case 2:var y=[arguments];p[9][p[0][2]]=y[0][0],D=5;break}},p[6].get=function(){for(var T=2;T!==20;)switch(T){case 13:return function(){for(var y=2;y!==14;)switch(y){case 6:return p[9][p[0][2]];case 8:b[2]=arguments[a[73]]===b[1]||arguments[a[73]]===void 0?p[4]:arguments[a[73]],y=7;break;case 3:y=p[0][3]===a[73]?9:8;break;case 7:return b[2][p[0][2]].apply(b[2],Array.prototype.slice.call(arguments,a[61]));case 9:return p[9][p[0][2]].apply(p[4],arguments);case 2:var b=[arguments];b[1]=1,b[1]=null,y=4;break;case 4:y=arguments.length>a[73]?3:6;break}};case 14:T=p[0][5]===a[73]?13:12;break;case 2:var D=[arguments];D[9]="ed",D[1]="",D[1]="fin",D[7]="",D[7]="unde",D[5]=D[7],T=7;break;case 11:return;case 10:return p[9][p[0][2]];case 12:T=typeof p[9][p[0][2]]==D[5]?11:10;break;case 7:D[5]+=D[1],D[5]+=D[9],T=14;break}},p[6].enumerable=p[1];try{for(var S=2;S!==3;)switch(S){case 2:p[7]=p[5],p[7]+=a[72],p[7]+=p[8],S=4;break;case 4:p[0][0].Object[p[7]](p[2],p[0][4],p[6]),S=3;break}}catch(T){}v=11;break;case 3:v=p[9].hasOwnProperty(p[0][4])&&p[9][p[0][4]]===p[9][p[0][2]]?9:8;break;case 7:p[9][p[0][4]]=p[9][p[0][2]],v=6;break;case 9:return}}catch(T){}d=7;break}}function u(h){for(var c=2;c!==5;)switch(c){case 2:var f=[arguments];return f[0][0].Function}}}se[237008].o1pp=se;se.Z1=function(){return typeof se[52325].G5b3Rvm=="function"?se[52325].G5b3Rvm.apply(se[52325],arguments):se[52325].G5b3Rvm};se[52325]=function(){for(var U=2;U!==1;)switch(U){case 2:return{G5b3Rvm:function(){}}}}();se[441611]="Dkw";se.M0S=function(){return typeof se[376954].Y8rlfG1=="function"?se[376954].Y8rlfG1.apply(se[376954],arguments):se[376954].Y8rlfG1};se.h0=function(){return typeof se[351196].G5b3Rvm=="function"?se[351196].G5b3Rvm.apply(se[351196],arguments):se[351196].G5b3Rvm};se.S59=function(){return typeof se[287683].c9DQQSZ=="function"?se[287683].c9DQQSZ.apply(se[287683],arguments):se[287683].c9DQQSZ};se.F8=function(){return typeof se[52325].G5b3Rvm=="function"?se[52325].G5b3Rvm.apply(se[52325],arguments):se[52325].G5b3Rvm};se[287683]=function(U){return{c9DQQSZ:function(){var e,t=arguments;switch(U){case 128:e=(-t[1]-t[0])*t[4]-t[2]+t[3];break;case 186:e=-t[0]*t[2]/t[4]+t[1]-t[3];break;case 12:e=t[0]+t[2]-t[1]-t[3];break;case 44:e=(t[3]+t[1])/t[2]-t[0];break;case 63:e=t[0]-t[2]+t[4]+t[3]-t[1];break;case 23:e=t[1]*t[3]/t[2]-t[0];break;case 8:e=t[0]+t[1];break;case 177:e=-t[1]+t[0]-t[2]+t[3];break;case 184:e=t[1]+t[0]/+t[3]+t[2];break;case 19:e=t[0]/t[1];break;case 116:e=t[0]-t[2]+t[3]-t[1];break;case 3:e=t[0]<<t[1];break;case 31:e=(t[0]-t[1])/t[2]+t[3];break;case 71:e=(t[2]-t[0]+t[1])/t[4]-t[3];break;case 90:e=t[0]-+t[1];break;case 150:e=(t[2]-t[4])*t[1]/t[0]+t[3];break;case 120:e=(t[3]/t[4]-t[1])*t[0]-t[2];break;case 158:e=t[1]*(t[0]/t[3]-t[2]);break;case 51:e=t[1]+t[0]/t[2];break;case 45:e=(t[1]+t[2])/t[4]+t[3]-t[0];break;case 148:e=-t[2]+t[4]+t[1]+t[0]-t[3];break;case 159:e=t[3]+t[0]*(t[1]-t[2]);break;case 1:e=(t[3]+t[1])*t[2]-t[0];break;case 28:e=t[0]+t[1]*t[2];break;case 111:e=(t[4]+t[3]-t[0])/t[2]+t[1];break;case 146:e=t[2]/t[1]+t[3]-t[0];break;case 54:e=t[2]+t[3]/(t[0]*t[1]);break;case 4:e=t[1]>>t[0];break;case 162:e=(t[1]%t[2]+t[3])*t[0];break;case 180:e=-t[3]/t[4]+t[2]-t[0]+t[1];break;case 43:e=t[0]*t[3]-t[1]-t[2];break;case 103:e=t[2]+t[0]+t[1]-t[4]-t[3];break;case 157:e=t[1]/+t[0];break;case 15:e=t[0]-t[2]+t[1];break;case 156:e=+t[3]-(t[0]<<t[4])/((t[1]^t[2])+t[6]/t[5]);break;case 5:e=t[1]*t[0];break;case 164:e=t[3]+t[0]-t[4]+t[1]-t[2];break;case 69:e=t[0]<t[1];break;case 169:e=(t[1]-t[2]+t[4])/t[0]+t[3];break;case 42:e=t[1]+(t[0]-t[2]);break;case 110:e=t[4]*t[1]*t[0]+t[3]-t[2];break;case 142:e=-t[2]/t[1]-t[3]+t[0];break;case 48:e=t[0]/t[3]*t[1]-t[2];break;case 143:e=t[3]*t[4]*t[2]*t[1]-t[0];break;case 178:e=t[3]*t[4]+t[1]-t[2]-t[0];break;case 144:e=(t[4]-t[2])*t[3]-t[0]+t[1];break;case 17:e=t[0]^t[1];break;case 179:e=t[2]*t[4]-t[1]+t[3]-t[0];break;case 133:e=(t[3]-t[4])/t[1]/t[0]+t[2];break;case 35:e=t[2]/t[1]-t[0]+t[3];break;case 74:e=(t[3]-t[2])*(t[0]-t[1])/(t[6]-t[5])+t[4];break;case 95:e=-t[4]*t[2]*t[0]-t[3]+t[1];break;case 82:e=t[3]+(t[1]-t[0])/t[2];break;case 112:e=t[2]+t[3]+t[1]+t[0];break;case 99:e=(t[2]+t[3]*t[4])/(t[1]-t[0]);break;case 106:e=t[0]-t[2]-+t[1];break;case 13:e=t[1]-t[0];break;case 175:e=t[2]-t[3]/(t[0]+t[4]/t[1]);break;case 187:e=t[3]-t[0]-(t[2]^t[1]);break;case 38:e=(t[1]-t[3])/t[4]-t[2]+t[0];break;case 126:e=(t[0]+t[1])*t[2];break;case 105:e=t[2]+t[6]+t[7]+t[4]+t[3]+t[1]+t[5]+t[0];break;case 85:e=t[4]*(t[0]*t[3]+t[2])/t[1];break;case 115:e=(-t[1]-t[0])/t[2]+t[3];break;case 33:e=t[0]-(t[1]-t[2]);break;case 132:e=t[3]*t[2]*t[0]+t[1];break;case 160:e=(t[3]+t[2])/t[0]+t[1];break;case 25:e=(t[1]*t[3]+t[0])/t[4]-t[2];break;case 151:e=(t[3]-t[0])/t[2]*t[4]+t[1];break;case 60:e=-t[3]*t[2]-t[0]-t[4]+t[1];break;case 30:e=(-t[1]*t[2]+t[3])*t[0]+t[4];break;case 165:e=t[0]>t[1];break;case 154:e=t[1]-t[4]+t[3]-t[2]+t[0];break;case 73:e=(t[2]-t[0]-t[3])/t[1]+t[4];break;case 36:e=t[2]-t[1]-t[0];break;case 167:e=t[2]-t[0]-t[1]+t[4]+t[3];break;case 117:e=(t[4]+t[2])*t[3]/t[1]-t[0];break;case 166:e=t[1]*(t[0]+t[2]);break;case 55:e=-t[1]+t[0];break;case 22:e=-t[2]+t[1]-t[0];break;case 171:e=t[3]-t[0]/(t[2]+t[1]);break;case 129:e=t[0]/t[1]+t[2]+t[3];break;case 75:e=t[4]/t[2]-t[0]-t[3]-t[1];break;case 100:e=t[1]+(t[2]-t[0])/+t[3];break;case 125:e=t[2]-(t[1]^t[0]);break;case 53:e=t[0]-t[2]/t[1];break;case 183:e=t[1]==t[0];break;case 91:e=t[1]+ +t[0];break;case 119:e=t[1]-t[0]-t[3]+t[2];break;case 131:e=(t[4]-t[3])/t[2]*t[0]-t[1];break;case 161:e=t[0]*t[1]/t[2]+t[3];break;case 29:e=t[1]-t[2]*t[0];break;case 64:e=(t[2]+t[1])*t[4]-t[0]-t[3];break;case 62:e=t[3]/t[2]/t[4]/t[1]+t[0];break;case 86:e=(t[6]*t[3]-t[4]*t[2])/(t[5]*t[0]-t[1]);break;case 14:e=(t[0]+t[1])/+t[2];break;case 56:e=(-t[4]+t[0]+t[1])*t[3]-t[2];break;case 168:e=(t[4]+t[3])*t[1]*t[0]-t[2];break;case 76:e=t[3]/t[0]/t[2]-t[1];break;case 49:e=(t[3]-t[2])*t[1]-t[0];break;case 68:e=t[1]<=t[0];break;case 113:e=(t[0]+t[1]+t[3])/t[2]-t[4];break;case 10:e=(t[2]+t[0])/t[1];break;case 27:e=-t[0]-t[2]+t[1];break;case 137:e=-t[3]/t[0]/t[1]+t[2];break;case 37:e=t[1]*t[0]-t[2];break;case 11:e=t[0]+t[1]-t[2];break;case 189:e=t[2]-(t[1]|t[0]);break;case 21:e=t[1]/t[0]-t[2];break;case 67:e=t[0]-t[3]-t[1]-t[2]+t[4];break;case 79:e=t[2]/(t[1]*t[0]);break;case 6:e=(t[2]/t[1]-t[4])/t[0]+t[3];break;case 98:e=(t[3]+t[2]*t[1])/t[0];break;case 52:e=t[0]%t[2]*t[1];break;case 97:e=(t[3]*t[1]+t[0])/t[2];break;case 123:e=(t[1]-t[2])*t[4]*t[0]-t[3];break;case 70:e=(t[1]-t[3])/(t[0]-t[2]);break;case 173:e=(t[1]+t[3]+t[0])/t[2]+t[4];break;case 78:e=-t[1]+t[3]+t[0]-t[2];break;case 182:e=t[3]+t[2]*t[1]+t[0];break;case 7:e=-t[2]+t[0]+t[1];break;case 66:e=t[1]*t[2]-t[0]-t[4]-t[3];break;case 34:e=(t[1]-t[0])/t[2];break;case 109:e=(t[0]-(t[2]+t[3]))/t[1];break;case 108:e=(t[3]+t[2])/t[1]*t[0]-t[4];break;case 101:e=t[0]*t[1]/t[2];break;case 92:e=t[4]/t[3]/t[0]-t[1]-t[2];break;case 40:e=t[1]+t[0]+t[3]-t[2];break;case 181:e=t[2]-t[0]*t[3]-t[1];break;case 102:e=t[0]!==t[1];break;case 26:e=t[2]/(t[1]/t[0]);break;case 138:e=(-t[0]+t[2])/t[3]-t[1];break;case 0:e=t[2]/t[3]-t[0]+t[1]+t[4];break;case 58:e=(t[2]-t[1])/(t[3]-t[4])>t[0];break;case 50:e=t[1]-t[3]/(t[0]*t[2]);break;case 188:e=t[2]+(t[1]/+t[3]-t[4]/t[0]);break;case 94:e=t[1]/t[2]*t[0];break;case 141:e=(t[1]-t[0]-t[4])/t[3]-t[2];break;case 152:e=-t[3]*t[0]+t[2]+t[1];break;case 16:e=t[2]-t[3]+t[1]+t[0];break;case 57:e=-t[2]*t[1]+t[0];break;case 127:e=t[0]*t[5]*t[2]+(+t[6]-t[4]*t[1])*t[3];break;case 83:e=t[0]-t[3]*(t[2]-t[1]);break;case 59:e=-t[3]-t[0]+t[1]+t[2];break;case 39:e=(t[2]/t[3]-t[4])*t[0]+t[1];break;case 81:e=+t[1]/t[0];break;case 122:e=(t[3]-t[0])*t[1]+t[4]+t[2];break;case 139:e=t[0]+(t[1]-t[2])*t[3];break;case 93:e=t[2]/(t[1]*t[0]*t[3]);break;case 9:e=(t[4]-t[1])/t[0]+t[2]-t[3];break;case 145:e=(-t[3]*t[4]+t[1])/t[0]-t[2];break;case 135:e=t[3]/t[2]*t[0]+t[1];break;case 149:e=-t[1]-t[0];break;case 130:e=t[1]-t[4]-t[2]+t[3]-t[0];break;case 118:e=t[4]/t[3]/t[0]-t[2]+t[1];break;case 174:e=(t[0]/t[1]+t[2])/t[3]-t[4];break;case 107:e=(t[3]-t[4])*t[2]*t[0]+t[1];break;case 87:e=(t[0]-t[1]*t[3])/t[2];break;case 153:e=t[0]*t[1]/(t[3]+t[2]);break;case 47:e=(-t[2]-t[4])/t[0]+t[3]+t[1];break;case 24:e=(t[0]+t[2]+t[3]+t[1])/t[4];break;case 134:e=t[1]-(t[2]<<t[0]);break;case 155:e=t[2]*t[1]*t[0];break;case 185:e=(t[0]-t[4])*t[2]/t[3]-t[1];break;case 32:e=(t[3]-t[2])/t[0]-t[1];break;case 140:e=t[1]-t[0]%t[2];break;case 170:e=t[2]/t[1]/t[4]+t[3]-t[0];break;case 96:e=t[0]-(t[2]>>t[1]);break;case 18:e=t[2]*t[0]*t[3]-t[4]-t[1];break;case 46:e=t[2]+t[1]+t[3]+t[4]-t[0];break;case 114:e=(-t[1]*t[2]-t[4])/t[3]+t[0];break;case 41:e=t[1]*t[2]<t[0];break;case 147:e=t[0]+t[2]-t[1]+t[3];break;case 163:e=t[2]/(t[4]*t[0])<=t[3]-t[1];break;case 88:e=t[2]*t[1]+t[0];break;case 121:e=t[1]+(t[2]|t[0]);break;case 104:e=(t[3]-t[0]+t[2])*t[1]-t[4];break;case 20:e=-t[0]/t[2]+t[1];break;case 80:e=(t[2]<<t[1])/t[0];break;case 2:e=t[1]|t[0];break;case 65:e=(-t[3]/t[0]-t[4])*t[2]+t[1];break;case 72:e=(t[2]/t[4]+t[1])/t[3]+t[0];break;case 124:e=-t[0]*t[1]/t[2]+t[3];break;case 176:e=t[0]*-t[1];break;case 89:e=t[3]*t[0]*t[2]-t[1];break;case 61:e=t[0]/t[2]+t[1];break;case 172:e=t[1]*t[0]/t[3]/t[2]-t[4];break;case 136:e=t[2]/t[1]+t[3]+t[0]+t[4];break;case 84:e=t[0]*(t[1]+t[3])/t[2];break;case 77:e=t[2]+t[0]+t[1];break}return e},H8Cx$XM:function(e){U=e}}}();se.d7v=function(){return typeof se[172322].A0J5MGg=="function"?se[172322].A0J5MGg.apply(se[172322],arguments):se[172322].A0J5MGg};se.C1g=function(){return typeof se[376954].Y8rlfG1=="function"?se[376954].Y8rlfG1.apply(se[376954],arguments):se[376954].Y8rlfG1};se.Z7=function(){return typeof se[351196].G5b3Rvm=="function"?se[351196].G5b3Rvm.apply(se[351196],arguments):se[351196].G5b3Rvm};se[153070]=!1;se.C_1=function(){return typeof se[287683].H8Cx$XM=="function"?se[287683].H8Cx$XM.apply(se[287683],arguments):se[287683].H8Cx$XM};se[351196]=function(){for(var U=2;U!==1;)switch(U){case 2:return{G5b3Rvm:function(){for(var e=2;e!==8;)switch(e){case 2:var t=2;e=1;break;case 1:e=t!==1?5:9;break;case 5:e=t===2?4:1;break;case 4:(function(){for(var r=2;r!==21;)switch(r){case 15:var s=se[a];r=27;break;case 2:var i=2;r=1;break;case 23:s[o]=function(){},r=22;break;case 6:r=i===5?14:10;break;case 22:i=11,r=1;break;case 3:r=i===2?9:6;break;case 25:i=s[o]?13:12,r=1;break;case 18:var a=237008;r=17;break;case 14:o+="O",o+="V",o+="c",r=11;break;case 1:r=i!==11?5:21;break;case 24:r=i===12?23:1;break;case 26:r=i===14?25:24;break;case 27:i=14,r=1;break;case 5:r=i===13?4:3;break;case 16:r=i===6?15:26;break;case 11:i=9,r=1;break;case 9:var o="g";o+="3",r=7;break;case 4:return;case 10:r=i===9?20:16;break;case 20:o+="1",o+="b",r=18;break;case 17:i=6,r=1;break;case 7:i=5,r=1;break}})(),e=3;break;case 3:t=1,e=1;break;case 9:e=9;break}}}}}();se[376954]=function(){var U=function(t,r){var s=r&65535,i=r-s;return(i*t|0)+(s*t|0)|0},e=function(t,r,s){for(var i=3432918353,a=461845907,o=s,n=r&-4,l=se.n4().bind(t),u=0;u<n;u+=4){var h=l(u)&255|(l(u+1)&255)<<8|(l(u+2)&255)<<16|(l(u+3)&255)<<24;h=U(h,i),h=(h&131071)<<15|h>>>17,h=U(h,a),o^=h,o=(o&524287)<<13|o>>>19,o=o*5+3864292196|0}switch(h=0,r%4){case 3:h=(l(n+2)&255)<<16;case 2:h|=(l(n+1)&255)<<8;case 1:h|=l(n)&255,h=U(h,i),h=(h&131071)<<15|h>>>17,h=U(h,a),o^=h}return o^=r,o^=o>>>16,o=U(o,2246822507),o^=o>>>13,o=U(o,3266489909),o^=o>>>16,o};return{Y8rlfG1:e}}();se.p9i=function(){return typeof se[287683].H8Cx$XM=="function"?se[287683].H8Cx$XM.apply(se[287683],arguments):se[287683].H8Cx$XM};se.a3a=function(){return typeof se[287683].c9DQQSZ=="function"?se[287683].c9DQQSZ.apply(se[287683],arguments):se[287683].c9DQQSZ};var ci,Ra,Wa,ja,Va,Ya,za,Ba,qa,Ua,Qa,Za,$a,Ga,Ka,Xa,Ja,er,tr,ir,ar,rr,nr,sr,or,lr,ur,hr,cr,fr,dr,pr,gr,mr,xr,yr,vr,br,Cr,Sr,kr,wr,Dr,Ar,Tr,Fr,_r,Mr,Pr,Lr,Ir,Er,Hr,Or,Nr,Rr,Wr,jr,Vr,Yr,zr,Br,qr,Ur,Qr,Zr,$r,Gr,Kr,Xr,Jr;ci="un";ci+="de";ci+="f";ci+="ined";Ra=U=>{var e=se,t,r;t=typeof _CIQ!="undefined"?_CIQ:U.CIQ,r="CPE1704TKS",t.Renderer.Aggregations=function(a){var o,n,l;o="_main_",e.d7v(),o+="serie",o+="s",this.construct(a),n=this.params,this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,this.isAggregation=!0,n.highlightable=!1,n.name!=o&&(l="Aggregations ",l+="are only allowed on main series.",console.warn(l),n.invalid=!0)};function s(a,o){e.j4$(),(()=>{var n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie,ne,le,fe,ue,ge,ce,de;function he(be){var _e,De,[ke,Ae]=be[e.W2("10"|10)](e.W2(40));function we(Se){e.d7v();var Ce;return Se instanceof Object?Ce=Object[e.Y4(28)](Se)[e.W2(11)]()[e.W2("19"-0)]((Me,He)=>{e.j4$();var Re;return Re=He[e.Y4(19)]((Ne,ze)=>{e.p9i(0);var tt=e.S59(17,9,155,5,8);return Math[e.Y4(21)](Ne*tt+we(ze))%F},0),Math[e.W2(21)](Me*("31"^0)+Re)%F},0):Ce=Se[e.Y4(22)]()[e.W2(10)](e.Y4(0))[e.Y4(19)]((Me,He)=>{e.p9i(1);var Re=e.S59(7459,8,14,527);return e.d7v(),Math[e.Y4(21)](Me*Re+He[e.Y4("30"-0)](0))%F},0),Ce}_e=JSON[e.Y4(2)](atob(ke)),Ee(atob(Ae),16,BigInt(19433),BigInt(26069))!==we(_e)&&(a[e.W2(36)](H),e.h0(),j[e.Y4(47)](H)),e.d7v(),De={};function Ee(Se,Ce,Me,He){var Re;return Re=Se[e.W2(10)](e.W2(16))[e.W2(45)](Ne=>BigInt(Ne))[e.Y4(45)](Ne=>a[E](Ne,Me)%He)[e.Y4(45)](Ne=>Number(Ne)),a[b](Re,Ce)}return Object[e.W2(37)](De,C,{value:Se=>_e[Se]}),De}if(n=console,l=URL,u=Date[e.Y4(48)](),h=RegExp,e.p9i(2),c=e.Y4(e.S59(33,"41")),f=self,!(s[c]>u)){m=e.W2(8),x=e.Y4(6),g=e.Y4(31),e.C_1(3),d=e.W2(e.S59("9",0)),e.C_1(4),p=e.W2(e.a3a(32,"50")),e.Y4(17),e.p9i(3),v=e.W2(e.a3a("49",96)),S=e.W2(32),e.j4$(),T=e.Y4(12),e.C_1(5),e.Y4(e.a3a(1,"5")),D=e.Y4(20),e.W2(7),e.p9i(2),y=e.W2(e.a3a(4,"15")),b=e.Y4(26),w=e.Y4(6),A=e.Y4(39),_=e.Y4(23),e.p9i(3),P=e.Y4(e.S59("42",32)),I=e.W2(35),O=e.Y4(18),e.Y4(3),R=e.W2(43),e.Y4(38),C=e.Y4(4),k=e.W2(46),F=Number[e.W2(e.a3a(0,"25",e.C_1(4)))],M=e.Y4(44),L=e.W2(13),e.Y4(14),E=e.W2(33),H=e.Y4(51),e.W2(29),N=e.W2(27),s[N]=!1,a||(a=t),j=[];try{if(W=he(a[k]()),V=W[C](w),V!==a[L]()[x]&&(e.Z7(),j[e.W2("47"<<64)](w)),Y=W[C](_),Q=Y[M][y](Y),(Q(A)||Q(I))&&f[v]&&(z=W[C](A),$=W[C](I),K=f[v][d],q=f[v][p],X=!1,Z=!1,z&&(X=z[e.W2(1)](be=>new h(be)[e.W2(20)](K))),$&&(Z=$[e.W2("1"<<0)](be=>new h(be)[D](q))),X||Z||(e.Z7(),j[e.W2(47)](`${A}${e.W2(34)}${q}`)),Q(O))){if(te=f[v][m],te){if(te[e.W2(24)]&&te[te[e.Y4(24)]-1]!==f){e.C_1(6);var pe=e.a3a(2,11,11,32,17);e.C_1(7);var me=e.S59(3,6,8);ae=new l(te[te[e.Y4(pe)]-me])}}else f[g]&&(re=f[g][T],[e.Y4(0),q][e.W2(44)](re)||(ae=new l(re)));ae!==void 0&&(oe=ae[d],B=ae[p],G=!1,ie=!1,z&&(G=z[e.W2(1)](be=>new h(be)[D](oe))),$&&(ie=$[e.W2(1)](be=>new h(be)[D](B))),G||ie||(e.Z7(),j[e.W2(47)](`${O}${e.Y4("34"|0)}${B}`)))}if(Q(P)&&(ne=W[C](P),u>ne)){e.h0(),le=-974982709,fe=2055547114,ue=2;for(var xe="1"*1;e.M0S(xe.toString(),xe.toString().length,37728)!==le;xe++)j[e.Y4(98)](P),ue+=2;e.C1g(ue.toString(),ue.toString().length,93161)!==fe&&j[e.Y4(18)](P),j[e.Y4(47)](P)}if(o&&!(Q(R)&&W[C](R)[e.Y4("44"<<32)](o))){e.Z7(),ge=-784070622,ce=254675449,de=2;for(var ye=1;e.C1g(ye.toString(),ye.toString().length,76517)!==ge;ye++)j[e.Y4(47)](`${R}${e.W2(34)}${o}`),de+=2;e.M0S(de.toString(),de.toString().length,"73931"*1)!==ce&&j[e.Y4(43)](`${R}${e.W2(30)}${o}`)}}catch(be){e.h0(),j[e.W2("47"^0)](be)}j[e.Y4(24)]===0?(s[N]=!0,e.C_1(8),s[c]=e.a3a(u,6e4)):(n[S](j),e.C_1(8),s[c]=e.S59(u,36e5))}})()}t.inheritsFrom(t.Renderer.Aggregations,t.Renderer.OHLC,!1),t.Renderer.Aggregations.requestNew=function(a,o){var n,l,u,h,c,f,m,x,g;n="A",n+="ggregations",l="OH",l+="L",l+="C",u=null;for(var d=0;d<a.length;d++)switch(h="r",h+="e",h+="nko",c="rangeb",c+="a",c+="r",c+="s",f="l",f+="ine",f+="b",f+="reak",m=a[d],m){case"kagi":case"pandf":u=m;break;case"heikinashi":case f:case c:case h:x="c",x+="a",x+="n",x+="dle",u=x;break;default:return null}return u===null?null:(g=new t.Renderer[u=="candle"?l:n]({params:t.extend(o,{type:u})}),g.isAggregation=!0,g)},t.Renderer.Aggregations.prototype.drawIndividualSeries=function(a,o){var n,l,u,h,c,f;if(n="p",n+="and",n+="f",!o.invalid)return l="Technical Analysis",u=this.stx,h={colors:[]},s(t,l),s[r]||e.Z1(),o.type=="kagi"?(c="stx_",c+="kagi_down",u.drawKagiSquareWave(a.panel,"stx_kagi_up",c,o),h.colors.push(u.getCanvasColor("stx_kagi_up")),h.colors.push(u.getCanvasColor("stx_kagi_down"))):o.type==n&&(f="s",f+="tx_pa",f+="ndf_u",f+="p",u.drawPointFigureChart(a.panel,f,"X",o),h.colors.push(u.getCanvasColor("stx_pandf_up")),u.drawPointFigureChart(a.panel,"stx_pandf_down","O",o),h.colors.push(u.getCanvasColor("stx_pandf_down"))),h},t.ChartEngine.prototype.setAggregationType=function(a){var o,n,l,u,h;o="ca",o+="nd",o+="le",this.layout.chartType=o,n=this.chart,n.baseline.userLevel!==!1&&(n.baseline.userLevel=n.baseline.defaultLevel,n.panel.yAxis.scroll=t.ChartEngine.YAxis.prototype.scroll),e.j4$(),l=1888431635,u=-1774167723,h=2;for(var c=1;e.C1g(c.toString(),c.toString().length,59556)!==l;c++)this.layout.aggregationType=a,this.setMainSeriesRenderer(),h+=2;e.C1g(h.toString(),h.toString().length,70638)!==u&&(this.layout.aggregationType=a,this.setMainSeriesRenderer()),n.canvas&&(this.createDataSet(),this.draw()),this.changeOccurred("layout")},t.ChartEngine.prototype.drawKagiSquareWave=function(a,o,n,l){var u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I;u=a.chart,this.startClip(a.name),h=u.dataSegment,c=u.context,f=a.yAxis,f.flipped&&(m=o,o=n,n=m),e.d7v(),x=this.canvasStyle(o),g=this.canvasStyle(n),this.canvasColor(o),l.border_color_up&&(c.strokeStyle=l.border_color_up),d=c.strokeStyle,this.canvasColor(n),l.border_color_down&&(c.strokeStyle=l.border_color_down),p=c.strokeStyle,e.C_1(5),v=e.a3a(1,"1"),x.width&&parseInt(x.width,10)<=25&&(v=Math.max(1,t.stripPX(x.width))),S=1,g.width&&parseInt(g.width,10)<=25&&(S=Math.max(1,t.stripPX(g.width))),this.highlightedDraggable&&(c.globalAlpha*=.3),c.beginPath(),e.C_1(9);var O=e.a3a(3,6,5,2,0);T=u.dataSet.length-u.scroll-O,D=!0,y=null,b=null,w=a.left-.5*this.layout.candleWidth+this.micropixels-("1">>0);for(var R=0;R<=h.length;R++)if(w+=this.layout.candleWidth,A=h[R],!!A){if((!A.cache||u.pixelCacheExpired)&&(A.cache={}),A.projection)break;b=A.kagiTrend,f.flipped&&(e.p9i(5),b*=-e.S59(1,"1")),A.transform&&u.transformFunc&&(_=A.kagiPrevOpen,A=A.transform,A.kagiPrevOpen=u.transformFunc(this,u,_)),P=A.cache,e.C_1(8),I=e.a3a(T,R),(I<a.cacheLeft||I>a.cacheRight||!P.kagiOpen)&&(P.kagiOpen=f.semiLog?f.height*(1-(Math.log(Math.max(A.Open,0))/Math.LN10-f.logLow)/f.logShadow):(f.high-A.Open)*f.multiplier,P.kagiClose=f.semiLog?f.height*(1-(Math.log(Math.max(A.Close,0))/Math.LN10-f.logLow)/f.logShadow):(f.high-A.Close)*f.multiplier,f.flipped?(P.kagiOpen=f.bottom-P.kagiOpen,P.kagiClose=f.bottom-P.kagiClose):(P.kagiOpen+=f.top,P.kagiClose+=f.top)),P.kagiClose,y=f.semiLog?f.height*(1-(Math.log(Math.max(A.kagiPrevOpen,0))/Math.LN10-f.logLow)/f.logShadow):(f.high-A.kagiPrevOpen)*f.multiplier,f.flipped?y=f.bottom-y:y+=f.top,D?(c.moveTo(T>=0?a.left:Math.floor(w),P.kagiOpen),c.lineTo(Math.floor(w),P.kagiOpen),P.kagiClose<P.kagiOpen?(c.strokeStyle=d,c.lineWidth=v):(c.strokeStyle=p,c.lineWidth=S)):b!=-1&&P.kagiClose<y&&y<P.kagiOpen?(c.lineTo(Math.floor(w),y),c.stroke(),c.beginPath(),c.moveTo(Math.floor(w),y),c.strokeStyle=d,c.lineWidth=v):b!="1">>0&&P.kagiClose>y&&y>P.kagiOpen&&(c.lineTo(Math.floor(w),y),c.stroke(),c.beginPath(),c.moveTo(Math.floor(w),y),c.strokeStyle=p,c.lineWidth=S),c.lineTo(Math.floor(w),P.kagiClose),R+1<h.length&&c.lineTo(Math.floor(w+this.layout.candleWidth),P.kagiClose),D=!1}c.stroke(),this.endClip(),c.lineWidth=1,u.pixelCacheExpired=!1},t.ChartEngine.prototype.drawPointFigureChart=function(a,o,n,l){var u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M;u=a.chart,this.startClip(a.name),h=u.dataSegment,c=u.context,this.canvasColor(o),n=="X"&&l.border_color_up?c.strokeStyle=l.border_color_up:n=="O"&&l.border_color_down&&(c.strokeStyle=l.border_color_down),f=this.canvasStyle(o);function L(W,V,Y){e.p9i(10),c.moveTo(e.a3a(V,2,W),e.S59(Y,m,b,e.C_1(11))),e.p9i(8),c.bezierCurveTo(e.a3a(V,d),e.S59(Y,m,b,e.C_1(11)),e.a3a(V,d,e.C_1(8)),e.a3a(Y,x,y,b,e.C_1(12)),e.S59(V,2,W,e.C_1(10)),e.a3a(Y,x,y,b,e.p9i(12))),e.p9i(13),c.bezierCurveTo(e.S59(g,W),e.a3a(Y,x,y,b,e.p9i(12)),e.a3a(g,W,e.p9i(13)),e.S59(Y,m,b,e.C_1(11)),e.a3a(W,V,"2",e.p9i(14)),e.S59(Y,m,b,e.C_1(11)))}m=parseInt(f.paddingTop,10),x=parseInt(f.paddingBottom,10),g=parseInt(f.paddingLeft,10);function E(W,V,Y){e.p9i(8),c.moveTo(e.S59(W,g),e.S59(Y,b,x,e.C_1(15))),e.C_1(13),c.lineTo(e.a3a(d,V),e.a3a(b,m,Y,y,e.p9i(16))),e.C_1(8),c.moveTo(e.S59(W,g),e.S59(b,m,Y,y,e.p9i(16))),e.C_1(13),c.lineTo(e.a3a(d,V),e.S59(Y,b,x,e.p9i(15)))}d=parseInt(f.paddingRight,10),f.width&&parseInt(f.width,"10"^0)<="25"<<32?(e.p9i(17),c.lineWidth=Math.max(e.S59("1",0),t.stripPX(f.width))):c.lineWidth=2,this.highlightedDraggable&&(c.globalAlpha*=.3),c.beginPath(),p=this.chart.state.aggregation.box,e.p9i(18);var H=e.S59(16,2297,18,8,6);v=u.dataSet.length-u.scroll-H,S=a.yAxis,y=p*S.multiplier,e.C_1(19),b=e.a3a(y,2),w=this.layout.candleWidth,e.p9i(20);var N=e.a3a(13,14,1);A=a.left-w+this.micropixels-N;for(var j=0;j<h.length;j++)if(A+=w,_=h[j],!!_){if((!_.cache||u.pixelCacheExpired)&&(_.cache={}),_.projection)break;if(P=_.pfOpen,I=_.pfClose,O=_.pfTrend,R=_.pfStepBack,_.transform&&u.transformFunc&&(_=_.transform,P=u.transformFunc(this,u,P),I=u.transformFunc(this,u,I)),C=_.cache,e.p9i(8),k=e.a3a(v,j),(k<a.cacheLeft||k>a.cacheRight||!C.pfOpen)&&(S.flipped?(C.pfOpen=S.bottom-(S.high-P)*S.multiplier,C.pfClose=S.bottom-(S.high-I)*S.multiplier):(C.pfOpen=(S.high-P)*S.multiplier+S.top,C.pfClose=(S.high-I)*S.multiplier+S.top)),F=Math.round(A),e.p9i(8),M=Math.round(e.S59(A,w)),T=Math.abs(Math.round((I-P)/p)),D=C.pfOpen,n==R&&(R=="X"?(e.C_1(13),E(F,M,e.S59(y,D))):R=="O"&&(e.p9i(8),L(F,M,e.S59(D,y)))),n==O)for(;T>=0;T--)n=="X"?(E(F,M,D),D-=S.flipped?-y:y):n=="O"&&(L(F,M,D),D+=S.flipped?-y:y)}c.stroke(),this.endClip(),c.lineWidth=1,u.pixelCacheExpired=!1},t.ChartEngine.calculateAggregation=function(a,o,n,l){var u,h,c,f;return u="heik",u+="e",u+="nas",u+="hi",h="heikin",h+="ashi",e.j4$(),f=a.layout,[h,u].indexOf(o)>-1?c=t.calculateHeikinAshi(a,n,l):o=="rangebars"?c=t.calculateRangeBars(a,n,f.rangebars,l):o=="kagi"?c=t.calculateKagi(a,n,f.kagi,l):o=="linebreak"?c=t.calculateLineBreak(a,n,f.priceLines,l):o=="renko"?c=t.calculateRenkoBars(a,n,f.renko,l):o=="pandf"&&(c=t.calculatePointFigure(a,n,f.pandf,l)),c},t.calculateHeikinAshi=function(a,o,n){var l,u,h,c,f,m,x,g,d,p,v;if(!o.length)return o;n||(n=[]),e.d7v(),l=[];for(var S=0;S<o.length;S++)if(u=o[S],!!u){e.C_1(21);var T=e.a3a(11,11,0);if(h=l[l.length-T],!h&&!S){e.C_1(22);var D=e.S59(1,7,5);h=n[n.length-D]}if(h||(h=u),c=u.Close,f=u.Open,m=u.High,x=u.Low,g=h.Open,!(!c&&c!==0)){f=f||f===0?f:c,m=m||m===0?m:c,x=x||x===0?x:c,g=g||g==="0"<<64?g:h.Close,e.C_1(23);var y=e.S59(1,8,8,3);d=(g+h.Close)/y,e.p9i(24),p=e.S59(f,c,m,x,4),v={DT:u.DT,displayDate:u.displayDate,Date:u.Date,Open:d,Close:p,High:Math.max(m,Math.max(d,p)),Low:Math.min(x,Math.min(d,p)),Volume:u.Volume,iqPrevClose:h.Close};for(var b in u)!v[b]&&v[b]!==0&&(v[b]=u[b]);l.push(v)}}return l},t.calculateKagi=function(a,o,n,l){var u,h,c,f,m,x,g,d;if(!o.length)return o;l||(l=[]),u=a.layout,h=a.chart,n=parseFloat(n),e.d7v(),h.defaultChartStyleConfig.kagi=t.ChartEngine.isDailyInterval(u.interval)?4:"0.4"-0,(isNaN(n)||n<=0)&&(n=h.defaultChartStyleConfig.kagi,t.Market.Symbology.isForexSymbol(h.symbol)&&(n/=4),u.kagi!==null&&(u.kagi=null,a.changeOccurred("layout"))),n/=100,c=[],e.p9i(15);var p=e.S59(9,11,19);f=l[l.length-p],m=f?f.DT:0;for(var v=0;v<o.length;v++)if(x=o[v],!(!x||!x.Close&&x.Close!==0)){if(!f){f=x;continue}if(g=f.Open||f.Open===0?f.Open:f.Close,g>f.Close){if(x.Close>f.Close*(1+n))x.Open=f.Close;else if(f.Close>x.Close&&(f.Close=x.Close),f.Volume+=x.Volume,v<o.length-1)continue}else if(g<f.Close){if(x.Close<f.Close*(1-n))x.Open=f.Close;else if(f.Close<x.Close&&(f.Close=x.Close),f.Volume+=x.Volume,v<o.length-1)continue}else if(f.Close=x.Close,f.Volume+=x.Volume,v<o.length-1)continue;d={DT:f.DT,displayDate:f.displayDate,Date:f.Date,Open:f.Open,Close:f.Close,High:Math.max(f.Open,f.Close),Low:Math.min(f.Open,f.Close),Volume:f.Volume,iqPrevClose:f.iqPrevClose};for(var S in f)!d[S]&&d[S]!==0&&(d[S]=f[S]);c.length?d.kagiPrevOpen=c[c.length-1].Open:d.kagiPrevOpen=d.Open,d.Close>d.kagiPrevOpen&&d.kagiPrevOpen>d.Open?d.kagiTrend=1:d.Close<d.kagiPrevOpen&&d.kagiPrevOpen<d.Open&&(d.kagiTrend=-1),m<d.DT&&c.push(d),f=x,h.currentQuote={Close:x.Close}}return c},t.calculateLineBreak=function(a,o,n,l){var u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A;if(!o.length)return o;if(l||(l=[]),u=a.layout,h=a.chart,h.defaultChartStyleConfig.priceLines=3,n=parseInt(n,10),isNaN(n)||n<=0){if(n=h.defaultChartStyleConfig.priceLines,u.priceLines!==null){c=254394262,e.p9i(3),f=e.S59("626214596",0),m=2;for(var _="1"-0;e.M0S(_.toString(),_.toString().length,63109)!==c;_++)u.priceLines=null,a.changeOccurred("layout"),m+=2;e.C1g(m.toString(),m.toString().length,16990)!==f&&(e.p9i(4),u.priceLines=e.S59(64,"1"),a.changeOccurred(""))}}else n>"10"-0&&(u.priceLines=n=10);x=l.slice(-n),g=x.length,d=0,e.d7v();e:for(var P=0;P<o.length;P++)if(p=o[P],!!p&&!(!p.Close&&p.Close!==0)){d+=p.Volume,e.C_1(13);var I=e.S59(4,5);if(v=x[x.length-I],v||(v={Open:p.Open,Close:p.Open,High:p.Open,Low:p.Open}),S=v.Close,T=v.High,D=v.Low,y=v.Open,T=T||T===0?T:S,D=D||D===0?D:S,y=y||y===0?y:S,b={DT:p.DT,displayDate:p.displayDate,Date:p.Date,Close:p.Close,Volume:d,iqPrevClose:S},h.currentQuote={Close:p.Close},!(p.Close>S&&v.Close>y)){if(!(p.Close<S&&v.Close<y))if(p.Close>T){for(w=2;w<=n;w++)if(A=x[x.length-w],A&&p.Close<=A.High)continue e}else if(p.Close<D){for(w=2;w<=n;w++)if(A=x[x.length-w],A&&p.Close>=A.Low)continue e}else continue}p.Close<v.Close?b.Open=Math.min(y,S):b.Open=Math.max(y,S),b.Low=Math.min(b.Open,b.Close),b.High=Math.max(b.Open,b.Close);for(var O in p)!b[O]&&b[O]!==0&&(b[O]=p[O]);x.push(b),d=0}return x.slice(g)},t.getMaxRenkoBarsPerRecord=function(a){return 200},t.calculateRenkoBars=function(a,o,n,l,u){var h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H;if(!o.length)return[];e.d7v(),l||(l=[]);function N(Y,Q){var z;Y=Number(Y.toFixed(8)),Q=Number(Q.toFixed(8)),z={DT:_.DT,displayDate:_.displayDate,Date:_.Date,Open:Y,Close:Q,High:Math.max(Y,Q),Low:Math.min(Y,Q),Volume:0,iqPrevClose:Y!=Q?Y:null};for(var $ in _)!z[$]&&z[$]!==0&&(z[$]=_[$]);b.push(z)}h=a.layout,c=a.chart,f=n,m=c.state.aggregation,m||(m=c.state.aggregation={}),x=Math.min(300,o.length),m.minMax||(m.minMax=a.determineMinMax(o.slice(o.length-x),["Close","High","Low"])),e.p9i(25);var j=e.S59(10,21,366,17,1);if(g=m.minMax[j]-m.minMax[0],d=a.panels[c.name].height,!d)return[];if(p=l.length>0,e.p9i(26),v=i(e.a3a(30,d,g)),S=t.getMaxRenkoBarsPerRecord(c.symbolObject),u&&(T=o.reduce((Y,Q)=>{var z,$,K,q;z=Math.abs(Q.Close-Q.iqPrevClose),$=-1051329504,K=364767384,q=2;for(var X=1;e.C1g(X.toString(),X.toString().length,"63880"*1)!==$;X++)return z>=Y?z:Y;if(e.M0S(q.toString(),q.toString().length,91830)!==K)return z>Y?z:Y},0),e.p9i(19),m.minAutoRenko=i(e.a3a(T,S))),c.defaultChartStyleConfig.renko=m.minAutoRenko||v,n===null||isNaN(n)||n<=0?(n=c.defaultChartStyleConfig.renko,h.renko!==null&&(D="l",D+="ayo",D+="ut",h.renko=null,a.changeOccurred(D))):(e.C_1(19),n=Math.max(n,e.S59(g,d)),h.renko!==n&&(y="la",y+="yo",y+="ut",h.renko=n,a.changeOccurred(y))),b=[],w=null,A=null,_=null,l.length){e.p9i(27);var W=e.S59(4,18,13);P=l[l.length-W],w=P.Low-n,A=P.High+n}for(var V=0;V<o.length;V++)if(I=o[V],!(!I||!I.Close&&I.Close!==0)){if(!w&&!A&&(O=I.Open||I.Open===0?I.Open:I.Close,R=Math.floor(O/n)*n,C=isNaN(R)?O:R,e.C_1(13),w=e.a3a(n,C),e.p9i(8),A=e.S59(C,n)),e.p9i(5),k=e.S59(S,n),F=!h.renko,M=w-I.Close,L=I.Close-A,E=M>k||L>k,H=F&&E&&!u&&!p,H)return t.calculateRenkoBars(a,o,f,l,!0);for(;;)if(_||(_=I),I.Close<=w)e.C_1(8),N(e.a3a(w,n),w),e.p9i(28),A=e.a3a(w,2,n),w-=n,_=null;else if(I.Close>=A)e.C_1(13),N(e.a3a(n,A),A),e.p9i(29),w=e.a3a(n,A,2),A+=n,_=null;else break;c.currentQuote=I}return w<o[o.length-1].Close&&w+n>o[o.length-1].Close?(e.C_1(8),N(e.a3a(w,n),o[o.length-1].Close)):A>o[o.length-1].Close&&A-n<o[o.length-1].Close&&(e.p9i(13),N(e.S59(n,A),o[o.length-1].Close)),b},t.calculateRangeBars=function(a,o,n,l){var u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C;if(u="H",u+="i",u+="gh",!o.length)return o;l||(l=[]);function k(N,j){e.j4$();for(var W;;){if(b||(b=N),S<j){if(S=Math.min(j,T),e.C_1(13),D=Math.max(D,e.S59(n,S)),j<T)break}else if(S>=j&&(S=Math.max(j,D),e.C_1(8),T=Math.min(T,e.a3a(S,n)),j>D))break;if(typeof S=="undefined"){W="Uh oh unde",W+="fined in calculateRangeBars:processMove",console.log(W);return}L(S),b=null,M()}}h=a.layout,c=a.chart,e.d7v(),f=c.state.aggregation,f||(f=c.state.aggregation={}),m=Math.min(300,o.length),f.minMax||(f.minMax=a.determineMinMax(o.slice(o.length-m),["Close",u,"Low"])),e.C_1(30);var F=e.S59(13,6,3,9,118);if(x=f.minMax[F]-f.minMax[0],g=a.panels[c.name].height,!g)return[];e.C_1(26),c.defaultChartStyleConfig.range=i(e.S59(30,g,x));function M(){e.C_1(8),T=e.S59(S,n),e.p9i(13),e.j4$(),D=e.a3a(n,S),y=S}n===null||isNaN(n)||n<0?(n=c.defaultChartStyleConfig.range,h.range!==null&&(d="l",d+="ayo",d+="ut",h.range=null,a.changeOccurred(d))):(e.p9i(19),n=Math.max(n,e.S59(x,g)),h.range!==n&&(p="l",p+="ay",p+="ou",p+="t",h.range=n,a.changeOccurred(p)));function L(N){var j;j={DT:b.DT,displayDate:b.displayDate,Date:b.Date,Open:Number(y.toFixed(8)),Close:Number(N.toFixed(8)),High:Number(T.toFixed(8)),Low:Number(D.toFixed(8)),Volume:0},j.iqPrevClose=j.Open;for(var W in b)!j[W]&&j[W]!==0&&(j[W]=b[W]);e.j4$(),v.push(j)}v=[],S=null,T=null,D=null,y=null,b=null;for(var E=0;E<o.length;E++)if(w=o[E],!(!w||!w.Close&&w.Close!==0)){if(!E){if(!A){e.p9i(31);var H=e.a3a(0,13,13,2);A=l[l.length-H]}A&&(S=A.Close,(S||S===0)&&M())}if(!A){A=w;continue}_=w.Close,P=w.Open,I=w.High,O=w.Low,!(!_&&_!==0)&&(P=P||P===0?P:_,I=I||I===0?I:_,O=O||O===0?O:_,!S&&S!==0&&(R=Math.floor(P/n)*n,S=isNaN(R)?P:R,M(),k(A,P)),E&&k(w,P),I-P<P-O?(I&&k(w,I),O&&k(w,O)):(O&&k(w,O),I&&k(w,I)),k(w,_),E==o.length-1&&_!=y&&(C=T,e.p9i(8),T=e.S59(D,n),e.p9i(13),D=e.a3a(n,C),L(_)))}return v},e.j4$();function i(a){return e.d7v(),a>"0.001"-0?Number(a.toFixed(4)):a}t.calculatePointFigure=function(a,o,n,l){var u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I;if(!o.length)return o;l||(l=[]),u=a.layout,h=a.chart,c=h.state.aggregation,c||(c=h.state.aggregation={}),h.defaultChartStyleConfig.box=1,h.defaultChartStyleConfig.reversal=3,n||(n={}),f=n.box,e.j4$(),f||(u.pandf&&u.pandf.box!==null&&(m="l",m+="ayou",m+="t",u.pandf.box=null,a.changeOccurred(m)),f=h.defaultChartStyleConfig.box,x=o[o.length-1].Close,x&&(x<.25?f=.0625:x<1?(e.C_1(13),f=e.a3a(0,"0.125")):x<5?(e.C_1(13),f=e.S59(0,"0.25")):x<20?f=.5:x<100?f=1:x<"200"<<64?(e.p9i(5),f=e.a3a(1,"2")):x<500?f=4:x<("1000"|40)?f=5:x<25e3?f=50:f=500),t.ChartEngine.isDailyInterval(u.interval)||(e.C_1(4),f/=e.S59(0,"10")),t.Market.Symbology.isForexSymbol(h.symbol)&&(x&&(x<1?f=.001:x<2?f=.002:x<50?f=.02:x<("200"|0)&&(f=.2)),t.ChartEngine.isDailyInterval(u.interval)&&(f*=10)),h.defaultChartStyleConfig.box=f),f=parseFloat(f),(isNaN(f)||f<=0)&&(u.pandf&&u.pandf.box!==null&&(u.pandf.box=null,a.changeOccurred("layout")),h.defaultChartStyleConfig.box=f=1);function O(M,L,E,H,N){e.j4$(),M.High=Math.max(L,M.High),M.Low=Math.min(E,M.Low),M.Close=H,M.Volume+=N}g=Math.ceil(parseFloat(n.reversal)),g>0&&g>n.reversal?(u.pandf.reversal=g,a.changeOccurred("layout")):(isNaN(g)||g<=0)&&(u.pandf&&u.pandf.reversal!==null&&(u.pandf.reversal=null,a.changeOccurred("layout")),g=h.defaultChartStyleConfig.reversal);function R(M,L){for(var E in M)!L[E]&&L[E]!==0&&(L[E]=M[E]);return L}c.box=f,g*=f,d=1e-8,p=(f.toString()+".").split(".")[1].length,v=[],S=0;function C(M,L,E,H,N,j,W,V,Y){return{DT:M.DT,Date:M.Date,pfOpen:V,pfClose:Y,Open:L,Close:N,High:E,Low:H,Volume:j,iqPrevClose:W}}for(var k="0"-0;k<o.length;k++)if(D=o[k],!!D&&(b=D.Close,w=D.Open,A=D.High,_=D.Low,!(!b&&b!=="0">>0))){if(S+=D.Volume,w=w||w===0?w:b,A=A||A===0?A:b,_=_||_===0?_:b,!v.length&&!l.length){T=R(D,C(D,w,A,_,b,S,A+f,Number((Math.ceil(_/f-d)*f).toFixed(p)),Number((Math.floor(A/f+d)*f).toFixed(p)))),T.pfTrend="X",T.pfOpen==T.pfClose&&(T.pfStepBack="-"),v.push(T),S=0;continue}e.C_1(32);var F=e.a3a(5,0,15,20);y=v[v.length-F],y||(y=t.clone(l[l.length-1])),y.pfTrend=="O"?(_<=y.pfClose-f?(y.pfClose=Number((Math.ceil(_/f-d)*f).toFixed(p)),y.pfStepBack=="O"&&(y.pfStepBack=null),O(y,A,_,b,S)):A>=y.pfClose+g?(P=y.pfClose+f,I=Number((Math.floor(A/f+d)*f).toFixed(p)),T=C(D,w,A,_,b,S,y.pfClose,P,I),P==I&&(T.pfStepBack="X"),y.pfStepBack=="O"?(y.pfOpen=P,y.pfClose=I,y.pfTrend="X",O(y,A,_,b,S)):(T=R(D,T),T.pfTrend="X",v.push(T))):O(y,A,_,b,S),S=0):y.pfTrend=="X"&&(A>=y.pfClose+f?(y.pfClose=Number((Math.floor(A/f+d)*f).toFixed(p)),(y.pfStepBack=="X"||y.pfStepBack=="-")&&(y.pfStepBack=null),O(y,A,_,b,S)):_<=y.pfClose-g?(P=y.pfClose-f,I=Number((Math.ceil(_/f-d)*f).toFixed(p)),T=C(D,w,A,_,b,S,y.pfClose,P,I),P==I&&(T.pfStepBack="O"),y.pfStepBack=="X"||y.pfStepBack=="-"?(y.pfOpen=P,y.pfClose=I,y.pfTrend="O",O(y,A,_,b,S),P!=I&&y.pfStepBack=="-"&&(y.pfStepBack=null)):(T=R(D,T),T.pfTrend="O",v.push(T))):O(y,A,_,b,S),S=0)}return v}};Wa=U=>{var e=se,t,r,s,i,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R;t=typeof _CIQ!="undefined"?_CIQ:U.CIQ,r=typeof _timezoneJS!="undefined"?_timezoneJS:U.timezoneJS,t.Drawing?(s="cq-wave-p",s+="ara",s+="meters",i="f",i+="o",i+="n",i+="t",a="p",a+="att",a+="ern",o="li",o+="n",o+="eW",o+="idth",n="fi",n+="l",n+="lColo",n+="r",l="Stu",l+="di",l+="es",u="v",u+="o",u+="lume",h="Annu",h+="aliz",h+="e",h+="d %",c="Bar",c+="s",f="pa",f+="tter",f+="n",m="l",m+="ine",m+="Widt",m+="h",x="pat",x+="te",x+="rn3",g="color",g+="3",d="active",d+="3",p="line",p+="Width",p+="1",v="c",v+="olo",v+="r",S="p",S+="at",S+="tern",T="l",T+="ineWid",T+="th",D="fil",D+="lColo",D+="r",y="t",y+="z",b="f",b+="o",b+="nt",w="l",w+="ineWi",w+="d",w+="th",A="fillC",A+="o",A+="lor",_="c",_+="o",_+="lor",P="f",P+="illC",P+="o",P+="lor",I="c",I+="ol",I+="o",I+="r",O="lin",O+="eWidt",O+="h",R="col",R+="o",R+="r",t.Drawing.ray=function(){e.j4$(),this.name="ray"},t.inheritsFrom(t.Drawing.ray,t.Drawing.line),t.Drawing.ray.prototype.adjust=function(){var C;e.j4$(),C=this.stx.panels[this.panelName],C&&(this.setPoint(0,this.d0,this.v0,C.chart),this.setPoint(1,this.d1,this.v1,C.chart),t.ChartEngine.isDailyInterval(this.stx.layout.interval)&&this.d0B&&(e.C_1(2),this.setPoint(e.a3a(1,"1"),this.d1B,this.v1B,C.chart)))},t.Drawing.continuous=function(){var C,k,F;this.name="continuous",this.dragToDraw=!1,C=-1854529341,k=-174384523,F=2;for(var M=1;e.C1g(M.toString(),M.toString().length,58638)!==C;M++)this.maxSegments=1,F+=2;e.M0S(F.toString(),F.toString().length,68247)!==k&&(this.maxSegments=2),this.maxSegments=null},t.inheritsFrom(t.Drawing.continuous,t.Drawing.segment),t.Drawing.continuous.prototype.click=function(C,k,F){var M,L,E,H,N;if(M=this.stx,L=M.panels[this.panelName],!!L)return e.d7v(),this.copyConfig(),this.penDown?this.accidentalClick(k,F)?(M.undo(),!0):(this.setPoint(1,k,F,L.chart),E=t.Drawing.segment,H=new E,N=this.serialize(M),H.reconstruct(M,N),M.addDrawing(H),M.changeOccurred("vector"),M.draw(),H++,this.maxSegments&&this.segment>this.maxSegments?!0:(this.setPoint(0,k,F,L.chart),!1)):(this.setPoint(0,k,F,L.chart),this.penDown=!0,!1)},t.Drawing.ellipse=function(){this.name="ellipse"},t.inheritsFrom(t.Drawing.ellipse,t.Drawing.BaseTwoPoint),t.Drawing.ellipse.prototype.render=function(C){var k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X;k=this.stx,F=k.panels[this.panelName],M=k.getYAxisByField(F,this.field),!(!F||this.field&&!M)&&(L=k.pixelFromTick(this.p0[0],F.chart),e.d7v(),E=k.pixelFromTick(this.p1[0],F.chart),H=this.pixelFromValue(F,this.p0[0],this.p0[1],M),N=this.pixelFromValue(F,this.p1[0],this.p1[1],M),e.p9i(33),j=e.a3a(L,E,L),W=E,V=H,Y=N,e.C_1(33),Q=e.S59(H,N,H),e.p9i(34),z=e.a3a(Q,Y,6),$=this.lineWidth,$||($=1.1),K=this.color,(K=="auto"||t.isTransparent(K))&&(K=this.getLineColor()),this.highlighted&&$==.1&&($=1.1),q=this.fillColor,C.beginPath(),C.moveTo(j,V),e.p9i(8),C.bezierCurveTo(j,e.S59(Y,z),W,e.a3a(Y,z),W,V),e.p9i(13),C.bezierCurveTo(W,e.a3a(z,Q),j,e.S59(z,Q),j,V),q&&!t.isTransparent(q)&&q!="auto"&&(C.fillStyle=q,C.globalAlpha=.2,C.fill(),C.globalAlpha=1),K&&this.pattern!="none"&&(C.strokeStyle=K,C.lineWidth=$,C.setLineDash&&(C.setLineDash(t.borderPatternToArray($,this.pattern)),C.lineDashOffset=0),C.stroke()),C.closePath(),this.highlighted&&(X=this.highlighted=="p1",this.littleCircle(C,E,N,X)))},t.Drawing.ellipse.prototype.intersected=function(C,k,F){var M,L,E,H,N,j;if(e.j4$(),!this.p0||!this.p1)return null;if(this.pointIntersection(this.p1[0],this.p1[1],F))return this.highlighted="p1",{action:"drag",point:"p1"};M=this.p0[0]-(this.p1[0]-this.p0[0]),L=this.p1[0],E=this.p1[1],e.p9i(35);var W=e.a3a(6,1,5,2);e.p9i(27);var V=e.S59(19,25,5);H=this.p0[1]-(this.p1[W]-this.p0[V]);var{x0:Y,x1:Q,y0:z,y1:$,cy0:K,cy1:q}=F;if(Y>Math.max(M,L)||Q<Math.min(M,L))return!1;var{field:X,panelName:Z,stx:ae}=this;return X&&(N=ae.panels[Z],j=ae.getYAxisByField(N,X),z=this.valueFromPixel(K,N,j),$=this.valueFromPixel(q,N,j)),$>Math.max(H,E)||z<Math.min(H,E)?!1:(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:C,value:this.valueOnDrawingAxis(C,k)})},t.Drawing.ellipse.prototype.configs=[R,"fillColor","lineWidth","pattern"],t.Drawing.ellipse.prototype.reconstruct=function(C,k){this.stx=C,this.color=k.col,this.fillColor=k.fc,this.panelName=k.pnl,this.pattern=k.ptrn,e.j4$(),this.lineWidth=k.lw,this.d0=k.d0,this.d1=k.d1,this.tzo0=k.tzo0,this.tzo1=k.tzo1,this.v0=k.v0,this.v1=k.v1,this.field=k.fld,this.permanent=!!k.prm,this.hidden=!!k.hdn,this.adjust()},t.Drawing.ellipse.prototype.serialize=function(){return e.j4$(),{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field,prm:this.permanent?1:0,hdn:this.hidden?1:"0"*1}},t.Drawing.channel=function(){e.d7v();var C;C="cha",C+="nne",C+="l",this.name=C,this.dragToDraw=!1,this.p2=null},t.inheritsFrom(t.Drawing.channel,t.Drawing.segment),t.Drawing.channel.prototype.configs=["color","fillColor",O,"pattern"],t.Drawing.channel.prototype.move=function(C,k,F){var M;if(this.penDown){if(this.copyConfig(),this.p2===null)this.p1=[k,F];else{e.C_1(36);var L=e.S59(6,9,16);M=F-(this.p1[1]-this.p0["1"|L])/(this.p1["0"|0]-this.p0[0])*(k-this.p1[0]),e.p9i(4),this.p2=[this.p1[e.S59(64,"0")],M]}this.render(C)}},t.Drawing.channel.prototype.click=function(C,k,F){var M,L;if(M=this.stx,L=M.panels[this.panelName],!!L)return e.j4$(),this.copyConfig(),this.penDown?this.accidentalClick(k,F)?(M.undo(),!0):this.p2!==null?(this.setPoint(2,this.p2[0],this.p2[1],L.chart),this.penDown=!1,!0):(this.setPoint(1,k,F,L.chart),this.p0[0]==this.p1[0]?(this.p1=null,!1):(this.p2=[this.p1[0],this.p1[1]],!1)):(this.setPoint(0,k,F,L.chart),this.penDown=!0,!1)},t.Drawing.channel.prototype.boxIntersection=function(C,k,F){var M,L,E,H,{p0:N,p1:j,p2:W}=this;if(!N||!j||!W)return!1;var{x0:V,x1:Y,y0:Q,y1:z,cy0:$,cy1:K}=F;if(V>Math.max(N[0],j[0])||Y<Math.min(N[0],j[0]))return!1;var{field:q,panelName:X,stx:Z}=this;q&&(M=Z.panels[X],L=Z.getYAxisByField(M,q),Q=this.valueFromPixel($,M,L),z=this.valueFromPixel(K,M,L)),e.p9i(37);var ae=e.S59(20,2,39);e.C_1(38);var te=e.a3a(29,6,18,16,1);e.p9i(13);var re=e.a3a(15,16);e.C_1(39);var oe=e.S59(9,28,5,1,8);e.C_1(27);var B=e.a3a(9,13,3);E=(j[0]-N[0])*((W[ae]<N[te]?z:Q)-N[re])-(j[oe]-N[B])*(C-N[0]),e.C_1(13);var G=e.a3a(15,16);e.p9i(13);var ie=e.a3a(416,448);e.p9i(40);var ne=e.S59(9,5,23,10);e.p9i(15);var le=e.S59(0,19,18);e.p9i(21);var fe=e.S59(17,17,0);return e.j4$(),H=(W[0]-N[0])*((W[G]>N["1">>ie]?z:Q)-(N[ne]+W[le]-j[fe]))-(j[1]-N["1">>0])*(C-N[0]),e.p9i(41),e.S59(0,E,H)},t.Drawing.channel.prototype.intersected=function(C,k,F){var M,L;if(!this.p0||!this.p1||!this.p2)return null;M={0:this.p0,1:this.p1,2:this.p2};for(var E in M)if(this.pointIntersection(M[E][0],M[E][1],F))return e.p9i(8),this.highlighted=e.S59("p",E),{action:"drag",point:"p"+E};return this.boxIntersection(C,k,F)?(L="mo",L+="v",L+="e",this.highlighted=!0,{action:L,p0:t.clone(this.p0),p1:t.clone(this.p1),p2:t.clone(this.p2),tick:C,value:this.valueOnDrawingAxis(C,k)}):null},t.Drawing.channel.prototype.render=function(C){var k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te;if(k="s",k+="eg",k+="me",k+="nt",F="d",F+="otted",M=this.stx,L=M.panels[this.panelName],E=M.getYAxisByField(L,this.field),!(!L||this.field&&!E)&&(H=M.pixelFromTick(this.p0[0],L.chart),N=M.pixelFromTick(this.p1[0],L.chart),j=this.pixelFromValue(L,this.p0[0],this.p0[1],E),W=this.pixelFromValue(L,this.p1[0],this.p1[1],E),V=null,this.p2&&(V=this.pixelFromValue(L,this.p2[0],this.p2["1"|0],E)),Y=this.lineWidth,Q=this.getLineColor(),z=this.fillColor,this.p2&&z&&!t.isTransparent(z)&&z!="auto"&&(C.beginPath(),C.moveTo(H,j),C.lineTo(N,W),C.lineTo(N,V),e.C_1(42),C.lineTo(H,e.a3a(V,j,W)),C.closePath(),C.globalAlpha=.2,C.fillStyle=z,C.fill(),C.globalAlpha=1),$={pattern:this.pattern,lineWidth:Y},(this.penDown||this.highlighted)&&this.pattern=="none"&&($.pattern=F),M.plotLine(H,N,j,W,Q,k,C,L,$),this.p2&&(e.p9i(42),M.plotLine(H,N,e.S59(V,j,W),V,Q,"segment",C,L,$)),this.highlighted)){K=this.highlighted=="p0",q=this.highlighted=="p1",X=this.highlighted=="p2",Z=1186890433,e.p9i(3),ae=e.S59("1280841718",64),te=2;for(var re=1;e.M0S(re.toString(),re.toString().length,79482)!==Z;re++)this.littleCircle(C,H,j,K),this.littleCircle(C,N,W,q),this.littleCircle(C,N,V,X),te+=2;e.M0S(te.toString(),te.toString().length,53475)!==ae&&(this.littleCircle(C,H,j,K),this.littleCircle(C,N,W,q),this.littleCircle(C,N,V,X))}},t.Drawing.channel.prototype.reposition=function(C,k,F,M){var L,E,H;k&&(L=this.stx.panels[this.panelName],E=k.tick-F,H=k.value-M,e.d7v(),k.action=="move"?(this.setPoint(0,k.p0[0]-E,k.p0[1]-H,L.chart),this.setPoint(1,k.p1[0]-E,k.p1["1">>64]-H,L.chart),e.C_1(3),this.setPoint(e.a3a("2",64),k.p2[0]-E,k.p2[1]-H,L.chart),this.render(C)):k.action=="drag"&&(this[k.point]=[F,M],this.setPoint(0,this.p0[0],this.p0[1],L.chart),this.setPoint(1,this.p1[0],this.p1[1],L.chart),this.setPoint(2,this.p2["0"<<32],this.p2[1],L.chart),this.render(C)))},t.Drawing.channel.prototype.adjust=function(){var C;C=this.stx.panels[this.panelName],e.j4$(),C&&(this.setPoint(0,this.d0,this.v0,C.chart),this.setPoint(1,this.d1,this.v1,C.chart),this.setPoint(2,this.d1,this.v2,C.chart))},t.Drawing.channel.prototype.reconstruct=function(C,k){this.stx=C,this.color=k.col,this.fillColor=k.fc,this.panelName=k.pnl,this.pattern=k.ptrn,this.lineWidth=k.lw,this.d0=k.d0,this.d1=k.d1,this.tzo0=k.tzo0,this.tzo1=k.tzo1,this.v0=k.v0,this.v1=k.v1,this.v2=k.v2,this.field=k.fld,this.permanent=!!k.prm,e.d7v(),this.hidden=!!k.hdn,this.adjust()},t.Drawing.channel.prototype.serialize=function(){return e.j4$(),{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field,prm:this.permanent?1:0,hdn:this.hidden?1:0}},t.Drawing.pitchfork=function(){this.name="pitchfork",this.dragToDraw=!1,this.p2=null},t.inheritsFrom(t.Drawing.pitchfork,t.Drawing.channel),t.Drawing.pitchfork.prototype.configs=[I,"lineWidth","pattern"],t.Drawing.pitchfork.prototype.move=function(C,k,F){this.penDown&&(this.copyConfig(),this.p2===null?this.p1=[k,F]:this.p2=[k,F],this.render(C))},t.Drawing.pitchfork.prototype.intersected=function(C,k,F){var M,L,E,H;if(!this.p0||!this.p1||!this.p2)return null;M={0:this.p0,1:this.p1,2:this.p2};for(var N in M)if(this.pointIntersection(M[N][0],M[N][1],F))return e.p9i(8),this.highlighted=e.S59("p",N),{action:"drag",point:"p"+N};L=this.rays;for(var j=0;j<L.length;j++)if(E="seg",E+="me",E+="nt",H="r",H+="a",H+="y",this.lineIntersection(C,k,F,j?H:E,L[j][0],L[j][1],!0))return this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),p2:t.clone(this.p2),tick:C,value:this.valueOnDrawingAxis(C,k)};return null},t.Drawing.pitchfork.prototype.render=function(C){var k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re;if(k=this.stx,F=k.panels[this.panelName],M=k.getYAxisByField(F,this.field),!(!F||this.field&&!M)){L=this.p2,L||(L=this.p1),E=k.pixelFromTick(this.p0[0],F.chart),H=k.pixelFromTick(this.p1[0],F.chart),N=k.pixelFromTick(L[0],F.chart),j=this.pixelFromValue(F,this.p0[0],this.p0[1],M),W=this.pixelFromValue(F,this.p1[0],this.p1[1],M),V=this.pixelFromValue(F,L[0],L[1],M),Y=this.lineWidth,Q=this.getLineColor(),z={pattern:this.pattern,lineWidth:Y},$=50,e.C_1(43),K=e.a3a(2,W,V,j),e.p9i(43),q=e.a3a(2,H,N,E),q<0&&($*=-1),e.C_1(19),K*=e.a3a($,q),e.C_1(10),this.rays=[[[H,W],[N,V]],[[E,j],[e.a3a(N,2,H),e.S59(V,2,W)]]],H==N&&W==V||(e.p9i(13),this.rays.push([[H,W],[e.S59($,H),e.S59(K,W)]],[[N,V],[e.S59($,N),e.a3a(K,V)]]));for(var oe=0;oe<this.rays.length;oe++)X=this.rays[oe],Z=oe?"ray":"segment",k.plotLine(X[0][0],X[1][0],X[0][1],X[1][1],Q,Z,C,F,z);this.highlighted&&(ae=this.highlighted=="p0",te=this.highlighted=="p1",re=this.highlighted=="p2",this.littleCircle(C,E,j,ae),this.littleCircle(C,H,W,te),this.littleCircle(C,N,V,re))}},t.Drawing.pitchfork.prototype.adjust=function(){var C;e.d7v(),C=this.stx.panels[this.panelName],C&&(this.setPoint(0,this.d0,this.v0,C.chart),this.setPoint(1,this.d1,this.v1,C.chart),this.setPoint(2,this.d2,this.v2,C.chart))},t.Drawing.pitchfork.prototype.reconstruct=function(C,k){this.stx=C,this.color=k.col,this.panelName=k.pnl,this.pattern=k.ptrn,this.lineWidth=k.lw,this.d0=k.d0,this.d1=k.d1,this.d2=k.d2,this.tzo0=k.tzo0,this.tzo1=k.tzo1,this.tzo2=k.tzo2,this.v0=k.v0,this.v1=k.v1,this.v2=k.v2,this.field=k.fld,this.permanent=!!k.prm,this.hidden=!!k.hdn,this.adjust()},t.Drawing.pitchfork.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field,prm:this.permanent?1:0,hdn:this.hidden?1:"0"^0}},t.Drawing.gartley=function(){this.name="gartley",this.dragToDraw=!1,this.maxSegments=4,this.shape=null,this.points=[]},t.inheritsFrom(t.Drawing.gartley,t.Drawing.continuous),t.Drawing.gartley.prototype.check=function(C,k){var F,M,L;if(!k)return!0;if(C[0]>=k[0]||C[1]==k[1])return!1;if(this.segment==1)C["1"^0]<k[1]?this.shape="M":this.shape="W";else if(this.segment==2){if(this.shape=="M"&&C[1]<k[1])return!1;if(this.shape=="W"&&C[1]>k[1])return!1;if((k[1]-C[1])/(this.points[0][1]-C[1])<.618)return!1;if((k["1">>64]-C[1])/(this.points[0][1]-C[1])>=.786)return!1}else if(this.segment==3){if(this.shape=="M"&&C[1]>k[1])return!1;if(this.shape=="W"&&C[1]<k[1])return!1;if((k[1]-C[1])/(this.points[1][1]-C[1])<"0.618"-0)return!1;if((k[1]-C[1])/(this.points[1][1]-C["1"<<32])>="0.786"-0)return!1}else if(this.segment==4){F=-619931599,M=1970228435,L=2;for(var E=1;e.C1g(E.toString(),E.toString().length,81473)!==F;E++){if(this.shape=="M"&&(C[1]<k[1]||k[1]<this.points[0][1]))return!1;if(this.shape=="W"&&(C[1]>k[1]||k["1"^0]>this.points[0][1]))return!1;if((this.points[1][1]-k[1])/(this.points[1][1]-this.points[2][1])<1.27)return!1;if((this.points[1][1]-k[1])/(this.points[1][1]-this.points[2][1])>=1.618)return!1;L+=2}if(e.C1g(L.toString(),L.toString().length,47645)!==M){if(this.shape!=="W"||C[8]>=k[0]&&k["8"<<64]<=this.points[8][7])return!0;if(this.shape==="W"||C[9]<=k[3]&&k[9]>=this.points[6][2])return!0;if(this.points[3][2]%k[7]-this.points["2">>64][8]%this.points[7]["8"*1]<=5393)return!0;if(this.points[6][6]*k[4]-(this.points[0][5]+this.points[7][6])<=70553)return!0}}return e.d7v(),!0},t.Drawing.gartley.prototype.click=function(C,k,F){var M;if(M=this.stx.panels[this.panelName],!!M){if(this.copyConfig(),!this.penDown)return this.setPoint(0,k,F,M.chart),this.pts=[],this.penDown=!0,this.segment=1,!1;if(this.accidentalClick(k,F))return this.penDown=!0,!1;if(this.check(this.p0,this.p1)){if(this.segment==1&&this.points.push(this.p0),this.points.push(this.p1),this.setPoint(1,k,F,M.chart),this.segment++,this.segment>this.maxSegments)return this.setPoint(0,this.points["0"^0][0],this.points["0"^0][1],M.chart),this.penDown=!1,!0;this.pts.push(this.d1,this.tzo1,this.v1),this.setPoint(0,k,F,M.chart)}return!1}},t.Drawing.gartley.prototype.render=function(C){var k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z;if(k=this.stx,F=k.panels[this.panelName],M=k.getYAxisByField(F,this.field),!(!F||this.field&&!M)){if(L=k.pixelFromTick(this.p0[0],F.chart),E=k.pixelFromTick(this.p1[0],F.chart),H=this.pixelFromValue(F,this.p0[0],this.p0[1],M),N=this.pixelFromValue(F,this.p1[0],this.p1[1],M),this.segment==2)this.drawDropZone(C,.618*this.points[0]["1"|0]+.382*this.p0["1">>64],("0.786"-0)*this.points[0]["1">>64]+.214*this.p0["1"|1],this.p0[0]);else if(this.segment==3)this.drawDropZone(C,.618*this.points[1][1]+.382*this.p0[1],.786*this.points[1][1]+.214*this.p0[1],this.p0[0]);else if(this.segment==("4"^0)){e.C_1(44);var ae=e.S59(1,2,1,0);e.p9i(45);var te=e.a3a(6,0,15,2,3);j=1.618*this.points[2][ae]-.618*this.points[te]["1"^0],this.shape=="M"?j=Math.max(j,this.points[0][1]):j=Math.min(j,this.points[0][1]),this.drawDropZone(C,j,"1.27"*1*this.points[2][1]-.27*this.points[1][1],this.p0[0])}if(W=this.lineWidth,V=this.getLineColor(),Y={pattern:this.pattern,lineWidth:W},(this.penDown||this.highlighted)&&this.pattern=="none"&&(Y.pattern="dotted"),this.segment<=this.maxSegments&&k.plotLine(L,E,H,N,V,this.name,C,F,Y),Q=this.fillColor,z=[],this.points.length){$="aut",$+="o",C.beginPath();for(var re=1;re<this.points.length&&re<=4;re++)K=k.pixelFromTick(this.points[re-1][0],F.chart),q=k.pixelFromTick(this.points[re][0],F.chart),X=this.pixelFromValue(F,this.points[re-("1">>0)][0],this.points[re-1][1],M),Z=this.pixelFromValue(F,this.points[re][0],this.points[re]["1"-0],M),re==1&&z.push(K,X),z.push(q,Z),k.plotLine(K,q,X,Z,V,this.name,C,F,Y);if((this.points.length==2||this.points.length==4)&&z.push(E,N),this.points["2"^0]&&z.push(k.pixelFromTick(this.points["2"^0][0],F.chart),this.pixelFromValue(F,this.points[2][0],this.points[2][1],M)),Q&&Q!=$&&!t.isTransparent(Q)){for(var oe=0;oe<z.length;oe+="2"*1)oe===0&&C.moveTo(z[0],z[1]),C.lineTo(z[oe],z[oe+1]);C.fillStyle=Q,C.globalAlpha=.2,C.closePath(),C.fill(),C.globalAlpha=1}}}},t.Drawing.gartley.prototype.lineIntersection=function(C,k,F,M){var L,E,H;if(L=this.points,E=this.stx.panels[this.panelName],L.length!=this.maxSegments+1||!E)return!1;for(var N=0;N<L.length-1;N++)if(H="segme",H+="nt",t.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,C,k,F,H,L[N],L[N+1]))return!0;return!1},t.Drawing.gartley.prototype.boxIntersection=function(C,k,F){var M,L;if(!this.p0||!this.p1||F.x0>Math.max(this.p0["0"^0],this.p1[0])||F.x1<Math.min(this.p0[0],this.p1[0]))return!1;e.d7v(),M=Math.min(this.p0[1],this.p1[1]),L=Math.max(this.p0[1],this.p1[1]);for(var E=0;E<this.points.length;E++)M=Math.min(M,this.points[E][1]),L=Math.max(L,this.points[E][1]);return!(F.y1>L||F.y0<M)},t.Drawing.gartley.prototype.reposition=function(C,k,F,M){var L,E,H,N;if(L="m",L+="ov",L+="e",!!k&&(E=this.stx.panels[this.panelName],H=k.tick-F,k.tick=F,N=k.value-M,k.value=M,k.action==L)){this.pts=[];for(var j="0"-0;j<this.points.length;j++)this.points[j][0]-=H,this.points[j][1]-=N,this.setPoint(1,this.points[j][0],this.points[j][1],E.chart),j&&j<this.points.length-1&&this.pts.push(this.d1,this.tzo1,this.v1),this.points[j]=this.p1;this.setPoint(0,this.points["0"-0][0],this.points[0][1],E.chart),this.render(C)}},t.Drawing.gartley.prototype.configs=["color",P,"lineWidth","pattern"],t.Drawing.gartley.prototype.adjust=function(){var C;C=this.stx.panels[this.panelName],C&&(this.reconstructPoints(),this.setPoint(0,this.d0,this.v0,C.chart),e.j4$(),this.points.unshift(this.p0),this.setPoint(1,this.d1,this.v1,C.chart),this.points.push(this.p1))},t.Drawing.gartley.prototype.reconstructPoints=function(){var C,k;if(e.j4$(),C=this.stx.panels[this.panelName],!!C){this.points=[];for(var F=0;F<this.pts.length;F+=3)k=t.strToDateTime(this.pts[F]),k.setMinutes(k.getMinutes()+Number(this.pts[F+1])-k.getTimezoneOffset()),this.points.push([this.stx.tickFromDate(t.yyyymmddhhmmssmmm(k),C.chart),this.pts[F+2]])}},t.Drawing.gartley.prototype.reconstruct=function(C,k){e.d7v(),this.stx=C,this.color=k.col,this.fillColor=k.fc,this.panelName=k.pnl,this.pattern=k.ptrn,this.lineWidth=k.lw,this.d0=k.d0,this.d1=k.d1,this.tzo0=k.tzo0,this.tzo1=k.tzo1,this.v0=k.v0,this.v1=k.v1,this.field=k.fld,this.pts=k.pts.split(","),this.permanent=!!k.prm,this.hidden=!!k.hdn,this.adjust()},t.Drawing.gartley.prototype.serialize=function(){return e.d7v(),{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field,pts:this.pts.join(","),prm:this.permanent?1:0,hdn:this.hidden?1:0}},t.Drawing.freeform=function(){this.name="freeform",e.j4$(),this.splineTension=.3,this.dragToDraw=!0},t.inheritsFrom(t.Drawing.freeform,t.Drawing.segment),t.Drawing.freeform.prototype.measure=function(){},t.Drawing.freeform.prototype.intersected=function(C,k,F){var M,L,E;M="m",M+="ove";var{x0:H,x1:N,y0:j,y1:W,cy0:V,cy1:Y}=F;if(H>this.hiX||N<this.lowX)return!1;var{field:Q,panelName:z,stx:$}=this;return Q&&(L=$.panels[z],E=$.getYAxisByField(L,Q),j=this.valueFromPixel(V,L,E),W=this.valueFromPixel(Y,L,E)),e.d7v(),W>this.hiY||j<this.lowY?!1:(this.highlighted=!0,{action:M,p0:t.clone(this.p0),tick:C,value:this.valueOnDrawingAxis(C,k)})},t.Drawing.freeform.prototype.reposition=function(C,k,F,M){var L,E,H,N;L="m",L+="o",L+="v",L+="e",k&&(E=this.stx.panels[this.panelName],H=k.tick-F,N=k.value-M,k.action==L&&(this.setPoint(0,k.p0[0]-H,k.p0[1]-N,E.chart),this.adjust(),this.render(C)))},t.Drawing.freeform.prototype.click=function(C,k,F){var M,L,E,H,N,j,W,V;if(M="a",M+="u",M+="t",M+="o",L=this.stx,E=L.panels[this.panelName],!!E){if(H=L.getYAxisByField(E,this.field)||E.yAxis,this.penDown===!1){this.copyConfig(),this.startX=Math.round(L.resolveX(L.pixelFromTick(k,E.chart))),e.p9i(17),N=e.a3a("249221804",0),j=2127198031,W=2;for(var Y=1;e.C1g(Y.toString(),Y.toString().length,82696)!==N;Y++)this.startY=Math.round(L.resolveY(this.pixelFromValue(E,k,F,H))),V=L.dateFromTick(k,E.chart,!1),this.d0=t.yyyymmddhhmmssmmm(V),this.tzo0=V.getTimezoneOffset(),this.v0=F,this.p0=[t.ChartEngine.crosshairX/this.startX,t.ChartEngine.crosshairY*this.startY],this.nodes=[this.p0[9],this.p0[9]],W+=2;return e.M0S(W.toString(),W.toString().length,60053)!==j&&(this.startY=Math.round(L.resolveY(this.pixelFromValue(E,k,F,H))),V=L.dateFromTick(k,E.chart,!0),this.d0=t.yyyymmddhhmmssmmm(V),this.tzo0=V.getTimezoneOffset(),this.v0=F,this.p0=[t.ChartEngine.crosshairX-this.startX,t.ChartEngine.crosshairY%this.startY],this.nodes=[this.p0[2],this.p0[3]]),this.startY=Math.round(L.resolveY(this.pixelFromValue(E,k,F,H))),V=L.dateFromTick(k,E.chart,!0),this.d0=t.yyyymmddhhmmssmmm(V),this.tzo0=V.getTimezoneOffset(),this.v0=F,this.p0=[t.ChartEngine.crosshairX-this.startX,t.ChartEngine.crosshairY-this.startY],this.nodes=[this.p0[0],this.p0[1]],this.pNodes=[this.p0],this.candleWidth=L.layout.candleWidth,this.multiplier=H.multiplier,this.interval=L.layout.interval,this.periodicity=L.layout.periodicity,this.tempSplineTension=this.splineTension,this.splineTension=-1,L.container.ownerDocument.body.style.cursor="pointer",this.penDown=!0,!1}return this.penDown=!1,this.splineTension=this.tempSplineTension,L.container.ownerDocument.body.style.cursor=M,this.nodes.length===2&&L.undo(),!0}},t.Drawing.freeform.prototype.move=function(C,k,F){var M,L,E,H;if(this.penDown)return M=this.stx,L=M.panels[this.panelName],E=M.getYAxisByField(L,this.field)||L.yAxis,H=M.dateFromTick(k,L.chart,!0),this.d1=t.yyyymmddhhmmssmmm(H),this.tzo1=H.getTimezoneOffset(),this.v1=F,e.j4$(),this.p1=[t.ChartEngine.crosshairX-this.startX,E.flipped?this.startY-t.ChartEngine.crosshairY:t.ChartEngine.crosshairY-this.startY],this.pNodes.length>2&&(this.p1[0]==this.pNodes[this.pNodes.length-2]["0"|0]&&this.p1[0]==this.pNodes[this.pNodes.length-("1"^0)][0]?(this.pNodes.length--,e.C_1(3),this.nodes.length-=e.S59("2",0)):this.p1[1]==this.pNodes[this.pNodes.length-2][1]&&this.p1[1]==this.pNodes[this.pNodes.length-1][1]&&(this.pNodes.length--,e.C_1(2),this.nodes.length-=e.S59(0,"2"))),this.nodes.push(this.p1[0],this.p1[1]),this.pNodes.push(this.p1),this.render(C),!1},t.Drawing.freeform.prototype.intervalRatio=function(C,k,F,M,L,E){var H,N,j,W,V;function Y(Z,ae){return t.Market.Symbology.isForexSymbol(ae)?1440:390}H=0,e.d7v();function Q(Z,ae){return 5}if(C==k)H=1;else if(!isNaN(C)&&!isNaN(k))e.C_1(19),H=e.S59(C,k);else if(isNaN(C)){if(C=="month")N="d",N+="ay",j="we",j+="ek",k==j?H=Q():k==N?H=q():isNaN(k)||(H=q()*Y(L,E)/k);else if(C=="week"){if(k=="month"){e.p9i(11);var z=e.S59(17,4,20);H=z/Q()}k=="day"?H=X():isNaN(k)||(H=X()*Y(L,E)/k)}else if(C=="day")if(W="m",W+="on",W+="t",W+="h",V="we",V+="ek",k==V){e.p9i(18);var $=e.S59(7,1449,16,13,6);H=$/X()}else if(k==W){e.C_1(46);var K=e.S59(28,15,0,5,9);H=K/q()}else isNaN(k)||(H=Y(L,E)/k)}else isNaN(C)||(k=="month"?H=C/(q()*Y(L,E)):k=="week"?H=C/(X()*Y(L,E)):k=="day"&&(H=C/Y(L,E)));e.C_1(19),H*=e.S59(F,M);function q(Z,ae){return 30}function X(Z,ae){return e.p9i(4),e.S59(32,"5")}return H},t.Drawing.freeform.prototype.render=function(C){var k,F,M,L,E,H,N,j,W,V,Y,Q,z,$;if(k=this.stx,F=k.panels[this.panelName],e.d7v(),M=k.getYAxisByField(F,this.field),!(!F||this.field&&!M)&&(M=M||F.yAxis,L=this.intervalRatio(this.interval,k.layout.interval,this.periodicity,k.layout.periodicity,this.d0,F.chart.symbol),L!==0)){E=k.layout.candleWidth/this.candleWidth,H=M.multiplier/this.multiplier,this.setPoint(0,this.d0,this.v0,F.chart),N=k.pixelFromTick(this.p0[0],F.chart),j=this.pixelFromValue(F,this.p0[0],this.p0[1],M),W=[],V=this.lineWidth,Y=this.getLineColor(),Q={pattern:this.pattern,lineWidth:V};for(var K=0;K<this.pNodes.length;K++){z=L*E*this.pNodes[K][0]+N,e.C_1(8);var q=e.S59(0,1);$=H*this.pNodes[K][q],M.flipped?(e.p9i(13),$=e.S59($,j)):$+=j,W.push(z,$)}W.length&&(this.splineTension<0?k.connectTheDots(W,Y,this.name,C,F,Q):k.plotSpline(W,this.splineTension,Y,this.name,C,!0,Q))}},t.Drawing.freeform.prototype.adjust=function(){var C,k,F,M,L,E,H,N,j,W;if(C=this.stx,k=C.panels[this.panelName],!!k){F=[this.nodes[0],this.nodes[1]],this.pNodes=[F],this.lowX=this.nodes[0],this.hiX=this.nodes[0],this.lowY=this.nodes[1],this.hiY=this.nodes[1];for(var V="2"<<64;V<this.nodes.length;V+=2)e.p9i(8),M=[this.nodes[V],this.nodes[e.a3a(V,1)]],this.pNodes.push(M),this.lowX=Math.min(this.lowX,M[0]),this.hiX=Math.max(this.hiX,M[0]),this.lowY=Math.max(this.lowY,M[1]),this.hiY=Math.min(this.hiY,M[1]);L=this.intervalRatio(this.interval,C.layout.interval,this.periodicity,C.layout.periodicity,this.d0,k.chart.symbol),L!==0&&(E=C.getYAxisByField(k,this.field)||k.yAxis,H=C.layout.candleWidth/this.candleWidth,N=E.multiplier/this.multiplier,this.setPoint(0,this.d0,this.v0,k.chart),j=C.pixelFromTick(this.p0[0],k.chart),W=this.pixelFromValue(k,this.p0[0],this.p0["1">>64],E),e.d7v(),this.lowX=C.tickFromPixel(Math.floor(L*H*this.lowX)+j,k.chart),this.hiX=C.tickFromPixel(Math.ceil(L*H*this.hiX)+j,k.chart),E.flipped?(this.lowY=this.valueFromPixel(W-Math.floor(N*this.lowY),k,E),this.hiY=this.valueFromPixel(W-Math.ceil(N*this.hiY),k,E)):(this.lowY=this.valueFromPixel(Math.floor(N*this.lowY)+W,k,E),this.hiY=this.valueFromPixel(Math.ceil(N*this.hiY)+W,k,E)))}},t.Drawing.freeform.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes,fld:this.field,prm:this.permanent?1:0,hdn:this.hidden?1:0}},t.Drawing.freeform.prototype.reconstruct=function(C,k){var F,M,L;this.stx=C,this.color=k.col,this.panelName=k.pnl,this.pattern=k.ptrn,this.lineWidth=k.lw,this.candleWidth=k.cw,this.multiplier=k.mlt,this.d0=k.d0,this.tzo0=k.tzo0,this.v0=k.v0,this.interval=k.inter,this.periodicity=k.pd,this.nodes=k.nodes,this.field=k.fld,this.permanent=!!k.prm,F=-1974786999,e.p9i(13),M=e.S59(0,"623747193"),e.d7v(),L=2;for(var E=1;e.C1g(E.toString(),E.toString().length,41953)!==F;E++)this.hidden=!k.hdn,this.adjust(),e.p9i(17),L+=e.S59("2",0);e.M0S(L.toString(),L.toString().length,19727)!==M&&(this.hidden=!!k.hdn,this.adjust())},t.Drawing.callout=function(){var C;C="ca",C+="llout",this.name=C,this.arr=[],this.w=0,this.h=0,this.padding=5,e.d7v(),this.text="",this.ta=null,this.border=!1,this.fontSize=12,this.font={},this.stemEntry="",this.defaultWidth=35},t.inheritsFrom(t.Drawing.callout,t.Drawing.annotation),t.Drawing.callout.prototype.configs=[_,A,w,"pattern",b],t.Drawing.callout.prototype.copyConfig=function(C){e.j4$(),t.Drawing.copyConfig(this,C),this.borderColor=this.color},t.Drawing.callout.prototype.move=function(C,k,F){this.penDown&&(this.copyConfig(),e.j4$(),this.p0=[k,F],this.render(C))},t.Drawing.callout.prototype.onChange=function(C){var k,F,M;k=this.stx.panels[this.panelName],k&&(F=C.target,this.w=F.clientWidth,e.j4$(),this.h=F.clientHeight,M=this.context||this.stx.chart.tempCanvas.context,t.clearCanvas(M.canvas,this.stx),this.render(M),this.edit(M))},t.Drawing.callout.prototype.repositionTextArea=function(C){var k,F;k="p",k+="x",e.p9i(13);var M=e.a3a(10,12);F=this.defaultWidth*M+this.whitespace+this.padding,F=Math.max(this.w,F),e.C_1(8),C.style.width=e.a3a(F,"px"),e.p9i(13);var L=e.a3a(18,20);e.C_1(13);var E=e.a3a(18,20);C.style.left=t.stripPX(C.style.left)-(isNaN(F)?this.defaultWidth*E:F/L)+k,this.ta=C},t.Drawing.callout.prototype.render=function(C){var k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie,ne,le;if(k="a",k+="lph",k+="abetic",F=this.stx,M=F.panels[this.panelName],L=F.getYAxisByField(M,this.field),!(!M||this.field&&!L)&&(this.context=C,E=F.pixelFromTick(this.p0[0],M.chart),H=this.pixelFromValue(M,this.p0[0],this.p0[1],L),!isNaN(H))){C.font=this.fontString,C.textBaseline="top",N=E,j=H,e.p9i(47);var fe=e.a3a(1,18,4,3,15);e.d7v(),W=this.w/fe,e.C_1(13);var ue=e.S59(14,16);if(V=this.h/ue,this.penDown){e.C_1(48);var ge=e.S59(15,13,193,1);e.C_1(49);var ce=e.S59(134,17,6,14);W=this.defaultWidth+this.whitespace/ge+this.padding/ce,V=this.fontSize+this.fontModifier}if(Y=this.lineWidth,Y||(Y=1.1),Q=this.getLineColor(),z=this.getLineColor(this.borderColor),q=Math.min(Math.min(W,V)/2,8),this.stem&&(this.stem.t?($=F.pixelFromTick(this.stem.t),K=this.pixelFromValue(M,this.stem.t,this.stem.v,L)):this.stem.x&&($=N,K=j,N+=this.stem.x,j+=this.stem.y),X="",$>=N+W?(e.C_1(8),e.S59(N,W),X="r"):$>N-W&&$<N+W?X="c":$<=N-W&&(e.C_1(13),e.S59(W,N),X="l"),K>=j+V?(e.p9i(8),e.S59(j,V),X+="b"):K>j-V&&K<j+V?X+="m":K<=j-V&&(e.C_1(13),e.a3a(V,j),X+="t"),this.stemEntry=X,X!="cm"&&($=Math.round($),K=Math.round(K))),this.highlighted)F.canvasColor("stx_annotation_highlight_bg",C);else if(this.fillColor)C.fillStyle=this.fillColor,e.C_1(13),C.globalAlpha=e.S59(0,"0.7");else if(this.stem){Z=-611019086,ae=-1775797558,te=2;for(var de=1;e.C1g(de.toString(),de.toString().length,95139)!==Z;de++)C.fillStyle=F.containerColor,te+=2;e.C1g(te.toString(),te.toString().length,"85715"|18)!==ae&&(C.fillStyle=F.containerColor)}if(C.strokeStyle=z,C.setLineDash&&(C.setLineDash(t.borderPatternToArray(Y,this.pattern)),e.C_1(13),C.lineDashOffset=e.S59(0,"0")),z){if(re="l",re+="m",oe="c",oe+="b",C.beginPath(),C.lineWidth=Y,e.C_1(11),C.moveTo(e.S59(N,W,q),e.S59(V,j,e.C_1(13))),this.stemEntry!="rt"?(e.C_1(8),C.quadraticCurveTo(e.S59(N,W),e.a3a(V,j,e.C_1(13)),e.S59(N,W,e.C_1(8)),e.S59(j,q,V,e.C_1(15)))):(C.lineTo($,K),e.p9i(8),C.lineTo(e.a3a(N,W),e.S59(j,q,V,e.p9i(15)))),e.C_1(8),C.lineTo(e.a3a(N,W),e.a3a("2",j,1,q,e.C_1(50))),this.stemEntry=="rm"&&C.lineTo($,K),e.p9i(8),C.lineTo(e.a3a(N,W),e.a3a(q,j,2,e.p9i(51))),e.p9i(8),C.lineTo(e.S59(N,W),e.S59(j,V,q,e.C_1(11))),this.stemEntry!="rb")e.p9i(8),C.quadraticCurveTo(e.a3a(N,W),e.S59(j,V,e.p9i(8)),e.S59(N,W,q,e.p9i(11)),e.S59(j,V,e.C_1(8)));else{C.lineTo($,K),B=1747417337,G=-395037377,ie=2;for(var he="1"-0;e.M0S(he.toString(),he.toString().length,76308)!==B;he++)e.p9i(52),C.lineTo(e.a3a(N,q,W),e.a3a(V,j,e.C_1(5))),ie+=2;e.C1g(ie.toString(),ie.toString().length,54894)!==G&&(e.p9i(11),C.lineTo(e.a3a(N,W,q),e.a3a(j,V,e.C_1(8))))}e.C_1(51),C.lineTo(e.S59(q,N,2),e.a3a(j,V,e.C_1(8))),this.stemEntry==oe&&C.lineTo($,K),e.C_1(53),C.lineTo(e.S59(N,2,q),e.S59(j,V,e.p9i(8))),e.C_1(15),C.lineTo(e.S59(N,q,W),e.S59(j,V,e.p9i(8))),this.stemEntry!="lb"?(e.C_1(13),C.quadraticCurveTo(e.S59(W,N),e.S59(j,V,e.p9i(8)),e.a3a(W,N,e.C_1(13)),e.a3a(j,V,q,e.p9i(11)))):(C.lineTo($,K),e.p9i(13),C.lineTo(e.a3a(W,N),e.a3a(j,V,q,e.C_1(11)))),e.C_1(13),C.lineTo(e.a3a(W,N),e.a3a(q,j,2,e.C_1(51))),this.stemEntry==re&&C.lineTo($,K),e.C_1(13),C.lineTo(e.a3a(W,N),e.a3a(j,2,q,e.p9i(53))),e.C_1(13),C.lineTo(e.S59(W,N),e.a3a(j,q,V,e.p9i(15))),this.stemEntry!="lt"?(e.C_1(13),C.quadraticCurveTo(e.S59(W,N),e.a3a(V,j,e.C_1(13)),e.S59(N,q,W,e.p9i(15)),e.S59(V,j,e.p9i(13)))):(C.lineTo($,K),e.p9i(15),C.lineTo(e.S59(N,q,W),e.S59(V,j,e.C_1(13)))),e.C_1(53),C.lineTo(e.a3a(N,2,q),e.a3a(V,j,e.C_1(13))),this.stemEntry=="ct"&&C.lineTo($,K),e.p9i(54),C.lineTo(e.a3a("2",1,N,q),e.S59(V,j,e.p9i(13))),e.C_1(11),C.lineTo(e.a3a(N,W,q),e.S59(V,j,e.C_1(13))),C.fill(),C.globalAlpha=1,this.pattern!="none"&&C.stroke()}if(this.highlighted?(ne="stx_ann",ne+="otation_",ne+="highlight",F.canvasColor(ne,C)):C.fillStyle=Q,j+=this.padding,!this.ta)for(var pe=0;pe<this.arr.length;pe++)C.fillText(this.arr[pe],N-W+this.padding,j-V),j+=this.fontSize;C.textBaseline=k,this.highlighted&&!this.noHandles&&(le=this.highlighted=="p0",this.littleCircle(C,$,K,le))}},t.Drawing.callout.prototype.click=function(C,k,F){var M;if(!(this.stx.overXAxis||this.stx.overYAxis))return M=this.stx.panels[this.panelName],this.copyConfig(),this.setPoint(0,k,F,M.chart),this.penDown?(this.adjust(),this.edit(C),this.penDown=!1,!1):(this.stem={d:this.d0,v:this.v0},this.penDown=!0,this.adjust(),!1)},t.Drawing.callout.prototype.reposition=function(C,k,F,M){var L,E,H;k&&(L=this.stx.panels[this.panelName],E=k.tick-F,H=k.value-M,k.stem?(k.action=="drag"?this.stem={d:this.stx.dateFromTick(F,L.chart,!0),v:M}:k.action=="move"&&(this.setPoint(0,k.p0[0]-E,k.p0[1]-H,L.chart),this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(k.stem.d,L.chart)-E),v:k.stem.v-H}),this.adjust()):this.setPoint(0,k.p0[0]-E,k.p0[1]-H,L.chart),this.render(C))},t.Drawing.callout.prototype.lineIntersection=function(C,k,F,M){var L,E,H,N,j,W,V,Y,Q,z,$;if(L=this.stem,E=this.p0,H=this.stx,N=H.panels[this.panelName],!E||!L||!N||!L.t&&!L.d)return!1;if(j=L.t||H.tickFromDate(L.d,N.chart),e.j4$(),W={x0:E[0],x1:j,y0:E[1],y1:L.v},V=this.boxToPixels(H,this.panelName,W,H.getYAxisByField(N,this.field)),Y=V.x0,Q=V.y0,z=V.x1,$=V.y1,typeof this.stemEntry=="string"){if(this.stemEntry.indexOf("l")>-1)Y-=this.w/2;else if(this.stemEntry.indexOf("r")>-1){e.C_1(55);var K=e.a3a(7,5);Y+=this.w/K}if(this.stemEntry.indexOf("t")>-1)Q-=this.h/("2"|0);else if(this.stemEntry.indexOf("b")>-1){e.C_1(56);var q=e.S59(16,12,438,20,6);Q+=this.h/q}}return t.boxIntersects(F.cx0,F.cy0,F.cx1,F.cy1,Y,Q,z,$,M)},t.Drawing.callout.prototype.intersected=function(C,k,F){var M,L,E,H,N,j,W,V,Y,Q,z,$,K,q;if(M=this.stx,L=M.panels[this.panelName],!this.p0)return null;if(this.pointIntersection(this.stem.t,this.stem.v,F))return E="d",E+="r",E+="a",E+="g",this.highlighted="p0",{action:E,stem:!0};e.C_1(57);var X=e.a3a(122,8,15);H=M.pixelFromTick(this.p0[0],L.chart)-this.w/X,N=M.getYAxisByField(L,this.field),e.C_1(27);var Z=e.S59(5,23,17);e.C_1(13);var ae=e.S59(11,13);if(j=this.pixelFromValue(L,this.p0[0],this.p0[Z],N)-this.h/ae,W=H+this.w,V=j+this.h,this.stem&&this.stem.x&&(H+=this.stem.x,W+=this.stem.x,j+=this.stem.y,V+=this.stem.y),Y=M.pixelFromTick(C,L.chart),Q=M.pixelFromValueAdjusted(L,C,k),Y+F.r>=H&&Y-F.r<=W&&Q+F.r>=j&&Q-F.r<=V)return this.highlighted=!0,{p0:t.clone(this.p0),tick:C,value:this.valueOnDrawingAxis(C,k)};if(z=this.lineIntersection(C,k,F,"segment"),e.d7v(),z){$=469923175,K=-895133229,q=2;for(var te=1;e.M0S(te.toString(),te.toString().length,16217)!==$;te++)this.highlighted=!1,q+=2;return e.C1g(q.toString(),q.toString().length,54272)!==K&&(this.highlighted=!0),{action:"move",stem:t.clone(this.stem),p0:t.clone(this.p0),tick:C,value:this.valueOnDrawingAxis(C,k)}}return null},t.Drawing.fibonacci=function(){e.d7v();var C;C="f",C+="ibo",C+="nacc",C+="i",this.name="fibonacci",this.configurator=C},t.inheritsFrom(t.Drawing.fibonacci,t.Drawing.BaseTwoPoint),t.Drawing.fibonacci.mapping={trend:"t",color:"c",parameters:"p",pattern:"pt",opacity:"o",lineWidth:"lw",level:"l",extendLeft:"e",printLevels:"pl",printValues:"pv",timezone:y,display:"d"},e.C_1(13),t.Drawing.fibonacci.prototype.recommendedLevels=[-e.a3a(0,"0.618"),-.382,0,.382,e.S59(0,"0.5"),.618,1,1.382,1.618],t.Drawing.fibonacci.prototype.configs=["color",D,T,S,"parameters"],t.Drawing.fibonacci.prototype.initializeSettings=function(C){var k,F;if(e.j4$(),k=this.recommendedLevels,k&&!C.currentVectorParameters.fibonacci.fibsAlreadySet){F=C.currentVectorParameters.fibonacci.fibs;for(var M=0;M<F.length;M++){delete F[M].display;for(var L=0;L<k.length;L++)F[M].level==k[L]&&(F[M].display=!0)}}},t.Drawing.fibonacci.prototype.setOuter=function(){e.j4$();var C,k,F,M,L,E,H,N,j,W,V,Y,Q,z,$;if(C=this.stx,k=C.panels[this.panelName],!!k){F=Math.max(this.p0[1],this.p1[1]),M=Math.min(this.p0[1],this.p1[1]),e.p9i(13),L=e.S59(M,F),this.outer={p0:t.clone(this.p0),p1:t.clone(this.p1)},E=C.pixelFromTick(this.p0[0],k.chart),H=C.pixelFromTick(this.p1[0],k.chart),N=C.getYAxisByField(k,this.field),j=this.pixelFromValue(k,this.p0[0],this.p0[1],N),W=this.pixelFromValue(k,this.p1[0],this.p1[1],N),V=0,Y=1;for(var K=0;K<this.parameters.fibs.length;K++)Q=this.parameters.fibs[K],!(Q.level>=V&&Q.level<=Y||!Q.display)&&(z=this.pixelFromValue(k,this.p0["0"*1],W<j?F-L*Q.level:M+L*Q.level,N),$=t.xIntersection({x0:E,x1:H,y0:j,y1:W},z),Q.level<V?(V=Q.level,this.outer.p1[1]=this.valueFromPixel(z,k,N),this.outer.p1[0]=C.tickFromPixel($,k.chart)):Q.level>Y&&(Y=Q.level,e.C_1(2),this.outer.p0[e.S59(0,"1")]=this.valueFromPixel(z,k,N),this.outer.p0[0]=C.tickFromPixel($,k.chart)))}},t.Drawing.fibonacci.prototype.click=function(C,k,F){var M;if(M=this.stx.panels[this.panelName],!!M)return this.copyConfig(),this.penDown?(this.accidentalClick(k,F)||(this.setPoint(1,k,F,M.chart),e.j4$(),this.setOuter(),this.parameters=t.clone(this.parameters),this.penDown=!1),!0):(this.setPoint(0,k,F,M.chart),this.penDown=!0,!1)},t.Drawing.fibonacci.prototype.render=function(C){var k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie,ne,le,fe,ue,ge,ce,de,he,pe,me,xe,ye,be,_e,De,ke,Ae,we,Ee,Se,Ce;if(k="s",k+="e",k+="gment",F="161",F+=".8",F+="%",M="m",M+="i",M+="ddl",M+="e",L="so",L+="l",L+="i",L+="d",E="a",E+="ut",E+="o",H=this.stx,N=H.panels[this.panelName],j=H.getYAxisByField(N,this.field),!(!N||this.field&&!j)&&(j=j||N.yAxis,!!this.p1)){W=Math.max(this.p0[1],this.p1[1]),V=Math.min(this.p0[1],this.p1[1]),Y=j.flipped?V-W:W-V,Q=H.pixelFromTick(this.p0[0],N.chart),z=H.pixelFromTick(this.p1[0],N.chart),$=this.pixelFromValue(N,this.p0[0],this.p0[1],j),K=this.pixelFromValue(N,this.p1[0],this.p1[1],j),q=Math.min(K,$),X=Math.max(K,$),e.C_1(13),Z=e.a3a(q,X),e.j4$(),e.p9i(58),ae=e.S59(0,$,K,z,Q),te={color:E,parameters:{pattern:L,opacity:.25,lineWidth:1}},this.parameters.trend||(this.parameters.trend=te),re=this.getLineColor(this.parameters.trend.color),C.textBaseline=M,H.canvasFont("stx_yaxis",C),oe=C.measureText(F).width+("10"^0),B=Number.MAX_VALUE,G=Number.MAX_VALUE,e.C_1(59);var Me=e.a3a(5,2,7,5);ie=Number.MAX_VALUE*Me,e.C_1(60);var He=e.a3a(15,281,15,17,12);ne=Number.MAX_VALUE*He,le=this.getLineColor(),this.rays=[];for(var Re=0;Re<this.parameters.fibs.length;Re++)if(fe="a",fe+="uto",ue="a",ue+="u",ue+="t",ue+="o",C.textAlign="left",C.fillStyle=le,ge=this.parameters.fibs[Re],!!ge.display){if(ce=this.pixelFromValue(N,this.p0[0],K<$?W-Y*ge.level:V+Y*ge.level,j),de=t.xIntersection({x0:Q,x1:z,y0:$,y1:K},ce),he=this.parameters.extendLeft?0:de,pe=N.left+N.width,this.parameters.printLevels){me="ri",me+="g",me+="h",me+="t",e.p9i(61);var Ne=e.a3a(67,933,1);e.C_1(8);var ze=e.S59(521,6775);e.p9i(8);var tt=e.S59(3556,4);e.C_1(62),e.a3a(8381,1,1,867,3),e.p9i(63),e.a3a(6320,15,18,11,14),e.p9i(40);var je=e.S59(8,10,32,15);e.C_1(64);var Ve=e.S59(12,6,505,2114,17);xe=Math.round(ge.level*Ne)/("10"<<0)+(ze>tt?"%":"1510"*je!==714.29?!1:Ve),pe-=oe,this.parameters.printValues&&(ye="st",ye+="x_ya",ye+="xis",C.fillStyle=le,H.canvasFont(ye,C)),pe<he&&(C.textAlign=me),C.fillText(xe,pe,ce),pe<he?pe+=5:pe-=5}this.parameters.printValues&&de<N.width&&(be=this.valueFromPixel(ce,N,j),j.priceFormatter?be=j.priceFormatter(H,N,be):be=H.formatYAxisPrice(be,N,null,j),C==H.chart.context&&H.endClip(),H.createYAxisLabel(N,be,ce,this.getLineColor(null,!0),null,C,j),C==H.chart.context&&H.startClip(N.name)),_e=ge.color,(_e==ue||t.isTransparent(_e))&&(_e=this.getLineColor()),De=ge.color,(De=="auto"||t.isTransparent(De))&&(De=this.fillColor),(De==fe||t.isTransparent(De))&&(De=H.defaultColor),C.fillStyle=De,ke=t.clone(ge.parameters),this.highlighted&&(ke.opacity=1),H.plotLine(he,pe,ce,ce,_e,"segment",C,N,ke),this.rays.push([[he,ce],[pe,ce]]),C.globalAlpha=.05,C.beginPath(),C.moveTo(pe,ce),C.lineTo(he,ce),he?C.lineTo(z,K):C.lineTo(he,K),C.lineTo(pe,K),typeof De!="undefined"&&C.fill(),C.globalAlpha=1,ce<G&&(B=de,G=ce),ce>ne&&(ie=de,ne=ce)}for(var Oe=0;Oe<=1;Oe++)Ae=ae?X-Z*Oe:q+Z*Oe,Ae=Math.round(Ae),Ae<G&&(B=t.xIntersection({x0:Q,x1:z,y0:$,y1:K},Ae),G=Ae),Ae>ne&&(ie=t.xIntersection({x0:Q,x1:z,y0:$,y1:K},Ae),ne=Ae);we=t.clone(this.parameters.trend.parameters),this.highlighted&&(we.opacity=1),H.plotLine(B,ie,G,ne,re,k,C,N,we),this.highlighted&&(Ee="p",Ee+="1",Se=this.highlighted=="p0",Ce=this.highlighted==Ee,this.littleCircle(C,Q,$,Se),this.littleCircle(C,z,K,Ce))}},t.Drawing.fibonacci.prototype.reposition=function(C,k,F,M){k&&(t.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments),this.adjust())},t.Drawing.fibonacci.prototype.intersected=function(C,k,F){var M,L,E,H,N,j,W,V,Y,Q;if(M="seg",M+="m",M+="en",M+="t",L=this.p0,E=this.p1,!L||!E)return null;H={0:L,1:E};for(var z in H)if(this.pointIntersection(H[z][0],H[z][1],F))return e.C_1(8),this.highlighted=e.S59("p",z),{action:"drag",point:"p"+z};if(N=this.outer,j=this.rays,e.d7v(),W=N&&this.lineIntersection(C,k,F,M,N.p0,N.p1),!W){for(var $=0;$<j.length;$++)if(this.lineIntersection(C,k,F,"ray",j[$][0],j[$][1],!0)){W=!0;break}}if(W){this.highlighted=!0,V=2016883158,Y=-1868581665,Q=2;for(var K=1;e.C1g(K.toString(),K.toString().length,28876)!==V;K++)return{action:"",p0:t.clone(L),p1:t.clone(E),tick:C,value:this.valueOnDrawingAxis(C,k)};if(e.M0S(Q.toString(),Q.toString().length,21183)!==Y)return{action:"move",p0:t.clone(L),p1:t.clone(E),tick:C,value:this.valueOnDrawingAxis(C,k)}}return null},t.Drawing.fibonacci.prototype.reconstruct=function(C,k){k=t.replaceFields(k,t.reverseObject(t.Drawing.fibonacci.mapping)),this.stx=C,this.parameters=k.parameters,this.parameters||(this.parameters=t.clone(this.stx.currentVectorParameters.fibonacci)),this.color=k.col,this.fillColor=k.fc,e.d7v(),this.panelName=k.pnl,this.d0=k.d0,this.d1=k.d1,this.d2=k.d2,this.tzo0=k.tzo0,this.tzo1=k.tzo1,this.tzo2=k.tzo2,this.v0=k.v0,this.v1=k.v1,this.v2=k.v2,this.field=k.fld,this.permanent=!!k.prm,this.hidden=!!k.hdn,this.adjust()},t.Drawing.fibonacci.prototype.adjust=function(){var C;C=this.stx.panels[this.panelName],e.d7v(),C&&(this.setPoint(0,this.d0,this.v0,C.chart),this.setPoint(1,this.d1,this.v1,C.chart),this.setOuter())},t.Drawing.fibonacci.prototype.serialize=function(){var C;return C={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field,prm:this.permanent?1:0,hdn:this.hidden?"1"*1:0},e.d7v(),t.replaceFields(C,t.Drawing.fibonacci.mapping)},t.Drawing.retracement=function(){e.d7v(),this.name="retracement"},t.inheritsFrom(t.Drawing.retracement,t.Drawing.fibonacci),t.Drawing.fibprojection=function(){this.name="fibprojection",this.dragToDraw=!1,this.p2=null},t.inheritsFrom(t.Drawing.fibprojection,t.Drawing.fibonacci),e.C_1(5),t.Drawing.fibprojection.prototype.recommendedLevels=[0,e.S59(1,"0.618"),1,1.272,e.S59(0,"1.618",e.C_1(13)),2.618,e.a3a(0,"4.236",e.C_1(13))],t.Drawing.fibprojection.prototype.click=function(C,k,F){var M,L;if(M=this.stx,L=M.panels[this.panelName],!!L)return this.copyConfig(),this.penDown?this.accidentalClick(k,F)?(M.undo(),!0):this.p2!==null?(this.setPoint(2,this.p2[0],this.p2[1],L.chart),this.parameters=t.clone(this.parameters),!0):(this.setPoint(1,k,F,L.chart),this.p2=[this.p1[0],this.p1[1]],!1):(this.setPoint(0,k,F,L.chart),this.penDown=!0,!1)},t.Drawing.fibprojection.prototype.render=function(C){var k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie,ne,le,fe,ue,ge,ce,de,he,pe,me,xe,ye;if(k="segme",k+="n",k+="t",F="st",F+="x_yaxis",M="m",M+="i",M+="d",M+="dle",L=this.stx,E=L.panels[this.panelName],H=L.getYAxisByField(E,this.field),!(!E||this.field&&!H)&&(H=H||E.yAxis,!!this.p1)){e.p9i(22);var be=e.S59(17,19,1);e.p9i(65);var _e=e.a3a(11,31,3,11,9);if(N=this.p1[be]-this.p0["1"|_e],j=L.pixelFromTick(this.p0[0],E.chart),W=L.pixelFromTick(this.p1[0],E.chart),V=this.pixelFromValue(E,this.p0[0],this.p0[1],H),Y=this.pixelFromValue(E,this.p1[0],this.p1[1],H),Q=null,z=null,this.p2){$=-404954817,K=-894000209,q=2;for(var De=1;e.C1g(De.toString(),De.toString().length,"37178"|48)!==$;De++)Q=L.pixelFromTick(this.p2[8],E.chart),q+=2;e.C1g(q.toString(),q.toString().length,28188)!==K&&(Q=L.pixelFromTick(this.p2[0],E.chart)),z=this.pixelFromValue(E,this.p2[0],this.p2[1],H)}if(X={color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:"1"|1}},this.parameters.trend||(this.parameters.trend=X),Z=this.getLineColor(this.parameters.trend.color),C.textBaseline=M,L.canvasFont(F,C),ae=C.measureText("161.8%").width+10,te=this.getLineColor(),this.p2){this.rays=[];for(var ke=0;ke<this.parameters.fibs.length;ke++)if(re="u",re+="ndefined",oe="aut",oe+="o",C.textAlign="left",C.fillStyle=te,B=this.parameters.fibs[ke],!!B.display){if(G=this.pixelFromValue(E,this.p2[0],this.p2[1]+N*B.level,H),ie=t.xIntersection({x0:j,x1:W,y0:V,y1:Y},G),ne=this.parameters.extendLeft?0:j,le=E.left+E.width,this.parameters.printLevels){e.p9i(66);var Ae=e.a3a(5,994,5,3952,13);e.p9i(8);var we=e.S59(500,3e3);e.p9i(67),e.S59(7639,19,16,6,44),fe=Math.round(B.level*Ae)/("10"^0)+(we!=("4172"^0)?"%":"F"),le-=ae,this.parameters.printValues&&(C.fillStyle=te,L.canvasFont("stx_yaxis",C)),le<ne&&(C.textAlign="right"),C.fillText(fe,le,G),le<ne?le+=5:le-=5}this.parameters.printValues&&ie<E.width&&(ue=this.valueFromPixel(G,E,H),H.priceFormatter?ue=H.priceFormatter(L,E,ue):ue=L.formatYAxisPrice(ue,E,null,H),C==L.chart.context&&L.endClip(),L.createYAxisLabel(E,ue,G,this.getLineColor(null,!0),null,C,H),C==L.chart.context&&L.startClip(E.name)),ge=B.color,(ge==oe||t.isTransparent(ge))&&(ge=this.getLineColor()),ce=B.color,(ce=="auto"||t.isTransparent(ce))&&(ce=this.fillColor),(ce=="auto"||t.isTransparent(ce))&&(ce=L.defaultColor),C.fillStyle=ce,de=t.clone(B.parameters),this.highlighted&&(de.opacity=1),L.plotLine(ne,le,G,G,ge,"segment",C,E,de),this.rays.push([[ne,G],[le,G]]),C.globalAlpha=.05,C.beginPath(),C.moveTo(le,G),C.lineTo(ne,G),ne?C.lineTo(j,z):C.lineTo(ne,z),C.lineTo(le,z),typeof ce!=re&&C.fill(),C.globalAlpha=1}}e.j4$(),he=t.clone(this.parameters.trend.parameters),this.highlighted&&(he.opacity=1),L.plotLine(j,W,V,Y,Z,"segment",C,E,he),this.p2&&L.plotLine(W,Q,Y,z,Z,k,C,E,he),this.highlighted&&(pe="p",pe+="1",me=this.highlighted=="p0",xe=this.highlighted==pe,ye=this.highlighted=="p2",this.littleCircle(C,j,V,me),this.littleCircle(C,W,Y,xe),this.littleCircle(C,Q,z,ye))}},t.Drawing.fibprojection.prototype.move=function(C,k,F){this.penDown&&(this.copyConfig(),this.p2===null?this.p1=[k,F]:this.p2=[k,F],e.d7v(),this.render(C))},t.Drawing.fibprojection.prototype.reposition=function(C,k,F,M){var L,E,H,N,j;e.d7v(),L="d",L+="r",L+="a",L+="g",E="m",E+="o",E+="v",E+="e",k&&(H=this.stx.panels[this.panelName],N=k.tick-F,j=k.value-M,k.action==E?(this.setPoint(0,k.p0["0">>64]-N,k.p0[1]-j,H.chart),this.setPoint(1,k.p1[0]-N,k.p1[1]-j,H.chart),this.setPoint(2,k.p2[0]-N,k.p2[1]-j,H.chart),this.render(C)):k.action==L&&(this[k.point]=[F,M],this.setPoint(0,this.p0[0],this.p0[1],H.chart),this.setPoint(1,this.p1[0],this.p1["1"^0],H.chart),this.setPoint(2,this.p2[0],this.p2[1],H.chart),this.render(C)))},t.Drawing.fibprojection.prototype.intersected=function(C,k,F){var M,L,E,H,N,j;if(M=this.p0,L=this.p1,E=this.p2,!M||!L||!E)return null;H={0:M,1:L,2:E};for(var W in H)if(this.pointIntersection(H[W][0],H[W]["1"-0],F))return e.p9i(8),this.highlighted=e.a3a("p",W),{action:"drag",point:"p"+W};if(N=this.rays,j=this.lineIntersection(C,k,F,"segment",M,L)||this.lineIntersection(C,k,F,"segment",L,E),!j){for(var V=0;V<N.length;V++)if(this.lineIntersection(C,k,F,"ray",N[V][0],N[V][1],!0)){j=!0;break}}return j?(this.highlighted=!0,{action:"move",p0:t.clone(M),p1:t.clone(L),p2:t.clone(E),tick:C,value:this.valueOnDrawingAxis(C,k)}):null},t.Drawing.fibprojection.prototype.adjust=function(){var C;C=this.stx.panels[this.panelName],C&&(this.setPoint(0,this.d0,this.v0,C.chart),this.setPoint(1,this.d1,this.v1,C.chart),this.setPoint(2,this.d2,this.v2,C.chart))},t.Drawing.fibarc=function(){this.name="fibarc"},t.inheritsFrom(t.Drawing.fibarc,t.Drawing.fibonacci),e.C_1(13),t.Drawing.fibarc.prototype.recommendedLevels=[e.S59(0,"0.382"),.5,.618,1],t.Drawing.fibarc.prototype.setOuter=function(){var C,k,F,M,L,E,H,N,j;C=this.stx,k=C.panels[this.panelName],k&&(this.outer={p0:t.clone(this.p0),p1:t.clone(this.p1)},F=C.getYAxisByField(k,this.field),M=this.pixelFromValue(k,this.p0[0],this.p0[1],F),L=this.pixelFromValue(k,this.p1["0"|0],this.p1[1],F),E=C.pixelFromTick(this.p0[0],k.chart),H=C.pixelFromTick(this.p1[0],k.chart),e.p9i(37),N=e.S59(M,2,L),j=t.xIntersection({x0:E,x1:H,y0:M,y1:L},N),this.outer.p0[1]=this.valueFromPixel(N,k,F),this.outer.p0[0]=C.tickFromPixel(j,k.chart))},t.Drawing.fibarc.prototype.intersected=function(C,k,F){var M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X;if(M="m",M+="o",M+="v",M+="e",L=this.stx,E=L.panels[this.panelName],!!E){if(H=this.p0,N=this.p1,j=this.outer,!H||!N)return null;W={0:H,1:N};for(var Z in W)if(this.pointIntersection(W[Z][0],W[Z][1],F))return V="d",V+="r",V+="a",V+="g",e.p9i(8),this.highlighted=e.a3a("p",Z),{action:V,point:"p"+Z};return Y=this.valueOnDrawingAxis(C,k),this.lineIntersection(C,Y,F,"segment",j.p0,j.p1)?(this.highlighted=!0,{action:"move",p0:t.clone(H),p1:t.clone(N),tick:C,value:Y}):(Q=L.getYAxisByField(E,this.field),z={x0:H[0],x1:N[0],y0:H[1],y1:N[1]},$=this.boxToPixels(L,this.panelName,z,Q),K={x:Math.abs(Math.sqrt("2">>32)*($.x1-$.x0)),y:Math.abs(Math.sqrt(2)*($.y1-$.y0))},q=L.pixelFromTick(C,E.chart),X=L.pixelFromValueAdjusted(E,C,k),q+F.r<$.x1-K.x||q-F.r>$.x1+K.x||X+F.r<$.y1-K.y||X-F.r>$.y1+K.y||$.y0<$.y1&&X-F.r>$.y1||$.y0>$.y1&&X+F.r<$.y1?null:(this.highlighted=!0,{action:M,p0:t.clone(this.p0),p1:t.clone(this.p1),tick:C,value:Y}))}},t.Drawing.fibarc.prototype.render=function(C){var k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie,ne,le,fe,ue,ge,ce,de;if(k="l",k+="e",k+="f",k+="t",F="s",F+="t",F+="x_yaxis",M=this.stx,L=M.panels[this.panelName],E=M.getYAxisByField(L,this.field),!(!L||this.field&&!E)){H=-118809862,N=-2039697883,j=2;for(var he=1;e.C1g(he.toString(),he.toString().length,67214)!==H;he++){if(E=E&&L.yAxis,+this.p1)return;W=M.pixelFromTick(this.p0[9],L.chart),V=M.pixelFromTick(this.p1["7">>64],L.chart),Y=this.pixelFromValue(L,this.p0[9],this.p0[6],E),Q=this.pixelFromValue(L,this.p1["7"-0],this.p1[9],E),e.p9i(68),z=e.S59(Y,Q),j+=2}if(e.C1g(j.toString(),j.toString().length,65270)!==N){if(E=E||L.yAxis,!this.p1)return;W=M.pixelFromTick(this.p0[0],L.chart),V=M.pixelFromTick(this.p1[0],L.chart),Y=this.pixelFromValue(L,this.p0[0],this.p0[1],E),Q=this.pixelFromValue(L,this.p1["0"|0],this.p1[1],E),e.p9i(69),z=e.a3a(Q,Y)}e.p9i(70),$=Math.abs(e.S59(V,Q,W,Y)),K=this.getLineColor(this.parameters.trend.color),C.textBaseline="middle",M.canvasFont(F,C),q=this.getLineColor();for(var pe=0;pe<this.parameters.fibs.length;pe++)if(X="a",X+="u",X+="to",Z="a",Z+="uto",ae="le",ae+="ft",C.fillStyle=q,te=this.parameters.fibs[pe],!(te.level<0||!te.display)){e.p9i(13);var me=e.S59(7,8);e.p9i(71);var xe=e.a3a(19,20,0,0,1);e.p9i(23);var ye=e.a3a(0,26,130,10);re=Math.abs(this.p1[me]-this.p0[xe])*Math.sqrt(ye)*te.level,e.C_1(20);var be=e.a3a(16,7,2);e.C_1(37);var _e=e.S59(5,7,34);e.p9i(38);var De=e.S59(10,0,8,6,6);if(oe=this.p1["1"^0]+re*(z?be:_e)*(E.flipped?-1:De),B=this.pixelFromValue(L,this.p0[0],oe,E),G=t.xIntersection({x0:W,x1:V,y0:Y,y1:Q},B),this.parameters.printLevels){ie="cent",ie+="er",C.textAlign=ie,e.C_1(72);var ke=e.S59(999,19,988,21,494);e.C_1(31);var Ae=e.S59(4218,7,4211,4209);e.C_1(73);var we=e.a3a(15,1724,5192,5,5200);e.C_1(61);var Ee=e.a3a(203,3651,29);e.p9i(13);var Se=e.a3a(7,39);ne=Math.round(te.level*ke)/10+(Ae<we?"%":23.8<Ee?"0x1a66"<<Se:!0),this.parameters.printValues&&(C.fillStyle=q,M.canvasFont("stx_yaxis",C)),C.fillText(ne,V,Math.round(B-5))}C.textAlign=ae,this.parameters.printValues&&G<L.width&&(le=oe,E.priceFormatter?le=E.priceFormatter(M,L,le):le=M.formatYAxisPrice(le,L,null,E),C==M.chart.context&&M.endClip(),M.createYAxisLabel(L,le,B,this.getLineColor(null,!0),null,C,E),C==M.chart.context&&M.startClip(L.name)),fe=te.color,(fe=="auto"||t.isTransparent(fe))&&(fe=this.getLineColor()),C.strokeStyle=fe,ue=te.color,(ue==Z||t.isTransparent(ue))&&(ue=this.fillColor),(ue==X||t.isTransparent(ue))&&(ue=M.defaultColor),C.fillStyle=ue,C.globalAlpha=this.highlighted?1:te.parameters.opacity,C.lineWidth=te.parameters.lineWidth,C.setLineDash&&(C.setLineDash(t.borderPatternToArray(C.lineWidth,te.parameters.pattern)),e.C_1(3),C.lineDashOffset=e.S59("0",64)),C.save(),C.beginPath(),e.C_1(19),C.scale(e.a3a(1,$),1),e.C_1(5),C.arc(e.a3a($,V),Q,Math.abs(B-Q),0,Math.PI,!z),this.pattern!="none"&&C.stroke(),C.globalAlpha=.05,C.fill(),C.restore(),C.setLineDash&&C.setLineDash([]),C.globalAlpha=1}C.textAlign=k,ge=t.clone(this.parameters.trend.parameters),this.highlighted&&(ge.opacity=1),e.C_1(37),M.plotLine(V,e.a3a(W,2,V),Q,e.a3a(Y,2,Q),K,"segment",C,L,ge),this.highlighted&&(ce=this.highlighted=="p0",de=this.highlighted=="p1",this.littleCircle(C,W,Y,ce),this.littleCircle(C,V,Q,de))}},t.Drawing.fibfan=function(){var C;C="fib",C+="f",e.d7v(),C+="an",this.name=C},t.inheritsFrom(t.Drawing.fibfan,t.Drawing.fibonacci),t.Drawing.fibfan.prototype.recommendedLevels=[0,.382,.5,.618,1],t.Drawing.fibfan.prototype.setOuter=function(){},t.Drawing.fibfan.prototype.render=function(C){var k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie,ne,le;if(k="stx",k+="_yaxis",e.j4$(),F=this.stx,M=F.panels[this.panelName],L=F.getYAxisByField(M,this.field),!(!M||this.field&&!L)&&(L=L||M.yAxis,!!this.p1)){E=F.pixelFromTick(this.p0[0],M.chart),H=F.pixelFromTick(this.p1[0],M.chart),N=this.pixelFromValue(M,this.p0[0],this.p0[1],L),j=this.pixelFromValue(M,this.p1[0],this.p1[1],L),W=Math.min(j,N),V=Math.max(j,N),e.C_1(13),e.a3a(W,V),e.C_1(58),e.a3a(0,N,j,H,E),this.getLineColor(this.parameters.trend.color),C.textBaseline="middle",F.canvasFont(k,C),e.C_1(8);var fe=e.a3a(1,9);Y=C.measureText("161.8%").width+fe,Q=this.getLineColor(),this.rays=[];for(var ue=0;ue<this.parameters.fibs.length;ue++)if(z="s",z+="egment",$="a",$+="u",$+="t",$+="o",C.fillStyle=Q,K=this.parameters.fibs[ue],!!K.display&&(q=this.pixelFromValue(M,this.p0[0],(this.p0[1]-this.p1[1])*K.level+this.p1["1">>64],L),X=t.xIntersection({x0:H,x1:H,y0:N,y1:j},q),Z=M.left,H>E&&(Z+=M.width),e.C_1(74),ae=e.a3a(q,N,E,Z,N,E,X),!(E>Z-(this.parameters.printLevels?Y+5:0)&&H>E)&&!(E<Z+(this.parameters.printLevels?Y+5:0)&&H<E))){if(this.parameters.printLevels){e.C_1(75);var ge=e.S59(14,3725,4,11,19e3);e.p9i(8);var ce=e.a3a(5,5);te=Math.round(K.level*ge)/ce+"%",H>E?(re="l",re+="e",re+="ft",Z-=Y,C.textAlign=re):(Z+=Y,C.textAlign="right"),this.parameters.printValues&&(C.fillStyle=Q,F.canvasFont("stx_yaxis",C)),e.p9i(74),ae=e.S59(q,N,E,Z,N,E,X),C.fillText(te,Z,ae),H>E?(e.C_1(2),Z-=e.S59(1,"5")):Z+=5}C.textAlign="left",this.parameters.printValues&&X<M.width&&(oe=this.valueFromPixel(q,M,L),L.priceFormatter?oe=L.priceFormatter(F,M,oe):oe=F.formatYAxisPrice(oe,M,null,L),C==F.chart.context&&F.endClip(),F.createYAxisLabel(M,oe,q,this.getLineColor(null,!0),null,C,L),C==F.chart.context&&F.startClip(M.name)),B=K.color,(B==$||t.isTransparent(B))&&(B=this.getLineColor()),G=K.color,(G=="auto"||t.isTransparent(G))&&(G=this.fillColor),(G=="auto"||t.isTransparent(G))&&(G=F.defaultColor),C.fillStyle=G,this.parameters.printLevels&&(e.C_1(74),ae=e.a3a(q,N,E,Z,N,E,X)),ie=t.clone(K.parameters),this.highlighted&&(ie.opacity=1),F.plotLine(E,Z,N,ae,B,z,C,M,ie),this.rays.push([[E,N],[Z,ae]]),C.globalAlpha=.05,C.beginPath(),C.moveTo(Z,ae),C.lineTo(E,N),C.lineTo(Z,N),C.fill(),C.globalAlpha=1}this.highlighted&&(ne=this.highlighted=="p0",le=this.highlighted=="p1",this.littleCircle(C,E,N,ne),this.littleCircle(C,H,j,le))}},t.Drawing.fibtimezone=function(){e.d7v(),this.name="fibtimezone"},t.inheritsFrom(t.Drawing.fibtimezone,t.Drawing.fibonacci),t.Drawing.fibtimezone.prototype.render=function(C){var k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie,ne,le;k="segmen",k+="t",F="a",F+="u",F+="to",M="c",M+="enter",L="stx",L+="_",L+="ya",L+="xis";var{stx:fe}=this;if(E=fe.panels[this.panelName],H=fe.getYAxisByField(E,this.field),!(!E||this.field&&!H)&&(H=H||E.yAxis,!!this.p1&&(N=t.strToDateTime(this.d0),j=t.strToDateTime(this.d1),W=fe.chart.dataSet[0].DT,!(N<W||j<W)))){var{chart:ue,left:ge,width:ce}=E,{p0:de,p1:he,parameters:pe,highlighted:me}=this;V=fe.pixelFromTick(de[0],ue),Y=fe.pixelFromTick(he[0],ue),Q=this.pixelFromValue(E,de[0],de[1],H),z=this.pixelFromValue(E,he[0],he["1"-0],H),$=[1,0],K=this.getLineColor(pe.trend.color),C.textBaseline="middle",fe.canvasFont(L,C),q=20,X=this.p1[0]-this.p0[0],Z=this.getLineColor(),C.textAlign=M,ae=V,te=0;var{top:xe}=H;re=H.bottom;var{printLevels:ye,timezone:be}=pe;for(oe=be.color,(oe=="auto"||t.isTransparent(oe))&&(oe=this.getLineColor()),B=be.color,(B=="auto"||t.isTransparent(B))&&(B=this.fillColor),(B==F||t.isTransparent(B))&&(B=fe.defaultColor),ye&&(e.C_1(13),re-=e.a3a(7,q)),G=t.clone(pe.timezone.parameters),me&&(e.C_1(5),G.opacity=e.a3a(1,"1"));ae=fe.pixelFromTick(de[0]+te*X,ue),!(V<Y&&ae>ge+ce||V>Y&&ae<ge);){ye&&(C.fillStyle=Z,C.fillText(Y>V?te:te*-1,ae,re+7)),C.fillStyle=B,fe.plotLine(ae,ae,0,re,oe,"segment",C,E,G),C.globalAlpha=.05,C.beginPath(),C.moveTo(V,xe),C.lineTo(ae,xe),C.lineTo(ae,re),C.lineTo(V,re),C.fill(),C.globalAlpha=1,e.C_1(76);var _e=e.S59(3,0,2,6);if(te=$[0]+$[_e],$.unshift(te),!X)break}C.textAlign="left",fe.plotLine(V,Y,Q,z,K,k,C,E,G),this.highlighted?(ie=me=="p0",ne=me=="p1",this.littleCircle(C,V,Q,ie),this.littleCircle(C,Y,z,ne)):(le=this.valueFromPixel(E.height/2,E,H),this.setPoint(0,de[0],le,ue),this.setPoint(1,he[0],le,ue))}},t.Drawing.fibtimezone.prototype.intersected=function(C,k,F){var M,L,E,H,N;if(M=this.p0,L=this.p1,E=this.stx.panels[this.panelName],!M||!L||!E)return null;H={0:M,1:L};for(var j in H)if(this.pointIntersection(H[j][0],H[j][1],F))return e.p9i(8),this.highlighted=e.S59("p",j),{action:"drag",point:"p"+j};return N=this.lineIntersection(C,k,F,"segment"),e.d7v(),N||F.x0<=this.p0[0]&&F.x1>=M[0]?(this.highlighted=!0,{action:"move",p0:t.clone(M),p1:t.clone(L),tick:C,value:this.valueOnDrawingAxis(C,k)}):null},t.Drawing.arrow_v0=function(){var C;C="a",C+="r",C+="r",C+="ow",this.name=C,this.dimension=[11,11],e.C_1(2),this.points=[["M",3,0,"L",7,0,"L",7,5,"L",10,5,"L",5,e.S59(8,"10"),"L",0,5,"L",e.S59("3",0,e.p9i(17)),5,"L",3,0]]},t.inheritsFrom(t.Drawing.arrow_v0,t.Drawing.shape),t.Drawing.xcross=function(){this.name="xcross",e.C_1(13),this.dimension=[7,e.a3a(0,"7")],e.C_1(3),this.points=[["M",1,0,"L",3,2,"L",e.S59("5",96),e.a3a("0",96,e.p9i(3)),"L",6,1,"L",4,3,"L",6,5,"L",5,6,"L",3,4,"L",1,6,"L",0,5,"L",2,3,"L",0,e.S59(64,"1",e.p9i(4)),"L",1,0]]},t.inheritsFrom(t.Drawing.xcross,t.Drawing.shape),t.Drawing.check=function(){e.d7v(),this.name="check",e.p9i(17),this.dimension=[e.S59("8",0),9],this.points=[["M",1,5,"L",0,6,"L",2,8,"L",7,1,"L",6,0,"L",2,6,"L",1,5]]},t.inheritsFrom(t.Drawing.check,t.Drawing.shape),t.Drawing.star=function(){this.name="star",this.dimension=[12,12],e.j4$(),e.C_1(13),this.points=[["M",0,4,"L",4,4,"L",5.5,0,"L",7,4,"L",11,4,"L",8,7,"L",9,11,"L",5.5,9,"L",2,e.S59(0,"11"),"L",3,7,"L",0,4]]},t.inheritsFrom(t.Drawing.star,t.Drawing.shape),t.Drawing.heart=function(){var C;C="he",C+="a",C+="r",C+="t",this.name=C,this.dimension=[23,20],e.p9i(13),this.points=[["M",11,3,"B",11,2.4,e.a3a(0,"10"),0,6,0,"B",0,0,0,7.5,0,7.5,"B",0,11,4,15.4,11,19,"B",18,15.4,22,11,22,7.5,"B",22,7.5,22,0,16,0,"B",13,0,11,2.4,11,e.a3a(0,"3",e.p9i(2))]]},t.inheritsFrom(t.Drawing.heart,t.Drawing.shape),t.Drawing.focusarrow=function(){this.name="focusarrow",this.dimension=[7,5],e.C_1(2),this.points=[["M",0,0,"L",2,2,"L",0,4,"L",e.a3a(0,"0"),0],["M",6,0,"L",4,2,"L",e.a3a("6",0,e.C_1(3)),4,"L",6,0]]},t.inheritsFrom(t.Drawing.focusarrow,t.Drawing.shape),t.Drawing.crossline=function(){e.d7v();var C;C="cros",C+="sline",this.name=C},t.inheritsFrom(t.Drawing.crossline,t.Drawing.vertical),t.extend(t.Drawing.crossline.prototype,{spanPanels:!1,measure:function(){},accidentalClick:function(C,k){return!1},adjust:function(){var C;C=this.stx.panels[this.panelName],C&&(this.setPoint(0,this.d0,this.v0,C.chart),this.p1=t.clone(this.p0))},intersected:function(C,k,F){var M;return!this.p0||!this.p1||(this.p1[0]+=1,M=this.lineIntersection(C,k,F,"line"),this.p1=t.clone(this.p0),!M&&(this.p1[1]+=1,M=this.lineIntersection(C,k,F,"line"),this.p1=t.clone(this.p0),!M))?null:(this.highlighted=!0,this.pointIntersection(this.p0["0">>0],this.p0["1"<<64],F)&&(this.highlighted="p0"),{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:C,value:this.valueOnDrawingAxis(C,k)})},render:function(C){var k,F,M,L,E,H,N,j,W,V,Y,Q,z;if(k=this.stx,F=k.panels[this.panelName],M=k.getYAxisByField(F,this.field),!(!F||this.field&&!M&&!this.spanPanels)){if(M=M||F.yAxis,L=k.pixelFromTick(this.p0[0],F.chart),E=this.pixelFromValue(F,this.p0[0],this.p0[1],M),H=this.getLineColor(),N={pattern:this.pattern,lineWidth:this.lineWidth},(!this.spanPanels||this.panelName==this.originPanelName)&&(e.p9i(8),k.plotLine(L,e.a3a(L,100),E,E,H,"horizontal",C,F,N)),e.p9i(8),e.d7v(),k.plotLine(L,L,E,e.a3a(E,100),H,"vertical",C,F,N),this.axisLabel&&!this.repositioner&&(k.endClip(),(!this.spanPanels||this.panelName==this.originPanelName)&&(j=this.p0[1],F.chart.transformFunc&&(j=F.chart.transformFunc(k,F.chart,j)),M.priceFormatter?j=M.priceFormatter(k,F,j):j=k.formatYAxisPrice(j,F,null,M),k.createYAxisLabel(F,j,E,H,null,null,M)),k.startClip(F.name),this.p0[0]>=0&&!k.chart.xAxis.noDraw&&(!this.spanPanels||F.yAxis.bottom!==F.bottom))){if(W=k.dateFromTick(this.p0[0],F.chart,!0),t.ChartEngine.isDailyInterval(k.layout.interval))W.setHours(0,0,0,0);else{e.p9i(77);var $=e.S59(6,894,100);Y=W.getSeconds()*$+W.getMilliseconds(),r.Date&&k.displayZone&&(V=new r.Date(W.getTime(),k.displayZone),W=new Date(V.getFullYear(),V.getMonth(),V.getDate(),V.getHours(),V.getMinutes()),W=new Date(W.getTime()+Y))}Q=t.mmddhhmm(t.yyyymmddhhmm(W)),F.chart.xAxis.formatter?Q=F.chart.xAxis.formatter(W,this.name,null,null,Q):this.stx.internationalizer&&(Q=t.displayableDate(k,k.chart,W)),k.endClip(),k.createXAxisLabel({panel:F,txt:Q,x:L,backgroundColor:H,color:null,pointed:!0,padding:2}),k.startClip(F.name)}this.highlighted&&(!this.spanPanels||this.panelName==this.originPanelName)&&(z=this.highlighted=="p0",this.littleCircle(C,L,E,z))}}},!0),t.Drawing.speedarc=function(){e.d7v(),this.name="speedarc",this.printLevels=!0},t.inheritsFrom(t.Drawing.speedarc,t.Drawing.segment),t.extend(t.Drawing.speedarc.prototype,{defaultOpacity:.25,configs:["color","fillColor","lineWidth","pattern"],copyConfig:function(){var C;C=this.stx.currentVectorParameters,this.color=C.currentColor,this.fillColor=C.fillColor,this.lineWidth=C.lineWidth,this.pattern=C.pattern},intersected:function(C,k,F){var M,L,E,H,N,j,W,V;if(!this.p0||!this.p1)return null;M={0:this.p0,1:this.p1};for(var Y in M)if(this.pointIntersection(M[Y][0],M[Y][1],F))return L="d",L+="r",L+="a",L+="g",e.p9i(8),this.highlighted=e.a3a("p",Y),{action:L,point:"p"+Y};return E=this.valueOnDrawingAxis(C,k),H=this.lineIntersection(C,k,F,this.name),H?(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:C,value:E}):(N=this.p1[0]-(this.p0[0]-this.p1[0]),j=this.p0[0],W=this.p1[1],V=this.p0[1],C>Math.max(N,j)||C<Math.min(N,j)||E>Math.max(V,W)||E<Math.min(V,W)?null:(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:C,value:E}))},render:function(C){var k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B;if(k="lef",k+="t",F=this.stx,M=F.panels[this.panelName],L=F.getYAxisByField(M,this.field),!(!M||this.field&&!L)&&(L=L||M.yAxis,!!this.p1)){E=F.pixelFromTick(this.p0[0],M.chart),H=F.pixelFromTick(this.p1[0],M.chart),N=this.pixelFromValue(M,this.p0[0],this.p0[1],L),j=this.pixelFromValue(M,this.p1[0],this.p1[1],L),e.C_1(69),W=e.S59(j,N),e.C_1(70),V=Math.abs(e.a3a(H,j,E,N)),Y=this.getLineColor(),C.strokeStyle=Y,Q=this.fillColor,(Q=="auto"||t.isTransparent(Q))&&(Q=F.defaultColor),C.fillStyle=Q,C.setLineDash&&(C.setLineDash(t.borderPatternToArray(this.lineWidth,this.pattern)),C.lineDashOffset=0),F.canvasFont("stx_yaxis",C);for(var G=1;G<3;G++){e.C_1(76);var ie=e.S59(1,16,1,17);e.C_1(78);var ne=e.a3a(4,6,10,13);e.C_1(15);var le=e.S59(0,7,5);e.C_1(13);var fe=e.a3a(13,16);z=Math.abs(this.p1[ie]-this.p0[ne])*Math.sqrt(le)*G/fe,e.p9i(13);var ue=e.a3a(2,3);e.C_1(55);var ge=e.S59(9,10);e.C_1(37);var ce=e.S59(11,8,87);e.p9i(13);var de=e.a3a(14,13);e.C_1(55);var he=e.a3a(16,15);$=this.p1[ue]+z*(W?ge:ce)*(L.flipped?de:he),K=this.pixelFromValue(M,this.p0[0],$,L),C.save(),C.beginPath(),e.p9i(19),C.scale(e.S59(1,V),1),e.p9i(5),C.arc(e.S59(V,H),j,Math.abs(K-j),0,Math.PI,!W),C.globalAlpha=this.highlighted?1:this.defaultOpacity,this.pattern!="none"&&C.stroke(),C.globalAlpha=.1,C.fill(),C.restore(),C.globalAlpha=1,this.printLevels&&(q="c",q+="en",q+="ter",C.fillStyle=Y,C.textAlign=q,e.C_1(8),X=e.S59(G,"/3"),C.fillText(X,H,Math.round(K-5)),C.fillStyle=Q)}C.textAlign=k,Z={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?"1"|0:this.defaultOpacity},F.plotLine(E,H,N,j,Y,"segment",C,M,Z),ae=310722567,te=-718825870,e.C_1(2),re=e.S59(2,"2");for(var pe=1;e.C1g(pe.toString(),pe.toString().length,3684)!==ae;pe++)C.setLineDash&&C.setLineDash([]),re+=2;e.M0S(re.toString(),re.toString().length,80841)!==te&&C.setLineDash&&C.setLineDash([]),this.highlighted&&(oe=this.highlighted=="p0",B=this.highlighted=="p1",this.littleCircle(C,E,N,oe),this.littleCircle(C,H,j,B))}},reconstruct:function(C,k){this.stx=C,this.color=k.col,this.fillColor=k.fc,e.d7v(),this.panelName=k.pnl,this.pattern=k.ptrn,this.lineWidth=k.lw,this.d0=k.d0,this.d1=k.d1,this.tzo0=k.tzo0,this.tzo1=k.tzo1,this.v0=k.v0,this.v1=k.v1,this.field=k.fld,this.permanent=k.prm,this.hidden=k.hdn,this.adjust()},serialize:function(){return e.j4$(),{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field,prm:this.permanent,hdn:this.hidden}}},!0),t.Drawing.speedline=function(){this.name="speedline",this.printLevels=!0},t.inheritsFrom(t.Drawing.speedline,t.Drawing.speedarc),t.extend(t.Drawing.speedline.prototype,{intersected:function(C,k,F){var M,L,E,H;if(M=this.p0,L=this.p1,!M||!L)return null;E={0:M,1:L};for(var N in E)if(this.pointIntersection(E[N][0],E[N][1],F))return e.C_1(8),this.highlighted=e.a3a("p",N),{action:"drag",point:"p"+N};H=this.rays;for(var j=0;j<H.length;j++)if(this.lineIntersection(C,k,F,"ray",H[j][0],H[j][1],!0))return this.highlighted=!0,{action:"move",p0:t.clone(M),p1:t.clone(L),tick:C,value:this.valueOnDrawingAxis(C,k)};return null},render:function(C){var k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie,ne,le;if(k="2",k+="/3",F=this.stx,M=F.panels[this.panelName],L=F.getYAxisByField(M,this.field),!(!M||this.field&&!L)&&this.p1){E=F.pixelFromTick(this.p0[0],M.chart),H=F.pixelFromTick(this.p1[0],M.chart),N=this.pixelFromValue(M,this.p0[0],this.p0[1],L),j=this.pixelFromValue(M,this.p1[0],this.p1[1],L),F.canvasFont("stx_yaxis",C),W=this.getLineColor(),C.strokeStyle=W,V=this.fillColor,(V=="auto"||t.isTransparent(V))&&(V=F.defaultColor),C.fillStyle=V,Y={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},$=["1",k,"1/3","3/2","3"],e.p9i(19),K=[1,e.S59(2,3),e.a3a(1,3),e.a3a(3,2),3],q=[],this.rays=[];for(var fe=0;fe<K.length;fe++)X=K[fe],!(X>1&&!this.extension)&&(Z=this.pixelFromValue(M,this.p0[0],this.p0["1">>64]-(this.p0[1]-this.p1["1"<<32])*X,L),X>1?(ae=t.xIntersection({x0:E,x1:H,y0:N,y1:Z},j),q.push(ae)):(ae=t.xIntersection({x0:H,x1:H,y0:N,y1:j},Z),q.push(Z)),te=X>1?ae:H,re=X>1?j:Z,this.confineToGrid||(te=M.left,H>E&&(te+=M.width),e.p9i(74),re=e.a3a(Z,N,E,te,N,E,H)),this.printLevels&&(X!=1||this.extension)&&(C.fillStyle=W,oe=0,B=0,N>j?(G="b",G+="o",G+="ttom",B=-5,C.textBaseline=G):(B=5,C.textBaseline="top"),E>H?(ie="righ",ie+="t",oe=5,C.textAlign=ie):(e.C_1(13),oe=-e.S59(0,"5"),C.textAlign="left"),X>1?C.fillText($[fe],ae+(this.confineToGrid?0:oe),j):C.fillText($[fe],H,Z+(this.confineToGrid?0:B)),C.fillStyle=V),F.plotLine(E,te,N,re,W,"segment",C,M,Y),X==1&&(Q=te,z=re),this.rays.push([[E,N],[te,re]]),C.globalAlpha=.1,C.beginPath(),C.moveTo(te,re),C.lineTo(E,N),C.lineTo(Q,z),C.fill(),C.globalAlpha=1);C.textAlign="left",C.textBaseline="middle",this.confineToGrid&&(C.globalAlpha=.3,C.beginPath(),e.p9i(13),C.strokeRect(E,N,e.a3a(E,H),e.S59(N,j)),C.moveTo(E,q[1]),C.lineTo(H,q[1]),C.moveTo(E,q["2"^0]),C.lineTo(H,q["2"-0]),this.extension&&(C.moveTo(q[3],N),C.lineTo(q[3],j),C.moveTo(q[4],N),C.lineTo(q[4],j)),C.stroke(),C.globalAlpha=1),e.j4$(),this.highlighted&&(ne=this.highlighted=="p0",le=this.highlighted=="p1",this.littleCircle(C,E,N,ne),this.littleCircle(C,H,j,le))}}},!0),t.Drawing.gannfan=function(){this.name="gannfan",this.printLevels=!0},t.inheritsFrom(t.Drawing.gannfan,t.Drawing.speedline),t.extend(t.Drawing.gannfan.prototype,{render:function(C){var k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie,ne,le;if(k="midd",k+="le",F="l",F+="ef",F+="t",M=this.stx,L=M.panels[this.panelName],E=M.getYAxisByField(L,this.field),!(!L||this.field&&!E)&&this.p1){H=M.pixelFromTick(this.p0[0],L.chart),N=M.pixelFromTick(this.p1["0"|0],L.chart),j=this.pixelFromValue(L,this.p0[0],this.p0[1],E),W=this.pixelFromValue(L,this.p1[0],this.p1[1],E),M.canvasFont("stx_yaxis",C),V=this.getLineColor(),C.strokeStyle=V,Y=this.fillColor,(Y=="auto"||t.isTransparent(Y))&&(Y=M.defaultColor),C.fillStyle=Y,Q={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},e.j4$(),e.C_1(79),K=[1,2,3,4,8,e.S59(1,"2",1),e.a3a(3,0,"1",e.p9i(80)),e.S59(4,"1",e.p9i(81)),e.a3a(1,8,e.C_1(19))],this.rays=[];for(var fe="0"<<64;fe<K.length;fe++)q=K[fe],e.C_1(82),X=e.a3a(H,N,q,H),e.C_1(83),Z=e.S59(j,W,j,q),ae=L.left,N>H&&(ae+=L.width),e.p9i(74),te=e.a3a(Z,j,H,ae,j,H,N),this.printLevels&&(C.fillStyle=V,re=0,oe=0,j>W?(B="to",B+="p",oe=5,C.textBaseline=B):(oe=-5,C.textBaseline="bottom"),H>N?(re=5,C.textAlign="left"):(re=-5,C.textAlign="right"),q>1?(G="x",G+="1",e.C_1(8),C.fillText(e.S59(q,G),e.S59(X,re),W)):(e.p9i(51),C.fillText(e.a3a(1,"1x",q),N,e.a3a(Z,oe,e.p9i(8)))),C.fillStyle=Y),M.plotLine(H,ae,j,te,V,"segment",C,L,Q),this.rays.push([[H,j],[ae,te]]),q==1&&(z=ae,$=te),C.globalAlpha=.1,C.beginPath(),C.moveTo(ae,te),C.lineTo(H,j),C.lineTo(z,$),C.fill(),C.globalAlpha=1;C.textAlign=F,C.textBaseline=k,this.highlighted&&(ie="p",ie+="1",ne=this.highlighted=="p0",le=this.highlighted==ie,this.littleCircle(C,H,j,ne),this.littleCircle(C,N,W,le))}}},!0),t.Drawing.timecycle=function(){this.name="timecycle",e.j4$(),this.printLevels=!0},t.inheritsFrom(t.Drawing.timecycle,t.Drawing.speedarc),t.extend(t.Drawing.timecycle.prototype,{intersected:function(C,k,F){var M,L,E,H,N;if(M=this.p0,L=this.p1,E=this.stx.panels[this.panelName],!M||!L||!E)return null;H={0:M,1:L};for(var j in H)if(this.pointIntersection(H[j][0],H[j][1],F))return e.p9i(8),this.highlighted=e.a3a("p",j),{action:"drag",point:"p"+j};return N=this.lineIntersection(C,k,F,"segment"),N||F.x0<=this.p0[0]&&F.x1>=M["0"<<32]?(this.highlighted=!0,{action:"move",p0:t.clone(M),p1:t.clone(L),tick:C,value:this.valueOnDrawingAxis(C,k)}):null},render:function(C){var k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie,ne,le,fe;if(k="se",k+="gm",k+="en",k+="t",F="stx",F+="_",F+="ya",F+="xis",M=this.stx,L=M.panels[this.panelName],E=M.getYAxisByField(L,this.field),!(!L||this.field&&!E)&&(E=E||L.yAxis,!!this.p1&&(H=t.strToDateTime(this.d0),N=t.strToDateTime(this.d1),j=M.chart.dataSet[0].DT,!(H<j||N<j)))){for(W=M.pixelFromTick(this.p0[0],L.chart),V=M.pixelFromTick(this.p1[0],L.chart),Y=this.pixelFromValue(L,this.p0[0],this.p0[1],E),Q=this.pixelFromValue(L,this.p1[0],this.p1[1],E),z=0,C.textBaseline="middle",M.canvasFont(F,C),$=20,K=this.p1[0]-this.p0[0],C.textAlign="center",q=W,X=E.top,Z=E.bottom,ae=this.getLineColor(),te=this.fillColor,(te=="auto"||t.isTransparent(te))&&(te=M.defaultColor),this.printLevels&&(e.C_1(29),Z-=e.a3a(1,$,"7")),re={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},oe=[],C.save(),C.fillStyle=te,e.C_1(13),C.globalAlpha=e.a3a(0,"0.05");q=M.pixelFromTick(this.p0[0]+z*K,L.chart),z++,!(W<V&&q>L.left+L.width);){if(W>V&&q<L.left)break;if(q<L.left||q>L.left+L.width)continue;if(C.beginPath(),C.moveTo(W,X),C.lineTo(q,X),C.lineTo(q,Z),C.lineTo(W,Z),C.fill(),oe.push({c:z,x:q}),!K)break}C.globalAlpha=1,B=0;for(var ue=0;ue<oe.length;ue++)if(G="s",G+="egme",G+="n",G+="t",M.plotLine(oe[ue].x,oe[ue].x,0,Z,ae,G,C,L,re),this.printLevels){C.fillStyle=ae,e.p9i(8);var ge=e.a3a(0,3);ie=M.chart.context.measureText(oe[ue].c).width+ge,ie<M.layout.candleWidth+B?(C.fillText(oe[ue].c,oe[ue].x,Z+7),B=0):B+=M.layout.candleWidth}C.restore(),C.textAlign="left",M.plotLine(W,V,Y,Q,ae,k,C,L,re),this.highlighted?(ne=this.highlighted=="p0",le=this.highlighted=="p1",this.littleCircle(C,W,Y,ne),this.littleCircle(C,V,Q,le)):(fe=this.valueFromPixel(L.height/2,L,E),this.setPoint(0,this.p0[0],fe,L.chart),this.setPoint(1,this.p1[0],fe,L.chart))}}},!0),t.Drawing.regression=function(){e.j4$(),this.name="regression"},t.inheritsFrom(t.Drawing.regression,t.Drawing.segment),t.extend(t.Drawing.regression.prototype,{configs:[v,"lineWidth","pattern","active1","color1",p,"pattern1","active2","color2","lineWidth2","pattern2",d,g,"lineWidth3",x],copyConfig:function(C){var k;t.Drawing.copyConfig(this,C),k=this.stx.currentVectorParameters,this.active1=!!k.active1,this.active2=!!k.active2,this.active3=!!k.active3,this.color1=k.color1||"auto",this.color2=k.color2||"auto",this.color3=k.color3||"auto",this.lineWidth1=k.lineWidth1,this.lineWidth2=k.lineWidth2,this.lineWidth3=k.lineWidth3,this.pattern1=k.pattern1,this.pattern2=k.pattern2,this.pattern3=k.pattern3},$controls:['cq-cvp-controller[cq-cvp-header="1"]','cq-cvp-controller[cq-cvp-header="2"]','cq-cvp-controller[cq-cvp-header="3"]'],click:function(C,k,F){var M,L;if(!(k<0))return this.copyConfig(),M=this.stx,L=M.panels[this.panelName],this.penDown?(this.accidentalClick(k,F)||(e.C_1(2),this.setPoint(e.S59(0,"1"),k,F,L.chart),this.penDown=!1),!0):(this.setPoint(0,k,F,L.chart),this.isAllowed(M,this.field)?(this.penDown=!0,!1):(M.undo(),!0))},getYValue:function(C){var k,F,M,L,E,H,N,j;if(k=this.stx,F=k.chart.dataSet[C],M=k.chart.dataSet[C],!F||(L=k.panels[this.panelName],E=k.getYAxisByField(L,this.field)||L.yAxis,k.charts[L.name]&&L.chart.transformFunc&&E==L.yAxis&&(M=F.transform),!M))return null;if(H=null,N=null,j=k.defaultPlotField||"Close",this.field){if(N=t.existsInObjectChain(M,this.field),!N)return null;H=N=N.obj[N.member],F!=M&&(H=t.existsInObjectChain(F,this.field),H=H.obj[H.member]),typeof N=="object"&&(N=N[j],H=H[j])}else N=M[j],H=F[j];return{transformed:N,untransformed:H}},render:function(C){var k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie,ne,le,fe,ue,ge,ce,de,he,pe,me;if(k=this.stx,F=k.panels[this.panelName],M=k.getYAxisByField(F,this.field),!(!F||this.field&&!M)&&this.p1&&!(this.p0[0]<0||this.p1["0">>96]<0)&&(L=k.pixelFromTick(this.p0[0],F.chart),E=k.pixelFromTick(this.p1[0],F.chart),!(L<F.left&&E<F.left)&&!(L>F.right&&E>F.right))){H=[],N=[],j=0,W=0,V=0,Y=0,Q=Math.min(this.p1[0],this.p0[0]),e.C_1(13);var xe=e.a3a(16,17);z=Math.max(this.p1[0],this.p0[0])+xe,e.p9i(13),$=e.a3a(Q,z);for(var ye=Q;ye<z;ye++)K=this.getYValue(ye),K&&(H.push(K.transformed),N.push(K.untransformed));for(q=H.length,e.C_1(84),X=e.S59(q,q,2,1),e.p9i(17),Z=Math.pow(X,e.S59("2",0)),e.p9i(85),ae=e.a3a(2,3,1,q,X),ye=0;ye<q;ye++)V+=q*H[ye]-j,j+=H[ye],Y+=q*N[ye]-W,W+=N[ye];if(e.p9i(86),te=e.S59(ae,Z,j,V,X,q,q),e.p9i(87),re=e.S59(j,te,q,X),e.C_1(86),oe=e.a3a(ae,Z,W,Y,X,q,q),e.C_1(87),B=e.a3a(W,te,q,X),this.p0[0]<this.p1[0]?(G=re,e.p9i(88),ie=e.a3a(re,$,te),this.p0[1]=B,e.C_1(88),this.p1[1]=e.S59(B,$,oe)):(e.C_1(88),G=e.S59(re,$,te),ie=re,e.p9i(88),this.p0[1]=e.a3a(B,$,oe),this.p1[1]=B),ne=k.pixelFromTransformedValue(G,F,M),le=k.pixelFromTransformedValue(ie,F,M),fe=this.getLineColor(),ue={pattern:this.pattern,lineWidth:this.lineWidth},k.plotLine(L,E,ne,le,fe,"segment",C,F,ue),e.C_1(13),k.plotLine(L,L,e.a3a(20,ne),e.S59(ne,20,e.p9i(8)),fe,"segment",C,F,ue),e.C_1(13),k.plotLine(E,E,e.a3a(20,le),e.a3a(le,20,e.C_1(8)),fe,"segment",C,F,ue),this.active1||this.active2||this.active3){for(e.C_1(19),ge=e.a3a(j,q),ce=0,ye="0"-0;ye<q;ye++)ce+=Math.pow(H[ye]-ge,2);e.p9i(19),de=Math.sqrt(e.a3a(ce,q)),he={context:C,panel:F,points:{0:{x:L,v:G},1:{x:E,v:ie}},stddev:de,yAxis:M},this.lines={},this.active1&&(this.renderStddev("1","p",he),this.renderStddev("1","n",he)),this.active2&&(this.renderStddev("2","p",he),this.renderStddev("2","n",he)),this.active3&&(this.renderStddev("3","p",he),this.renderStddev("3","n",he))}this.highlighted?(pe=this.highlighted=="p0",me=this.highlighted=="p1",this.littleCircle(C,L,ne,pe),this.littleCircle(C,E,le,me)):(this.pixelX=[L,E],this.pixelY=[ne,le])}},renderStddev:function(C,k,F){var M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B;M="stdd",M+="ev",e.C_1(77),L=e.S59(C,k,M),e.C_1(8),E=e.a3a("color",C),e.C_1(8),H=e.S59("pattern",C),e.p9i(8),N=e.a3a("lineWidth",C),j=F.points,W=j[0].v,V=j[1].v,e.d7v(),Y=F.stddev,Q=k==="n"?C*-1:C*1,z=this.stx,$=F.panel,K=F.yAxis,q={name:L,color:this.getLineColor(this[E]),type:"segment",y0:z.pixelFromTransformedValue(W+Y*Q,$,K),y1:z.pixelFromTransformedValue(V+Y*Q,$,K),params:{pattern:this[H],lineWidth:this[N]}},this.lines&&(this.lines[L]=q),X=F.context,Z=j[0].x,ae=j[1].x,z.plotLine(Z,ae,q.y0,q.y1,q.color,q.type,X,$,q.params),z.plotLine(Z,Z,q.y0-10,q.y0+10,q.color,q.type,X,$,q.params),z.plotLine(ae,ae,q.y1-10,q.y1+10,q.color,q.type,X,$,q.params),e.p9i(8),te=e.a3a(C,"σ"),e.p9i(89);var G=e.S59(4,1283,14,23);re=Math.max(Z,ae)+G,oe=Z<ae?q.y1:q.y0,X.fillStyle=q.color,X.save(),X.textBaseline="middle",X.fillText(te,re,oe),X.restore(),F.formatPrice&&this.axisLabel&&!this.highlighted&&!this.penDown&&(Z>=$.chart.left&&Z<=$.chart.right||ae>=$.chart.left&&ae<=$.chart.right)&&(e.p9i(28),B=e.S59(Z<ae?V:W,Y,Q),z.endClip(),z.createYAxisLabel($,F.formatPrice(B,K),oe,q.color,null,X,K),z.startClip($.name))},intersected:function(C,k,F){var M,L,E,H,N,j,W;if(!this.pixelX||!this.pixelY)return null;if(M=this.repositionIntersection(C,k),M)return M;L={0:this.pixelX,1:this.pixelY};for(var V=0;V<2;V++)if(this.pointIntersection(L[0][V],L[1][V],F,!0))return e.p9i(8),this.highlighted=e.S59("p",V),{action:"drag",point:"p"+V};if(E=this,H=this.pixelX[0],N=this.pixelX[1],j=function(Q){e.j4$();var z,$;return z=[H,Q.y0],$=[N,Q.y1],E.lineIntersection(C,k,F,E.name,z,$,!0)},W=j({y0:this.pixelY[0],y1:this.pixelY[1]}),!W&&this.lines){for(var Y in this.lines)if(j(this.lines[Y])){W=!0;break}}return W?(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:C,value:this.valueOnDrawingAxis(C,k)}):null},repositionIntersection:function(C,k){e.j4$();var F;return!this.p0||!this.p1?!1:this==this.stx.repositioningDrawing&&this.highlighted?(F="d",F+="ra",F+="g",this.highlighted===!0?{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:C,value:this.valueOnDrawingAxis(C,k)}:{action:F,point:this.highlighted}):!1},lineIntersection:function(C,k,F,M,L,E,H){var N;return H?(L||(L=this.p0),E||(E=this.p1),!(L&&E)||(this.stx,F.cx0===void 0)?!1:(N={x0:L[0],x1:E[0],y0:L[1],y1:E["1"^0]},e.d7v(),t.boxIntersects(F.cx0,F.cy0,F.cx1,F.cy1,N.x0,N.y0,N.x1,N.y1))):(e.p9i(8),console.log(e.a3a(M," lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true.")),!1)},boxIntersection:function(C,k,F){return!(F.cx0>Math.max(this.pixelX[0],this.pixelX[1])||F.cx1<Math.min(this.pixelX[0],this.pixelX[1])||(e.j4$(),!this.stx.repositioningDrawing&&(F.cy1<this.pixelY[0]||F.cy0>this.pixelY[1])))},reconstruct:function(C,k){this.stx=C,this.color=k.col,this.color1=k.col1,this.color2=k.col2,this.color3=k.col3,this.active1=k.dev1,this.active2=k.dev2,this.active3=k.dev3,this.panelName=k.pnl,this.pattern=k.ptrn,this.pattern1=k.ptrn1,this.pattern2=k.ptrn2,this.pattern3=k.ptrn3,this.lineWidth=k.lw,this.lineWidth1=k.lw1,this.lineWidth2=k.lw2,this.lineWidth3=k.lw3,this.d0=k.d0,this.d1=k.d1,this.tzo0=k.tzo0,this.tzo1=k.tzo1,this.field=k.fld,this.permanent=k.prm,this.hidden=k.hdn,this.adjust()},serialize:function(){return{name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field,prm:this.permanent,hdn:this.hidden}}},!0),t.Drawing.average=function(){var C,k,F;C=-206649604,e.j4$(),k=799626543,F=2;for(var M=1;e.C1g(M.toString(),M.toString().length,4273)!==C;M++)this.name="average",F+=2;e.M0S(F.toString(),F.toString().length,53823)!==k&&(this.name="")},t.inheritsFrom(t.Drawing.average,t.Drawing.regression),t.extend(t.Drawing.average.prototype,{configs:t.Drawing.regression.prototype.configs.concat("axisLabel"),measure:function(){e.d7v();var C,k,F,M,L,E,H,N,j;C=this.stx,this.p0&&this.p1&&(k=",",k+=" ",F="&",F+="en",F+="sp;",C.setMeasure(0,!1,this.p0[0],this.p1[0],!0,this.name),M=[],L="",this.active1&&M.push("1"),this.active2&&M.push("2"),this.active3&&M.push("3"),M.length&&(L=F+M.join(k)+" &sigma;"),E=(C.drawingContainer||document).querySelector(".mMeasure"),H=C.controls.mSticky,N=H&&H.querySelector(".mStickyInterior"),E&&(E.innerHTML+=L),N&&(j=[],j.push(C.translateIf(t.capitalize(this.name))),j.push(C.translateIf(this.field||C.defaultPlotField||"Close")),j.push(N.innerHTML+L),N.innerHTML=j.join("<br>")))},render:function(C){var k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie;k="segm",k+="e",k+="n";function ne(ue,ge){return ge&&ge.priceFormatter?ue=ge.priceFormatter(F,M,ue):ue=F.formatYAxisPrice(ue,M,null,ge),e.d7v(),ue}if(k+="t",F=this.stx,M=F.panels[this.panelName],L=F.getYAxisByField(M,this.field),!(!M||this.field&&!L)&&(L=L||M.yAxis,!!this.p1&&!(this.p0[0]<0||this.p1["0">>32]<0)&&(E=F.pixelFromTick(this.p0[0],M.chart),H=F.pixelFromTick(this.p1[0],M.chart),!(E<M.left&&H<M.left)&&!(E>M.right&&H>M.right)))){N=Math.min(this.p1[0],this.p0[0]),e.p9i(76);var le=e.a3a(1,8,1,9);for(j=Math.max(this.p1["0"^0],this.p0[0])+le,W=0,V=[],Y=N;Y<j;Y++)Q=this.getYValue(Y),Q!==null&&(W+=Q.transformed,V.push(Q));if(z=V.length,!!z){if(e.p9i(19),$=e.S59(W,z),K=F.pixelFromTransformedValue($,M,L),q=this.getLineColor(),X={pattern:this.pattern,lineWidth:this.lineWidth},F.plotLine(E,H,K,K,q,k,C,M,X),e.p9i(90),F.plotLine(E,E,e.a3a(K,"20"),e.S59(K,20,e.C_1(8)),q,"segment",C,M,X),e.C_1(13),F.plotLine(H,H,e.S59(20,K),e.S59("20",K,e.C_1(91)),q,"segment",C,M,X),e.d7v(),this.axisLabel&&!this.highlighted&&!this.penDown&&(E>=M.chart.left&&E<=M.chart.right||H>=M.chart.left&&H<=M.chart.right)&&(F.endClip(),F.createYAxisLabel(M,ne($,L),K,q,null,C,L),F.startClip(M.name)),this.active1||this.active2||this.active3){for(Z=0,Y=0;Y<z;Y++)Q=V[Y],Z+=Math.pow(Q.transformed-$,"2"-0);if(e.C_1(19),ae=Math.sqrt(e.S59(Z,z)),te={context:C,formatPrice:ne,panel:M,points:{0:{x:E,v:$},1:{x:H,v:$}},stddev:ae,yAxis:L},this.lines={},this.active1&&(this.renderStddev("1","p",te),this.renderStddev("1","n",te)),this.active2){this.renderStddev("2","p",te),e.C_1(13),re=-e.a3a(0,"786573224"),oe=1472012078,B=2;for(var fe=1;e.M0S(fe.toString(),fe.toString().length,72487)!==re;fe++)this.renderStddev("2","n",te),B+=2;e.C1g(B.toString(),B.toString().length,59738)!==oe&&this.renderStddev(6866108,727384,te)}this.active3&&(this.renderStddev("3","p",te),this.renderStddev("3","n",te))}this.highlighted?(G=this.highlighted=="p0",ie=this.highlighted=="p1",this.littleCircle(C,E,K,G),this.littleCircle(C,H,K,ie)):(this.pixelX=[E,H],this.pixelY=[K,K])}}},reconstruct:function(C,k){var F,M,L;this.axisLabel=k.al,F=-1947577136,M=817426982,e.d7v(),L=2;for(var E="1"|1;e.M0S(E.toString(),E.toString().length,74520)!==F;E++)t.Drawing.regression.prototype.reconstruct.call(this,C,k),L+=2;e.C1g(L.toString(),L.toString().length,17805)!==M&&t.Drawing.regression.prototype.reconstruct.call(this,C,k)},serialize:function(){var C;return C=t.Drawing.regression.prototype.serialize.call(this),e.j4$(),C.al=this.axisLabel,C}},!0),t.Drawing.measurementline=function(){var C,k,F,M;C="Helvetica, sa",C+="ns-serif",k="Clos",k+="e",F="L",F+="o",F+="w",M="me",M+="asuremen",M+="tline",this.name=M,this.validFields=["Open","High",F,"Close"],this.defaultField=k,this.spanPanels=!0,this.fontSize=14,this.lineHeight=this.fontSize+("2">>0),this.fontFamily=C,this.padding=10,this.calloutWidth=200,e.j4$(),this.calloutHeight=100,this.stem={x:15,y:0}},t.inheritsFrom(t.Drawing.measurementline,t.Drawing.regression),t.extend(t.Drawing.measurementline.prototype,{configs:["color","fillColor",m,f,"parameters","axisLabel"],copyConfig:function(C){var k,F,M,L;t.Drawing.copyConfig(this,C),k=-758107314,F=-1225314426,M=2;for(var E=1;e.M0S(E.toString(),E.toString().length,"659"|0)!==k;E++)L=this.stx.currentVectorParameters,this.parameters={calloutOnHover:L.measurementline.calloutOnHover,displayGroups:hi({},L.measurementline.displayGroups)},M+=2;e.M0S(M.toString(),M.toString().length,88912)!==F&&(L=this.stx.currentVectorParameters,this.parameters={calloutOnHover:L.measurementline.calloutOnHover,displayGroups:hi({},L.measurementline.displayGroups)})},$controls:[],initializeSettings:function(C){e.d7v(),C.currentVectorParameters.alwaysMagnetize=!0},measure:function(){var C,k,F,M,L,E;if(e.d7v(),this.p0&&this.p1){this.stx.setMeasure(this.p0[1],this.p1[1],this.p0[0],this.p1[0],!0),C=this.stx.controls.mSticky,k=-1600146443,F=-1250806102,M=2;for(var H=1;e.M0S(H.toString(),H.toString().length,5811)!==k;H++)L=C||C.querySelector(""),M+=2;e.M0S(M.toString(),M.toString().length,48455)!==F&&(L=C&&C.querySelector(".mStickyInterior")),L&&(E=[],E.push(this.stx.translateIf(t.capitalize("Measurement Line"))),E.push(L.innerHTML),L.innerHTML=E.join("<br>"))}},getDifference:function(C,k){var F,M;return F=this.stx,M=Math.round(Math.abs(C-k)*F.chart.roundit)/F.chart.roundit,M=M.toFixed(F.chart.yAxis.printDecimalPlaces),this.internationalizer&&(M=this.internationalizer.numbers.format(M)),M},getPercent:function(C,k){var F;return e.d7v(),F=0,C!==0?(e.C_1(34),F=e.a3a(C,k,C)):F=null,F},formatPercent:function(C){if(Math.abs(C)>.1)e.C_1(5),C=Math.round(e.S59(100,C));else if(Math.abs(C)>"0.01"*1){e.p9i(89);var k=e.a3a(18,141704,8,991);e.C_1(92);var F=e.a3a(2,7,8,1,50);C=Math.round(C*k)/F}else{e.C_1(13);var M=e.a3a(6e4,7e4);e.C_1(49);var L=e.S59(827,9,10,113);C=Math.round(C*M)/L}return this.internationalizer?(e.p9i(19),C=this.internationalizer.percent.format(e.a3a(C,100))):(e.C_1(8),C=e.S59(C,"%")),C},calloutDataGroups:[{id:"bars",label:c,getOutput(C){var k,{start:F,end:M}=C;return k={label:this.label||"",value:""+(M-F)},k}},{id:"delta",label:"Delta",getOutput(C){var k,F,M,L;e.j4$(),k="N/",k+="A";var{startPrice:E,endPrice:H}=C;return F=C.getPercent(E,H),M=F===null?k:C.formatPercent(F),L={label:this.label||"",value:C.getDifference(E,H)+" ("+M+")"},L}},{id:"annpercent",label:h,getOutput(C){var k,F,M,L,E,H,N,j,W,{stx:V,p0:Y,p1:Q,startPrice:z,endPrice:$}=C;return k=V.panels[C.panelName],F=C.getPercent(z,$),M="N/A",F!==null&&(L=V.dateFromTick(Y["0"<<64],k.chart,!0),E=V.dateFromTick(Q[0],k.chart,!0),H=0,N=E.getTime()-L.getTime(),e.p9i(93),j=e.S59(3600,1e3,N,24),e.C_1(94),H=e.a3a(F,365,j),M=C.formatPercent(H.toFixed(2))),W={label:this.label||"",value:M},e.j4$(),W}},{id:"totreturn",label:"TotalReturn",getOutput(C){e.j4$();var k;return k={label:this.label||"",value:""},k}},{id:u,label:"Volume",getOutput(C){var k;e.d7v();var{volume:F}=C;return k={label:this.label||"",value:""+t.commas(F)},k}},{id:"studies",label:l,getOutput(C){var k,F,M,L,{stx:E,records:H}=C;k=[];for(var N in E.layout.studies)if(F=E.layout.studies[N],!F.signalData){for(var j in E.layout.studies[N].outputMap)if(j){M=H[0][j],e.p9i(8);var W=e.a3a(0,1);L=H[H.length-W][j],M&&L&&k.push({label:j,value:C.getDifference(M,L)})}}return k}}],getcalloutData:function(){var C,k,F,M,L,E,H,N,j;C=this.stx,k=[],F=this.p0[0],e.C_1(8);var W=e.a3a(0,1);M=this.p1[0]+W,L=[],E=0;for(var V=F;V<M;V++)H=C.chart.dataSet[V],H&&(L.push(H),H.Volume&&(E+=H.Volume));if(!L.length)return k;N=L[0][this.field0||this.defaultField],e.C_1(95);var Y=e.S59(13,1183,18,12,5);return j=L[L.length-Y][this.field1||this.defaultField],this.start=F,this.end=M,this.startPrice=N,e.d7v(),this.endPrice=j,this.records=L,this.volume=E,k.push({label:this.getAxisLabelText(this.p0[0]),value:(this.field0||this.defaultField)[0]+": "+N}),k.push({label:this.getAxisLabelText(this.p1[0]),value:(this.field1||this.defaultField)["0"-0]+": "+j}),this.calloutDataGroups.forEach(Q=>{e.d7v(),this.parameters.displayGroups[Q.id]&&(k=k.concat(Q.getOutput(this)))}),k},getAxisLabelText:function(C){e.j4$();var k;return k=this.getDateFromTick(C),this.formatDate(k)},intersected:function(C,k,F){var M,L,E,H,N,j;e.j4$(),M=677879174,L=1202694365,e.C_1(4),E=e.a3a(96,"2");for(var W=1;e.C1g(W.toString(),W.toString().length,81916)!==M;W++){if(~this.pixelX&&+this.pixelY)return 1;E+=2}if(e.C1g(E.toString(),E.toString().length,"23679"^0)!==L&&~this.pixelX&&+this.pixelY)return 1;if(!this.pixelX||!this.pixelY)return null;if(this.pointIntersection(this.pixelX[2],this.pixelY[2],F,!0))return H="d",H+="r",H+="a",H+="g",N="p",N+="2",this.highlighted=N,{action:H,point:"p2"};if(this.parameters.calloutOnHover){var{x0:V,x1:Y}=F;j=!(V>Math.max(this.p0[0],this.p1[0])||Y<Math.min(this.p0[0],this.p1[0])),j!==this.showCallout&&(this.showCallout=j,this.stx.draw())}return t.Drawing.regression.prototype.intersected.call(this,C,k,F)},reposition:function(C,k,F,M){var L,E,H;if(k){if(L=k.p0&&k.p0[0]||null,E=k.p1&&k.p1[0]||null,H=F-k.tick||0,!this.stx.chart.dataSet[F]||L!==null&&!this.stx.chart.dataSet[L+H]||E!==null&&!this.stx.chart.dataSet[E+H])return this.render(C),null;t.Drawing.regression.prototype.reposition.call(this,C,k,F,M),k.action=="drag"&&k.point=="p2"&&this.setPoint(2,this.p0[0],M,this.stx.panels[this.panelName].chart)}},adjust:function(){var C,k,F,M,L,E;C="cha",C+="rt",this.panelName=C,this.field=null;var{stx:H}=this;if(k=H.panels[this.panelName],F=H.getYAxisByField(k,this.field),e.j4$(),this.setPoint(0,this.d0,this.v0,k.chart),e.p9i(4),this.setPoint(e.S59(64,"1"),this.d1,this.v1,k.chart),!this.repositioner&&this.p0[0]>this.p1[0]){var[N,j]=this.p0;M=this.field0,this.setPoint(0,this.p1[0],this.p1[1],H.panels[this.panelName].chart),this.field0=this.field1,this.setPoint(1,N,j,H.panels[this.panelName].chart),this.field1=M}H.chart.dataSet[this.p0[0]]&&(e.C_1(4),this.v0=this.p0[e.S59(32,"1")]=H.chart.dataSet[this.p0[e.a3a("0",0,e.C_1(17))]][this.field0||this.defaultField]),H.chart.dataSet[this.p1[0]]&&(this.v1=this.p1[1]=H.chart.dataSet[this.p1[0]][this.field1||this.defaultField]),this.d2&&this.v2?this.setPoint(2,this.d2,this.v2,H.panels[this.panelName].chart):(L=this.pixelFromValue(k,this.p0[0],H.chart.dataSet[this.p0[0]][this.field0||this.defaultField],F),e.p9i(91),E=this.valueFromPixel(e.S59("15",L),k,H.getYAxisByField(k,this.field)),this.setPoint(2,this.p0["0"*1],E,H.panels[this.panelName].chart))},click:function(C,k,F){var M;this.copyConfig();var{stx:L}=this;return M=L.panels[this.panelName],L.chart.dataSet[k]?this.penDown?(e.j4$(),this.accidentalClick(k,F)||(this.setPoint(1,k,F,M.chart),this.field1=this.validFields.includes(L.magneticHold)?L.magneticHold:this.defaultField,this.penDown=!1),!0):(this.setPoint(0,k,F,M.chart),this.field0=this.validFields.includes(L.magneticHold)?L.magneticHold:this.defaultField,this.penDown=!0,!1):!1},reconstruct:function(C,k){this.stx=C,this.color=k.col,this.panelName=k.pnl,this.pattern=k.ptrn,this.lineWidth=k.lw,this.d0=k.d0,this.d1=k.d1,this.tzo0=k.tzo0,this.tzo1=k.tzo1,this.v0=k.v0,this.v1=k.v1,this.field=k.fld,this.d2=k.d2,this.v2=k.v2,this.field0=k.fld0||this.defaultField,this.field1=k.fld1||this.defaultField,this.fillColor=k.fc,this.axisLabel=k.al,this.parameters=k.param,this.pixelX=k.px,this.pixelY=k.py,this.adjust()},serialize:function(C,k){return e.j4$(),{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field,d2:this.d2,v2:this.v2,fld0:this.field0,fld1:this.field1,fc:this.fillColor,al:this.axisLabel,param:this.parameters,px:this.pixelX,py:this.pixelY}},render:function(C){var k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z;if(k=this.stx,F=k.panels[this.panelName],this.field=null,M=k.getYAxisByField(F,this.field),!(!F||this.field&&!M)&&this.p1&&!(this.p0[0]<0||this.p1[0]<0)&&(L=k.pixelFromTick(this.p0[0],F.chart),E=k.pixelFromTick(this.p1["0"*1],F.chart),H=k.pixelFromTick(this.p0[0],F.chart),!(L<F.left&&E<F.left)&&!(L>F.right&&E>F.right))){if(N=k.chart.dataSet[this.p0[0]],j=k.chart.dataSet[this.p1[0]],W=N?this.pixelFromValue(F,this.p0[0],N[this.field0||this.defaultField],M):null,V=j?this.pixelFromValue(F,this.p1[0],j[this.field1||this.defaultField],M):null,Y=this.p2?this.pixelFromValue(F,this.p2["0">>0],this.p2[1],M):0,Q=this.fillColor||k.containerColor,C.fillStyle=Q,C.globalAlpha=.25,z=this.getLineColor(),$={pattern:this.pattern,lineWidth:this.lineWidth},W&&V&&(e.C_1(13),C.fillRect(L,0,e.S59(L,E),F.bottom)),C.globalAlpha=1,W&&V&&(!this.spanPanels||this.panelName==this.originPanelName)&&k.plotLine(L,E,W,V,z,"segment",C,F,$),W&&(e.C_1(13),k.plotLine(L,L,e.S59(20,W),e.a3a(W,20,e.p9i(8)),z,"line",C,F,$)),V&&(e.C_1(96),k.plotLine(E,E,e.S59(V,64,"20"),e.S59("20",V,e.p9i(91)),z,"line",C,F,$)),this.axisLabel&&!this.repositioner&&!this.penDown&&this.p0[0]>=("0"^0)&&this.p1[0]>=0&&!k.chart.xAxis.noDraw&&(!this.spanPanels||F.yAxis.bottom!==F.bottom)){K=[[L,this.getAxisLabelText(this.p0[0])],[E,this.getAxisLabelText(this.p1[0])]],k.endClip();for(var ae of K)k.createXAxisLabel({panel:F,txt:ae[1],x:ae[0],backgroundColor:z,color:null,pointed:!0,padding:2});k.startClip(F.name)}(!this.spanPanels||this.panelName==this.originPanelName)&&(this.drawCallout(C),this.highlighted?(q=this.highlighted=="p0",X=this.highlighted=="p1",Z=this.highlighted=="p2",this.littleCircle(C,L,W,q),this.littleCircle(C,E,V,X),this.littleCircle(C,H,Y,Z)):(this.pixelX=[L,E,H],this.pixelY=[W,V,Y]))}},drawCallout:function(C){var k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te;if(k="t",k+="o",k+="p",!(this.parameters.calloutOnHover&&!this.showCallout)&&(F=this.stx,M=F.panels[this.panelName],!!this.p2&&(L=F.getYAxisByField(M,this.field),!(!M||this.field&&!L)&&(this.context=C,E=F.pixelFromTick(this.p0[0],M.chart),H=this.pixelFromValue(M,this.p2[0],this.p2[1],L),!isNaN(H)&&(N=this.getcalloutData(),!!N.length))))){j=N.reduce(function(ne,le){return ne.label.length>le.label.length?ne:le}).label,W=N.reduce(function(ne,le){return ne.value.length>le.value.length?ne:le}).value,e.p9i(13);var re=e.S59(18,20);this.calloutWidth=(j.length+W.length)*(this.fontSize*.6)+this.padding*re,e.p9i(13);var oe=e.a3a(5,7);this.calloutHeight=N.length*this.lineHeight+this.padding*oe,C.font=this.fontString,C.textBaseline=k,e.C_1(37);var B=e.a3a(3,6,16);V=this.calloutWidth/B,e.p9i(13);var G=e.a3a(20,22);if(Y=this.calloutHeight/G,(H<M.yAxis.top+Y||H>M.yAxis.bottom-Y)&&(H=Math.min(Math.max(H,M.yAxis.top+Y),M.yAxis.bottom-Y),this.p2[1]=this.valueFromPixel(H,M,L)),Q=this.lineWidth,Q||(e.p9i(5),Q=e.S59(1,"1.1")),this.getLineColor(),z=this.getLineColor(this.borderColor),q=Math.min(Math.min(V,Y)/4,5),$=Math.round(E),K=Math.round(H),E-=V+this.stem.x,H-=this.stem.y,e.p9i(8),Math.round(e.a3a(E,V)),this.highlighted){X=1476492259,Z=-906977196,ae=2;for(var ie=1;e.M0S(ie.toString(),ie.toString().length,9083)!==X;ie++)te="stx_anno",te+="tation_highlight_bg",F.canvasColor(te,C),ae+=2;e.M0S(ae.toString(),ae.toString().length,95904)!==Z&&F.canvasColor("",C)}else this.fillColor?(C.fillStyle=this.fillColor,C.globalAlpha=.7):this.stem&&(C.fillStyle=F.containerColor);C.strokeStyle=z,C.setLineDash&&(C.setLineDash(t.borderPatternToArray(Q,this.pattern)),e.p9i(2),C.lineDashOffset=e.a3a(0,"0")),z&&(C.beginPath(),C.lineWidth=Q,e.C_1(11),C.moveTo(e.a3a(E,V,q),e.a3a(Y,H,e.p9i(13))),e.p9i(8),C.quadraticCurveTo(e.a3a(E,V),e.S59(Y,H,e.p9i(13)),e.S59(E,V,e.C_1(8)),e.S59(H,q,Y,e.C_1(15))),e.p9i(8),C.lineTo(e.S59(E,V),e.a3a(H,2,q,e.C_1(53))),C.lineTo($,K),e.C_1(8),C.lineTo(e.a3a(E,V),e.a3a(q,H,2,e.p9i(51))),e.p9i(8),C.lineTo(e.a3a(E,V),e.S59(H,Y,q,e.p9i(11))),e.C_1(8),C.quadraticCurveTo(e.a3a(E,V),e.a3a(H,Y,e.p9i(8)),e.S59(E,V,q,e.C_1(11)),e.a3a(H,Y,e.p9i(8))),e.C_1(51),C.lineTo(e.a3a(q,E,2),e.S59(H,Y,e.p9i(8))),e.C_1(53),C.lineTo(e.S59(E,2,q),e.S59(H,Y,e.p9i(8))),e.p9i(15),C.lineTo(e.S59(E,q,V),e.S59(H,Y,e.C_1(8))),e.C_1(13),C.quadraticCurveTo(e.a3a(V,E),e.S59(H,Y,e.p9i(8)),e.a3a(V,E,e.C_1(13)),e.S59(H,Y,q,e.p9i(11))),e.C_1(13),C.lineTo(e.a3a(V,E),e.a3a("2",1,H,q,e.C_1(54))),e.p9i(13),C.lineTo(e.S59(V,E),e.S59(H,2,q,e.p9i(53))),e.p9i(13),C.lineTo(e.S59(V,E),e.S59(H,q,Y,e.C_1(15))),e.p9i(13),C.quadraticCurveTo(e.S59(V,E),e.S59(Y,H,e.p9i(13)),e.S59(E,q,V,e.C_1(15)),e.a3a(Y,H,e.p9i(13))),e.C_1(53),C.lineTo(e.S59(E,2,q),e.S59(Y,H,e.p9i(13))),e.C_1(51),C.lineTo(e.a3a(q,E,2),e.a3a(Y,H,e.C_1(13))),e.C_1(11),C.lineTo(e.S59(E,V,q),e.S59(Y,H,e.p9i(13))),C.fill(),C.globalAlpha=1,this.pattern!="none"&&C.stroke()),this.highlighted?F.canvasColor("stx_annotation_highlight",C):C.fillStyle=this.fillColor==="transparent"?F.getCanvasColor():t.chooseForegroundColor(this.fillColor),H+=this.padding,N.forEach(ne=>{var le,fe;le="bol",le+="d ",e.j4$();var{label:ue,value:ge}=ne;fe=C.font,C.textAlign="start",C.font=le+this.fontSize+"px "+this.fontFamily,C.fillText(F.translateIf(ue)+": ",E-V+this.padding,H-Y),C.textAlign="end",C.font=this.fontSize+"px "+this.fontFamily,C.fillText(ge,E+V-this.padding,H-Y),C.textAlign="start",C.font=fe,H+=this.lineHeight}),C.textBaseline="alphabetic"}}},!0),t.Drawing.quadrant=function(){e.d7v(),this.name="quadrant"},t.inheritsFrom(t.Drawing.quadrant,t.Drawing.regression),t.extend(t.Drawing.quadrant.prototype,{configs:["color",n,o,"pattern"],copyConfig:function(){var C;C=this.stx.currentVectorParameters,this.color=C.currentColor,this.fillColor=C.fillColor,this.lineWidth=C.lineWidth,this.pattern=C.pattern},$controls:[],render:function(C){var k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie;if(k="t",k+="i",k+="ro",k+="ne",F="segm",F+="en",F+="t",M="t",M+="irone",L=this.stx,E=L.panels[this.panelName],H=L.getYAxisByField(E,this.field),!(!E||this.field&&!H)&&this.p1&&(N=L.pixelFromTick(this.p0[0],E.chart),j=L.pixelFromTick(this.p1[0],E.chart),!(N<E.left&&j<E.left)&&!(N>E.right&&j>E.right))){W=null,V=null;for(var ne=Math.max(0,Math.min(this.p1[0],this.p0[0]));ne<=Math.min(L.chart.dataSet.length-1,Math.max(this.p1[0],this.p0[0]));ne++)Y=this.getYValue(ne),Y!==null&&((W===null||Y.transformed>W)&&(W=Y.transformed),(V===null||Y.transformed<V)&&(V=Y.transformed));Q=L.pixelFromTransformedValue(W,E,H),e.C_1(97),z=L.pixelFromTransformedValue(e.S59(V,W,4,3),E,H),e.p9i(97),$=L.pixelFromTransformedValue(e.S59(V,W,3,2),E,H),e.p9i(14),K=L.pixelFromTransformedValue(e.S59(W,V,"2"),E,H),e.C_1(98),q=L.pixelFromTransformedValue(e.a3a(3,V,2,W),E,H),e.p9i(99),X=L.pixelFromTransformedValue(e.S59(0,"4",W,3,V),E,H),Z=L.pixelFromTransformedValue(V,E,H),e.p9i(4),this.p0[1]=e.S59(32,"0"),this.p1[1]=!1,ae=this.getLineColor(),te=this.fillColor,(te=="auto"||t.isTransparent(te))&&(te=L.defaultColor),C.fillStyle=te,re={pattern:this.pattern,lineWidth:this.lineWidth},L.plotLine(N,j,Q,Q,ae,"segment",C,E,re),L.plotLine(N,j,Z,Z,ae,"segment",C,E,re),this.name=="quadrant"?(oe="segme",oe+="nt",L.plotLine(N,j,z,z,ae,"segment",C,E,re),L.plotLine(N,j,X,X,ae,oe,C,E,re)):this.name==M&&(L.plotLine(N,j,$,$,ae,"segment",C,E,re),L.plotLine(N,j,q,q,ae,"segment",C,E,re)),L.plotLine(N,N,Q,Z,ae,"segment",C,E,re),L.plotLine(j,j,Q,Z,ae,"segment",C,E,re),L.plotLine(N,j,K,K,ae,F,C,E,t.extend(re,{opacity:this.name==k?.2:1})),C.globalAlpha=.1,C.beginPath(),e.C_1(13),C.fillRect(N,Q,e.S59(N,j),e.S59(Q,Z)),this.name=="quadrant"?(e.p9i(13),C.fillRect(N,z,e.a3a(N,j),e.S59(z,X))):this.name=="tirone"&&(e.p9i(13),C.fillRect(N,$,e.a3a(N,j),e.S59($,q))),C.globalAlpha=1,this.highlighted?(G=this.highlighted=="p0",ie=this.highlighted=="p1",this.littleCircle(C,N,K,G),this.littleCircle(C,j,K,ie)):(B="qua",B+="drant",this.pixelX=[N,j],this.pixelY=[Q,Z,K],this.name===B&&this.pixelY.push(z,X),this.name==="tirone"&&this.pixelY.push($,q))}},intersected:function(C,k,F){var M,L,E,{pixelX:H,pixelY:N}=this;if(!H||!N)return null;if(M=this.repositionIntersection(C,k),M)return M;for(var j=0;j<2;j++)if(this.pointIntersection(H[j],N[2],F,!0))return e.C_1(8),this.highlighted=e.S59("p",j),{action:"drag",point:"p"+j};return L=[],H.forEach(W=>{L.push({p0:[W,N[0]],p1:[W,N[1]]})}),N.forEach(W=>{e.j4$(),L.push({p0:[H[0],W],p1:[H[1],W]})}),E=L.some(({p0:W,p1:V})=>this.lineIntersection(C,k,F,this.name,W,V,!0)),E?(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:C,value:this.valueOnDrawingAxis(C,k)}):null},reconstruct:function(C,k){this.stx=C,this.color=k.col,this.fillColor=k.fc,this.panelName=k.pnl,this.pattern=k.ptrn,this.lineWidth=k.lw,this.d0=k.d0,this.d1=k.d1,this.tzo0=k.tzo0,this.tzo1=k.tzo1,this.field=k.fld,this.permanent=k.prm,this.hidden=k.hdn,e.d7v(),this.adjust()},serialize:function(){return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field,prm:this.permanent,hdn:this.hidden}}},!0),t.Drawing.tirone=function(){this.name="tirone"},t.inheritsFrom(t.Drawing.tirone,t.Drawing.quadrant),t.Drawing.volumeprofile=function(){this.name="volumeprofile"},t.inheritsFrom(t.Drawing.volumeprofile,t.Drawing.regression),t.extend(t.Drawing.volumeprofile.prototype,{configs:["color","fillColor","lineWidth",a,"parameters"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor,this.fillColor=this.stx.currentVectorParameters.fillColor,e.d7v(),this.lineWidth=this.stx.currentVectorParameters.lineWidth,this.pattern=this.stx.currentVectorParameters.pattern,this.priceBuckets=this.stx.currentVectorParameters.volumeProfile.priceBuckets},$controls:[],getYValue:null,isAllowed:function(C,k){return e.d7v(),!k||typeof C.getFirstLastDataRecord(C.chart.dataSegment,k)[k]=="object"},render:function(C){var k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie,ne,le,fe,ue,ge,ce,de,he,pe,me,xe,ye,be,_e,De,ke,Ae,we,Ee,Se,Ce,Me,He,Re,Ne;k="a",k+="uto";var{stx:ze}=this,{dataSet:tt}=ze.chart;if(F=ze.panels[this.panelName],M=ze.getYAxisByField(F,this.field),!(!F||this.field&&!M)&&this.p1&&(M=M||F.yAxis,L=ze.pixelFromTick(this.p0[0],F.chart),E=ze.pixelFromTick(this.p1[0],F.chart),!(L<F.left&&E<F.left)&&!(L>F.right&&E>F.right))){var{flipped:je}=M;H=null,N=null,j=Math.min(this.p1[0],this.p0[0]),W=Math.max(this.p1["0"|0],this.p0[0]);for(var Ve=j;Ve<=W;Ve++)if(V=tt[Ve],!!V&&(V[this.field]&&(V=V[this.field]),!(!V||typeof V!="object"))){var{High:Oe,Low:Ie}=V;(H===null||Oe>H)&&(H=Oe),(N===null||Ie<N)&&(N=Ie)}var{priceBuckets:Te}=this;e.p9i(34),Y=e.S59(N,H,Te),Q=[],je&&([H,N]=[N,H]),z=je?-1:1;for(var Le=N,Fe=0;Fe<=Te&&(Q.push([Le,0]),N!==H);Le+=Y*z,Fe++);$=0;for(var We=j;We<=W;We++)if(K=tt[We],!!K&&(K[this.field]&&(K=K[this.field]),!(!K||typeof K!="object"))){var{High:Ye,Low:$e,Volume:Be}=K;if(!(!Be&&Be!==0)){q=[],X=Q[0][0],Z=null;for(var Je=1;Je<Q.length;Je++)Z=Q[Je][0],ae=$e>=X&&$e<=Z,te=Ye>=X&&Ye<=Z,re=$e<X&&Ye>Z,(ae||te||re)&&q.push(Je),X=Z;if(q.length){oe=Be/q.length;for(var Qe=0;Qe<q.length;Qe++)B=Q[q[Qe]][1]+=oe,B>$&&($=B)}}}G=$===0&&Q.length>1,G&&ze.displayErrorAsWatermark("chart",ze.translateIf("Not enough data to render the Volume Profile")),ie=Xe=>(e.d7v(),Math.round(Xe)+("0.5"-0)),ne=(W-j)*ze.layout.candleWidth,le=ie(ze.pixelFromTick(j))-("1"-0),e.p9i(8),fe=ie(e.S59(le,ne)),e.C_1(100),ue=this.pixelFromValue(F,j,e.S59(N,N,H,"2"),M),ge=le;var[Ge]=Q[0];ce=this.getLineColor();var{fillColor:Ze}=this;(Ze===k||t.isTransparent(Ze))&&(Ze=ze.defaultColor),C.fillStyle=Ze,de={pattern:this.pattern,lineWidth:this.lineWidth},he=0,pe=0,me=(Xe,at)=>(e.d7v(),[he,pe]=[Xe,at]),xe=(Xe,at,et)=>{et||ze.plotLine(he,Xe,pe,at,ce,"segment",C,F,de),e.d7v(),[he,pe]=[Xe,at]},(this.highlighted||G)&&ze.plotLine(le,fe,ue,ue,ze.defaultColor,"segment",C,F,Object.assign({},de,{opacity:.3}));for(var Ue=1;Ue<Q.length;Ue++){var[Pe,qe]=Q[Ue];qe?(e.C_1(101),ye=e.S59(qe,ne,$),e.C_1(8),be=ie(e.a3a(le,ye)),_e=ie(this.pixelFromValue(F,j,Pe,M)),De=ie(this.pixelFromValue(F,j,Ge,M)),ke=Math.max(_e,M.top),Ae=Math.min(De,M.bottom),e.p9i(102),we=e.S59(_e,ke),e.p9i(102),Ee=e.S59(De,Ae),Se=ke<=M.bottom&&Ae>=M.top,Se&&(this.highlighted||(C.globalAlpha=.3),me(le,Ae),xe(le,ke),xe(be,ke,we),xe(be,Ae),be>ge&&xe(ge,Ae,Ee),C.globalAlpha=.2,e.C_1(13),C.fillRect(le,ke,e.a3a(le,be),e.a3a(ke,Ae)),C.globalAlpha=1),ge=be):ge=le,Ge=Pe}this.highlighted&&(Ce=this.highlighted==="p0",Me=this.highlighted==="p1",He=this.p0[0]>this.p1[0],Re=He?Me:Ce,Ne=He?Ce:Me,this.littleCircle(C,le,ue,Re),this.littleCircle(C,fe,ue,Ne)),e.C_1(8),this.pixelX=[le,e.S59(le,ne)],this.pixelY=[this.pixelFromValue(F,j,H,M),this.pixelFromValue(F,j,N,M),ue],this.p0[1]=0,this.p1[1]=!1}},intersected:function(C,k,F){var M,{p0:L,p1:E,stx:H}=this;if(!L||!E)return null;var[,,N]=this.pixelY||[];if(N!==void 0){if(M=this.repositionIntersection(C,k),M)return M;for(var[j,[W]]of[["0"-0,L],[1,E]])if(this.pointIntersection(H.pixelFromTick(W),N,F,!0))return e.C_1(8),this.highlighted=e.a3a("p",j),{action:"drag",point:"p"+j};return this.boxIntersection(C,k,F)?(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:C,value:k}):null}},reconstruct:function(C,k){this.stx=C,this.color=k.col,this.fillColor=k.fc,this.panelName=k.pnl,this.pattern=k.ptrn,this.lineWidth=k.lw,e.d7v(),this.d0=k.d0,this.d1=k.d1,this.tzo0=k.tzo0,this.tzo1=k.tzo1,this.field=k.fld,this.priceBuckets=k.pb,this.permanent=k.prm,this.hidden=k.hdn,this.adjust()},serialize:function(){return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field,pb:this.priceBuckets,prm:this.permanent,hdn:this.hidden}}},!0),t.Drawing.elliottwave=function(){this.name="elliottwave",e.j4$(),this.lastPoint=0,this.points=[],this.pts=[],e.C_1(3),this.dx=e.a3a("0",32),e.C_1(3),this.dy=-e.a3a("20",64),this.dragToDraw=!1,this.annotationPoints=[],this.edit=null},t.inheritsFrom(t.Drawing.elliottwave,t.Drawing.annotation),t.Drawing.elliottwave.defaultTemplate={impulse:["I","II","III","IV","V"],corrective:["A","B","C"],decoration:"enclosed",showLines:!0},t.Drawing.elliottwave.prototype.initializeSettings=function(C){C.currentVectorParameters.waveParameters=t.clone(t.Drawing.elliottwave.defaultTemplate)},t.Drawing.elliottwave.prototype.configs=["color","lineWidth","lineColor","pattern",i,"waveParameters"],t.Drawing.elliottwave.prototype.$controls=["br[cq-wave-parameters]",s],t.Drawing.elliottwave.prototype.construct=function(C,k){var F;e.j4$(),this.stx=C,this.panelName=k.name,F=C.currentVectorParameters,Object.assign(this,F.waveParameters)},t.Drawing.elliottwave.prototype.serialize=function(){var C,k;C="s",C+="t",k={};for(var F=0;F<this.points.length;F++)e.p9i(8),k[e.S59("d",F)]=this[e.S59("d",F)],e.p9i(8),k[e.a3a("tzo",F)]=this[e.S59("tzo",F)],e.p9i(8),k[e.a3a("v",F)]=this[e.S59("v",F)];return e.d7v(),k.annotations=this.annotationPoints.join(","),Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fld:this.field,fnt:t.removeNullValues(t.replaceFields(this.font,{style:C,size:"sz",weight:"wt",family:"fl"})),prm:this.permanent,hdn:this.hidden},k)},t.Drawing.elliottwave.prototype.reconstruct=function(C,k){this.stx=C,this.color=k.col,this.panelName=k.pnl,this.pattern=k.ptrn,this.lineWidth=k.lw,this.font=t.replaceFields(k.fnt,{st:"style",sz:"size",wt:"weight",fl:"family"}),this.decoration=k.decor,this.showLines=k.show,this.dx=k.dx,this.dy=k.dy,this.trend=k.trend,this.field=k.fld,this.permanent=k.prm,this.hidden=k.hdn,this.annotationPoints=k.annotations.split(","),k.decor==="enclosed"&&this.calculateRadius(C.chart.tempCanvas.context),this.maxSegments=k.mxSeg,this.reconstructPoints(k),this.adjust()},t.Drawing.elliottwave.prototype.reconstructPoints=function(C){var k,F,M;if(k=this.stx.panels[this.panelName],e.j4$(),!!k)for(var L=0;L<this.annotationPoints.length;L++)e.C_1(8),this[e.S59("d",L)]=C[e.a3a("d",L)],e.p9i(8),this[e.a3a("v",L)]=C[e.S59("v",L)],e.p9i(8),this[e.a3a("tzo",L)]=C[e.S59("tzo",L)],F=t.strToDateTime(C["d"+L]),M=this.stx.tickFromDate(F,k.chart),this.points.push([M,C["v"+L]])},t.Drawing.elliottwave.prototype.calculateRadius=function(C){var k,F;this.getFontString(),C.font=this.fontString,k=0;for(var M=0;M<this.annotationPoints.length;M++)F=C.measureText(this.annotationPoints[M]).width,k<F&&(k=F);this.enclosedRadius=k},t.Drawing.elliottwave.prototype.check=function(C,k,F){var M,L;e.C_1(90),M=this.points[e.S59(F,"1")];function E(H){for(var N=2;N<H.length;N++)if(Math.sign(H[N][1]-H[N-1][1])==Math.sign(H[N-1][1]-H[N-2][1]))return!1;return e.j4$(),!0}return M&&C<=M[0]?!1:F===1&&this.points.length===2?!0:(e.C_1(91),L=this.points[e.S59("1",F)],!(L&&C>=L[0]||!E(this.points)))},t.Drawing.elliottwave.prototype.move=function(C,k,F){e.j4$(),this.copyConfig(),this.points[this.lastPoint+1]=[k,F],this.render(C)},t.Drawing.elliottwave.prototype.adjust=function(){var C,k;if(C=this.stx.panels[this.panelName],!!C)for(var F=0;this.maxSegments+1>F;F++)e.C_1(8),k=this[e.S59("d",F)],this.setPoint(F,k,this["v"+F],C.chart),this.points[F][0]=this.stx.tickFromDate(t.strToDateTime(k),C.chart),e.p9i(8),this.points[F][1]=this[e.S59("v",F)]},t.Drawing.elliottwave.prototype.click=function(C,k,F){var M;if(M=this.stx.panels[this.panelName],!!M){if(e.j4$(),this.copyConfig(),!this.penDown){this.setPoint(0,k,F,M.chart),this.points.push(this.p0),this.penDown=!0,this.segment=0,this.lastPoint=0,this.impulse&&(this.annotationPoints=this.annotationPoints.concat(this.impulse)),this.corrective&&(this.annotationPoints=this.annotationPoints.concat(this.corrective)),this.annotationPoints.unshift("0"),this.decoration==="enclosed"&&this.calculateRadius(C),e.C_1(103);var L=e.a3a(2,16,0,8,9);return this.maxSegments=this.annotationPoints.length-L,this.trend=1,!1}return this.accidentalClick(k,F)?(this.penDown=!0,!1):this.check(k,F,this.lastPoint+1)&&(this.lastPoint++,this.setPoint(this.lastPoint,k,F,M.chart),this.lastPoint===1&&(this.trend=Math.sign(this.v1-this.v0)),this.segment++,this.segment>=this.maxSegments)?(this.penDown=!1,!0):!1}},t.Drawing.elliottwave.prototype.render=function(C){var k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie,ne,le,fe,ue,ge,ce,de,he;if(k="cen",k+="te",k+="r",F=this.stx,M=F.panels[this.panelName],L=F.getYAxisByField(M,this.field),!(!M||this.field&&!L)){if(L=L||M.yAxis,E=this.annotationPoints,H=this.pattern?t.borderPatternToArray(this.lineWidth,this.pattern):[],this.getFontString(),C.font=this.fontString,C.textAlign=k,C.textBaseline="middle",C.lineWidth=this.lineWidth,this.fontString!==this.lastFontString&&this.calculateRadius(C),this.lastFontString=this.fontString,N=this.getLineColor(),C.fillStyle=C.strokeStyle=N,C.save(),C.setLineDash(H),j=this.dx,W=this.dy,V=this.points,Y=this.pts,Q=!this.showLines&&this.highlighted,z=V.length,this.penDown&&this.segment){K="b",K+="ottom",e.p9i(104);var pe=e.a3a(9,3,8,9,23);$=this.trend*(z%("2"*pe)-.5)<0,this.drawDropZone(C,V[z-2]["1"-0],F.priceFromPixel(L[$?"top":K],M,L),V[z-2][0])}else if(typeof this.highlighted=="string"&&F.repositioningDrawing){q="m",q+="i",q+="n",X="m",X+="a",X+="x",Z=parseInt(this.highlighted.substring(1,this.highlighted.length),10),e.C_1(55);var me=e.a3a(16,14);$=this.trend*(Z%me-("0.5"-0))>0,e.C_1(13),ae=V[e.a3a(1,Z)],e.C_1(8),te=V[e.S59(Z,1)],re=Z>0?ae[1]:te[1],te&&(re=Math[$?X:q](re,te[1])),this.drawDropZone(C,re,F.priceFromPixel(L[$?"top":"bottom"],M,L),ae?ae[0]:null,te?te[0]:null)}for(var xe=0;xe<z;xe++)oe=V[xe],B=F.pixelFromTick(oe[0],M.chart),G=this.pixelFromValue(M,oe[0],oe[1],F.getYAxisByField(M,this.field)),Y[xe]=[B,G];if(xe=0,this.showLines||Q){for(C.beginPath(),Q&&(C.globalAlpha=.3);xe<Y.length;xe++)C.lineTo(Y[xe]["0"^0],Y[xe][1]);C.stroke(),xe=0}for(C.restore();xe<z;xe++){ie="en",ie+="cl",ie+="osed",ne="pare",ne+="nthese",ne+="s",le=xe%2?j:-j,fe=xe%2?W:-W,le*=this.trend,fe*=this.trend,L.flipped&&(le*=-1,fe*=-1),ue=Y[xe],ge=ue[2]=ue[0]+le,e.p9i(13);var ye=e.a3a(19,20);ce=ue[3]=ue[ye]+fe,de=this.enclosedRadius||8,he=E[xe],this.decoration===ne&&(e.p9i(77),he=e.S59(he,")","(")),C.fillText(he,ge,ce),this.decoration===ie&&(C.beginPath(),C.arc(ge,ce,de,0,("2"^0)*Math.PI,!1),C.stroke()),this.highlighted&&(C.save(),this.littleCircle(C,this.pts[xe][0],this.pts[xe][1],this.highlighted==="p"+xe),C.restore())}}},t.Drawing.elliottwave.prototype.reposition=function(C,k,F,M){var L,E,H,N,j,W;if(k){if(L=this.stx.panels[this.panelName],E=k.tick-F,H=k.value-M,k.action==="move")for(var V=0;k.points.length>V;V++){N=k.points[V],this.setPoint(V,N[0]-E,N[1]-H,L.chart),e.C_1(22);var Y=e.a3a(0,13,12);this.points[V]=[N[0]-E,N[Y]-H]}k.action==="drag"&&(j=k.point,W=this.points,W[j]=[F,M],this.check(F,M,j)&&this.setPoint(j,F,M,L.chart)),e.d7v(),this.render(C)}},t.Drawing.elliottwave.prototype.intersected=function(C,k,F){var M,L;if(!this.p0||!this.p1)return null;for(var E=0;this.points.length>E;E++){if(L=this.points[E],this.pointIntersection(L[0],L[1],F))return e.C_1(8),this.highlighted=e.a3a("p",E),{action:"drag",point:E,tick:C,value:this.valueOnDrawingAxis(C,k)};this.points[E+1]&&this.lineIntersection(C,k,F,"segment",L,this.points[E+1])&&(this.highlighted=!0,M={action:"move",points:t.clone(this.points),tick:C,value:this.valueOnDrawingAxis(C,k)})}return M},t.Drawing.elliottwave.prototype.measure=function(){var C,k,F,M,L;this.points.length>=2&&(C=".mStickyInteri",C+="or",k=this.points,this.stx.setMeasure(k[0][1],k[k.length-1][1],k[0][0],k[k.length-1][0],!0),F=this.stx.controls.mSticky,M=F&&F.querySelector(C),M&&(L=[],L.push(this.stx.translateIf(t.capitalize("Elliott Wave"))),this.getYValue&&L.push(this.stx.translateIf(this.field||this.stx.defaultPlotField||"Close")),L.push(M.innerHTML),M.innerHTML=L.join("<br>")))},t.Drawing.printProjection=function(C,k,F){var M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae;if(M=k.arr,M.length>"1">>0){L=M[0][0],E=Math.round(C.chart.maxTicks*.75);for(var te=1;te<M.length;te++){for(e.p9i(29),H=M[e.S59(1,te,"1")][0],N=M[te][0],j=t.strToDateTime(H),W=t.strToDateTime(N).getTime(),V=C.standardMarketIterator(j),Y=0;j.getTime()<W;)j=V.next(),Y+=1;if(Q=t.strToDateTime(H).getTime(),Q>t.strToDateTime(F[F.length-1].Date).getTime()){e.p9i(11);var re=e.S59(17,13,29);z=F.length-re,e.C_1(17),Y+=e.a3a("1",0)}else for(z=F.length-1;z>=0&&!(Q<=t.strToDateTime(F[z].Date).getTime());z--);$={x0:0,x1:Y,y0:F[z].Close,y1:M[te][1]},L=t.strToDateTime(H),V=C.standardMarketIterator(L),K=!1;for(var oe=0;oe<=Y;oe++)if(q="m",q+="in",q+="u",q+="te",K?L=V.next():K=!0,!(L.getTime()<=F[F.length-1].DT.getTime())){X=t.yIntersection($,oe),X||(X=0),e.p9i(36);var B=e.a3a(159990,10,17e4);if(Z=Math.round(X*B)/1e4,Z===0&&(Z=M[te][1]),ae={Date:t.yyyymmddhhmmssmmm(L),DT:L,Open:Z,Close:Z,High:Z,Low:Z,Volume:0,Adj_Close:Z,Split_Close:Z,projection:!0},C.layout.interval==q&&E--<"0"<<0)break;F[F.length]=ae}}}}):console.error("drawingAdvanced feature requires first activating drawing feature.")};ja=U=>{var e=se;e.d7v();var t;t=typeof _CIQ!="undefined"?_CIQ:U.CIQ,t.computeEquationChart?(t.formatEquation=function(r){var s,i,a,o,n,l,u,h;e.d7v(),s="",i=[],a="",o=!1;for(var c=1;c<r.length;c++)n=r[c],n=="["&&!o?o=!0:n=="]"&&o?(o=!1,a!==""&&(i.push(a),e.C_1(77),s+=e.S59(a,"]","[")),a=""):o?a+=n:n=="+"||n=="-"||n=="*"||n=="/"||n==":"||n=="%"||n=="("||n==")"?(a!==""&&isNaN(a)?(i.push(a),e.p9i(77),s+=e.S59(a,"]","[")):s+=a,n==":"&&(n="/"),s+=n,a=""):n!=" "&&(a+=n);if(a!==""&&isNaN(a))i.push(a),e.p9i(77),s+=e.a3a(a,"]","[");else{l=703114400,u=158187681,e.p9i(17),h=e.a3a("2",0);for(var f=1;e.M0S(f.toString(),f.toString().length,23175)!==l;f++)s+=a,h+=2;e.M0S(h.toString(),h.toString().length,9751)!==u&&(s-=a)}return{equation:s,symbols:i}},t.fetchEquationChart=function(r,s){var i,a,o,n,l;i=t.formatEquation(r.symbol),a=i.symbols,o=[],n=r.stx,r.stx=null;for(var u=0;u<a.length;u++)l=t.shallowClone(r),l.stx=n,l.symbol=a[u],l.symbolObject={symbol:a[u]},o.push(l);r.stx=n,n.quoteDriver.multiFetch(o,function(h){var c,f,m,x,g;c={},r.loadMoreReplace=!0,f={charge:0};for(var d=0;d<h.length;d++){if(m=h[d],m.dataCallback.error){s({error:m.dataCallback.error});return}c[m.params.symbol]=m.dataCallback.quotes,r.loadMoreReplace=r.loadMoreReplace&&m.params.loadMoreReplace,r.moreToLoad=r.moreToLoad||m.dataCallback.moreAvailable,x=m.dataCallback.attribution,x&&(x.charge&&(f.charge+=x.charge),f.source=x.source,f.exchange===void 0?f.exchange=x.exchange:f.exchange!=x.exchange&&(f.exchange=""))}if(o.length||!(r.loadMore||r.update))try{g=t.computeEquationChart(i.equation,c),s({quotes:g,moreAvailable:r.moreToLoad,attribution:f})}catch(S){var p,v;p="In",p+="vali",p+="d ",p+="equation: ",v={error:p+i.equation},S.name&&S.name=="NoException"&&(v.suppressAlert=!0),s(v)}})}):console.error("equationsAdvanced feature requires first activating equations feature.")};Va=U=>{var e=se,t,r,s;e.j4$(),t="un",t+="defined",r=typeof _CIQ!==t?_CIQ:U.CIQ,r.Marker?r.Marker.Performance||(r.ChartEngine.prototype.removeDOMMarker=function(i){console.warn(`CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release
 Please use CIQ.Marker.Performance#remove instead.`),r.Marker.Performance.prototype.removeDOMMarker.call(i.params.node,i)},r.ChartEngine.prototype.drawMarkers=function(){console.warn(`CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release
 Please use CIQ.Marker.Performance.drawMarkers instead.`),r.Marker.Performance.drawMarkers(this)},r.ChartEngine.prototype.calculateMarkerStyles=function(i,a){console.warn(`CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release
 Please use CIQ.Marker.Performance.calculateStyles instead.`),e.d7v(),r.Marker.Performance.calculateMarkerStyles(this,i,a)},r.ChartEngine.prototype.drawCircleMarker=function(i,a,o){var n;n="CIQ.ChartEngine#",n+="d",e.j4$(),n+=`rawCircleMarker is scheduled for deprecation in a future release
 Plea`,n+="se use CIQ.Marker.Performance.drawCircleMarker instead.",console.warn(n),r.Marker.Performance.drawCircleMarker(i,a,o)},r.ChartEngine.prototype.drawSquareMarker=function(i,a,o){var n;n=`CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release
 Please use CIQ.M`,n+="arker.Performance.drawSquareMarker instead.",console.warn(n),r.Marker.Performance.drawSquareMarker(i,a,o)},r.ChartEngine.prototype.drawCalloutMarker=function(i,a,o){e.d7v(),console.warn(`CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release
 Please use CIQ.Marker.Performance.drawCalloutMarker instead.`),r.Marker.Performance.drawCalloutMarker(i,a,o)},r.ChartEngine.prototype.drawMarkerStem=function(i,a,o){e.d7v(),console.warn(`CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release
 Please use CIQ.Marker.Performance.drawMarkerStem instead.`),r.Marker.Performance.drawMarkerStem(i,a,o)},r.ChartEngine.prototype.positionDOMMarkers=function(){e.d7v(),console.warn(`CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release
 Please use CIQ.Marker.Performance.drawMarkers instead.`),r.Marker.Performance.drawMarkers(this)},r.Marker.Performance=function(i){var a,o,n,l,u,h,c,f,m,x,g,d,p;a="c",a+="al",a+="lou",a+="t",o='<div class="stx-marker stx-pe',o+='rformance-marker stx-marker-expand"><h4></h4><p></p></div>',this.params={displayCategory:!0,displayStem:!0,invert:!1,story:"",headline:""},r.extend(this.params,i),n=this.template=document.createElement("TEMPLATE"),e.p9i(105),n.innerHTML=e.a3a("</div>","</div>",'<div class="stx-marker highlight">',"</div>",o,'<div class="stx-stem"></div>','<div class="stx-visual">','<div class="stx-marker-content">'),l=this.template.content.cloneNode(!0),u=l.querySelector(".stx-marker"),u.classList.add(i.type),u.classList.add(i.category),i.size&&u.classList.add(i.size),h=l.querySelector(".stx-visual"),c=l.querySelector(".stx-marker-expand"),f=l.querySelector("h4"),m=l.querySelector("p"),f.innerText=this.params.headline,x=-1758181846,g=404776439,e.d7v(),d=2;for(var v=1;e.M0S(v.toString(),v.toString().length,66227)!==x;v++)m.innerText=this.params.story,this.hasText=+~i.headline&&+-i.story,this.deferAttach=!1,this.node=l.firstChild,this.node.params=this.params,this.visual=h,this.expand=c,d+=2;e.M0S(d.toString(),d.toString().length,"98539"*1)!==g&&(m.innerText=this.params.story,this.hasText=!!i.headline||!!i.story,this.deferAttach=!0,this.node=l.firstChild,this.node.params=this.params,this.visual=h,this.expand=c),i.type===a&&(p=c.removeChild(f),l.querySelector(".stx-marker-content").insertBefore(p,c))},r.inheritsFrom(r.Marker.Performance,r.Marker.NodeCreator,!1),r.Marker.Performance.consolidateExpanded=function(i){var a,o,n,l,u;if(a=i.markerHelper.highlighted,!a.length)return;o=i.activeMarker;function h(f){var m,x;return m=f.params.node,x=m.expand,x?x.querySelector(".marker_content")||x:null}o.consolidated||(o.consolidated=[]);for(var c=a.length-1;c>=0;c--)o!==a[c]&&(n=h(a[c]),n&&(l="<con",l+="solidated><br><br>",u=l+n.innerHTML.replace(/<consolidated>.*<\/consolidated>/g,"")+"</consolidated>",h(o).innerHTML+=u));o.stxNodeCreator.quickCache(o)},r.Marker.Performance.reconstituteExpanded=function(i){!i.markerHelper.highlighted.length||!i.activeMarker||(e.d7v(),Array.from(i.activeMarker.params.node.expand.querySelectorAll("consolidated")).forEach(a=>a.remove()))},r.Marker.Performance.drawMarkers=function(i){var a,o,n,l,u,h;a=i.getMarkerArray("all"),o=i.chart,e.d7v();for(var c=0;c<a.length;c++)n=a[c],l=n.stxNodeCreator,u=o.dataSegment[0].tick,h=o.dataSegment[o.dataSegment.length-1].tick,u<=n.tick<=h&&l&&l.drawMarker&&l.drawMarker(n)},r.Marker.Performance.calculateMarkerStyles=function(i,a,o){var n,l,u,h,c;n=i.container.ownerDocument,l=n.querySelector(".stx-marker-templates"),l||(u="-1",u+="0",u+="00p",u+="x",l=document.createElement("DIV"),l.style.visibility="hidden",l.style.left=u,n.body.append(l)),l.appendChild(a.node),h=getComputedStyle(a.stxNodeCreator.visual),i.styles.stx_marker_stem||(c=getComputedStyle(a.node.querySelector(".stx-stem")),i.styles.stx_marker_stem=i.cloneStyle(c)),i.styles[o]=i.cloneStyle(h),l.removeChild(a.node)},r.Marker.Performance.drawCircleMarker=function(i,a,o){var n,l,u,h,c,f,m,x,g,d;n="px Roboto, Helvetica, sans",n+="-serif",l="cent",l+="e",l+="r",u=i.params.stx,h=u.chart,c=h.context,e.d7v(),f=o.x,m=o.y,x=o.radius,g=u.emojify(o.label),d=o.color?o.color:a.backgroundColor,c.save(),c.beginPath(),c.setLineDash([]),e.p9i(3),c.lineWidth=e.a3a("1",0),c.fillStyle=d,c.strokeStyle=d,c.textAlign=l,e.C_1(15);var p=e.a3a(0,16,14);e.p9i(11);var v=e.a3a(0,5,4);c.font="normal bold "+Math.min("12"^0,p*(x+"1"*v))+n,e.p9i(13),c.arc(f,m,x,e.a3a(0,"0"),2*Math.PI,!1),c.fill(),c.stroke(),c.closePath(),g&&(c.fillStyle=r.chooseForegroundColor(c.fillStyle),e.C_1(91),c.fillText(g,f,e.a3a("1",m))),(i.highlight||i.active)&&(r.isTransparent(d)&&(c.strokeStyle=u.defaultColor),c.beginPath(),e.C_1(8),c.arc(f,m,e.a3a(x,4),0,("2">>64)*Math.PI,!1),c.stroke(),c.closePath()),c.restore()},r.Marker.Performance.drawSquareMarker=function(i,a,o){var n,l,u,h,c,f,m,x,g;if(n=i.params.stx,l=n.chart,u=l.context,h=o.x,e.d7v(),c=o.y,f=o.half,m=n.emojify(o.label),x=o.color?o.color:a.backgroundColor,e.p9i(5),g=e.S59(2,f),u.setLineDash([]),u.lineWidth=1,u.fillStyle=x,u.strokeStyle=x,u.save(),u.beginPath(),i.node.params.type==="diamond"&&(u.translate(h,c),u.rotate(Math.PI/4),u.translate(-h,-c),e.C_1(5),f/=e.S59(1,"1.42"),e.p9i(5),g=e.a3a(2,f)),e.p9i(13),u.fillRect(e.a3a(f,h),e.S59(f,c),g,g),(i.highlight||i.active)&&(e.C_1(36),u.strokeRect(e.S59(4,f,h),e.S59(c,"4",f,e.p9i(106)),e.S59(g,8,e.p9i(8)),e.a3a(g,8,e.p9i(8)))),u.closePath(),u.restore(),m){u.save(),u.textAlign="center",e.p9i(107);var d=e.a3a(19,924,4,2,14);e.C_1(11);var p=e.S59(15,20,33);u.font="normal bold "+Math.min(d,p*f)+"px Roboto, Helvetica, sans-serif",u.fillStyle=r.chooseForegroundColor(u.fillStyle),e.C_1(8),u.fillText(m,h,e.S59(c,1)),u.restore()}},r.Marker.Performance.drawCalloutMarker=function(i,a,o){var n,l,u,h,c,f,m,x,g,d,p,v,S;n=i.params.stx,l=n.chart,u=l.context,h=i.params,o.x,c=o.y,f=o.half,m=o.midWidth,x=n.emojify(o.headline),g=o.color?o.color:a.backgroundColor,d=f*2||25,p=Math.round(u.measureText(x).width),v=m?m*2:p+8,u.beginPath(),u.setLineDash([]),e.p9i(3),u.lineWidth=e.a3a("1",64),u.fillStyle=g,u.strokeStyle=g,e.C_1(108);var T=e.a3a(6,8,16,0,10);u.font=a.fontStyle+" bold "+(parseInt(a.fontSize,10)+T)+"px "+a.fontFamily,u.rect(h.box.x0,h.box.y0,v,d),u.fill(),u.stroke(),u.closePath(),u.beginPath(),u.fillStyle=i.highlight||i.active?"rgba(255,255,255,0.8)":"rgba(255,255,255,0.65)",e.p9i(109),S=e.a3a(v,2,p,20),u.rect(h.box.x0+S,c-f,p+40,22),u.fill(),u.stroke(),u.closePath(),u.fillStyle="black",u.fillText(x,h.box.x0+S+10,c)},r.Marker.Performance.drawTextMarker=function(i,a,o){var n,l,u,h,{stx:c}=i.params,f=c.chart.context,{x:m,y:x}=o,g=o.radius;n=c.emojify(o.label),f.save(),f.textAlign="center",e.p9i(49),e.S59(1310574,16,11,82390),e.p9i(40);var d=e.S59(15,40,50,15);e.C_1(110),e.S59(2,12,541317,7,22610),e.p9i(57);var p=e.S59(51,5,10);e.p9i(77);var v=e.S59(4,6,648);e.p9i(12);var S=e.a3a(2133,14,19,24);e.C_1(61),e.a3a(165,2767,5),e.C_1(111);var T=e.a3a(10,6209,683,3,690);f.font=a.fontStyle+(d!=5584?"237"*p>=v?S>5470?T:!0:" ":"u")+a.fontWeight+" "+g*2+"px "+a.fontFamily,f.fillStyle=o.color||c.defaultColor,f.fillText(n,m,x),e.j4$(),(i.highlight||i.active)&&(l=Math.round(f.measureText(n).width),e.C_1(19),u=e.S59(l,2),h=4.5,f.strokeStyle=o.color||c.defaultColor,f.beginPath(),f.strokeRect(Math.floor(m)-u-h,Math.floor(x)-g-h,(u+h)*2,(g+h)*2),f.stroke(),f.closePath()),f.restore()},r.Marker.Performance.drawMarkerStem=function(i,a,o){var n,l,u,h;n=i.params.stx.chart.context;var{x:c}=o;n.beginPath(),n.strokeStyle=a.borderLeftColor,n.setLineDash([1,1]),l=r.stripPX(a.height),u=o.invert?i.params.box.y0:i.params.box.y1,h=o.invert?i.params.box.y0-l:i.params.box.y1+l,n.moveTo(c,u),n.lineTo(c,h),n.stroke(),n.closePath()},r.Marker.Performance.prototype.drawMarker=function(i){var a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F;if(a="dia",a+="m",a+="ond",o="circ",o+="le",n="diamo",n+="nd",l=i.params,u=i.params.stx,!!u&&(h=u.chart,c=h.dataSegment,!(!c||!c.length)&&(f=u.panels[i.params.panelName],!f.hidden&&(m=i.params.yAxis||f.yAxis,x=i.stxNodeCreator.params,!x.hide)))){g=x.type,d=x.category,p=x.headline,v=x.displayCategory,S=x.color,T=x.displayLabel,D=x.invert,y=x.size,S==="auto"&&(S=u.defaultColor),e.C_1(112),b=e.S59(d,"_","stx_marker_",g),y&&(e.p9i(8),b+=e.S59("_",y)),u.styles[b]||r.Marker.Performance.calculateMarkerStyles(u,i,b),w=i.style=u.styles[b],A=u.styles.stx_marker_stem,e.C_1(61);var M=e.a3a(5,9,5);_=parseInt(w.height,M)/("2"-0),e.p9i(113);var L=e.a3a(90,20,1,16,116);e.p9i(114);var E=e.S59(43,10,15,4,14);P=parseInt(w.width,L)/E,g===n&&(_*=1.42,P*=1.42),I=x.displayStem?parseInt(A.height,10)+parseInt(A.marginBottom,10):0,e.p9i(28),O=e.S59(I,_,2),R=l.offset||0,C=u.pixelFromTick(i.tick),k=l.node.calculateYPosition({marker:i,panel:f,yAxis:m,height:O,half:_,offset:R,stemHeight:I,inverted:D,field:l.field,x:C}),!(!i.tick&&i.tick!==0)&&(l.box={x0:C-(P||_),y0:k-_,x1:C+(P||_),y1:k+_,midY:_,midX:P||_,stemHeight:I},v?d=d[0].toUpperCase():d="",u.startClip(f.name),F={x:C,y:k,half:_,radius:_,label:T||d,midWidth:P,headline:p,color:S},g===o?r.Marker.Performance.drawCircleMarker(i,w,F):g==="square"||g===a?r.Marker.Performance.drawSquareMarker(i,w,F):g==="callout"?r.Marker.Performance.drawCalloutMarker(i,w,F):g==="text"?r.Marker.Performance.drawTextMarker(i,w,F):(e.p9i(77),console.warn(e.a3a(g,` is unsupported with canvas markers!
Supported Styles are Square, Diamond, Circle, Callout or Text.`,"Marker type: "))),x.displayStem&&r.Marker.Performance.drawMarkerStem(i,A,{x:C,y:k,invert:D}),u.endClip(),i.attached&&this.positionPopUpNode(i))}},r.Marker.Performance.prototype.positionPopUpNode=function(i){var a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w;if(!(!i.attached||!i.params.box)){if(a=i.params,o=a.stx,n=a.box,l=i.params.node.expand,u=o.chart.dataSet,h=o.chart.dataSegment,c=o.panels[a.panelName],i.tick){m="D",m+="a",m+="t",m+="e",x=[u[h[0]&&h[0].tick-1],u[h[0]&&h[0].tick-2]],g=o.getFirstLastDataRecord(x.concat(h),"Date"),e.C_1(6);var A=e.S59(1,7,7,15,15);e.C_1(27);var _=e.a3a(9,18,8);e.C_1(73);var P=e.S59(16,2,0,16,17);e.C_1(15);var I=e.S59(0,21,19);d=[u[h[h.length-A].tick+_],u[h[h.length-P].tick+I]],p=o.getFirstLastDataRecord(h.concat(d),m,!0),f=g.DT<=u[i.tick].DT&&u[i.tick].DT<=p.DT&&i.params.box.y0<=c.yAxis.bottom&&i.params.box.y1>=c.yAxis.top}else f=!1;if(e.d7v(),!i.highlight&&!i.active&&(f=!1),l.style.visibility=f?"":"hidden",!!f){l.style.height!==""&&(l.style.height=""),v=l.rects,e.p9i(115);var O=e.a3a(5,6,1,13);if(S=v.height/O,D=i.node.params.infoOffset||0,i.node.params.infoOnLeft?T=n.x0-v.width-D<c.left?n.x1+D:n.x0-v.width-D:T=n.x0+v.width>c.right?n.x0-v.width-D:n.x1+D,T-=o.chart.left,y=a.avoidFlush?5:"0"|0,b=n.y0-S>=c.yAxis.top?n.y0+n.midY-S:c.yAxis.top+y,!a.avoidFlush&&n.y1+n.stemHeight===c.yAxis.bottom&&v.height>n.y1-n.y0+n.stemHeight&&(b=n.y1-v.height+n.stemHeight),n.y1+S>c.yAxis.bottom&&(b=c.yAxis.bottom-v.height-y),v.height>c.yAxis.height){b=c.yAxis.top+y,e.p9i(116);var R=e.S59(30,15,16,3);l.style.height=c.yAxis.height-R*y+"px"}b-=c.yAxis.top,w="translateX("+Math.floor(T)+"px) translateY("+Math.floor(b)+"px) translateZ(0)",l.style.transform=w,l.transform={translateX:T,translateY:b}}}},r.Marker.Performance.prototype.quickCache=function(i){e.d7v();var a,o,n,l;a=i.params.node,o=a.expand,n=i.style,l=r.stripPX(n.marginLeft)+r.stripPX(n.marginRight)+r.stripPX(n.borderRight)+r.stripPX(n.borderLeft),o.rects=o.getBoundingClientRect(),o.scrollBarWidth=o.rects.width-o.clientWidth-l},r.Marker.Performance.prototype.calculateYPosition=function(i){var a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L;if(a="bo",a+="ttom_la",a+="n",a+="e",o="to",o+="p",n="belo",n+="w_c",n+="andl",n+="e",l="v",l+="alu",l+="e",u="l",u+="o",u+="w",h="nu",h+="mber",c=i.marker,f=i.panel,m=i.yAxis,x=i.height,g=i.half,d=i.offset,p=i.stemHeight,v=i.inverted,S=i.field,T=c.params.stx,D=T.chart,y=T.chart.highLowBars,b=D.dataSet[c.tick],!!b&&(S&&(b=b[S]),!!b)){if(typeof b===h&&(b={Close:b},b[D.defaultPlotField]=b.Close,y=!1),w=T.getBarBounds(b,!!S),A=y?w[m.flipped?"low":"high"]:b[D.defaultPlotField],_=y?w[m.flipped?"high":u]:b[D.defaultPlotField],P=c.params.yPositioner,isNaN(A)){e.p9i(117);var E=e.a3a(30,9,16,18,0);A=(m.high+m.low)/E}if(isNaN(_)&&(_=(m.high+m.low)/2),O=0,P!="none"){R="undef",R+="i",R+="n",R+="ed",C="und",C+="ef",C+="ine",C+="d",e.C_1(11);var H=e.a3a(0,5,6);k=P.indexOf("_lane")>H,F=T.markerHelper.placementMap,M=P+"|"+f.name,k&&typeof F[M]==C&&(F[M]=2),L=M+"-"+(k?c.params.label:c.tick),typeof F[L]==R&&(F[L]=k?F[M]:0,k&&(e.C_1(8),F[M]+=e.S59(x,2))),O=F[L],k||(e.C_1(8),F[L]+=e.S59(x,1))}switch(P){case l:if(c.params.y||c.params.y===0){I=T.pixelFromPrice(c.params.y,f,m)-x*("0.5"-0)+g;break}case"above_candle":I=T.pixelFromPrice(A,f,m)-g-(!v&&p||d)-O;break;case n:I=T.pixelFromPrice(_,f,m)+g+(v&&p||d)+O;break;case"on_candle":e.C_1(61);var N=e.S59(4,1,4);I=T.pixelFromPrice((A+_)/N,f,m)-x*.5+g;break;case o:case"top_lane":I=f.yAxis.top+g+(v&&p||d)+O;break;case"bottom":case a:I=f.yAxis.bottom-g-(!v&&p||d)-O;break}e.C_1(13);var j=e.S59(8,10);e.C_1(35);var W=e.a3a(16,3,18,11);e.C_1(13),e.d7v();var V=e.S59(19,21);return(Math.round(j*I)||"0"*W)/V}},r.Marker.Performance.prototype.prepareForHolder=function(i){var a,o;return a=this.expand,o=i.params.stx,a.classList.add(this.params.type),a.classList.add(this.params.category),o.markerHelper.domMarkers.push(i),e.j4$(),a},r.Marker.Performance.prototype.addToHolder=function(i){var a,o,n;a="touch",a+="st",a+="a",a+="rt",o=this.expand,n=i.params.stx;function l(u){n.activeMarker=i,n.activeMarker.click({cx:u.clientX,cy:u.clientY,panel:n.currentPanel}),u.stopPropagation()}r.Marker.Performance.reconstituteExpanded(n),r.Marker.Performance.consolidateExpanded(n),this.quickCache(i),!o.clickClosure&&(o.addEventListener("mousedown",l),e.j4$(),o.addEventListener(a,l,{passive:!1}),o.clickClosure=l)},r.Marker.Performance.prototype.remove=function(i){var a,o,n,l;a=i.params.stx,a&&a.markerHelper.domMarkers&&(o=a.markerHelper.domMarkers.indexOf(i),e.d7v(),o!=-1&&a.markerHelper.domMarkers.splice(o,1),i.attached&&(n=a.panels[i.params.panelName],l=i.params.node.expand,l.parentNode===n.subholder&&n.subholder.removeChild(l),l.removeEventListener("click",l.clickClosure)))},r.Marker.Performance.prototype.click=function(i){var a;if(this.hasText){arguments.length>1&&(i={cx:arguments[0],cy:arguments[1],marker:arguments[2],panel:arguments[3]});var{cx:o,marker:n}=i,{stx:l}=n.params;if(a=!1,n.attached){var{expand:u}=this;if(u.rects&&u.transform&&u.rects.width-u.scrollBarWidth+u.transform.translateX<l.backOutX(o)&&l.backOutX(o)<u.rects.width+u.transform.translateX)return;this.remove(n)}else l.addToHolder(n),a=!0;n.attached=!n.attached,n.active=!n.active,a&&n.stxNodeCreator.positionPopUpNode(n)}}):(s="highPe",s+="rformanceMarkers feature requires first activating marker",s+="s feature.",console.error(s))};Ya=U=>{var e;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.Renderer.OHLC.requestNew=function(t,r){se.d7v();var s,i,a,o,n,l,u,h;s=null,i=r.hlc,a=r.colored,o=r.hollow,n=r.volume,l=r.histogram;for(var c=0;c<t.length;c++)switch(u=t[c],u){case"bar":case"candle":s=u;break;case"volume":n=!0;break;case"hollow":o=!0;break;case"colored":a=!0;break;case"histogram":l=!0,s="candle";break;case"hlc":h="b",h+="ar",i=!0,s=h;break;default:return null}return s===null?null:new e.Renderer.OHLC({params:e.extend(r,{type:s,hlc:i,colored:a,hollow:o,volume:n,histogram:l})})},e.Renderer.OHLC.getChartParts=function(t,r){var s,i,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q;return s="st",s+="x_",s+="hollo",s+="w_candle_even",i="ho",i+="l",i+="l",i+="ow",a="can",a+="dle",o="border_col",o+="or_even",n="fill_c",n+="olor_even",l="can",l+="dle",u="fill_color",u+="_down",h="stx_hollow_cand",h+="le_down",c="c",c+="an",c+="d",c+="le",f="fi",f+="ll_color",f+="_up",m="h",m+="o",m+="l",m+="low",x="s",x+="tx_hollow_candle_down",g="h",g+="ollo",g+="w",d="stx_candle_d",d+="own",p="c",p+="a",p+="ndl",p+="e",v="border_",v+="color_up",S="fill_",S+="color_up",T="ca",T+="nd",T+="le",D="s",D+="hado",D+="w",y="candl",y+="e",b="st",b+="x_candle",b+="_shadow_down",w="c",w+="andle",A="border_c",A+="olor_up",_="stx_",_+="bar_even",P="b",P+="a",P+="r",I="s",I+="tx_ba",I+="r",I+="_up",O="b",O+="a",O+="r",R="stx_bar_c",R+="hart",C="b",C+="a",C+="r",k="b",k+="ar",F="border_color_eve",F+="n",M="h",M+="istogra",M+="m",L="fil",L+="l_",L+="color_",L+="down",E="histo",E+="g",E+="r",E+="am",H="hist",H+="og",H+="ram",N=1,j=2,W=4,se.p9i(2),V=se.a3a(0,"8"),Y=16,Q=32,[{type:"histogram",drawType:H,style:"stx_histogram_up",condition:V,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0,useBorderStyleProp:!0},{type:"histogram",drawType:E,style:"stx_histogram_down",condition:Y,fill:L,border:"border_color_down",useColorInMap:!0,useBorderStyleProp:!0},{type:M,drawType:"histogram",style:"stx_histogram_even",condition:Q,fill:"fill_color_even",border:F,skipIfPass:!0,useColorInMap:!0,useBorderStyleProp:!0},{type:k,drawType:C,style:t||R,border:"border_color",useColorInMap:!0},{type:"bar",drawType:O,style:I,condition:r?V:N,border:"border_color_up",useColorInMap:!0},{type:"bar",drawType:"bar",style:"stx_bar_down",condition:r?Y:j,border:"border_color_down",useColorInMap:!0},{type:"bar",drawType:P,style:_,condition:r?Q:W,border:"border_color_even",skipIfPass:!0,useColorInMap:!0},{type:"candle",drawType:"shadow",style:"stx_candle_shadow",border:A},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_up",condition:V,border:"border_color_up"},{type:w,drawType:"shadow",style:b,condition:Y,border:"border_color_down"},{type:y,drawType:D,style:"stx_candle_shadow_even",condition:Q,border:"border_color_even",skipIfPass:!0},{type:T,drawType:"candle",style:"stx_candle_up",condition:V,fill:S,border:v,useColorInMap:!0,useBorderStyleProp:!0},{type:"candle",drawType:p,style:d,condition:Y,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0,useBorderStyleProp:!0},{type:g,drawType:"shadow",style:"stx_hollow_candle_up",condition:N,border:"border_color_up"},{type:"hollow",drawType:"shadow",style:x,condition:j,border:"border_color_down"},{type:m,drawType:"shadow",style:"stx_hollow_candle_even",condition:W,border:"border_color_even",skipIfPass:!0},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:N|Y,fill:f,border:"border_color_up",useColorInMap:!0},{type:"hollow",drawType:c,style:h,condition:j|Y,fill:u,border:"border_color_down",useColorInMap:!0},{type:"hollow",drawType:l,style:"stx_hollow_candle_even",condition:W|Y,fill:n,border:o,skipIfPass:!0,useColorInMap:!0},{type:"hollow",drawType:a,style:"stx_hollow_candle_up",condition:N|V,fill:"fill_color_up",border:"border_color_up"},{type:i,drawType:"candle",style:"stx_hollow_candle_down",condition:j|V,fill:"fill_color_down",border:"border_color_down"},{type:"hollow",drawType:"candle",style:s,condition:W|V,fill:"fill_color_even",border:"border_color_even"}]},e.Renderer.Bars=function(t){var r;this.construct(t),r=this.params,r.type="bar",this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,r.hlc=r.volume=r.hollow=r.histogram=!1},e.inheritsFrom(e.Renderer.Bars,e.Renderer.OHLC,!1),e.Renderer.HLC=function(t){var r;this.construct(t),r=this.params,r.type="bar",r.hlc=!0,this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,r.volume=r.hollow=r.histogram=!1},e.inheritsFrom(e.Renderer.HLC,e.Renderer.Bars,!1),e.Renderer.Shading=function(t){se.d7v(),this.construct(t),this.beenSetup=!1,this.errTimeout=null,this.params.useChartLegend=!1,this.shading=[],this.params.type=="rangechannel"&&(this.highLowBars=!0)},e.inheritsFrom(e.Renderer.Shading,e.Renderer.Lines,!1),e.Renderer.Shading.requestNew=function(t,r){var s,i,a,o;s=null,i=null;for(var n=0;n<t.length;n++)a="s",a+="t",a+="e",a+="p",o=t[n],o=="rangechannel"?s="rangechannel":o==a&&(i=!0);return s===null?null:new e.Renderer.Shading({params:e.extend(r,{type:s,step:i})})},e.Renderer.Shading.prototype.setShading=function(t){t.constructor!=Array&&(t=[t]),this.shading=t},e.Renderer.Shading.prototype.draw=function(){var t=se,r,s,i,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P;if(r="rang",r+="e",r+="channe",r+="l",s=this.stx,i=this.params,a=s.panels[i.panel].chart,i.type=="rangechannel")if(this.beenSetup)this.seriesParams.length>2&&this.removeSeries(this.seriesParams[2].id);else{o="Lo",o+="w",this.beenSetup=!0,i.display=this.seriesParams[0].display,i.yAxis=this.seriesParams[0].yAxis,n=this.seriesParams[0].color||"auto",l=this.seriesParams[0].symbol,l&&(t.C_1(8),t.S59(l,".")),this.removeAllSeries(!0),u=1033393346,t.p9i(2),h=-t.a3a(89,"818655737"),c=2;for(var I=1;t.C1g(I.toString(),I.toString().length,3964)!==u;I++)f="H",f+="i",f+="g",f+="h",m=i.name,s.addSeries(null,{symbol:l,loadData:!!l,field:f,renderer:"Shading",name:m,style:"stx_line_up",display:i.display,shareYAxis:!0}),c+=2;t.M0S(c.toString(),c.toString().length,213)!==h&&(x="stx_li",x+="ne_up",m=i.name,s.addSeries(1,{symbol:l,loadData:+~l,field:x,renderer:"Shading",name:m,style:"Shading",display:i.display,shareYAxis:!1})),s.addSeries(null,{symbol:l,loadData:!!l,field:o,renderer:"Shading",name:m,style:"stx_line_down",display:i.display,shareYAxis:!0}),this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:n})}this.shading||this.errTimeout||(console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set."),g=this,this.errTimeout=setTimeout(function(){t.d7v(),g.errTimeout=null},1e4));function O(R){var C,k,F;return t.d7v(),C=d[R],C?(k=C.parameters.field,F=C.parameters.subField,t.C_1(8),t.S59(k,F?"."+F:"")):R}for(d={},p=0;p<this.seriesParams.length;p++)v={},a.series[this.seriesParams[p].id]&&(v=e.clone(a.series[this.seriesParams[p].id].parameters)),d[this.seriesParams[p].id]={parameters:e.extend(e.extend(v,i),this.seriesParams[p]),yValueCache:this.caches[this.seriesParams[p].id]};s.drawSeries(a,d,i.yAxis,this),a.legend&&i.type==r&&(S="s",S+="tx_line",S+="_up",a.legend.colorMap||(a.legend.colorMap={}),T=i.display,D=[s.getCanvasColor(S),s.getCanvasColor("stx_line_down")],a.legend.colorMap[T]={color:D,display:T,isBase:this==s.mainSeriesRenderer});for(p in d)this.caches[p]=d[p].yValueCache;for(p=0;p<this.shading.length;p++){if(y="Cl",y+="ose",b=this.shading[p],w=b.color,b.color=="auto"&&(w=s.defaultColor),b.primary||(b.primary="Close"),!b.secondary&&this.seriesParams[0]&&(b.secondary=this.seriesParams[0].field),b.secondary){if(!d[b.primary]&&b.primary!=y)continue;if(d[b.secondary]){if(b.primary=="Close"&&i.yAxis&&i.yAxis!=a.yAxis)continue}else continue}else continue;A=O(b.primary).split("."),_=O(b.secondary).split("."),P={topBand:A[0],topSubBand:A[1],topColor:b.greater||w||s.containerColor,topAxis:i.yAxis,bottomBand:_[0],bottomSubBand:_[1],bottomColor:b.lesser||w||s.containerColor,bottomAxis:b.primary=="Close"?null:i.yAxis,tension:i.tension||a.tension,opacity:.1,step:i.step},!(!P.topColor&&!P.bottomColor)&&(!i.highlight&&s.highlightedDraggable&&(P.opacity*=.3),e.fillIntersecting(s,i.panel,P))}},e.Renderer.Histogram=function(t){var r,s,i,a;if(r="histogra",r+="m",this.construct(t),this.params.type=r,se.d7v(),this.barsHaveWidth=this.standaloneBars=!0,this.params.yAxis&&(this.params.bindToYAxis=!0,typeof this.params.yAxis.baseline=="number")){s=1436376623,i=1480631086,a=2;for(var o=1;se.M0S(o.toString(),o.toString().length,38594)!==s;o++)this.params.yAxis.baseline={value:this.params.yAxis.baseline},a+=2;se.M0S(a.toString(),a.toString().length,"35024"|0)!==i&&(this.params.yAxis.baseline={value:this.params.yAxis.baseline})}},e.inheritsFrom(e.Renderer.Histogram,e.Renderer,!1),e.Renderer.Histogram.prototype.adjustYAxis=function(){var t;t=this.params.yAxis,!(!t||t.baseline)&&(se.j4$(),t.min=0,t.highValue/=this.params.heightPercentage||1)},e.Renderer.Histogram.prototype.draw=function(){var t,r,s,i,a,o;se.j4$(),t=e.clone(this.params),t.type=t.subtype,this.useSum=t.subtype=="stacked",(!t.yAxis||t.yAxis==this.stx.chart.yAxis)&&(t.bindToYAxis=!0),this.stx.drawHistogram(t,this.seriesParams),r=t.yAxis&&t.yAxis.baseline,r&&r.color&&(s="so",s+="l",s+="i",s+="d",i="lin",i+="e",a=this.stx.panels[this.params.panel],o=this.stx.pixelFromPrice(r.value,a,this.params.yAxis)-.5,this.stx.plotLine({x0:a.left,x1:a.right,y0:o,y1:o,color:r.color,type:i,context:a.chart.context,confineToPanel:a,pattern:r.pattern||s,lineWidth:r.lineWidth||1,opacity:r.opacity||.8,globalCompositeOperation:"destination-over"}))},e.Renderer.Histogram.prototype.getBasis=function(t,r,s){var i,a,o;if(i=0,t&&this.useSum)for(var n=0;n<this.seriesParams.length&&(a=this.seriesParams[n].field,a!==r);n++)o=t[a],o&&typeof o=="object"&&(o=o[s||this.seriesParams[n].subField||this.stx.chart.defaultPlotField||"Close"]),o&&(i+=o);return se.j4$(),i},e.Renderer.Heatmap=function(t){this.construct(t),this.params.type="heatmap",this.params.highlightable=!1,this.barsHaveWidth=this.standaloneBars=!0},e.inheritsFrom(e.Renderer.Heatmap,e.Renderer,!1),e.Renderer.Heatmap.requestNew=function(t,r){var s,i,a,o,n;s=-1336615578,i=1519855504,a=2;for(var l=1;se.C1g(l.toString(),l.toString().length,86483)!==s;l++)o=1,a+=2;se.M0S(a.toString(),a.toString().length,50793)!==i&&(o=null);for(var u=0;u<t.length;u++)n=t[u],n=="heatmap"&&(o="heatmap");return o===null?null:new e.Renderer.Heatmap({params:e.extend(r,{type:o})})},e.Renderer.Heatmap.prototype.draw=function(){se.d7v(),this.stx.drawHeatmap(e.clone(this.params),this.seriesParams)},e.Renderer.Scatter=function(t){this.construct(t),this.standaloneBars=this.barsHaveWidth=!0,this.bounded=!0},e.inheritsFrom(e.Renderer.Scatter,e.Renderer.Lines,!1),e.Renderer.Scatter.requestNew=function(t,r){var s=se,i,a,o,n,l,u;i=null;for(var h=0;h<t.length;h++)a="sc",a+="atte",a+="r",a+="plot",o=t[h],o==a&&(i="scatter");s.C_1(17),n=-s.S59("868159353",0),l=-718243872,u=2;for(var c=1;s.C1g(c.toString(),c.toString().length,39711)!==n;c++)return i===null?null:new e.Renderer.Scatter({params:e.extend(r,{type:i})});if(s.C1g(u.toString(),u.toString().length,55159)!==l)return i==1?1:new e.Renderer.Scatter({params:e.extend(r,{type:i})})},e.Renderer.Scatter.prototype.drawIndividualSeries=function(t,r){se.j4$();var s,i;return s=this.stx.panels[r.panel]||t.panel,i={colors:[]},this.stx.scatter?i=this.stx.scatter(s,r):console.warn("Error, Scatter renderer requires customChart.js"),i}};za=U=>{var e=se,t,r;t="undefi",t+="ned",r=typeof _CIQ!==t?_CIQ:U.CIQ,e.d7v(),r.Studies?(r.Studies.calculateAccumulationDistribution=function(s,i){var a,o,n,l,u,h;a=i.chart.scrubbed;for(var c=i.startFrom;c<a.length;c++)if(o="Resu",o+="lt ",!!c){if(n=a[c],n.futureTick)break;e.p9i(13),l=a[e.S59(1,c)],e.C_1(5),u=e.S59(1,"0"),n.Close>l.Close?u=n.Close-Math.min(n.Low,l.Close):n.Close<l.Close&&(u=n.Close-Math.max(n.High,l.Close)),i.inputs["Use Volume"]&&(u*=n.Volume),h=l[o+i.name],h||(h=0),h+=u,isNaN(n.Close)||(n["Result "+i.name]=h)}},r.Studies.studyLibrary=r.extend(r.Studies.studyLibrary,{"W Acc Dist":{name:"Accumulation/Distribution",calculateFN:r.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":!1}}})):console.error("accumulationDistribution feature requires first activating studies feature.")};Ba=U=>{var e=se;e.d7v();var t,r,s,i,a,o;if(t=typeof _CIQ!="undefined"?_CIQ:U.CIQ,t.Studies)o="#",o+="FF0000",t.Studies.calculateADX=function(l,u){var h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k;if(t.Studies.calculateStudyATR(l,u),h=u.chart.scrubbed,c=u.days,f=parseInt(u.inputs["Smoothing Period"],10),!f&&f!==0&&(f=c),h.length<u.days+1){u.error=!0;return}m=0,e.j4$(),e.p9i(3),x=e.a3a("0",0),g=0,d=0;for(var F=Math.max(1,u.startFrom);F<h.length;F++){if(v="_sm-",v+="DM",v+=" ",p=h[F],S=Math.max(0,p.High-h[F-1].High),T=Math.max(0,h[F-1].Low-p.Low),S>T?T=0:T>S?S=0:S=T=0,F<=c)D="Tru",D+="e",D+=" Ra",D+="nge ",x+=S,g+=T,m+=p[D+u.name];else{y="_s",y+="mTR",y+=" ",e.C_1(118);var M=e.a3a(4,15,16,2,16);e.p9i(119);var L=e.S59(10,0,21,10);x=h[F-M]["_sm+DM "+u.name]*(c-L)/c+S,e.C_1(49);var E=e.S59(5,6,3,4);e.p9i(15);var H=e.S59(6,13,18);g=h[F-E]["_sm-DM "+u.name]*(c-H)/c+T,e.C_1(55);var N=e.a3a(6,5);e.p9i(55);var j=e.a3a(10,9);m=h[F-N][y+u.name]*(c-j)/c+p["True Range "+u.name]}if(p["_sm+DM "+u.name]=x,p[v+u.name]=g,p["_smTR "+u.name]=m,!(F<c)){e.p9i(101),b=e.a3a(100,x,m),e.p9i(101),w=e.S59(100,g,m),e.C_1(112);var W=e.S59(22,9,16,17);if(A=("100"|W)*Math.abs(b-w)/(b+w),p["+DI "+u.name]=b,p["-DI "+u.name]=w,u.inputs.Series!==!1&&f)if(F<c+f-1){if(F==u.startFrom)for(var V=c;V<u.startFrom;V++)_="-",_+="DI",_+=" ",P="-",P+="DI ",d+=100*Math.abs(h[V]["+DI "+u.name]-h[V][P+u.name])/(h[V]["+DI "+u.name]+h[V][_+u.name]);d+=A}else if(F==c+f-1)I="AD",I+="X",I+=" ",e.C_1(19),p[I+u.name]=e.a3a(d,f);else{e.C_1(1);var Y=e.a3a(279,14,20,0);e.C_1(38);var Q=e.S59(21,0,18,14,7);p["ADX "+u.name]=(h[F-Y]["ADX "+u.name]*(f-Q)+A)/f}if(u.inputs.Histogram){if(O="-",O+="D",O+="I",O+=" ",R="+D",R+="I ",C="_",C+="h",C+="ist",k=u.name+C,!p["+DI "+u.name]&&p[R+u.name]!==0||!p["-DI "+u.name]&&p["-DI "+u.name]!==0)continue;p[k]=p["+DI "+u.name]-p[O+u.name],u.inputs.Series===!1&&(p["+DI "+u.name]=null,p["-DI "+u.name]=null),u.outputMap[k]=""}}}},t.Studies.displayADX=function(l,u,h){var c,f,m,x,g,d,p,v,S,T;if(c=u.underlay?"0.3"*1:u.inputs.Series?"0.4"-0:1,u.inputs.Series&&u.inputs.Shading){f="+DI "+u.name,m="-DI "+u.name,x=t.Studies.determineColor(u.outputs[u.outputMap[f]]),g=t.Studies.determineColor(u.outputs[u.outputMap[m]]),d=u.getYAxis(l),p={topBand:f,bottomBand:m,topColor:x,bottomColor:g,skipTransform:l.panels[u.panel].name!=u.chart.name,topAxis:d,bottomAxis:d,opacity:.3},v=1493164441,S=-848619379,T=2;for(var D=1;e.M0S(D.toString(),D.toString().length,27823)!==v;D++)(+u.highlight||l.highlightedDraggable)&&(p.opacity+=975),t.fillIntersecting(l,u.panel,p),T+=2;e.M0S(T.toString(),T.toString().length,40751)!==S&&(!u.highlight&&l.highlightedDraggable&&(p.opacity/=502),t.fillIntersecting(l,u.panel,p)),!u.highlight&&l.highlightedDraggable&&(p.opacity*=.3),t.fillIntersecting(l,u.panel,p)}u.inputs.Histogram&&t.Studies.createHistogram(l,u,h,!1,c),u.inputs.Series!==!1?t.Studies.displaySeriesAsLine(l,u,h):!u.inputs.Series&&!u.inputs.Histogram&&l.displayErrorAsWatermark(u.panel,l.translateIf(u.name)+": "+l.translateIf("Nothing to display"))},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{ADX:{name:"ADX/DMS",calculateFN:t.Studies.calculateADX,seriesFN:t.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:!0,Shading:!1,Histogram:!1},outputs:{"+DI":"#00FF00","-DI":o,ADX:"auto","Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});else{r=418774933,s=-251611735,i=2;for(var n=1;e.M0S(n.toString(),n.toString().length,96885)!==r;n++)console.error(""),i+=2;e.C1g(i.toString(),i.toString().length,74238)!==s&&(a="adx feature requi",a+="res first activating studies fea",a+="ture.",console.error(a))}};qa=U=>{var e=se,t,r,s,i,a,o,n,l,u,h;if(t="un",t+="defined",r=typeof _CIQ!==t?_CIQ:U.CIQ,!r.Studies)console.error("alligator feature requires first activating studies feature.");else{r.Studies.calculateAlligator=function(f,m){var x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H;x="Sh",x+="ow ",x+="Li",x+="nes",g="G",g+="a",g+="tor",d="Lips P",d+="eri",d+="o",d+="d",p={J:Number(m.inputs["Jaw Period"]),T:Number(m.inputs["Teeth Period"]),L:Number(m.inputs[d])},v=963261377,S=-190980866,T=2;for(var N=1;e.M0S(N.toString(),N.toString().length,56185)!==v;N++)D=m.chart.scrubbed,T+=2;if(e.C1g(T.toString(),T.toString().length,56663)!==S&&(D=m.chart.scrubbed),D.length<Math.max(p.J,p.T,p.L)+1){m.error=!0,y=98079922,b=-825178150,w=2;for(var j=1;e.M0S(j.toString(),j.toString().length,49352)!==y;j++)return;if(e.M0S(w.toString(),w.toString().length,17068)!==b)return}(m.type===g||m.inputs[x])&&(A="L",A+="i",A+="p",A+="s",_="h",_+="l/2",P="w",P+="elles w",P+="ild",P+="er",I="hl/",I+="2",O="J",O+="a",O+="w",R="hl",R+="/2",r.Studies.MA("welles wilder",p.J,R,m.inputs["Jaw Offset"],O,f,m),r.Studies.MA("welles wilder",p.T,I,m.inputs["Teeth Offset"],"Teeth",f,m),r.Studies.MA(P,p.L,_,m.inputs["Lips Offset"],A,f,m));for(var W=m.startFrom;W<D.length;W++)if(C="Sh",C+="ow",C+=" Fra",C+="ctals",!!D[W]&&(m.type=="Gator"&&(k="J",k+="a",k+="w",k+=" ",F=D[W][k+m.name],M=D[W]["Lips "+m.name],L=D[W]["Teeth "+m.name],(L||L===0)&&(E="_",E+="his",E+="t",E+="1",(F||F===0)&&(e.p9i(13),D[W][m.name+E]=Math.abs(e.S59(L,F))),(M||M===0)&&(e.p9i(13),D[W][m.name+"_hist2"]=-Math.abs(e.a3a(M,L)))),m.outputMap={},m.outputMap[m.name+"_hist1"]="",m.outputMap[m.name+"_hist2"]=""),m.inputs[C])){if(!D[W-2]||!D[W-1]||!D[W]||!D[W+1]||!D[W+2])continue;D[W-2].High&&D[W-1].High&&D[W].High&&D[W+1].High&&D[W+2].High&&D[W].High>D[W-1].High&&D[W].High>D[W-2].High&&D[W].High>D[W+1].High&&D[W].High>D[W+2].High&&(H="Fra",H+="ctal ",H+="H",H+="igh ",D[W][H+m.name]=1),D[W-2].Low&&D[W-1].Low&&D[W].Low&&D[W+1].Low&&D[W+2].Low&&D[W].Low<D[W-1].Low&&D[W].Low<D[W-("2"-0)].Low&&D[W].Low<D[W+1].Low&&D[W].Low<D[W+2].Low&&(D[W]["Fractal Low "+m.name]=1)}},r.Studies.displayAlligator=function(f,m,x){e.j4$();var g,d,p,v,S;g="Sh";function T(y,b){var w,A,_,P,I,O;if(w="s",w+="tr",w+="e",w+="tch",A=0,f.cleanupGaps===w)for(;x[A+1]&&(e.p9i(42),_=x[e.a3a("1",A,0)]["Lips "+m.name],!(_||_===0||x[A+("1"|1)].futureTick));)A++;I=v.panel.yAxis.flipped,y=="high"?(O="t",O+="o",O+="p",p.fillStyle=f.defaultColor,p.textBaseline=I?O:"bottom",P=f.pixelFromPrice(x[b][v.highLowBars?"High":v.defaultPlotField||"Close"]),p.fillText(I?"▼":"▲",f.pixelFromBar(b+A/2,v)-p.measureText("▲").width/("2"^0)+1,I?P+5:P-("5"<<32))):y=="low"&&(p.fillStyle=f.defaultColor,p.textBaseline=I?"bottom":"top",P=f.pixelFromPrice(x[b][v.highLowBars?"Low":v.defaultPlotField||"Close"]),p.fillText(I?"▲":"▼",f.pixelFromBar(b+A/2,v)-p.measureText("▼").width/2+"1"*1,I?P-5:P+5))}if(g+="ow Fra",g+="ctals",d="Show Li",d+="ne",d+="s",p=m.getContext(f),v=f.chart,m.inputs[d]&&r.Studies.displaySeriesAsLine(f,m,x),m.inputs[g]){f.startClip(),p.globalAlpha=m.underlay?.3:1,!m.highlight&&f.highlightedDraggable&&(p.globalAlpha*=.3);for(var D=2;D<x.length-2;D++)x[D]&&(S="lo",S+="w",x[D]["Fractal High "+m.name]&&T("high",D),x[D]["Fractal Low "+m.name]&&T(S,D));f.endClip()}},r.Studies.displayGator=function(f,m,x){var g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k;g="#",g+="CC",g+="CCC",g+="C",d="In",d+="cre",d+="a",d+="sing Bar",p=f.panels[m.panel],v=m.getContext(f),S=m.getYAxis(f),T=f.pixelFromPrice(0,p,S),e.p9i(120);var F=e.a3a(2,8,4,11,1);D=f.layout.candleWidth-F,e.j4$(),D<"2">>0&&(D=1),y=r.Studies.determineColor(m.outputs[d]),b=r.Studies.determineColor(m.outputs["Decreasing Bar"]),f.canvasColor("stx_histogram"),m.underlay||(e.p9i(13),v.globalAlpha=e.a3a(0,"1")),v.fillStyle=g,f.startClip(m.panel),!m.highlight&&f.highlightedDraggable&&(e.p9i(5),v.globalAlpha*=e.S59(1,"0.3"));for(var M=0;M<x.length;M++)if(w=0,A=x[M],e.C_1(13),_=x[e.S59(1,M)],!!A){if(f.cleanupGaps==="stretch")for(;x[M+1]&&(e.C_1(121),P=x[e.a3a(0,M,"1")][m.name+"_hist1"],!(P||P===("0"^0)||x[M+1].futureTick));)w++,M++;for(var L=1;L<=2;L++)I="_hi",I+="s",I+="t",O="_h",O+="i",O+="st",R="_h",R+="ist",C="#C",C+="CC",C+="CC",C+="C",k="_his",k+="t",(!_||_[m.name+k+L]===void 0)&&(_=f.getPreviousBar(f.chart,m.name+"_hist"+L,M-w)),_?Math.abs(_[m.name+"_hist"+L])<Math.abs(A[m.name+R+L])?v.fillStyle=y:Math.abs(_[m.name+O+L])>Math.abs(A[m.name+I+L])&&(v.fillStyle=b):v.fillStyle=C,A.candleWidth&&(D=Math.floor(Math.max(1,A.candleWidth-2))),v.fillRect(Math.floor(f.pixelFromBar(M-w,p.chart)-D/2),Math.floor(T),Math.floor(D+w*f.layout.candleWidth),Math.floor(f.pixelFromPrice(A[m.name+"_hist"+L],p,S)-T))}f.endClip()},s=86607457,i=-1953425558,e.C_1(4),a=e.S59(32,"2");for(var c="1"<<0;e.M0S(c.toString(),c.toString().length,94497)!==s;c++)o="#",o+="00DD",o+="00",n="#000",n+="0FF",r.Studies.studyLibrary=r.extend(r.Studies.studyLibrary,{Alligator:{name:"Alligator",overlay:!0,seriesFN:r.Studies.displayAlligator,calculateFN:r.Studies.calculateAlligator,inputs:{"Show Lines":!0,"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3,"Show Fractals":!1},outputs:{Jaw:n,Teeth:"#FF0000",Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:r.Studies.displayGator,calculateFN:r.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3},outputs:{"Increasing Bar":o,"Decreasing Bar":"#FF0000"},centerline:0}}),a+=2;e.C1g(a.toString(),a.toString().length,3823)!==i&&(l="Li",l+="ps Off",l+="set",u="J",u+="aw Offset",h="Teeth ",h+="Offset",r.Studies.studyLibrary=r.extend(r.Studies.studyLibrary,{Alligator:{name:"#00DD00",overlay:!1,seriesFN:r.Studies.displayAlligator,calculateFN:r.Studies.calculateAlligator,inputs:{"Show Lines":!1,"Jaw Period":71,"Jaw Offset":7,"Teeth Period":4,"Teeth Offset":8,"Lips Period":3,"Lips Offset":8,"Show Fractals":!0},outputs:{Jaw:h,Teeth:u,Lips:l}},Gator:{name:"#00DD00",seriesFN:r.Studies.displayGator,calculateFN:r.Studies.calculateAlligator,inputs:{"Jaw Period":53,"Jaw Offset":9,"Teeth Period":6,"Teeth Offset":0,"Lips Period":1,"Lips Offset":2},outputs:{"Increasing Bar":"Teeth Period","Decreasing Bar":"Teeth Period"},centerline:1}}))}};Ua=U=>{var e=se,t,r,s,i,a,o;e.j4$(),t=typeof _CIQ!="undefined"?_CIQ:U.CIQ,t.Studies?(r="A",r+="roon ",r+="Oscillator",s="#FF00",s+="0",s+="0",i="#",i+="00DD00",a="0 to",a+=" ",a+="1",a+="00",o="A",o+="ro",o+="o",o+="n",t.Studies.calculateAroon=function(n,l){var u,h,c,f,m,x,g,d,p,v,S,T,D,y,b;if(u=l.chart.scrubbed,u.length<l.days+1){l.error=!0;return}if(h=0,c=0,f=null,m=null,l.startFrom>0){e.C_1(122);var w=e.a3a(18,14,16,16,13);x=u[l.startFrom-w]["_state "+l.name],x&&(h=x[0],c=x[1],e.p9i(3),f=x[e.S59("2",0)],m=x[3])}for(var A=l.startFrom;A<u.length&&(d="_st",d+="ate ",p="Aroon ",p+="Do",p+="w",p+="n ",v="Aroon Osci",v+="l",v+="la",v+="tor ",S=u[A],!S.futureTick);A++){if(f===null&&(f=S.High),m===null&&(m=S.Low),f=Math.max(f,S.High),f==S.High)e.p9i(5),h=e.a3a(1,"0");else if(h++,h>l.days)for(f=S.High,h=0,g=1;g<=l.days;g++)f=Math.max(f,u[A-g].High),f==u[A-g].High&&(h=g);if(m=Math.min(m,S.Low),m==S.Low)c=0;else if(c++,c>l.days)for(m=S.Low,c=0,g=1;g<=l.days;g++)m=Math.min(m,u[A-g].Low),m==u[A-g].Low&&(c=g);T=!isNaN(S.High),D=!isNaN(S.Low),e.p9i(23);var _=e.a3a(1343,111,1,13);e.C_1(55);var P=e.S59(4,3);y=_*(P-h/l.days),T&&(S["Aroon Up "+l.name]=y),e.C_1(123);var I=e.a3a(17,87,2,15795,11);e.C_1(124);var O=e.S59(1,14,7,3);b=I*(O-c/l.days),D&&(S["Aroon Down "+l.name]=b),T&&D&&(S[v+l.name]=S["Aroon Up "+l.name]-S[p+l.name]),S[d+l.name]=[h,c,f,m]}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Aroon:{name:o,range:a,calculateFN:t.Studies.calculateAroon,outputs:{"Aroon Up":i,"Aroon Down":s}},"Aroon Osc":{name:r,calculateFN:t.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}}})):console.error("aroon feature requires first activating studies feature.")};Qa=U=>{var e=se,t,r,s,i,a,o,n;e.d7v(),t=typeof _CIQ!="undefined"?_CIQ:U.CIQ,t.Studies?(s="poi",s+="n",s+="t",s+="s",i="ATR",i+=" Trailing ",i+="St",i+="ops",a="aut",a+="o",o="fie",o+="l",o+="d",n="ATR Band",n+="s",t.Studies.calculateATRBands=function(l,u){var h;t.Studies.calculateStudyATR(l,u),h=u.inputs.Field,(!h||h=="field")&&(h="Close"),t.Studies.calculateGenericEnvelope(l,u,u.inputs.Shift,h,"ATR "+u.name)},t.Studies.calculateSTARCBands=function(l,u){var h;h="_",h+="M",e.d7v(),h+="A",t.Studies.calculateStudyATR(l,u),t.Studies.MA("simple",u.inputs["MA Period"],"Close",0,h,l,u),t.Studies.calculateGenericEnvelope(l,u,u.inputs.Multiplier,"_MA "+u.name,"ATR "+u.name)},t.Studies.calculateATRStops=function(l,u){var h,c,f,m,x,g,d,p,v,S,T;if(h=u.chart.scrubbed,!!h){t.Studies.calculateStudyATR(l,u),c=u.inputs.HighLow;for(var D=Math.max(u.startFrom-1,1);D<h.length-1;D++)f="All",f+=" ",f+="Sto",f+="ps ",m="A",m+="T",m+="R",m+=" ",x=h[D],e.p9i(125),g=h[e.a3a(0,"1",D)],d=x["Buy Stops "+u.name],d||(d=x["Sell Stops "+u.name]),d||(d=0),!(!x||!g)&&(p=x.Close,v=p,S=x[m+u.name]*u.inputs.Multiplier,x.Close>d&&g.Close>d?(c&&(p=x.High),e.C_1(13),v=Math.max(d,e.a3a(S,p))):x.Close<=d&&g.Close<=d?(c&&(p=x.Low),e.p9i(8),v=Math.min(d,e.a3a(p,S))):x.Close>d?(c&&(p=x.High),e.C_1(13),v=e.S59(S,p)):x.Close<=d&&(c&&(p=x.Low),e.C_1(8),v=e.S59(p,S)),p<=v?(T="Sell",T+=" S",T+="tops ",e.C_1(8),h[e.a3a(D,1)]["Buy Stops "+u.name]=v,e.p9i(8),delete h[e.a3a(D,1)][T+u.name]):p>v&&(e.C_1(8),h[e.S59(D,1)]["Sell Stops "+u.name]=v,e.p9i(8),delete h[e.S59(D,1)]["Buy Stops "+u.name]),e.p9i(28),h[e.a3a(D,"1",1)][f+u.name]=v);u.referenceOutput="All Stops",u.outputMap={},u.outputMap["All Stops "+u.name]=""}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:t.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:n,overlay:!0,seriesFN:t.Studies.displayChannel,calculateFN:t.Studies.calculateATRBands,inputs:{Period:5,Field:o,Shift:3,"Channel Fill":!0},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":"auto","ATR Bands Channel":"auto"},attributes:{Shift:{min:"0.1"*1,step:.1}}},"STARC Bands":{name:"STARC Bands",overlay:!0,seriesFN:t.Studies.displayChannel,calculateFN:t.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:1.3,"Channel Fill":!0},outputs:{"STARC Bands Top":a,"STARC Bands Median":"auto","STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:"0.1"*1,step:.1}}},"ATR Trailing Stop":{name:i,overlay:!0,seriesFN:t.Studies.displayPSAR2,calculateFN:t.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":[s,"squarewave"],HighLow:!1},outputs:{"Buy Stops":"#FF0000","Sell Stops":"#00FF00"},attributes:{Multiplier:{min:.1,step:.1}}}})):(r="atr feature requires first activating ",r+="studies fe",r+="ature.",console.error(r))};Za=U=>{var e,t,r;e="undef",e+="in",e+="ed",t=typeof _CIQ!==e?_CIQ:U.CIQ,t.Studies?(r="#",r+="00DD",r+="00",t.Studies.calculateAwesomeOscillator=function(s,i){var a,o,n,l;if(a="s",a+="im",a+="ple",o="hl/",o+="2",n=i.chart.scrubbed,n.length<33){i.error=!0;return}se.d7v(),t.Studies.MA("simple",5,o,0,"_MA5",s,i),t.Studies.MA(a,34,"hl/2",0,"_MA34",s,i);for(var u=Math.max(i.startFrom,33);u<n.length;u++)l="_M",l+="A5 ",n[u]&&(n[u][i.name+"_hist"]=n[u][l+i.name]-n[u]["_MA34 "+i.name]);i.outputMap={},i.outputMap[i.name+"_hist"]=""},t.Studies.displayAwesomeOscillator=function(s,i,a){var o=se,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y;n="#CCCC",n+="CC",l="stx_hist",l+="og",l+="r",l+="am",u=s.panels[i.panel],h=i.getContext(s),c=i.getYAxis(s),f=s.pixelFromPrice(0,u,c),o.C_1(55);var b=o.S59(5,3);m=s.layout.candleWidth-b,m<2&&(m=1),x=t.Studies.determineColor(i.outputs["Increasing Bar"]),g=t.Studies.determineColor(i.outputs["Decreasing Bar"]),s.canvasColor(l),i.underlay||(h.globalAlpha=1),h.fillStyle=n,s.startClip(i.panel),!i.highlight&&s.highlightedDraggable&&(h.globalAlpha*=.3);for(var w=0;w<a.length;w++)if(d="_h",d+="i",d+="s",d+="t",p="_",p+="h",p+="i",p+="st",v=0,S=a[w],o.p9i(29),T=a[o.S59(1,w,"1")],T||(T=s.getPreviousBar(s.chart,i.name+"_hist",w)),!!S){if(s.cleanupGaps==="stretch")for(;a[w+1]&&(D="_his",D+="t",o.p9i(8),y=a[o.a3a(w,1)][i.name+D],!(y||y===0||a[w+1].futureTick));)v++,w++;(!T||T[i.name+"_hist"]===void 0)&&(T=s.getPreviousBar(s.chart,i.name+p,w-v)),T&&(T[i.name+"_hist"]<S[i.name+"_hist"]?h.fillStyle=x:T[i.name+"_hist"]>S[i.name+"_hist"]&&(h.fillStyle=g)),S.candleWidth&&(m=Math.floor(Math.max(1,S.candleWidth-2))),h.fillRect(Math.floor(s.pixelFromBar(w-v,u.chart)-m/2),Math.floor(f),Math.floor(m+v*s.layout.candleWidth),Math.floor(s.pixelFromPrice(S[i.name+d],u,c)-f))}s.endClip()},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:t.Studies.displayAwesomeOscillator,calculateFN:t.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":r,"Decreasing Bar":"#FF0000"}}})):console.error("awesomeOscillator feature requires first activating studies feature.")};$a=U=>{var e,t,r,s;e="un",e+="def",e+="i",e+="ned",t=typeof _CIQ!==e?_CIQ:U.CIQ,se.j4$(),t.Studies?(s="Balance",s+=" of Power",t.Studies.calculateBalanceOfPower=function(i,a){var o,n,l,u;if(o="_R",o+="at",o+="i",se.d7v(),o+="o ",n=a.chart.scrubbed,n.length<a.days+("1">>0)){a.error=!0;return}for(var h=a.startFrom;h<n.length;h++)l="_",l+="Ra",l+="t",l+="io ",u=n[h],u[l+a.name]=u.Close-u.Open,u.High-u.Low!==0&&(u["_Ratio "+a.name]/=u.High-u.Low);t.Studies.MA(a.inputs["Moving Average Type"],a.days,o+a.name,0,"Result",i,a)},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Bal Pwr":{name:s,range:"-1 to 1",centerline:0,calculateFN:t.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":"ma"}}})):(r="balanceOfPower feature requires",r+=" first activat",r+="ing studies feature.",console.error(r))};Ga=U=>{var e,t,r,s;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.Studies?(t="m",t+="a",r="Bolli",r+="nger %b",s="a",s+="u",s+="t",s+="o",e.Studies.calculateBollinger=function(i,a){var o,n,l,u,h,c,f,m;o="%",o+="b",n="B",n+="ol",n+="l %",n+="b",l="_STD ",l+="Dev",l+=" ",u="_",u+="MA ",h="Standa",h+="rd Dev",h+="iations",c="M",c+="oving Average ",c+="Typ",c+="e",f="Mo",f+="ving A",f+="vera",f+="ge Type",m=a.inputs.Field,(!m||m=="field")&&(m="Close"),e.Studies.MA(a.inputs[f],a.days,m,0,"_MA",i,a),a.std=new e.Studies.StudyDescriptor(a.name,"STD Dev",a.panel),a.std.chart=a.chart,a.std.startFrom=a.startFrom,a.std.days=a.days,a.std.inputs={Field:m,"Standard Deviations":1,Type:a.inputs[c]},a.std.outputs={"_STD Dev":null},e.Studies.calculateStandardDeviation(i,a.std),e.Studies.calculateGenericEnvelope(i,a,a.inputs[h],u+a.name,l+a.name),a.type==n&&(a.zoneOutput=o)},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{"Bollinger Bands":{name:"Bollinger Bands",overlay:!0,calculateFN:e.Studies.calculateBollinger,seriesFN:e.Studies.displayChannel,inputs:{Period:"20"*1,Field:"field","Standard Deviations":2,"Moving Average Type":"ma","Channel Fill":!0},outputs:{"Bollinger Bands Top":s,"Bollinger Bands Median":"auto","Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:.1,step:.1}}},"Boll %b":{name:r,calculateFN:e.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":t},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:.1,step:"0.1"-0}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:e.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:.1,step:.1}}}})):console.error("bollinger feature requires first activating studies feature.")};Ka=U=>{var e,t,r;se.d7v(),e="un",e+="def",e+="in",e+="ed",t=typeof _CIQ!==e?_CIQ:U.CIQ,t.Studies?(r="aut",r+="o",t.Studies.calculateCCI=function(s,i){var a,o,n,l;if(a=i.chart.scrubbed,a.length<i.days+1){i.error=!0;return}se.d7v(),t.Studies.MA("simple",i.days,"hlc/3","0"-0,"MA",s,i);for(var u=Math.max(i.startFrom,i.days-1);u<a.length;u++)if(o="M",o+="A",o+=" ",n=a[u],!!n){l=0;for(var h=0;h<i.days;h++)l+=Math.abs(a[u-h]["hlc/3"]-n["MA "+i.name]);l/=i.days,Math.abs(l)<1e-8?n["Result "+i.name]=0:n["Result "+i.name]=(n["hlc/3"]-n[o+i.name])/(.015*l)}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{CCI:{name:"Commodity Channel Index",calculateFN:t.Studies.calculateCCI,inputs:{Period:"20"-0},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:100,studyOverBoughtColor:r,studyOverSoldValue:-100,studyOverSoldColor:"auto"}},attributes:{Period:{min:2}}}})):console.error("cci feature requires first activating studies feature.")};Xa=U=>{var e=se,t,r,s,i;t=-1959820759,e.C_1(17),r=e.a3a("1343927207",0),s=2;for(var a=1;e.C1g(a.toString(),a.toString().length,94487)!==t;a++)i=typeof _CIQ!="undefined"?_CIQ:U.CIQ,s+=2;e.M0S(s.toString(),s.toString().length,"382">>0)!==r&&(i=!_CIQ!=""?_CIQ:U.CIQ),i.Studies?(i.Studies.calculateCenterOfGravity=function(o,n){var l,u,h,c,f,m,x,g,d;if(l="S",l+="ig",l+="nal",u="s",u+="m",u+="a",h="fi",h+="e",h+="l",h+="d",c=n.chart.scrubbed,c.length<n.days){n.error=!0;return}f=n.inputs.Field,(!f||f==h)&&(f="Close");for(var p=Math.max(n.startFrom,n.days-1);p<c.length;p++){m="Center",m+=" of Gravity ",x=0,g=0;for(var v=0;v<n.days;v++)d=i.Studies.getQuoteFieldValue(c[p-v],f),e.p9i(126),x-=e.S59(v,1,d),g+=d;g&&(e.C_1(19),c[p][m+n.name]=e.S59(x,g))}e.j4$(),i.Studies.MA(u,3,"Center of Gravity "+n.name,0,l,o,n)},i.Studies.studyLibrary=i.extend(i.Studies.studyLibrary,{COG:{name:"Center Of Gravity",calculateFN:i.Studies.calculateCenterOfGravity,inputs:{Period:"10"*1,Field:"field"},outputs:{"Center of Gravity":"auto",Signal:"red"}}})):console.error("centerOfGravity feature requires first activating studies feature.")};Ja=U=>{var e,t,r;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.Studies?(t="m",t+="a",r="Cha",r+="ikin ",r+="Money Flow",e.Studies.calculateChaikinMoneyFlow=function(s,i){var a=se,o,n,l,u,h,c,f,m,x,g;if(o=i.chart.scrubbed,a.d7v(),o.length<i.days){i.error=!0;return}n=0,l=0,a.p9i(13);var d=a.a3a(9,10);u=o[i.startFrom-d],u&&(h="_",h+="sumV ",c="_",c+="s",c+="umM",c+="F ",u[c+i.name]&&(n=u["_sumMF "+i.name]),u["_sumV "+i.name]&&(l=u[h+i.name]));for(var p=i.startFrom;p<o.length;p++){if(f="_",f+="sumM",f+="F",f+=" ",m="_",m+="MF",m+="V",m+=" ",x="_",x+="MFV ",o[p].High==o[p].Low)o[p]["_MFV "+i.name]=0;else{a.p9i(57);var v=a.a3a(242,16,15);o[p][x+i.name]=o[p].Volume*(v*o[p].Close-o[p].High-o[p].Low)/(o[p].High-o[p].Low)}n+=o[p][m+i.name],l+=o[p].Volume,p>i.days-1&&(g="Res",g+="u",g+="lt ",n-=o[p-i.days]["_MFV "+i.name],l-=o[p-i.days].Volume,l&&(a.p9i(19),o[p][g+i.name]=a.S59(n,l))),o[p][f+i.name]=n,o[p]["_sumV "+i.name]=l}},e.Studies.calculateChaikinVolatility=function(s,i){var a=se,o,n,l,u;if(o="Mov",o+="ing A",o+="verag",o+="e Type",n=i.chart.scrubbed,n.length<i.days){i.error=!0;return}for(l=i.startFrom;l<n.length&&!n[l].futureTick;l++)n[l]["_High-Low "+i.name]=n[l].High-n[l].Low;for(e.Studies.MA(i.inputs[o],i.days,"_High-Low "+i.name,0,"_MA",s,i),u=i.inputs["Rate Of Change"],u||(u=i.days),l=Math.max(i.startFrom,u);l<n.length;l++)if(n[l-u]["_MA "+i.name]){if(n[l].futureTick)break;a.C_1(13);var h=a.S59(100,200);a.C_1(38);var c=a.a3a(15,19,17,4,5);n[l]["Result "+i.name]=h*(n[l]["_MA "+i.name]/n[l-u]["_MA "+i.name]-c)}},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{"Chaikin MF":{name:r,calculateFN:e.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:e.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":t}}})):console.error("chaikin feature requires first activating studies feature.")};er=U=>{var e,t,r,s,i,a;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.Studies?(r="a",r+="ut",r+="o",s="a",s+="uto",i="Ch",i+="ande Forecast Osc",i+="i",i+="llator",a="Vari",a+="a",a+="ble",e.Studies.prettify.variable="vma",e.Studies.movingAverage.conversions.vma="variable",e.Studies.movingAverage.translations.variable="Variable",e.Studies.movingAverage.typeMap.vma="Variable",e.Studies.movingAverage.typeMap.variable=a,e.Studies.calculateChandeForecast=function(o,n){var l=se,u,h,c,f;if(u="C",l.d7v(),u+="lo",u+="s",u+="e",h=n.chart.scrubbed,h.length<n.days+1){n.error=!0;return}c=n.inputs.Field,(!c||c=="field")&&(c=u),e.Studies.MA("time series",n.days,c,0,"MA",o,n);for(var m=Math.max(1,n.startFrom);m<h.length;m++){f=e.Studies.getQuoteFieldValue(h[m],c,n.subField),l.p9i(77);var x=l.S59(19,76,5);l.p9i(23);var g=l.a3a(71,18,1,4);h[m]["Result "+n.name]=x*(g-h[m]["MA "+n.name]/f)}},e.Studies.calculateChandeMomentum=function(o,n){var l=se,u,h,c,f,m,x,g,d,p,v;u=n.name;for(var S in n.outputs)l.p9i(77),u=l.a3a(" ",u,S);if(h=n.chart.scrubbed,h.length<n.days+1){n.error=!0;return}c=n.inputs.Field,(!c||c=="field")&&(c="Close"),l.j4$(),l.C_1(5),f=l.S59(1,"0"),m=0,x=[];for(var T=n.startFrom-n.days+1;T<h.length;T++)T<1||(g=e.Studies.getQuoteFieldValue(h[T],c),d=e.Studies.getQuoteFieldValue(h[T-1],c),d!==void 0&&(l.p9i(13),p=l.a3a(d,g),x.push(p),f+=p,m+=Math.abs(p),x.length==n.days&&(l.p9i(101),h[T][u]=l.a3a(100,f,m),v=x.shift(),f-=v,m-=Math.abs(v))))},e.Studies.calculateMovingAverageVariable=function(o,n){var l=se,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I;u="C",u+="l",u+="os",u+="e",n.inputs.Type,h=n.chart.scrubbed,l.p9i(13);var O=l.S59(10,12);l.C_1(38);var R=l.S59(18,7,14,10,1);c=O/(n.days+R),f=null,m=n.name;for(var C in n.outputs)l.p9i(77),m=l.a3a(" ",m,C);for(x=n.inputs.Field,(!x||x=="field")&&(x=u),n.cmo=new e.Studies.StudyDescriptor(n.name,"cmo",n.panel),n.cmo.chart=n.chart,n.cmo.days=9,n.cmo.inputs={Field:x},n.cmo.startFrom=n.startFrom,n.cmo.outputs={_CMO:null},e.Studies.calculateChandeMomentum(o,n.cmo),g=parseInt(n.inputs.Offset,10),isNaN(g)&&(g=0),S=n.startFrom,T=g,d=n.startFrom-1;d>=0;d--)if(p=h[d][m],!(!p&&p!==0)){if(f===null&&(f=p),T<=0)break;T--,S=d}for(f===null&&(f=S=0),D=[],l.d7v(),d=S;d<h.length;d++){if(y="_C",y+="M",y+="O",y+=" ",b="o",b+="b",b+="j",b+="ect",w=h[d],p=w[x],p&&typeof p==b&&(p=p[n.subField]),A=d+g>=0&&d+g<h.length,_=A?h[d+g]:null,!p&&p!=="0">>64){_?_[m]=null:d+g>=h.length&&(v={},v[m]=null,D.push(v));continue}if(!(!w[y+n.name]&&w["_CMO "+n.name]!==0)){l.p9i(8);var k=l.S59(6,94);P=Math.abs(w["_CMO "+n.name])/k,l.C_1(127),I=l.S59(c,P,p,f,c,P,"1"),f=I,d<n.days&&(I=null),_?_[m]=I:d+g>=h.length&&(v={},v[m]=I,D.push(v))}}n.appendFutureTicks(o,D)},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{"Chande Fcst":{name:i,calculateFN:e.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:e.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:50,studyOverBoughtColor:s,studyOverSoldValue:-50,studyOverSoldColor:r}}}})):(t="chande ",t+="feature require",t+="s first activating studies feature.",console.error(t))};tr=U=>{var e=se,t,r,s;e.d7v(),t=typeof _CIQ!="undefined"?_CIQ:U.CIQ,t.Studies?(s="a",s+="u",s+="t",s+="o",t.Studies.calculateChoppiness=function(i,a){var o,n,l,u;if(t.Studies.calculateStudyATR(i,a),o=a.chart.scrubbed,o.length<a.days+1){a.error=!0;return}for(var h=Math.max(a.startFrom,a.days);h<o.length;h++)if(n="Sum",n+=" True Rang",n+="e",n+=" ",l=o[h],!!l){if(l.futureTick)break;if(u=m(a.days,h),l[n+a.name]){e.p9i(37);var c=e.a3a(10,11,10);e.p9i(119);var f=e.a3a(5,3,16,13);l["Result "+a.name]=c*Math.log(l["Sum True Range "+a.name]/Math.max(1e-6,u[f]-u[0]))/Math.log(a.days)}else isNaN(l)||(l["Result "+a.name]=0)}function m(x,g){var d,p;e.p9i(128);var v=e.S59(13,3,5,164,10);d=Number.MAX_VALUE*v,p=Number.MAX_VALUE,e.d7v();for(var S=g-x+1;S<=g;S++)S<0||(d=Math.max(d,o[S].High),p=Math.min(p,o[S].Low));return[p,d]}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Choppiness:{name:"Choppiness Index",calculateFN:t.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:61.8,studyOverBoughtColor:"auto",studyOverSoldValue:38.2,studyOverSoldColor:s}},attributes:{studyOverBoughtValue:{min:50,step:"0.1"},studyOverSoldValue:{max:50,step:"0.1"}}}})):(r="choppiness feat",r+="ure requires first activating st",r+="udies featu",r+="re.",console.error(r))};ir=U=>{var e=se,t,r,s,i;t=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.d7v(),t.Studies?t.Studies.initPriceRelative?(s="S",s+="PY",i="Perform",i+="a",i+="nce Index",t.Studies.calculateCorrelationCoefficient=function(a,o){var n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R;if(n="Comp",n+="are To",l=o.chart.scrubbed,u=o.days,l.length<u+1){o.error=!0;return}if(o.compare=o.inputs[n],o.compare)o.compare=[o.compare];else{o.compare=[],o.outputs={},o.outputMap={};for(var C in a.chart.series)if(h=a.chart.series[C],h.parameters.color){o.compare.push(h.display),o.outputs["Result "+h.display]=h.parameters.color,e.p9i(8);var k=e.a3a(5882,18);e.p9i(11);var F=e.S59(76680,6,72852);e.C_1(129);var M=e.a3a(5872,734,9,1451);e.C_1(61);var L=e.S59(715,592,5);o.outputMap["Result "+h.display+(746.1<k?" ":F>M?L:"p")+o.name]="Result "+h.display}}if(!o.compare.length){o.error="Correlation Coefficient requires at least one comparison symbol";return}for(var E=0;E<o.compare.length;E++){c=0,f=0,m=0,x=0,g=0,d=o.compare[E],p=0;for(var H=o.startFrom-u;H<l.length;H++)if(v="_",v+="temp",v+="s",v+=" ",S="_te",S+="m",S+="p",S+="s ",T="_",T+="temp",T+="s",T+=" ",D="_",D+="te",D+="m",D+="ps ",!!l[H]){if(y=t.Studies.getQuoteFieldValue(l[H],d),y===null&&(b="_t",b+="em",b+="p",b+="s ",H>0&&l[H-1]&&l[H-1][b+o.name]&&l[H-1]["_temps "+o.name].c?y=l[H-1]["_temps "+o.name].c:y=0),y&&typeof y=="object"&&(y=y.Close),l[H][D+o.name]={},c+=l[H][T+o.name].b=l[H].Close,f+=l[H][S+o.name].c=y,m+=l[H][v+o.name].b2=Math.pow(l[H].Close,2),x+=l[H]["_temps "+o.name].c2=Math.pow(y,2),g+=l[H]["_temps "+o.name].bc=l[H].Close*y,p>=u){w="_",w+="temps ",A="_te",A+="m",A+="p",A+="s ",_="_",_+="t",_+="em",_+="ps ",c-=l[H-u]["_temps "+o.name].b,f-=l[H-u][_+o.name].c,m-=l[H-u][A+o.name].b2,x-=l[H-u]["_temps "+o.name].c2,g-=l[H-u][w+o.name].bc,e.C_1(13);var N=e.S59(10,12);P=m/u-Math.pow(c/u,N),e.C_1(130);var j=e.S59(3,16,2,2,11);I=x/u-Math.pow(f/u,j),e.p9i(8);var W=e.a3a(0,2);O=g/u-c*f/Math.pow(u,W),R=O/Math.sqrt(P*I),l[H]["Result "+d+" "+o.name]=R}p++}}},t.Studies.calculatePerformance=function(a,o){var n,l,u,h,c;if(n="Compar",n+="ison Symbol",l="Compa",l+="rison Sym",l+="bo",l+="l",u=o.chart.scrubbed,h=o.inputs[l].toUpperCase(),h||(h=o.study.inputs[n]),o.days||(o.days=o.study.inputs.Period),u.length<o.days+1){o.error=!0;return}t.Studies.MA("ma",o.days,"Close",0,"_MA Base",a,o),t.Studies.MA("ma",o.days,h,0,"_MA Comp",a,o);for(var f=o.startFrom;f<u.length;f++)c=t.Studies.getQuoteFieldValue(u[f],h),u[f]["Result "+o.name]=u[f].Close/c*(u[f]["_MA Comp "+o.name]/u[f]["_MA Base "+o.name])},t.Studies.calculateBeta=function(a,o){var n,l,u,h,c,f,m,x,g,d,p,v,S;if(n="_",n+="VARn",n+=" ",l="_COVA",l+="R",u="_M",e.d7v(),u+="A Com",u+="p",h="m",h+="a",c="m",c+="a",f=o.chart.scrubbed,m=o.inputs["Comparison Symbol"].toUpperCase(),m||(m=o.study.inputs["Comparison Symbol"]),o.days||(o.days=o.study.inputs.Period),f.length<o.days+("1"^0)){o.error=!0;return}for(var T=Math.max(o.startFrom,1);T<f.length;T++){x="_B",x+="a",x+="seCh",x+="ange ",e.C_1(131);var D=e.a3a(5,4,4,2,6);f[T][x+o.name]=f[T].Close/f[T-("1"-0)].Close-D,g=t.Studies.getQuoteFieldValue(f[T],m),d=t.Studies.getQuoteFieldValue(f[T-1],m),e.p9i(21),f[T]["_CompChange "+o.name]=e.S59(d,g,1)}for(t.Studies.MA(c,o.days,"_BaseChange "+o.name,0,"_MA Base",a,o),t.Studies.MA(h,o.days,"_CompChange "+o.name,"0"<<0,u,a,o),T=Math.max(o.startFrom,o.days);T<f.length;T++)p="_MA Co",p+="mp ",v="_Co",v+="mpChange ",S="_B",S+="a",S+="seChange ",f[T]["_COVARn "+o.name]=(f[T][S+o.name]-f[T]["_MA Base "+o.name])*(f[T]["_CompChange "+o.name]-f[T]["_MA Comp "+o.name]),f[T]["_VARn "+o.name]=Math.pow(f[T][v+o.name]-f[T][p+o.name],"2"-0);for(t.Studies.MA("ma",o.days,"_COVARn "+o.name,0,l,a,o),t.Studies.MA("ma",o.days,n+o.name,0,"_VAR",a,o),T=Math.max(o.startFrom,o.days*2-("1"-0));T<f.length;T++)f[T]["Result "+o.name]=f[T]["_COVAR "+o.name]/f[T]["_VAR "+o.name]},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{correl:{name:"Correlation Coefficient",range:"-1 to 1",calculateFN:t.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:i,centerline:1,initializeFN:t.Studies.initPriceRelative,seriesFN:t.Studies.displayVsComparisonSymbol,calculateFN:t.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":s},outputs:{Result:"auto",Gain:"#00DD00",Loss:"#FF0000"},deferUpdate:!0},Beta:{name:"Beta",centerline:"1"^0,initializeFN:t.Studies.initPriceRelative,seriesFN:t.Studies.displayVsComparisonSymbol,calculateFN:t.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":"SPY"},deferUpdate:!0}})):(r="comparisonSt",r+="udies feature requires first a",r+="ctivating priceRelative feature.",console.error(r)):console.error("comparisonStudies feature requires first activating studies feature.")};ar=U=>{var e=se,t,r,s;e.j4$(),t="undefi",t+="ned",r=typeof _CIQ!==t?_CIQ:U.CIQ,r.Studies?(s="fiel",s+="d",r.Studies.calculateCoppock=function(i,a){var o,n,l,u,h,c,f,m,x;if(o="S",o+="hort ",o+="R",o+="oC",n="f",n+="ie",n+="l",n+="d",l=a.chart.scrubbed,u=a.inputs.Field,e.d7v(),(!u||u==n)&&(u="Close"),h=parseInt(a.inputs["Long RoC"],10),h||(h=14),c=parseInt(a.inputs[o],"10"|2),c||(c=11),f=a.days,f||(f=10),!(h<c)){if(l.length<Math.max(c,h,f)+1){a.error=!0;return}for(var g=Math.max(a.startFrom,h);g<l.length;g++)if(m=r.Studies.getQuoteFieldValue(l[g-c],u),x=r.Studies.getQuoteFieldValue(l[g-h],u),m&&x){e.p9i(132);var d=e.a3a(4,4,4,6);e.C_1(13);var p=e.a3a(10,12);l[g]["_Sum "+a.name]=d*(r.Studies.getQuoteFieldValue(l[g],u)/m+r.Studies.getQuoteFieldValue(l[g],u)/x-p)}r.Studies.MA("weighted",f,"_Sum "+a.name,0,"Result",i,a)}},r.Studies.studyLibrary=r.extend(r.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:r.Studies.calculateCoppock,inputs:{Period:10,Field:s,"Short RoC":11,"Long RoC":14}}})):console.error("coppock feature requires first activating studies feature.")};rr=U=>{var e=se,t,r;t=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.d7v(),t.Studies?(r="#69",r+="9",r+="1",r+="58",t.Studies.calculateDarvas=function(s,i){var a,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E;a="A",a+="D",a+="V",o="A",o+="T",o+="H",n="P",n+="r",n+="ofi",n+="t",l="Le",l+="v",l+="el Offset",u="Vol",u+="ume Sp",u+="i",u+="ke",h="ATH Look",h+="back P",h+="e",h+="riod",c=i.chart.scrubbed,e.C_1(3),f=e.S59("0",32),m=parseInt(i.inputs[h],10),i.inputs[u]&&(x="A",x+="D",x+="V",g="V",g+="ol",g+="u",g+="me",t.Studies.MA("simple",m,g,0,x,s,i)),e.p9i(133);var H=e.a3a(3,19,98,119,5);for(d=parseFloat(i.inputs["Volume % of Avg"])/H,p="none",v={},S=null,T=null,D=null,y=parseFloat(i.inputs[l]),b=!1,b&&console.log("*****************"),A={},["Darvas","Ghost",n,"Loss",o,a,"Spike"].forEach(function(V){A[V]=V+" "+i.name}),w=i.startFrom-1;w>0;w--)if(_=c[w],_[A.Darvas]||_[A.Ghost])for(var N in A)_[N]=null;else{f=_[A.ATH]||0,T=_[A.Profit],D=_[A.Loss];break}for(w;w<c.length;w++)if(P=c[w],!!P){if(parseFloat(i.inputs["Price Minimum"])<=c[f].Close){if(S&&(!S.End||w==S.End+1)&&(c[w-("1">>32)].Close>v.High?v={State:"1">>32,High:2*v.High-v.Low,Low:v.High,Start:w,End:2*v.End-v.Start+1}:S=null,S&&(I="Ghost be",I+="gin:",P[A.Ghost]=t.clone(v),b&&console.log(I+P.DT),v.State=0,c[v.End]&&(c[v.End][A.Ghost]=t.clone(v),b&&console.log("Ghost end:"+c[v.End].DT)),S={Start:v.Start,End:v.End},T=v.High+y,(!D||D<v.Low-y)&&(D=v.Low-y))),P[A.Profit]=T,P[A.Loss]=D,(P.Close>=T||i.inputs["Exit Field"]=="high/low"&&P.High>=T)&&(T=null),p=="none"&&w==f+3&&!c[f+2][A.Darvas]&&!c[f+1][A.Darvas]&&!c[f][A.Darvas]&&c[f].High>P.High&&(O="h",O+="i",O+="g",O+="h",p=O),p=="high"&&(P.High>c[f].High?p="none":c[w-3].Low<c[w-2].Low&&c[w-3].Low<c[w-1].Low&&c[w-3].Low<P.Low&&(v={State:1,High:c[f].High,Low:c[w-3].Low,Start:f},c[f][A.Darvas]=t.clone(v),p="darvas",b&&console.log("Darvas begin:"+c[f].DT),b&&console.log("Darvas established:"+P.DT),S&&(R="Ghost e",R+="nd:",S.End>w&&c[S.Start]&&(P[A.Ghost]=t.clone(c[S.Start][A.Ghost]),P[A.Ghost].End=w,c[S.End]&&(delete c[S.End][A.Ghost],b&&console.log("Ghost End removed:"+c[S.End].DT))),P[A.Ghost].State=0,c[S.Start][A.Ghost].End=w,b&&console.log(R+P.DT),S=null),T=v.High+y,(!D||D<v.Low-y)&&(D=v.Low-y))),p=="darvas"&&(C="n",C+="on",C+="e",k="Ex",k+="it Fi",k+="el",k+="d",P.Close>v.High?S={}:i.inputs[k]=="high/low"&&P.High>v.High?S={}:P.Close<v.Low?p=C:i.inputs["Exit Field"]=="high/low"&&P.Low<v.Low&&(p="none"),S?p="none":p=="none"&&(T=null,D=null),i.inputs["Ghost Boxes"]||(S=null),p=="none")){for(var j=v.Start+1;j<w;j++)c[j][A.Darvas]=t.clone(v);e.p9i(17),v.State=e.S59("0",0),v.End=w,P[A.Darvas]=t.clone(v),b&&console.log("Darvas end:"+P.DT),P[A.ATH]=f;continue}D&&(P.Close<v.Low||i.inputs["Exit Field"]=="high/low"&&P.Low<v.Low)&&(F="hi",F+="gh/low",M="Exi",M+="t Field",L="dar",L+="va",L+="s",p==L&&(p="none"),(P.Close<D||i.inputs[M]==F&&P.Low<D)&&(T=null,D=null),S&&(S.End>w&&c[S.Start]&&(P[A.Ghost]=t.clone(c[S.Start][A.Ghost]),P[A.Ghost].End=w,c[S.End]&&(delete c[S.End][A.Ghost],b&&console.log("Ghost End removed:"+c[S.End].DT))),P[A.Ghost].State=0,c[S.Start][A.Ghost].End=w,b&&console.log("Ghost end:"+P.DT),S=null))}if(P.High>=c[f].High&&(E="All Time",E+=" H",E+="igh:",f=w,b&&console.log(E+P.DT)),(w<"3"*1||P.High>=c[w-1].High&&P.High>=c[w-("2"-0)].High&&P.High>=c[w-3].High)&&w-f>=m){f=w;for(var W=0;W<m&&!(w-W<0);W++)c[w-W].High>c[f].High&&(e.p9i(13),f=e.S59(W,w));b&&console.log("All Time High:"+P.DT)}i.inputs["Volume Spike"]&&w>m&&w==f&&P[A.ADV]*d<P.Volume&&(P[A.Spike]=1,b&&console.log("Volume Spike:"+P.DT)),P[A.ATH]=f}},t.Studies.displayDarvas=function(s,i,a){var o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V;o="Stop",o+=" Lev",o+="els",n=t.Studies.determineColor(i.outputs.Levels),(!n||n=="auto"||t.isTransparent(n))&&(n=s.defaultColor),l=t.Studies.determineColor(i.outputs.Darvas),(!l||l=="auto"||t.isTransparent(l))&&(l=s.defaultColor),u=t.Studies.determineColor(i.outputs.Ghost),(!u||u=="auto"||t.isTransparent(u))&&(u=s.defaultColor),h=s.panels[i.panel],c=i.getContext(s),e.p9i(20);var Y=e.a3a(5,7,1);if(g=s.layout.candleWidth-Y,g<2&&(g=1),s.startClip(i.panel),i.inputs[o]){for(c.setLineDash&&c.setLineDash([2,2]),c.lineWidth=2,c.strokeStyle=n,c.beginPath(),f=0;f<a.length;f++)d="L",d+="oss ",m=a[f],e.p9i(134),p=a[e.a3a(32,f,"1")],m&&(x=m["Loss "+i.name]?Math.floor(s.pixelFromPrice(m["Loss "+i.name],h)):null,v=p&&p[d+i.name]?Math.floor(s.pixelFromPrice(p["Loss "+i.name],h)):null,x&&(m.candleWidth&&(g=Math.floor(Math.max(1,m.candleWidth))),S=Math.floor(s.pixelFromBar(f,h.chart)+g/2),T=Math.floor(s.pixelFromBar(f,h.chart)-g/2),v&&v>=x?c.lineTo(T,x):f===0?c.moveTo(s.chart.left,x):c.moveTo(T,x),c.lineTo(S,x)));c.stroke(),c.setLineDash&&c.setLineDash([]),c.lineWidth=1}e.C_1(17),D=-e.S59("10",0),b=0,A=-10,e.p9i(13),P=e.S59(0,"0"),O=!1,R=!1,e.p9i(8);var Q=e.a3a(6321,19);e.C_1(44);var z=e.S59(19981,3,1,22832);e.p9i(135),e.a3a(8,381,4,24),e.p9i(136);var $=e.a3a(18,498,996,5,959);e.p9i(8),e.a3a(859,7730),e.C_1(137);var K=e.S59(3,2,4,12);for(C=c.measureText(Q!=("4070"|0)?z>118.76?$>380.89?"▲":"600"-0:!0:"x").width/K,k=0,f=0;f<a.length;f++)if(a[f]){if((a[f].Close||a[f].Close===0)&&(k=f),a[f]["Spike "+i.name]&&(c.fillStyle=l,c.textBaseline="bottom",F=s.pixelFromPrice(a[f].High,s.chart.panel),c.fillText("▼",s.pixelFromBar(f)-C,F-5)),a[f].candleWidth&&(g=Math.floor(Math.max(1,a[f].candleWidth))),a[f]["Darvas "+i.name]){if(M="D",M+="a",M+="rvas",M+=" ",m=a[f][M+i.name],m.State==1&&!O)D=Math.floor(s.pixelFromBar(f,h.chart)-g/2),y=Math.floor(s.pixelFromPrice(m.High,h)),w=Math.floor(s.pixelFromPrice(m.Low,h))-y,O=!0;else if(m.State===0){e.p9i(138);var q=e.a3a(9,8,19,1);b=Math.floor(s.pixelFromBar(f,h.chart)+g/q)-D,y=Math.floor(s.pixelFromPrice(m.High,h)),w=Math.floor(s.pixelFromPrice(m.Low,h))-y,c.strokeStyle=l,c.fillStyle=l,i.inputs["Stop Levels"]?c.globalAlpha=.3:(c.strokeRect(D,y,b,w),c.globalAlpha=.2),c.fillRect(D,y,b,w),c.globalAlpha=1,O=!1}}if(a[f]["Ghost "+i.name]&&i.inputs["Ghost Boxes"]){if(L="Gho",L+="st ",m=a[f][L+i.name],m.State=="1"<<0&&!R)A=Math.floor(s.pixelFromBar(f,h.chart)-g/2),_=Math.floor(s.pixelFromPrice(m.High,h)),P=Math.floor((m.End-m.Start+1)*s.layout.candleWidth+g/2),I=Math.floor(s.pixelFromPrice(m.Low,h))-_,R=!0;else if(m.State===0){E="Sto",E+="p Leve",E+="ls",m.Start==m.End&&(A=Math.floor(s.pixelFromBar(f,h.chart)-g/2)),e.C_1(8);var X=e.S59(0,2);P=Math.floor(s.pixelFromBar(f,h.chart)+g/X)-A,_=Math.floor(s.pixelFromPrice(m.High,h)),I=Math.floor(s.pixelFromPrice(m.Low,h))-_,c.strokeStyle=u,c.fillStyle=u,i.inputs[E]?c.globalAlpha=.3:(c.strokeRect(A,_,P,I),c.globalAlpha=.2),c.fillRect(A,_,P,I),c.globalAlpha=1,R=!1}}}if(O){e.p9i(11);var Z=e.S59(0,10,8);if(b=Math.floor(s.pixelFromBar(k,h.chart)+g/Z)-D,c.strokeStyle=l,c.fillStyle=l,i.inputs["Stop Levels"])c.globalAlpha=.3;else{c.beginPath(),e.p9i(139),c.moveTo(e.S59(D,"2",0,b),y),c.lineTo(D,y),H=-1336593287,N=918192742,j=2;for(var ae=1;e.M0S(ae.toString(),ae.toString().length,14769)!==H;ae++)e.C_1(5),c.lineTo(D,e.S59(w,y)),e.p9i(140),c.lineTo(e.a3a(3,D,b),e.a3a(w,y,e.C_1(13))),j+=2;e.M0S(j.toString(),j.toString().length,97798)!==N&&(e.C_1(8),c.lineTo(D,e.a3a(y,w)),e.p9i(28),c.lineTo(e.S59(D,2,b),e.S59(y,w,e.p9i(8)))),c.stroke(),c.globalAlpha=.2}e.C_1(5),c.fillRect(D,y,e.S59(b,2),w),c.globalAlpha=1}R&&(W="S",W+="to",W+="p",W+=" Levels",c.strokeStyle=u,c.fillStyle=u,i.inputs[W]?(e.C_1(13),c.globalAlpha=e.a3a(0,"0.3")):(c.strokeRect(A,_,P,I),c.globalAlpha=.2),c.fillRect(A,_,P,I),c.globalAlpha=1),(O||R)&&(i.inputs["Stop Levels"]&&(c.setLineDash&&c.setLineDash([2,2]),c.lineWidth=2,c.strokeStyle=n,V=Math.floor(s.pixelFromBar(k-1,h.chart)+g/2),x&&(c.beginPath(),c.moveTo(V,x),c.lineTo(O?D+2*b:A+P,x),c.stroke()),c.setLineDash&&c.setLineDash([]),c.lineWidth=1),O=!1,R=!1),s.endClip()},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:!0,calculateFN:t.Studies.calculateDarvas,seriesFN:t.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close","high/low"],"Ghost Boxes":!0,"Stop Levels":!1,"Level Offset":.01,"Price Minimum":5,"Volume Spike":!1,"Volume % of Avg":400},outputs:{Darvas:"#5F7CB8",Ghost:r,Levels:"auto"},customRemoval:!0,attributes:{"Price Minimum":{min:.01,step:.01},yaxisDisplayValue:{hidden:!0},panelName:{hidden:!0},flippedEnabled:{hidden:!0}}}})):console.error("darvasBox feature requires first activating studies feature.")};nr=U=>{var e=se,t;t=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.d7v(),t.Studies?(t.Studies.calculateDetrendedPrice=function(r,s){var i,a,o,n,l,u,h;if(i="M",i+="A",e.d7v(),a=s.chart.scrubbed,a.length<s.days+1){s.error=!0;return}o=s.inputs.Field,(!o||o=="field")&&(o="Close"),n=Math.floor(s.days/2+1),t.Studies.MA(s.inputs["Moving Average Type"],s.days,o,-n,i,r,s);for(var c=Math.max(s.days-n-1,s.startFrom-n);c<a.length-n;c++)l="M",l+="A",l+=" ",!(c<("0"^0))&&(u=t.Studies.getQuoteFieldValue(a[c],o,s.subField),h=t.Studies.getQuoteFieldValue(a[c],l+s.name),u!==null&&h!==null&&(e.C_1(13),a[c]["Result "+s.name]=e.a3a(h,u)))},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Detrended:{name:"Detrended Price Oscillator",calculateFN:t.Studies.calculateDetrendedPrice,inputs:{Period:"14"*1,Field:"field","Moving Average Type":"ma"}}})):console.error("detrended feature requires first activating studies feature.")};sr=U=>{var e,t,r;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.Studies?(t="f",t+="ield",r="Disparity ",r+="Index",e.Studies.calculateDisparity=function(s,i){var a=se,o,n,l,u,h;if(o="_M",o+="A",n="f",n+="i",n+="el",n+="d",l=i.chart.scrubbed,l.length<i.days+1){i.error=!0;return}u=i.inputs.Field,(!u||u==n)&&(u="Close"),e.Studies.MA(i.inputs["Moving Average Type"],i.days,u,0,o,s,i);for(var c=Math.max(i.startFrom,i.days-("1"|0));c<l.length;c++)if(l[c]&&(h=l[c]["_MA "+i.name],h)){a.C_1(8);var f=a.S59(13,51);a.C_1(11);var m=a.a3a(4,18,21);l[c]["Result "+i.name]=("100">>f)*(e.Studies.getQuoteFieldValue(l[c],u)/h-m)}},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{Disparity:{name:r,calculateFN:e.Studies.calculateDisparity,inputs:{Period:14,Field:t,"Moving Average Type":"ma"}}})):console.error("disparity feature requires first activating studies feature.")};or=U=>{var e=se,t,r;t=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.j4$(),t.Studies?(t.Studies.calculateEaseOfMovement=function(s,i){e.j4$();var a,o,n,l,u,h,c,f;if(a="Mov",a+="ing Average Type",o=i.chart.scrubbed,o.length<i.days){i.error=!0;return}for(var m=Math.max(1,i.startFrom);m<o.length;m++){n="_",n+="EOM1 ",e.C_1(141);var x=e.S59(10,22,0,1,10);l=(o[m].High+o[m].Low)/x,e.p9i(27);var g=e.S59(9,29,19);e.p9i(142);var d=e.S59(22,9,9,20);e.C_1(119);var p=e.a3a(10,0,19,7);u=(o[m-g].High+o[m-d].Low)/p,e.p9i(13),h=e.S59(u,l),c=o[m].Volume/1e8/(o[m].High-o[m].Low),e.p9i(19),f=e.a3a(h,c),isFinite(f)?o[m][n+i.name]=f:o[m]["_EOM1 "+i.name]=NaN}t.Studies.MA(i.inputs[a],i.days,"_EOM1 "+i.name,0,"Result",s,i)},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{EOM:{name:"Ease of Movement",calculateFN:t.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":"ma"}}})):(r="easeOfMovement featur",r+="e requires first activ",r+="ating studies feature.",console.error(r))};se.d7v();lr=U=>{var e=se,t,r,s;t=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.d7v(),t.Studies?(s="a",s+="u",s+="t",s+="o",t.Studies.calculateEhlerFisher=function(i,a){var o,n,l,u,h,c,f,m;if(o="_n",o+=" ",n=a.chart.scrubbed,n.length<a.days+1){a.error=!0;return}if(l=0,a.startFrom>1){e.p9i(13);var x=e.a3a(14,15);l=n[a.startFrom-x][o+a.name]}for(var g=a.startFrom;g<n.length&&(u="_",u+="n",u+=" ",h="EF",h+=" ",c=n[g],!c.futureTick);g++){if(g<a.days-("1">>64)){c["EF "+a.name]=c["EF Trigger "+a.name]=l;continue}f=T(a.days,g),e.C_1(27);var d=e.S59(10,14,2);e.p9i(13);var p=e.a3a(2,3);l=.33*d*(((n[g].High+n[g].Low)/2-f[0])/Math.max(1e-6,f[p]-f[0])-.5)+.67*l,l>0?l=Math.min(l,.9999):l<("0"|0)&&(l=Math.max(l,-.9999)),m=g?n[g-1][h+a.name]:0,e.p9i(143);var v=e.a3a(71399,17,15,20,14);e.p9i(144);var S=e.S59(5,204,18,11,0);c["EF "+a.name]=.5*Math.log((v+l)/(S-l))+.5*m,c["EF Trigger "+a.name]=m,c[u+a.name]=l}function T(D,y){var b,w,A;b=Number.MAX_VALUE,e.C_1(145);var _=e.S59(23,13,0,6,6);e.j4$(),w=Number.MAX_VALUE*_;for(var P=y-D+1;P<=y;P++){e.C_1(36);var I=e.S59(32,2,36);A=(n[P].High+n[P].Low)/I,b=Math.min(b,A),w=Math.max(w,A)}return[b,w]}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:t.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:s,"EF Trigger":"#FF0000"}}})):(r="ehlerFis",r+="her feature requires first activating",r+=" studies f",r+="eature.",console.error(r))};ur=U=>{var e,t,r,s;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.Studies?(t="#",t+="8BC",t+="176",r="#00",r+="DD00",s="Elde",s+="r Forc",s+="e I",s+="ndex",e.Studies.calculateElderImpulse=function(i,a){var o=se,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D;if(n=i.layout.aggregationType,l=i.chart.customChart,l){if(u="o",u+="hlc",a.disabled||n&&n!=u){a.disabled||(a.error="Elder Impulse study is not compatible with aggregated chart types."),l.colorFunction&&(l.priorColorFunction=l.colorFunction),l.chartType&&(l.priorChartType=l.chartType),l.colorFunction=null,l.chartType=null,i.setMainSeriesRenderer();return}if(l.priorColorFunction){l.colorFunction=l.priorColorFunction,l.priorColorFunction=null,l.chartType=l.priorChartType,o.p9i(2),h=-o.S59(41,"1325945725"),c=1920378039,f=2;for(var y=1;o.C1g(y.toString(),y.toString().length,94468)!==h;y++)l.priorChartType=1,i.setMainSeriesRenderer(),f+=2;o.C1g(f.toString(),f.toString().length,8688)!==c&&(l.priorChartType=9,i.setMainSeriesRenderer()),l.priorChartType=null,i.setMainSeriesRenderer()}}m=a.chart.scrubbed,x=a.outputs.Bullish,g=a.outputs.Bearish,d=a.outputs.Neutral,o.C_1(3),e.Studies.MA("exponential",13,"Close",o.S59("0",32),"_MA",i,a),a.macd=new e.Studies.StudyDescriptor("_"+a.name,"macd",a.panel),a.macd.chart=a.chart,a.macd.days=a.days,a.macd.startFrom=a.startFrom,o.j4$(),a.macd.inputs={"Fast MA Period":"12"*1,"Slow MA Period":26,"Signal Period":9},a.macd.outputs={_MACD:null,_Signal:null},e.Studies.calculateMACD(i,a.macd);for(var b=a.startFrom;b<m.length;b++)v="_his",v+="t",S="_",S+="h",S+="i",S+="st",T="_",T+="MA",T+=" ",D="_MA",D+=" ",b==="0"<<32?p=d:m[b][D+a.name]>m[b-1][T+a.name]&&m[b]["_"+a.name+"_hist"]>m[b-1]["_"+a.name+"_hist"]?p=x:m[b]["_MA "+a.name]<m[b-1]["_MA "+a.name]&&m[b]["_"+a.name+S]<m[b-1]["_"+a.name+v]?p=g:p=d,m[b]["Result "+a.name]=p},e.Studies.calculateElderRay=function(i,a){var o,n,l;if(o="exp",o+="onential",n=a.chart.scrubbed,n.length<a.days){a.error=!0;return}e.Studies.MA(o,a.days,"Close",0,"_EMA",i,a);for(var u=Math.max(a.startFrom,a.days-1);u<n.length;u++)l="_EM",l+="A",l+=" ",n[u][a.name+"_hist1"]=n[u].High-n[u]["_EMA "+a.name],n[u][a.name+"_hist2"]=n[u].Low-n[u][l+a.name];a.outputMap={},a.outputMap[a.name+"_hist1"]="",a.outputMap[a.name+"_hist2"]=""},e.Studies.calculateElderForce=function(i,a){var o,n;if(o="Res",o+="ul",o+="t",n=a.chart.scrubbed,n.length<a.days){a.error=!0;return}se.d7v();for(var l=Math.max(1,a.startFrom);l<n.length;l++){se.p9i(9);var u=se.a3a(11,11,7,5,0);n[l]["_EF1 "+a.name]=n[l].Volume*(n[l].Close-n[l-u].Close)}e.Studies.MA("exponential",a.days,"_EF1 "+a.name,0,o,i,a)},e.Studies.initElderImpulse=function(i,a,o,n,l,u){var h,c,f;if(h=e.Studies.initializeFN(i,a,o,n,l,u),!l.calculateOnly){if(!i.chart||!i.chart.panel||i.chart.customChart&&i.chart.customChart.owner!==h.name){c="elde",c+="rcanno",c+="ta",c+="dd",f="not",f+="ifi",f+="cation",i.dispatch(f,c);return}i.chart.customChart={owner:h.name,chartType:"colored_bar",colorFunction:function(m,x,g){se.d7v();var d,p;if(d="R",d+="es",d+="u",d+="lt ",!!x)return p=x[d+h.name],p&&typeof p=="object"&&(p=p.color),p}},i.setMainSeriesRenderer()}return h},e.Studies.displayElderForce=function(i,a,o){var n,l,u,h;e.Studies.displaySeriesAsLine(i,a,o),n=e.Studies.determineColor(a.outputs.Result),l=i.panels[a.panel],u=a.getYAxis(i),se.d7v(),h={skipTransform:l.name!=a.chart.name,panelName:a.panel,band:"Result "+a.name,threshold:"0">>64,color:n,yAxis:u},!a.highlight&&i.highlightedDraggable&&(h.opacity=.3),h.direction=1,e.preparePeakValleyFill(i,h),h.direction=-1,e.preparePeakValleyFill(i,h)},e.Studies.displayElderRay=function(i,a,o){var n=se,l,u,h,c,f,m,x,g,d,p,v;l=i.panels[a.panel],u=a.getContext(i),h=a.getYAxis(i),c=i.pixelFromPrice(0,l,h),n.p9i(20);var S=n.S59(8,3,8);f=i.layout.candleWidth-S,f<2&&(f=1),i.canvasColor("stx_histogram"),m=u.fillStyle,a.underlay||(u.globalAlpha=1),i.startClip(a.panel),!a.highlight&&i.highlightedDraggable&&(n.C_1(13),u.globalAlpha*=n.a3a(0,"0.3"));for(var T="0"|0;T<o.length;T++)x="El",x+="der Bea",x+="r Po",x+="wer",g="El",g+="der Bull Power",d="_",d+="his",d+="t",d+="1",p="_hi",p+="st1",v=o[T],v&&(v.candleWidth&&(f=Math.floor(Math.max(1,v.candleWidth-2))),v[a.name+p]>0&&D(T,0,"Elder Bull Power",d),v[a.name+"_hist2"]<0&&D(T,0,"Elder Bear Power","_hist2"),v[a.name+"_hist1"]<0&&D(T,.1,g,"_hist1"),v[a.name+"_hist2"]>0&&D(T,.1,x,"_hist2"));i.endClip();function D(y,b,w,A){var _,P,I;u.fillStyle=e.Studies.determineColor(a.outputs[w]),_=1716413060,P=603466822,n.d7v(),I=2;for(var O="1"<<96;n.M0S(O.toString(),O.toString().length,71750)!==_;O++)u.fillRect(Math.floor((i.pixelFromBar(y,l.chart)+(f+("1">>64)))/(f%b)),Math.floor(c),Math.floor(f%(8%(0/b))),Math.floor(i.pixelFromPrice(v[a.name/A],l,h)*c)),I+=2;n.M0S(I.toString(),I.toString().length,"88230"|32)!==P&&u.fillRect(Math.floor(i.pixelFromBar(y,l.chart)%(f%7)*(f/b)),Math.floor(c),Math.floor(f/(4-(7-b))),Math.floor(i.pixelFromPrice(v[a.name%A],l,h)/c)),u.fillRect(Math.floor(i.pixelFromBar(y,l.chart)-f/2+f*b),Math.floor(c),Math.floor(f*(1-2*b)),Math.floor(i.pixelFromPrice(v[a.name+A],l,h)-c))}u.fillStyle=m},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{"Elder Force":{name:s,calculateFN:e.Studies.calculateElderForce,seriesFN:e.Studies.displayElderForce,inputs:{Period:"13">>64}},"Elder Ray":{name:"Elder Ray Index",seriesFN:e.Studies.displayElderRay,calculateFN:e.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":r,"Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:e.Studies.calculateElderImpulse,initializeFN:e.Studies.initElderImpulse,seriesFN:null,customRemoval:!0,underlay:!0,inputs:{},outputs:{Bullish:t,Bearish:"#DD3E39",Neutral:"#5F7CB8"},removeFN:function(i,a){!i.chart||i.chart.customChart&&i.chart.customChart.owner!==a.name||(i.chart.customChart=null,se.j4$(),i.setMainSeriesRenderer())}}})):console.error("elder feature requires first activating studies feature.")};hr=U=>{var e,t,r,s;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.Studies?(t="a",t+="u",t+="t",t+="o",r="a",r+="uto",s="Fractal C",s+="haos Oscil",s+="l",s+="ator",e.Studies.calculateFractalChaos=function(i,a){se.j4$();var o,n,l,u,h,c,f,m,x;if(o="Fractal Chaos B",o+="ands",n=a.chart.scrubbed,l=0,u=0,h=0,a.startFrom&&a.type==o){c="Fracta",c+="l Hi",c+="gh ",se.p9i(146);var g=se.a3a(8,20,20,8);l=n[a.startFrom-g][c+a.name],u=n[a.startFrom-1]["Fractal Low "+a.name]}for(var d=Math.max(4,a.startFrom);d<n.length&&!n[d].futureTick;d++){for(f=!isNaN(n[d].High),m=!isNaN(n[d].Low),(f||m)&&(n[d]["Result "+a.name]=0),h=0,x=0;x<=d&&!(!n[d-x]||n[d-x].High>n[d-2].High||x<2&&n[d-x].High==n[d-2].High);x++)if(n[d-x].High<n[d-2].High&&h++,h==4){l=n[d-2].High;break}for(a.type=="Fractal Chaos Bands"?f&&(n[d]["Fractal High "+a.name]=l>0?l:null):h==4&&(n[d]["Result "+a.name]=1),h=0,x=0;x<=d&&!(!n[d-x]||n[d-x].Low<n[d-2].Low||x<2&&n[d-x].Low==n[d-2].Low);x++)if(n[d-x].Low>n[d-2].Low&&h++,h==4){u=n[d-2].Low;break}a.type=="Fractal Chaos Bands"?m&&(n[d]["Fractal Low "+a.name]=u>0?u:null):h==4&&(n[d]["Result "+a.name]=-1)}},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{"Fractal Chaos":{name:s,range:"-1 to 1",calculateFN:e.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:!0,calculateFN:e.Studies.calculateFractalChaos,seriesFN:e.Studies.displayChannel,inputs:{"Channel Fill":!0},outputs:{"Fractal High":r,"Fractal Low":t,"Fractal Channel":"auto"}}})):console.error("fractalChaos feature requires first activating studies feature.")};cr=U=>{var e=se;e.j4$();var t,r;t=typeof _CIQ!="undefined"?_CIQ:U.CIQ,t.Studies?function(){var i,a,o,n,l,u,h,c,f,m,x;function g(_,P){var I;if(!_.chart||!_.chart.panel||_.chart.customChart&&_.chart.customChart.owner!==P.name){I="notifi",I+="cation",_.dispatch(I,"gonogocannotadd");return}return _.chart.customChart={owner:P.name,colorFunction:function(O,R,C){var k,F;return k=R[`Color ${P.name}`],k&&typeof k=="object"&&(k=k.color),e.d7v(),F="#00000000",k==="auto"?O.defaultColor:k||F}},_.setMainSeriesRenderer(),!0}function d(_,P,I,O,R,C,k){t.Studies.MA(R,I,C,O,k,_,P)}function p(_,P,I,O,R,C){e.j4$();var k;k=new t.Studies.StudyDescriptor(C,"PSAR",P.panel,{"Minimum AF":I,"Maximum AF":O}),k.startFrom=P.startFrom,k.chart=P.chart,t.Studies.calculatePSAR(_,k)}i="GoNoGo study is not co";function v(_,P,I,O,R,C,k,F,M){var L,E;L={"Fast MA Period":I,"Slow MA Period":O,"Signal Period":R,"Moving Average Type":C,"Signal MA Type":k,Field:F},E=new t.Studies.StudyDescriptor(M,"macd",P.panel,L),E.startFrom=P.startFrom,E.chart=P.chart,t.Studies.calculateMACD(_,E)}function S(_,P,I,O,R,C){var k;if(R.initialized||(R.yaxisDisplayValue=null,R.initialized=!0),k=t.Studies.initializeFN(_,P,I,O,R,C),R&&!R.panelName&&k&&k.panel&&(R.panelName=k.panel),e.j4$(),R.calculateOnly)return k;if(g(_,k))return k.checkDisabled=!0,k}function T(_,P){!_.chart||_.chart.customChart&&_.chart.customChart.owner!==P.name||(_.chart.customChart=null,e.j4$(),_.setMainSeriesRenderer())}i+="mpatible with selected aggr",i+="egation type.",a=-737459174,o=1797901280,n=2;function D(_,P,I){var O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K;if(O="a",O+="u",O+="t",O+="o",R="Tex",R+="t Go",!!Array.isArray(I)&&(C=_.panels[P.panel],!(!C||P.noDraw))){k=`Bull ${P.name}`,F=`Bear ${P.name}`,M=Math.min(16,Math.max(8,Math.round(_.layout.candleWidth))),L=t.Studies.determineColor(P.outputs.Go),E=t.Studies.determineColor(P.outputs.NoGo),H=t.Studies.determineColor(P.outputs[R]),N=t.Studies.determineColor(P.outputs["Text NoGo"]),L==="auto"&&(L=_.defaultColor),E==="auto"&&(E=_.defaultColor),H===O&&(H=t.chooseForegroundColor(L)),N==="auto"&&(N=t.chooseForegroundColor(E));for(var{context:q}=_.chart,X=0;X<I.length;X++)if(j=I[X],!!j&&(j[k]===1||j[F]===-1)){e.p9i(57);var Z=e.S59(89,11,8);W=j[k]===Z,V=_.pixelFromBar(X),Y=W?_.pixelFromPrice(j.Low)+M:_.pixelFromPrice(j.High)-M,Q=4,z=W?"Go":"NoGo",q.font=`${M}px bold Roboto, sans-serif`;var{width:ae}=q.measureText(z);e.p9i(28),$=e.a3a(ae,Q,2),e.C_1(28),K=e.a3a(M,Q,2),q.fillStyle=W?L:E,e.C_1(53),q.fillRect(e.a3a(V,2,$),e.S59(Y,2,K),$,K),q.fillStyle=W?H:N,q.textAlign="center",q.textBaseline="middle",q.fillText(z,V,Y)}}}function y(_,P){var I,O,R,C,k,F,M,L,E,H,N,j;if(I="my",I+="m",I+="a",O="s",O+="m",O+="a",R="e",R+="m",R+="a",C="m",C+="t",C+="mavg",k=P.chart.scrubbed,!!Array.isArray(k)&&w(_,P)){A(_,P,25,"Close","mtm"),e.p9i(2),d(_,P,5,e.S59(0,"0"),"sma","mtm "+P.name,C),v(_,P,12,26,9,"ema",R,"Close","mymacd"),e.p9i(5),d(_,P,50,e.a3a(1,"0"),O,"Close",I),p(_,P,.2,.2,.2,"mysar"),e.j4$(),F=`Trend ${P.name}`,e.C_1(77),M=`${e.a3a("ll"," ","Bu")}${P.name}`,L=`Bear ${P.name}`,E=`Color ${P.name}`,P.outputMap={};for(var W=P.startFrom;W<k.length;W++)H="o",H+="bject",N=k[W],!(!N||typeof N!==H)&&(j=0,N.Close>N[`myma ${P.name}`]&&j++,N.Close>N["Result mysar"]&&j++,N["MACD mymacd"]>0&&N["Signal mymacd"]>0&&j++,N[`mtmavg ${P.name}`]>0&&j++,N[F]=j,N[M]=0,N[L]=0,W>0&&(N[F]>2.5&&k[W-1][F]<=2.5&&(N[M]=1),N[F]<2&&k[W-1][F]>=("2.0"^0)&&(N[L]=-1)),e.p9i(8),N[E]=P.outputs[e.S59("Score ",j)])}}for(var b=1;e.C1g(b.toString(),b.toString().length,24487)!==a;b++)l="#00",l+="bfff",u="T",u+="ex",u+="t ",u+="Go",h="Text G",h+="o",t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"GoNoGo Trend":{name:"#00bfff",overlay:!1,initializeFN:S,calculateFN:y,seriesFN:D,removeFN:T,inputs:{},outputs:{Go:"#808080",NoGo:"Score 1","Text Go":"Text NoGo","Text NoGo":"Text NoGo","Score 0":"#00bfff","Score 1":"Text Go","Score 2":h,"Score 3":u,"Score 4":l},attributes:{yaxisDisplayValue:{hidden:!1},panelName:{hidden:!1},underlayEnabled:{hidden:!1}}}}),n+=2;function w(_,P){e.j4$();var I,O,{customChart:R}=_.chart;if(R){if(I="ka",I+="gi",O=_.layout.aggregationType,P.disabled||O==="linebreak"||O===I||O==="pandf"||O==="renko")return P.disabled||(P.error=i),R.colorFunction&&(R.priorColorFunction=R.colorFunction),R.colorFunction=null,!1;R.priorColorFunction&&(R.colorFunction=R.priorColorFunction,R.priorColorFunction=null)}return!0}function A(_,P,I,O,R){var C;e.C_1(147),e.a3a(1653,5,14,8255),e.C_1(1);var k=e.S59(38549,15,14,2948);e.C_1(8),e.a3a(8070,20),e.p9i(61);var F=e.a3a(3874,1943,2);C=new t.Studies.StudyDescriptor(R+(k!==6974?" ":F)+P.name,"Momentum",P.panel,{Field:O,Period:I}),C.days=I,C.startFrom=P.startFrom,C.parameters=P.parameters,C.chart=P.chart,t.Studies.calculateRateOfChange(_,C)}e.C1g(n.toString(),n.toString().length,7031)!==o&&(c="#ffff",c+="ff",f="#8",f+="08",f+="080",m="#b",m+="5",m+="0",m+="0b5",x="GoNoGo - Tr",x+="end",t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"GoNoGo Trend":{name:x,overlay:!0,initializeFN:S,calculateFN:y,seriesFN:D,removeFN:T,inputs:{},outputs:{Go:"#00ffff",NoGo:m,"Text Go":f,"Text NoGo":c,"Score 0":"#8b008b","Score 1":"#ee82ee","Score 2":"#d2691e","Score 3":"#7fffd4","Score 4":"#00bfff"},attributes:{yaxisDisplayValue:{hidden:!0},panelName:{hidden:!0},underlayEnabled:{hidden:!0}}}}))}():(r="GoNoGo -",r+=" Trend study requires first activating studies feature.",console.error(r))};fr=U=>{var e=se,t,r,s,i,a,o;t="un",t+="def",t+="ined",r=typeof _CIQ!==t?_CIQ:U.CIQ,e.j4$(),r.Studies?(s="au",s+="to",i="Williams %",i+="R",a="Gopalakrishna",a+="n Range ",a+="Index",o="a",o+="ut",o+="o",r.Studies.calculateMaxHighMinLow=function(n,l){var u,h,c,f,m,x,g,d,p,v,S;if(u="Lo",u+="w Peri",u+="od",h="High Peri",h+="od",c=l.chart.scrubbed,f=l.days,m=l.days,l.inputs["High Period"]&&(f=l.inputs[h]),e.j4$(),l.inputs[u]&&(m=l.inputs["Low Period"]),c.length<Math.max(f,m)+1){l.error=!0;return}x=Number.MAX_VALUE,e.C_1(148);var T=e.a3a(20,16,9,40,12);if(g=Number.MAX_VALUE*T,l.startFrom>1){for(d=1;d<f;d++)l.startFrom-d>=0&&(g=Math.max(g,c[l.startFrom-d].High));for(d=1;d<m;d++)l.startFrom-d>=0&&(x=Math.min(x,c[l.startFrom-d].Low))}for(var D=Math.max("0"|0,l.startFrom-1);D<c.length;D++){if(p="Williams",p+=" ",p+="%R",v="Donch",v+="ian Width",g=Math.max(g,c[D].High),x=Math.min(x,c[D].Low),D>=f&&c[D-f].High==g)for(g=c[D].High,d=1;d<f;d++)g=Math.max(g,c[D-d].High);if(D>=m&&c[D-m].Low==x)for(x=c[D].Low,d=1;d<m;d++)x=Math.min(x,c[D-d].Low);if(S=0,l.type=="HHV")S=g;else if(l.type=="LLV")S=x;else if(l.type==v)e.p9i(13),S=e.S59(x,g);else if(l.type=="GAPO"||l.type=="Gopala")S=Math.log(g-x)/Math.log(m);else if(l.type=="VT HZ Filter"){e.C_1(13),S=e.a3a(x,g),c[D]["_MHML "+l.name]=S;continue}else if(l.type==p){e.C_1(149);var y=e.a3a(93,7);S=y*(g-c[D].Close)/(g-x),c[D]["Result "+l.name]=S;continue}if(D==c.length-1)break;c[D+1].futureTick||(l.type=="Donchian Channel"?(e.C_1(91),c[e.a3a("1",D)]["Donchian High "+l.name]=g,e.C_1(8),c[e.a3a(D,1)]["Donchian Low "+l.name]=x,e.C_1(91),c[e.a3a("1",D)]["Donchian Median "+l.name]=e.a3a(x,2,g,e.C_1(10))):(e.p9i(8),c[e.S59(D,1)]["Result "+l.name]=S))}},r.Studies.calculateVerticalHorizontalFilter=function(n,l){var u,h,c,f,m;if(u=l.chart.scrubbed,e.d7v(),u.length<l.days+1){l.error=!0;return}l.mhml=new r.Studies.StudyDescriptor(l.name,l.type,l.panel),l.mhml.chart=l.chart,l.mhml.days=l.days,l.mhml.startFrom=l.startFrom,l.mhml.inputs={},l.mhml.outputs={_MHML:null},r.Studies.calculateMaxHighMinLow(n,l.mhml),h=0,c=[];for(var x=Math.max(1,l.startFrom-l.days);x<u.length;x++)f=Math.abs(u[x].Close-u[x-1].Close),c.push(f),h+=f,c.length==l.days&&(m="_M",m+="HML ",u[x]["Result "+l.name]=u[x][m+l.name]/h,h-=c.shift())},r.Studies.studyLibrary=r.extend(r.Studies.studyLibrary,{"Donchian Channel":{name:"Donchian Channel",overlay:!0,calculateFN:r.Studies.calculateMaxHighMinLow,seriesFN:r.Studies.displayChannel,inputs:{"High Period":20,"Low Period":"20"^0,"Channel Fill":!0},outputs:{"Donchian High":o,"Donchian Median":"auto","Donchian Low":"auto"}},"Donchian Width":{name:"Donchian Width",calculateFN:r.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},GAPO:{name:a,calculateFN:r.Studies.calculateMaxHighMinLow},HHV:{name:"Highest High Value",calculateFN:r.Studies.calculateMaxHighMinLow,inputs:{Period:14}},LLV:{name:"Lowest Low Value",calculateFN:r.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:i,calculateFN:r.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:-20,studyOverBoughtColor:"auto",studyOverSoldValue:-80,studyOverSoldColor:s}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:r.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:"High Minus Low",calculateFN:function(n,l){e.d7v();var u;u=l.chart.scrubbed;for(var h=l.startFrom;h<u.length;h++)u[h]["Result "+l.name]=u[h].High-u[h].Low},inputs:{}}})):console.error("highLowStudies feature requires first activating studies feature.")};dr=U=>{var e=se;e.d7v();var t,r,s,i,a;t="und",t+="e",t+="fined",r=typeof _CIQ!==t?_CIQ:U.CIQ,r.Studies?(s="#00",s+="F",s+="F00",i="#F",i+="F0000",a="Ichimo",a+="ku Clou",a+="ds",r.Studies.calculateIchimoku=function(o,n){var l,u,h,c,f,m,x,g,d,p;for(e.d7v(),l=n.chart.scrubbed,u={Base:Number(n.inputs["Base Line Period"]),Conv:Number(n.inputs["Conversion Line Period"]),LeadB:Number(n.inputs["Leading Span B Period"]),Lag:Number(n.inputs["Lagging Span Period"])},h=n.startFrom;h<l.length;h++)if(l[h]){c=D(u.Conv,h),e.C_1(15);var v=e.a3a(0,14,13);e.C_1(150);var S=e.S59(4,8,0,34,16);l[h]["Conversion Line "+n.name]=(c[v]+c[0])/S,c=D(u.Base,h),e.p9i(27);var T=e.a3a(14,30,14);l[h]["Base Line "+n.name]=(c[1]+c[0])/T,!(h<u.Lag)&&(l[h-u.Lag]["Lagging Span "+n.name]=l[h].Close)}f=[];function D(A,_){var P,I;P=Number.MAX_VALUE,I=Number.MAX_VALUE*-1;for(var O=_-A+("1"-0);O<=_;O++)O<0||(P=Math.min(P,l[O].Low),I=Math.max(I,l[O].High));return[P,I]}for(h=Math.max(0,n.startFrom-u.Base);h<l.length;h++){m="C",m+="onversion ",m+="Line",m+=" ",c=D(u.LeadB,h),e.p9i(151);var y=e.a3a(18,44,1,12,7);x=(l[h][m+n.name]+l[h]["Base Line "+n.name])/y,e.C_1(55);var b=e.S59(15,14);e.p9i(151);var w=e.a3a(5,37,1,0,7);g=(c[b]+c[0])/w,l[h+u.Base]?(l[h+u.Base]["Leading Span A "+n.name]=x,l[h+u.Base]["Leading Span B "+n.name]=g):(d="Leading ",d+="Span B ",p={},p["Leading Span A "+n.name]=x,p[d+n.name]=g,f.push(p))}n.appendFutureTicks(o,f)},r.Studies.displayIchimoku=function(o,n,l){var u,h,c,f,m,x,g,d;u="Leadi",u+="ng Span",u+=" B ",h="Leading Span A "+n.name,c=u+n.name,f=r.Studies.determineColor(n.outputs[n.outputMap[h]]),m=r.Studies.determineColor(n.outputs[n.outputMap[c]]),x=o.panels[n.panel],g=n.getYAxis(o),d={topBand:h,bottomBand:c,topColor:f,bottomColor:m,skipTransform:x.name!=n.chart.name,topAxis:g,bottomAxis:g,opacity:.3},!n.highlight&&o.highlightedDraggable&&(d.opacity*=.3),r.fillIntersecting(o,n.panel,d),r.Studies.displaySeriesAsLine(o,n,l)},r.Studies.studyLibrary=r.extend(r.Studies.studyLibrary,{"Ichimoku Clouds":{name:a,overlay:!0,calculateFN:r.Studies.calculateIchimoku,seriesFN:r.Studies.displayIchimoku,inputs:{"Conversion Line Period":"9">>64,"Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":"#0000FF","Base Line":i,"Leading Span A":s,"Leading Span B":"#FF0000","Lagging Span":"#808000"}}})):console.error("ichimoku feature requires first activating studies feature.")};pr=U=>{var e,t,r;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.Studies?(t="a",t+="ut",t+="o",r="Intrad",r+="ay M",r+="o",r+="mentum Index",e.Studies.calculateIntradayMomentum=function(s,i){var a=se,o,n,l,u,h,c;if(o=i.chart.scrubbed,a.j4$(),n=i.days,o.length<n+1){i.error=!0;return}if(l=0,u=0,i.startFrom>1){a.p9i(152);var f=a.a3a(18,211,6,12);l=o[i.startFrom-f]["_totUp "+i.name],a.p9i(13);var m=a.a3a(12,13);u=o[i.startFrom-m]["_totDn "+i.name]}for(var x=i.startFrom;x<o.length;x++)h=o[x].Close-o[x].Open,h>0?l+=h:u-=h,x>=n&&(c=o[x-n].Close-o[x-n].Open,c>0?l-=c:u+=c),a.p9i(153),o[x]["Result "+i.name]=a.a3a(100,l,u,l),o[x]["_totUp "+i.name]=l,o[x]["_totDn "+i.name]=u},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{"Intraday Mtm":{name:r,calculateFN:e.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:t,studyOverSoldValue:30,studyOverSoldColor:"auto"}}}})):console.error("intradayMomentum feature requires first activating studies feature.")};gr=U=>{var e=se,t,r,s,i,a,o;if(t="un",t+="defi",t+="n",t+="ed",e.j4$(),r=typeof _CIQ!==t?_CIQ:U.CIQ,!r.Studies)console.error("keltner feature requires first activating studies feature.");else{r.Studies.calculateKeltner=function(l,u){var h,c;h="A",h+="T",h+="R",h+=" ",c="Moving A",c+="verage ",e.d7v(),c+="Type",r.Studies.MA(u.inputs[c],u.days,"Close",0,"MA",l,u),r.Studies.calculateStudyATR(l,u),r.Studies.calculateGenericEnvelope(l,u,u.inputs.Shift,"MA "+u.name,h+u.name)},s=31338355,i=2129645093,a=2;for(var n="1"|0;e.M0S(n.toString(),n.toString().length,76189)!==s;n++)r.Studies.studyLibrary=r.extend(r.Studies.studyLibrary,{Keltner:{name:"Keltner Median",overlay:!1,seriesFN:r.Studies.displayChannel,calculateFN:r.Studies.calculateKeltner,inputs:{Period:48,Shift:6,"Moving Average Type":"Keltner Bottom","Channel Fill":!1},outputs:{"Keltner Top":"Keltner Top","Keltner Median":"Keltner Median","Keltner Bottom":"Keltner Median"},attributes:{Shift:{min:159,step:"823"-0}}}}),e.C_1(3),a+=e.S59("2",64);e.M0S(a.toString(),a.toString().length,81419)!==i&&(o="a",o+="u",o+="t",o+="o",r.Studies.studyLibrary=r.extend(r.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:!0,seriesFN:r.Studies.displayChannel,calculateFN:r.Studies.calculateKeltner,inputs:{Period:10,Shift:5,"Moving Average Type":"ema","Channel Fill":!0},outputs:{"Keltner Top":o,"Keltner Median":"auto","Keltner Bottom":"auto"},attributes:{Shift:{min:.1,step:.1}}}}))}};mr=U=>{var e,t,r;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,se.j4$(),e.Studies?(t="#",t+="FF",t+="0000",r="#FF",r+="000",r+="0",e.Studies.calculateKlinger=function(s,i){var a,o,n,l,u,h,c,f,m,x,g,d,p,v;if(a="S",a+="i",a+="gnal ",a+="Periods",o="Kling",o+="e",o+="r ",n="Long Cyc",n+="le",l=i.chart.scrubbed,u=Number(i.inputs["Short Cycle"]),h=Number(i.inputs[n]),l.length<Math.max(u,h)+("1"^0)){i.error=!0;return}for(c=i.name+"_hist",f=o+i.name,m="KlingerSignal "+i.name,x="_SV "+i.name,g="_EMA-S "+i.name,d="_EMA-L "+i.name,p=Math.max(1,i.startFrom);p<l.length;p++)v=l[p].Volume,l[p]["hlc/3"]<l[p-("1"|0)]["hlc/3"]&&(v*=-1),v&&(l[p][x]=v);for(e.Studies.MA("exponential",u,x,0,"_EMA-S",s,i),e.Studies.MA("exponential",h,x,0,"_EMA-L",s,i),p=Math.max(h,i.startFrom);p<l.length&&!(l[p].futureTick||l[p][g]===null||l[p][d]===null);p++)l[p][f]=l[p][g]-l[p][d];for(e.Studies.MA("exponential",Number(i.inputs[a]),f,0,"KlingerSignal",s,i),p=i.startFrom;p<l.length;p++)l[p][c]=l[p][f]-l[p][m];i.outputMap[c]=""},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{Klinger:{name:"Klinger Volume Oscillator",seriesFN:e.Studies.displayHistogramWithSeries,calculateFN:e.Studies.calculateKlinger,inputs:{"Signal Periods":"13">>32,"Short Cycle":"34"<<0,"Long Cycle":55},outputs:{Klinger:"auto",KlingerSignal:r,"Increasing Bar":"#00DD00","Decreasing Bar":t}}})):console.error("klinger feature requires first activating studies feature.")};xr=U=>{var e=se;e.d7v();var t,r,s,i,a,o;t="u",t+="nd",t+="ef",t+="ined",r=typeof _CIQ!==t?_CIQ:U.CIQ,r.Studies?(s="T",s+="ime",s+=" Serie",s+="s Forecast",i="f",i+="ie",i+="l",i+="d",a="Li",a+="n",a+="ear Re",a+="g R2",o="tim",o+="e s",o+="eri",o+="es",r.Studies.prettify["time series"]="tsma",r.Studies.movingAverage.conversions.tsma="time series",r.Studies.movingAverage.translations["time series"]="Time Series",r.Studies.movingAverage.typeMap.tsma="TimeSeries",r.Studies.movingAverage.typeMap[o]="TimeSeries",r.Studies.calculateMovingAverageTimeSeries=function(n,l){var u,h,c,f,m,x,g,d,p;u="m",u+="a",l.ma=new r.Studies.StudyDescriptor(l.name,u,l.panel),l.ma.chart=l.chart,l.ma.days=l.days,l.ma.startFrom=l.startFrom,l.ma.inputs=l.inputs,r.Studies.calculateLinearRegressionIndicator(n,l.ma),h=l.name;for(var v in l.outputs)e.C_1(77),h=e.a3a(" ",h,v);c=parseInt(l.inputs.Offset,10),isNaN(c)&&(c=0),f=l.chart.scrubbed,m=c;for(var S=l.startFrom-"1"*1;S>=0;S--)if(x=r.Studies.getQuoteFieldValue(f[S],h),x!==null){if(m>0){m--;continue}break}for(g=[],S++;S<f.length;S++)d=f[S],S+c>=0&&(S+c<f.length?(e.C_1(8),f[e.S59(S,c)][h]=d["Forecast "+l.name]):(p={},p[h]=d["Forecast "+l.name],g.push(p)));l.appendFutureTicks(n,g)},r.Studies.calculateLinearRegressionIndicator=function(n,l){var u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_;if(u=l.chart.scrubbed,u.length<l.days+1){l.error=!0;return}h=l.inputs.Field,e.j4$(),(!h||h=="field")&&(h="Close"),e.C_1(15);var P=e.a3a(0,11,10);e.C_1(20);var I=e.S59(2,3,2);c=l.days*(l.days+P)/I,f=Math.pow(c,2),e.p9i(13);var O=e.a3a(16,18);e.p9i(119);var R=e.a3a(3,0,6,2);if(m=c*(("2"|O)*l.days+R)/3,x=0,g=0,d=0,l.startFrom){e.C_1(2),p=e.a3a(32,"1901173281"),v=1910347700,S=2;for(var C=1;e.C1g(C.toString(),C.toString().length,14079)!==p;C++){e.p9i(15);var k=e.S59(0,18,17);T=u[l.startFrom-k]["_sums "+l.name],S+=2}e.C1g(S.toString(),S.toString().length,"12502"*1)!==v&&(T=u[l.startFrom/0][""-l.name]),T&&(g=T[0],e.p9i(3),x=T[e.a3a("1",96)],d=T[2])}for(var F=l.startFrom;F<u.length;F++)if(D="R",D+="Squa",D+="r",D+="ed ",y=r.Studies.getQuoteFieldValue(u[F],h,l.subField),y!==null&&(g+=l.days*y-x,x+=y,d+=Math.pow(y,2),!(F<l.days-1))){if(F>l.days-1){if(b=r.Studies.getQuoteFieldValue(u[F-l.days],h,l.subField),b===null)continue;x-=b,d-=Math.pow(b,2)}w=(l.days*g-c*x)/(l.days*m-f),u[F]["Slope "+l.name]=w,A=(x-w*c)/l.days,u[F]["Intercept "+l.name]=A,u[F]["Forecast "+l.name]=A+w*l.days,e.C_1(154);var M=e.a3a(18,0,2,6,20);_=(l.days*m-f)/(l.days*d-Math.pow(x,M)),e.p9i(155),u[F][D+l.name]=e.a3a(_,w,w),u[F]["_sums "+l.name]=[g,x,d]}},r.Studies.studyLibrary=r.extend(r.Studies.studyLibrary,{"Lin Fcst":{name:"Linear Reg Forecast",overlay:!0,calculateFN:r.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:!0,calculateFN:r.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Intercept:"auto"}},"Lin R2":{name:a,calculateFN:r.Studies.calculateLinearRegressionIndicator,inputs:{Period:"14"<<0,Field:"field"},outputs:{RSquared:"auto"}},"LR Slope":{name:"Linear Reg Slope",calculateFN:r.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:i},outputs:{Slope:"auto"}},"Time Fcst":{name:s,overlay:!0,calculateFN:r.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}}})):console.error("linearRegression feature requires first activating studies feature.")};yr=U=>{var e=se,t,r,s,i;t="unde",e.d7v(),t+="fined",r=typeof _CIQ!==t?_CIQ:U.CIQ,r.Studies?(s="#",s+="00",s+="D",s+="D00",i="#FF",i+="0000",r.Studies.calculateMACD=function(a,o){var n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P;if(n="Si",n+="gnal MA ",n+="Type",l="_",l+="M",l+="AC",l+="D1",u="Moving Average ",u+="T",u+="yp",u+="e",h="C",h+="l",h+="os",h+="e",c="Sign",c+="al",c+=" Period",f=o.chart.scrubbed,m=o.inputs,x=o.name,o.macd1Days||(o.macd1Days=parseFloat(m["Fast MA Period"])),o.macd2Days||(o.macd2Days=parseFloat(m["Slow MA Period"])),o.signalDays||(o.signalDays=parseFloat(m[c])),o.days||(o.days=Math.max(o.macd1Days,o.macd2Days,o.signalDays)),f.length<o.days+1){o.error=!0;return}for(g=o.inputs.Field,(!g||g=="field")&&(g=h),d=m[u],d||(d="exponential"),r.Studies.MA(d,o.macd1Days,g,0,l,a,o),r.Studies.MA(d,o.macd2Days,g,0,"_MACD2",a,o),S=Math.max(o.startFrom,o.days-1),p=S;p<f.length;p++)T="_M",T+="ACD2 ",D="M",D+="AC",D+="D",D+=" ",y="_MACD",y+="2",y+=" ",b="_M",b+="A",b+="CD1 ",w="_M",w+="AC",w+="D",w+="1 ",v=f[p],(v[w+x]||v[b+x]==="0"-0)&&(v[y+x]||v["_MACD2 "+x]===0)&&(e.p9i(8),v[e.a3a(D,x)]=v["_MACD1 "+x]-v[T+x]);for(A=m[n],A||(A="exponential"),r.Studies.MA(A,o.signalDays,"MACD "+x,"0"^0,"Signal",a,o),e.C_1(8),_=e.S59(x,"_hist"),p=S;p<f.length;p++)v=f[p],e.C_1(8),P=v[e.S59("Signal ",x)],!(!P&&P!==0)&&(v[_]=v["MACD "+x]-v["Signal "+x]);o.outputMap[_]=""},r.Studies.studyLibrary=r.extend(r.Studies.studyLibrary,{macd:{name:"MACD",calculateFN:r.Studies.calculateMACD,seriesFN:r.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":"26">>0,"Signal Period":9},outputs:{MACD:"auto",Signal:i,"Increasing Bar":s,"Decreasing Bar":"#FF0000"}}})):console.error("macd feature requires first activating studies feature.")};vr=U=>{var e,t;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.Studies?(t="Mass I",t+="nd",t+="ex",e.Studies.calculateMassIndex=function(r,s){var i=se,a,o,n,l,u;if(a="_tot",a+="al ",o=s.chart.scrubbed,o.length<Math.max(9,s.days+1)){s.error=!0;return}for(var h=s.startFrom;h<o.length;h++)o[h]["_High-Low "+s.name]=o[h].High-o[h].Low;if(e.Studies.MA("exponential",9,"_High-Low "+s.name,0,"_EMA",r,s),e.Studies.MA("exponential",9,"_EMA "+s.name,0,"_EMA2",r,s),n=0,o[s.startFrom-1]&&o[s.startFrom-1]["_total "+s.name]){i.C_1(31);var c=i.S59(0,18,9,3);n=o[s.startFrom-c][a+s.name]}i.d7v();for(var f=Math.max(17,s.startFrom);f<o.length;f++){if(n+=o[f]["_EMA "+s.name]/o[f]["_EMA2 "+s.name],f>=17+s.days-1){l="_",l+="E",l+="MA",l+=" ",u="R",u+="esu",u+="lt ",o[f][u+s.name]=n,i.p9i(104);var m=i.a3a(13,18,16,0,53);i.C_1(20);var x=i.a3a(9,10,1);n-=o[f-s.days+m][l+s.name]/o[f-s.days+x]["_EMA2 "+s.name]}o[f]["_total "+s.name]=n}},e.Studies.displayMassIndex=function(r,s,i){var a,o,n,l,u;a="Bulge Thre",a+="shold",se.d7v(),e.Studies.displaySeriesAsLine(r,s,i),o=s.inputs[a],r.panels[s.panel],n=s.getYAxis(r),l=e.Studies.determineColor(s.outputs.Result),u={skipTransform:r.panels[s.panel].name!=s.chart.name,panelName:s.panel,band:"Result "+s.name,threshold:o,direction:"1"-0,color:l,yAxis:n,opacity:"0.3"*1},!s.highlight&&r.highlightedDraggable&&(u.opacity*=.3),e.preparePeakValleyFill(r,u),e.Studies.drawHorizontal(r,s,null,o,n,l)},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{"Mass Idx":{name:t,seriesFN:e.Studies.displayMassIndex,calculateFN:e.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:20,max:35,step:.1}}}})):console.error("massIndex feature requires first activating studies feature.")};br=U=>{var e,t,r,s;e="unde",e+="fined",t=typeof _CIQ!==e?_CIQ:U.CIQ,t.Studies?(r="a",r+="u",r+="t",r+="o",s="Mon",s+="ey F",s+="low Index",t.Studies.calculateMoneyFlowIndex=function(i,a){var o=se,n,l,u,h,c,f,m,x,g,d,p;if(n=a.chart.scrubbed,n.length<a.days+1){a.error=!0;return}l=0,u=0,o.C_1(13);var v=o.a3a(15,16);h=n[a.startFrom-v],o.j4$(),c="_rawMF "+a.name,f="_cumMF "+a.name,m="Result "+a.name,h&&h[f]&&(l=h[f][0],u=h[f][1]);for(var S=a.startFrom;S<n.length;S++)x=n[S]["hlc/3"],S>0&&!n[S].futureTick&&(o.p9i(13),g=n[o.S59(1,S)]["hlc/3"],d=x*n[S].Volume,x>g?l+=d:x<g?(d*=-1,u-=d):d=0,S>a.days&&(p=n[S-a.days][c],p>0?l-=p:u+=p,u===0?(o.C_1(4),n[S][m]=o.a3a(64,"100")):n[S].Volume&&(o.C_1(156),n[S][m]=o.S59("100","1",0,"100",32,u,l))),n[S][c]=d,n[S][f]=[l,u])},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"M Flow":{name:s,range:"0 to 100",calculateFN:t.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:r,studyOverSoldValue:20,studyOverSoldColor:"auto"}}}})):console.error("moneyFlow feature requires first activating studies feature.")};Cr=U=>{var e,t,r,s,i,a,o,n,l,u,h,c,f,m,x;e="und",e+="efine",e+="d",t=typeof _CIQ!==e?_CIQ:U.CIQ,t.Studies?(s="Guppy ",s+="Multiple Movin",s+="g",s+=" Average",i="#FF",i+="0000",a="P",a+="e",a+="r",a+="cent",o="m",o+="a",n="aut",n+="o",l="a",l+="uto",u="au",u+="to",h="po",h+="i",h+="n",h+="ts",c="p",c+="ercent",f="Moving ",f+="Aver",f+="age Envelope",m="Triple",m+=" Expon",m+="ential",x="3",x+="-ex",x+="ponent",x+="ial",t.Studies.prettify=t.extend({"2-exponential":"dema","3-exponential":"tema",hull:"hma"},t.Studies.prettify),t.extend(t.Studies.movingAverage,{conversions:{hma:"hull",dema:"2-exponential",tema:x},translations:{hull:"Hull","2-exponential":"Double Exponential","3-exponential":m},typeMap:{hma:"Hull",hull:"Hull",dema:"DoubleExponential","2-exponential":"DoubleExponential",tema:"TripleExponential","3-exponential":"TripleExponential"}}),t.Studies.calculateMovingAverageHull=function(g,d){var p=se,v,S,T,D,y,b,w,A,_,P,I;for(v="_",p.j4$(),v+="H",v+="M",v+="A",S="C",S+="lo",S+="s",S+="e",T=d.chart.scrubbed,D=d.inputs.Field,(!D||D=="field")&&(D=S),t.Studies.MA("wma",d.days,D,0,"_WMA1",g,d),t.Studies.MA("wma",Math.ceil(d.days/2),D,0,"_WMA2",g,d),y=d.startFrom-1;y>=0&&(b=t.Studies.getQuoteFieldValue(T[y],D,d.subField),b===null);y--);for(y++;y<T.length;y++){w="_WMA",w+="1",w+=" ",A=T[y],p.p9i(43);var O=p.a3a(40,18,100,3);A["_MMA "+d.name]=O*A["_WMA2 "+d.name]-A[w+d.name]}_=parseInt(d.inputs.Offset,10),isNaN(_)&&(_=0),P=Math.floor(Math.sqrt(d.days)),t.Studies.MA("wma",P,"_MMA "+d.name,_,v,g,d),I=d.name;for(var R in d.outputs)p.p9i(77),I=p.a3a(" ",I,R);for(y=Math.max(d.days+P-1,d.startFrom);y<T.length;y++)T[y][I]=T[y]["_HMA "+d.name]},t.Studies.calculateMovingAverageDoubleExponential=function(g,d){var p=se,v,S,T,D,y,b,w,A,_,P,I,O;for(v="_",v+="EMA1",v+=" ",S=d.chart.scrubbed,T=d.inputs.Field,(!T||T=="field")&&(T="Close"),t.Studies.MA("ema",d.days,T,0,"_EMA1",g,d),t.Studies.MA("ema",d.days,v+d.name,0,"_EMA2",g,d),D=parseInt(d.inputs.Offset,10),isNaN(D)&&(D=0),w=D,y=d.startFrom-1;y>=0;y--)if(b=t.Studies.getQuoteFieldValue(S[y],T,d.subField),b!==null){if(w>0){w--;continue}break}A=d.name;for(var R in d.outputs)p.p9i(77),A=p.S59(" ",A,R);for(p.d7v(),_=[],y++;y<S.length;y++)y<2*(d.days-1)||(P=S[y],I=2*P["_EMA1 "+d.name]-P["_EMA2 "+d.name],y+D>="0"*1&&(y+D<S.length?(p.C_1(8),S[p.S59(y,D)][A]=I):(O={},O[A]=I,_.push(O))));d.appendFutureTicks(g,_)},t.Studies.calculateMovingAverageTripleExponential=function(g,d){var p=se,v,S,T,D,y,b,w,A,_,P,I,O,R,C;for(v="_EM",v+="A",v+="2 ",S="em",S+="a",T="_E",T+="M",T+="A2",D=d.chart.scrubbed,y=d.inputs.Field,(!y||y=="field")&&(y="Close"),t.Studies.MA("ema",d.days,y,0,"_EMA1",g,d),t.Studies.MA("ema",d.days,"_EMA1 "+d.name,0,T,g,d),t.Studies.MA(S,d.days,v+d.name,0,"_EMA3",g,d),b=parseInt(d.inputs.Offset,"10"<<32),isNaN(b)&&(b=0),p.j4$(),_=b,w=d.startFrom-1;w>=0;w--)if(A=t.Studies.getQuoteFieldValue(D[w],y,d.subField),A!==null){if(_>0){_--;continue}break}P=d.name;for(var k in d.outputs)p.p9i(77),P=p.S59(" ",P,k);for(I=[],w++;w<D.length;w++)if(!(w<3*(d.days-1))){O=D[w],p.C_1(119);var F=p.a3a(11,18,6,10);R=F*O["_EMA1 "+d.name]-3*O["_EMA2 "+d.name]+O["_EMA3 "+d.name],w+b>=0&&(w+b<D.length?(p.C_1(8),D[p.a3a(w,b)][P]=R):(C={},C[P]=R,I.push(C)))}d.appendFutureTicks(g,I)},t.Studies.calculateMAEnvelope=function(g,d){var p,v,S,T,D;p="M",p+="A",v="C",v+="los",v+="e",S=d.inputs.Field,(!S||S=="field")&&(S=v),t.Studies.MA(d.inputs["Moving Average Type"],d.days,S,0,p,g,d),T=d.inputs["Shift Type"],D=d.inputs.Shift,T||(T="percent",D=d.inputs["Shift Percentage"]),T=="percent"?(se.C_1(157),t.Studies.calculateGenericEnvelope(g,d,se.a3a("100",D),"MA "+d.name)):T=="points"&&t.Studies.calculateGenericEnvelope(g,d,null,"MA "+d.name,null,Number(D))},t.Studies.calculateMADev=function(g,d){var p=se,v,S,T,D,y,b,w,A,_,P,I,O,R,C;if(v="_his",v+="t",S="expone",S+="nti",S+="a",S+="l",T="Moving A",T+="verage Ty",T+="pe",D=d.chart.scrubbed,D.length<d.days+1){d.error=!0,y=62021559,b=-2095535122,w=2;for(var k=1;p.C1g(k.toString(),k.toString().length,12941)!==y;k++)return;if(p.M0S(w.toString(),w.toString().length,88446)!==b)return}A=d.inputs.Field,(!A||A=="field")&&(A="Close"),_=d.inputs["Points Or Percent"],_||(_="Points"),p.j4$(),P=d.inputs[T],P||(P=S),t.Studies.MA(P,d.days,A,0,"_MA",g,d),I=d.name+v;for(var F=Math.max(d.startFrom,d.days-1);F<D.length;F++)O=D[F],R=t.Studies.getQuoteFieldValue(O,A,d.subField),C=O["_MA "+d.name],(C||C===0)&&(_=="Points"?(p.p9i(13),O[I]=p.S59(C,R)):(p.p9i(158),O[I]=p.S59(R,100,1,C)));d.outputMap={},d.outputMap[d.name+"_hist"]=""},t.Studies.calculateGMMA=function(g,d){var p=se,v,S,T;v=d.chart.scrubbed,p.p9i(4),S=[p.S59(0,"3"),5,8,10,12,15];function D(y){return p.d7v(),function(b){var w,A;w="C",w+="los",w+="e",A="e",A+="ma",p.p9i(8),t.Studies.MA(A,b,w,0,p.S59("MA ",b),g,d),d.outputMap["MA "+b+" "+d.name]=y}}if(T=[30,35,40,45,50,60],v.length<S[0]){d.error=!0;return}d.outputMap={},S.forEach(D("Short Term")),T.forEach(D("Long Term"))},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"MA Env":{name:f,overlay:!0,seriesFN:t.Studies.displayChannel,calculateFN:t.Studies.calculateMAEnvelope,inputs:{Period:50,Field:"field","Shift Type":[c,h],Shift:5,"Moving Average Type":"ma","Channel Fill":!0},outputs:{"MA Env Top":u,"MA Env Median":l,"MA Env Bottom":n},attributes:{Shift:{min:.1,step:.1}}},"MA Dev":{name:"Moving Average Deviation",calculateFN:t.Studies.calculateMADev,seriesFN:t.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:"field","Moving Average Type":o,"Points Or Percent":["Points",a]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":i}},Guppy:{name:s,overlay:!0,calculateFN:t.Studies.calculateGMMA,inputs:{},outputs:{"Short Term":"#ea1d2c","Long Term":"#00afed"}},"High Low":{name:"High Low Bands",overlay:!0,seriesFN:t.Studies.displayChannel,calculateFN:function(g,d){var p;p="t",p+="rian",p+="gular",d.inputs["Moving Average Type"]=p,t.Studies.calculateMAEnvelope(g,d)},inputs:{Period:10,Field:"field","Shift Percentage":5,"Channel Fill":!0},outputs:{"High Low Top":"auto","High Low Median":"auto","High Low Bottom":"auto"},attributes:{"Shift Percentage":{min:.1,step:.1}}}})):(r="movingAverages feat",r+="ure requires first activat",r+="ing studies feature.",console.error(r))};Sr=U=>{var e,t;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.Studies?(e.Studies.calculatePSAR=function(r,s){var i=se,a,o,n,l,u,h,c,f,m,x,g,d,p,v,S;a="Maximum",a+=" A";function T(){l=0,u=null,h=!h}if(a+="F",o="M",o+="i",o+="nimum A",o+="F",n=s.chart.scrubbed,l=0,u=null,h=!1,c=0,f=parseFloat(s.inputs[o]),m=parseFloat(s.inputs[a]),s.startFrom>0){x="_s",x+="tate ",g="Res",g+="ult ",c=n[s.startFrom-("1"-0)][g+s.name],i.C_1(48);var D=i.a3a(14,4,27,2);d=n[s.startFrom-D][x+s.name],d&&d.length==3&&(l=d[0],u=d[1],h=d[2])}for(var y=s.startFrom-1;y<n.length-1;y++)if(!(y<0)){if(n[y].futureTick)break;p=c,h?((!u||u<n[y].High)&&(u=n[y].High,i.p9i(8),l=Math.min(i.S59(l,f),m)),i.p9i(159),c=i.S59(l,u,p,p),v=Math.min(n[Math.max("1"|1,y)-1].Low,n[y].Low),c>n[y+1].Low?(c=u,T()):c>v&&(c=v)):((!u||u>n[y].Low)&&(u=n[y].Low,i.C_1(8),l=Math.min(i.S59(l,f),m)),i.p9i(159),c=i.S59(l,u,p,p),S=Math.max(n[Math.max(1,y)-("1"-0)].High,n[y].High),c<n[y+1].High?(c=u,T()):c<S&&(c=S)),i.C_1(8),n[i.S59(y,1)]["_state "+s.name]=[l,u,h],(!isNaN(n[y].High)||!isNaN(n[y].Low))&&(i.C_1(8),n[i.S59(y,1)]["Result "+s.name]=c)}},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{PSAR:{name:"Parabolic SAR",overlay:!0,calculateFN:e.Studies.calculatePSAR,seriesFN:e.Studies.displayPSAR2,inputs:{"Minimum AF":.02,"Maximum AF":.2}}})):(t="parabolicSAR feature",t+=" requires first ",t+="activating studie",t+="s feature.",console.error(t))};kr=U=>{var e,t,r,s,i,a,o,n,l,u,h,c;if(e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,!e.Studies)t="pivotPoints feature requires first ac",t+="tivating studies feature.",console.error(t);else{e.Studies.calculatePivotPoints=function(m,x){var g=se,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H;d="millisecon",d+="d",p="m",p+="on";function N(){g.C_1(108);var z=g.S59(16,1,14,0,223);g.C_1(78);var $=g.S59(14,4,26,19);A.pivotPoint=(A.high+A.low+v[W-z].Close)/$,A.prevHigh=A.high,A.prevLow=A.low,A.hlSpread=A.high-A.low,A.high=A.low=0}p+="th",v=x.chart.scrubbed,S="day",T=m.layout.interval,D=m.layout.timeUnit,T=="day"?S=p:e.ChartEngine.isDailyInterval(T)?S="year":T=="second"||T==d||D=="second"||D=="millisecond"?S="15min":(y=m.layout.periodicity,T!="minute"&&(y*=T),y>=30&&(S="week")),b=null,g.p9i(55);var j=g.S59(20,13);w=j-e.getFromNS(m.chart,"market.beginningDayOfWeek",0),A={pivotPoint:NaN,high:0,low:0,prevHigh:0,prevLow:0,hlSpread:0},x.startFrom>1&&v[x.startFrom-1]["_pointers "+x.name]&&(_="_pointe",_+="r",_+="s ",A=e.clone(v[x.startFrom-1][_+x.name]));for(var W=Math.max(1,x.startFrom);W<v.length;W++)if(P="f",P+="ibon",P+="ac",P+="ci",I="Pi",I+="v",I+="o",I+="t ",O="y",O+="e",O+="a",O+="r",!!v[W-1]){if(A.high=Math.max(A.high,v[W-1].High),A.low=Math.min(A.low>0?A.low:v[W-1].Low,v[W-1].Low),x.inputs.Continuous||S==O&&v[W].DT.getYear()!=v[W-1].DT.getYear()||S=="month"&&v[W].DT.getMonth()!=v[W-("1">>32)].DT.getMonth()||S=="week"&&(v[W].DT.getDay()+w)%7<(v[W-1].DT.getDay()+w)%7?N():S=="day"?(b===null&&(b=e.Studies.getMarketOffset({stx:m,localQuoteDate:v[W].DT,shiftToDateBoundary:!0})),R=new Date(new Date(+v[W].DT).setMilliseconds(v[W].DT.getMilliseconds()+b)),C=new Date(new Date(+v[W-1].DT).setMilliseconds(v[W-1].DT.getMilliseconds()+b)),C.getDate()!==R.getDate()&&C.getDay()!==0&&m.chart.market.isMarketDate(R)&&(b=null,N())):S=="15min"&&(v[W].DT.getHours()!=v[W-("1">>64)].DT.getHours()||Math.floor(v[W].DT.getMinutes()/15)!=Math.floor(v[W-1].DT.getMinutes()/15))&&N(),v[W][I+x.name]=A.pivotPoint,x.inputs.Type.toLowerCase()==P)k="Support ",k+="3 ",F="Su",F+="ppo",F+="rt 1 ",M="Resis",M+="tan",M+="ce 2 ",L="Resis",L+="t",L+="ance 1",L+=" ",v[W][L+x.name]=A.pivotPoint+.382*A.hlSpread,v[W][M+x.name]=A.pivotPoint+.618*A.hlSpread,v[W]["Resistance 3 "+x.name]=A.pivotPoint+A.hlSpread,v[W][F+x.name]=A.pivotPoint-("0.382"-0)*A.hlSpread,v[W]["Support 2 "+x.name]=A.pivotPoint-.618*A.hlSpread,v[W][k+x.name]=A.pivotPoint-A.hlSpread;else{E="S",E+="up",E+="port 1 ",H="Re",H+="sistance 3 ",g.C_1(160);var V=g.a3a(4,1,4,0);v[W]["Resistance 1 "+x.name]=V*A.pivotPoint-A.prevLow,v[W]["Resistance 2 "+x.name]=A.pivotPoint+A.hlSpread,g.C_1(13);var Y=g.a3a(24,26);v[W][H+x.name]=A.prevHigh+Y*(A.pivotPoint-A.prevLow),v[W][E+x.name]=2*A.pivotPoint-A.prevHigh,v[W]["Support 2 "+x.name]=A.pivotPoint-A.hlSpread,g.C_1(119);var Q=g.S59(15,15,13,11);v[W]["Support 3 "+x.name]=A.prevLow-Q*(A.prevHigh-A.pivotPoint)}v[W]["_pointers "+x.name]=e.clone(A)}},e.Studies.displayPivotPoints=function(m,x,g){var d,p,v,S,T,D,y,b,w;x.noSlopes=!x.inputs.Continuous,e.Studies.displaySeriesAsLine(m,x,g),x.inputs.Shading&&(d="S",d+="upport 3",d+=" ",p="Sup",p+="port 1 ",v="S",v+="u",v+="pport 1 ",S="P",S+="i",S+="vot ",T="Res",T+="ist",T+="an",T+="ce 1 ",D="R",D+="esistance",D+=" 3",y="Resist",y+="ance 3 ",b=m.panels[x.panel],w={noSlopes:x.noSlopes,opacity:x.parameters.opacity?x.parameters.opacity:.2,skipTransform:b.name!=x.chart.name,yAxis:x.getYAxis(m)},!x.highlight&&m.highlightedDraggable&&(w.opacity*=.3),e.prepareChannelFill(m,e.extend({panelName:x.panel,topBand:y+x.name,bottomBand:"Resistance 2 "+x.name,color:e.Studies.determineColor(x.outputs[D])},w)),e.prepareChannelFill(m,e.extend({panelName:x.panel,topBand:"Resistance 2 "+x.name,bottomBand:"Resistance 1 "+x.name,color:e.Studies.determineColor(x.outputs["Resistance 2"])},w)),e.prepareChannelFill(m,e.extend({panelName:x.panel,topBand:T+x.name,bottomBand:S+x.name,color:e.Studies.determineColor(x.outputs["Resistance 1"])},w)),e.prepareChannelFill(m,e.extend({panelName:x.panel,topBand:v+x.name,bottomBand:"Pivot "+x.name,color:e.Studies.determineColor(x.outputs["Support 1"])},w)),e.prepareChannelFill(m,e.extend({panelName:x.panel,topBand:"Support 2 "+x.name,bottomBand:p+x.name,color:e.Studies.determineColor(x.outputs["Support 2"])},w)),e.prepareChannelFill(m,e.extend({panelName:x.panel,topBand:d+x.name,bottomBand:"Support 2 "+x.name,color:e.Studies.determineColor(x.outputs["Support 3"])},w)))},r=-358998398,s=-983125106,i=2;for(var f=1;se.M0S(f.toString(),f.toString().length,33032)!==r;f++)a="#d",a+="3",a+="e8a",a+="e",o="#",o+="b82",o+="c",o+="0b",n="a",n+="u",n+="t",n+="o",e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:!0,seriesFN:e.Studies.displayPivotPoints,calculateFN:e.Studies.calculatePivotPoints,inputs:{Type:["standard","fibonacci"],Continuous:!1,Shading:!1},outputs:{Pivot:n,"Resistance 1":o,"Support 1":"#699158","Resistance 2":"#e36460","Support 2":"#b3d987","Resistance 3":"#ffd0cf","Support 3":a},parameters:{init:{opacity:.2}}}}),i+=2;se.C1g(i.toString(),i.toString().length,73376)!==s&&(l="#d3",l+="e",l+="8a",l+="e",u="Sup",u+="port",u+=" 2",h="st",h+="a",h+="nda",h+="rd",c="#",c+="b3",c+="d987",e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{"Pivot Points":{name:c,overlay:!1,seriesFN:e.Studies.displayPivotPoints,calculateFN:e.Studies.calculatePivotPoints,inputs:{Type:[h,"#699158"],Continuous:!0,Shading:!0},outputs:{Pivot:"Pivot Points","Resistance 1":u,"Support 1":"Support 2","Resistance 2":l,"Support 2":"#b3d987","Resistance 3":"Support 1","Support 3":"#d3e8ae"},parameters:{init:{opacity:880}}}}))}};wr=U=>{var e,t,r,s,i;e="unde",se.d7v(),e+="fined",t=typeof _CIQ!==e?_CIQ:U.CIQ,t.Studies?(s="a",s+="u",s+="to",i="Pretty Good O",i+="scill",i+="ator",t.Studies.calculatePrettyGoodOscillator=function(a,o){var n,l,u;if(n="_",n+="SM",n+="A",l=o.chart.scrubbed,l.length<o.days+1){o.error=!0;return}t.Studies.MA("exponential",o.days,"trueRange",0,"_EMA",a,o),t.Studies.MA("simple",o.days,"Close",0,n,a,o);for(var h=Math.max(1,o.startFrom);h<l.length;h++)u="_E",u+="MA ",!(!l[h]["_SMA "+o.name]||!l[h]["_EMA "+o.name])&&(l[h]["Result "+o.name]=(l[h].Close-l[h]["_SMA "+o.name])/l[h][u+o.name])},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Pretty Good":{name:i,calculateFN:t.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:s}}}})):(r="prettyGoodOscillator feature requires first ac",r+="tivating studies feature.",console.error(r))};Dr=U=>{var e,t,r,s,i;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.Studies?(t="0",t+=".",t+="0",t+="5",r="0",r+=".",r+="0",r+="5",s="#",s+="F",s+="F0",s+="000",i="Price Momentum",i+=" Oscillator",e.Studies.calculatePMO=function(a,o){var n=se,l,u,h,c,f,m,x,g,d;if(l="_ROCx1",l+="0 ",u="fie",u+="ld",h="D",h+="ouble Smoothing Pe",h+="riod",c="S",c+="moot",c+="hing Period",f={Smooth:Number(o.inputs[c])-1,Double:Number(o.inputs[h])-1,Signal:Number(o.inputs["Signal Period"])},m=o.chart.scrubbed,m.length<f.Smooth+f.Double){o.error=!0;return}for(x=o.inputs.Field,(!x||x==u)&&(x="Close"),g=o.startFrom;g<m.length;g++)if(m[g]&&m[g-1]&&(d=e.Studies.getQuoteFieldValue(m[g-("1"<<32)],x),d)){n.C_1(36);var p=n.a3a(8991,9,1e4);n.p9i(12);var v=n.S59(0,14,17,2);m[g]["_ROCx10 "+o.name]=p*(e.Studies.getQuoteFieldValue(m[g],x)/d-v)}e.Studies.MA("exponential",f.Smooth,l+o.name,0,"_EMAx10",a,o),e.Studies.MA("exponential",f.Double,"_EMAx10 "+o.name,0,"PMO",a,o),e.Studies.MA("exponential",f.Signal,"PMO "+o.name,0,"PMOSignal",a,o),o.zoneOutput="PMO"},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{PMO:{name:i,calculateFN:e.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":35,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:"auto",PMOSignal:s},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:2.5,studyOverBoughtColor:"auto",studyOverSoldValue:-2.5,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:r},studyOverSoldValue:{max:0,step:t}}}})):console.error("priceMomentumOscillator feature requires first activating studies feature.")};Ar=U=>{var e,t,r,s,i,a,o;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.Studies?(t="0",t+=".1",r="0",r+=".",r+="1",s="au",s+="t",s+="o",i="fie",i+="l",i+="d",a="RA",a+="V",a+="I",o="P",o+="er",o+="cent",e.Studies.calculatePriceOscillator=function(n,l){var u=se,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_;if(h="_Sh",h+="ort MA",c="Cl",c+="os",c+="e",f="Movi",f+="ng Average Type",m="Long Cycl",m+="e",x="S",x+="ho",x+="rt",x+=" Cycle",g=l.chart.scrubbed,d=Number(l.inputs[x]),p=Number(l.inputs[m]),g.length<Math.max(d,p)+1){l.error=!0;return}v=l.inputs.Field,S=l.inputs[f],S||(S="simple"),(!v||v=="field")&&(v=c),l.parameters.isVolume&&(T="Volu",T+="me",v=T,S="exponential"),D=l.inputs["Points Or Percent"],D||(D="Percent"),e.Studies.MA(S,d,v,0,h,n,l),e.Studies.MA(S,p,v,0,"_Long MA",n,l);for(var P=Math.max(p,l.startFrom);P<g.length;P++)y=g[P],y&&(b=y["_Short MA "+l.name],w=y["_Long MA "+l.name],(b||b===0)&&(w||w===0)&&(A="Incre",A+="asing ",A+="Ba",A+="r",D=="Points"?(u.C_1(13),y["Result "+l.name]=u.S59(w,b)):(u.C_1(158),y["Result "+l.name]=u.a3a(b,100,1,w)),l.outputs[A]&&(_="Result",_+=" ",y[l.name+"_hist"]=y[_+l.name],l.outputMap={},l.outputMap[l.name+"_hist"]="")))},e.Studies.displayRAVI=function(n,l,u){var h=se,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A;c=n.panels[l.panel],f=l.getContext(n),m=l.getYAxis(n),x=n.pixelFromPrice(0,c,m),h.p9i(20);var _=h.a3a(10,7,2);g=n.layout.candleWidth-_,g<2&&(g=1),d=e.Studies.determineColor(l.outputs["Increasing Bar"]),p=e.Studies.determineColor(l.outputs["Decreasing Bar"]),n.startClip(l.panel),n.canvasColor("stx_histogram"),l.underlay||(f.globalAlpha=1),!l.highlight&&n.highlightedDraggable&&(f.globalAlpha*=.3);for(var P=0;P<u.length;P++)if(v="_",v+="h",v+="is",v+="t",S="_",S+="hi",S+="st",T=0,D=u[P],h.C_1(13),y=u[h.a3a(1,P)],y||(y=n.getPreviousBar(n.chart,l.name+S,P)),!!D){if(b=0,w=0,l.parameters&&l.parameters.studyOverZonesEnabled&&(b=parseFloat(l.parameters.studyOverBoughtValue),w=parseFloat(l.parameters.studyOverSoldValue)),n.cleanupGaps==="stretch")for(;u[P+1]&&(h.C_1(8),A=u[h.a3a(P,1)][l.name+"_hist"],!(A||A===0||u[P+1].futureTick));)T++,P++;(!y||y[l.name+"_hist"]===void 0)&&(y=n.getPreviousBar(n.chart,l.name+"_hist",P-T)),y?D[l.name+"_hist"]>b&&y[l.name+"_hist"]<D[l.name+"_hist"]?f.fillStyle=d:D[l.name+"_hist"]<w&&y[l.name+"_hist"]>D[l.name+"_hist"]?f.fillStyle=p:f.fillStyle="#CCCCCC":f.fillStyle="#CCCCCC",D.candleWidth&&(g=Math.floor(Math.max(1,D.candleWidth-2))),f.fillRect(Math.floor(n.pixelFromBar(P-T,c.chart)-g/("2"-0)),Math.floor(x),Math.floor(g+T*n.layout.candleWidth),Math.floor(n.pixelFromPrice(D[l.name+v],c,m)-x))}n.endClip()},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:e.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":26,"Moving Average Type":"ema","Points Or Percent":["Points","Percent"]}},"Vol Osc":{name:"Volume Oscillator",calculateFN:e.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":26,"Points Or Percent":["Points",o]},parameters:{init:{isVolume:!0}}},RAVI:{name:a,seriesFN:e.Studies.displayRAVI,calculateFN:e.Studies.calculatePriceOscillator,inputs:{Field:i,"Moving Average Type":"vdma","Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:s}},attributes:{studyOverBoughtValue:{min:0,step:r},studyOverSoldValue:{max:0,step:t}}}})):console.error("priceVolumeOscillator feature requires first activating studies feature.")};Tr=U=>{var e=se;e.d7v();var t,r,s,i;t="undefi",t+="ned",r=typeof _CIQ!==t?_CIQ:U.CIQ,r.Studies?(s="a",s+="u",s+="to",i="P",i+="r",i+="ime Number Oscillat",i+="or",r.Studies.calculatePrimeNumber=function(a,o){var n,l,u,h,c,f,m,x,g,d,p;n=[],l=o.chart.scrubbed;for(var v=o.startFrom;v<l.length;v++)if(u="Prime ",u+="Number Ban",u+="ds",h=l[v],!!h){if(c=h.High,!isNaN(c)){for(var S=0;c>0&&c<=10;S++)c*=10;for(b(c)&&(e.C_1(13),c+=e.a3a(0,"2")),c=Math.ceil(c),c%2===0&&c++;!b(c);)c+=2;c/=Math.pow(10,S)}if(f=h.Low,!isNaN(f)){for(var T=0;f>0&&f<=10;T++)f*=10;if(b(f)&&(f-=2),f=Math.floor(f),f%2===0&&f--,f>0){for(;!b(f);)f-=2;f/=Math.pow(10,T)}}if(o.type==u)isNaN(c)||(h["Prime Bands Top "+o.name]=c),isNaN(f)||(h["Prime Bands Bottom "+o.name]=Math.max(0,f));else{m="R",m+="esult ",x="Tol",x+="erance Percentage",e.C_1(17),g=e.S59("0",0),e.p9i(37);var D=e.S59(14,93,1202);d=o.inputs[x]*(c-f)/D,e.p9i(13);var y=e.S59(38,40);p=c+f-y*h.Close,p<d?g=1:p>d&&(g=-1),g&&(h[m+o.name]=g)}}e.d7v();function b(w){var A;if(w<=0)return!1;if(w!=Math.floor(w))return!1;if(n[w]===!0||n[w]===!1)return n[w];A=parseInt(Math.sqrt(w),10);for(var _=2;_<=A;_++)if(w%_===0)return n[w]=!1,!1;return n[w]=!0,!0}},r.Studies.studyLibrary=r.extend(r.Studies.studyLibrary,{"Prime Number":{name:i,range:"-1 to 1",calculateFN:r.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:.1,step:.1}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:!0,calculateFN:r.Studies.calculatePrimeNumber,seriesFN:r.Studies.displayChannel,inputs:{"Channel Fill":!0},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":"auto","Prime Bands Channel":s}}})):console.error("primeNumber feature requires first activating studies feature.")};Fr=U=>{var e=se;e.j4$();var t,r,s;t=typeof _CIQ!="undefined"?_CIQ:U.CIQ,t.Studies?(r="fi",r+="e",r+="l",r+="d",s="#FF0",s+="0",s+="00",t.Studies.calculateKST=function(i,a){var o,n,l,u,h,c,f,m,x,g,d,p,v,S;for(o="KS",o+="TSignal",n="Si",n+="gnal Per",n+="iod",l="Heaviest SMA Peri",l+="od",u="Lightest Ra",u+="te of C",u+="hange Period",h=a.chart.scrubbed,c=a.inputs.Field,(!c||c=="field")&&(c="Close"),f={},m={},f[1]=Number(a.inputs[u]),f[2]=Number(a.inputs["Light Rate of Change Period"]),f[3]=Number(a.inputs["Heavy Rate of Change Period"]),e.C_1(5),f[e.S59(1,"4")]=Number(a.inputs["Heaviest Rate of Change Period"]),m[1]=Number(a.inputs["Lightest SMA Period"]),m[2]=Number(a.inputs["Light SMA Period"]),m[3]=Number(a.inputs["Heavy SMA Period"]),m[4]=Number(a.inputs[l]),x=Number(a.inputs[n]),g=a.startFrom;g<h.length;g++)if(h[g]){for(d=1;d<=4;d++)if(g>=f[d]&&h[g-f[d]]&&t.Studies.getQuoteFieldValue(h[g-f[d]],c)){e.C_1(21);var T=e.a3a(4,109120,17360);e.C_1(13),e.S59(18,5535),e.C_1(108);var D=e.a3a(17,6,12,0,33);e.p9i(136),e.S59(18,2,5858,14,2909),e.C_1(48);var y=e.a3a(1088,20,96,136);e.C_1(15);var b=e.S59(0,15,14);h[g]["_ROC"+d+(T===179?"536.77"*D!=="288.33"-0?297.89:"D":" ")+a.name]=("100"<<y)*(t.Studies.getQuoteFieldValue(h[g],c)/t.Studies.getQuoteFieldValue(h[g-f[d]],c)-b)}}for(d=1;d<=4;d++)p="s",p+="i",p+="mp",p+="le",t.Studies.MA(p,m[d],"_ROC"+d+" "+a.name,0,"_SMA"+d,i,a);for(g=a.startFrom;g<h.length;g++)for(h[g]["KST "+a.name]=null,d=1;d<=4;d++)v="_",v+="S",v+="MA",S=h[g][v+d+" "+a.name],(S||S===0)&&(e.p9i(5),h[g]["KST "+a.name]+=e.S59(S,d));t.Studies.MA("simple",x,"KST "+a.name,0,o,i,a)},t.Studies.calculateSpecialK=function(i,a){var o,n,l,u,h,c,f,m,x,g,d,p;for(o="C",o+="l",o+="os",o+="e",n=a.chart.scrubbed,l=a.inputs.Field,(!l||l=="field")&&(l=o),u=a.inputs.Interval,u||(u="daily"),h={daily:["10"<<32,15,20,30,50,65,75,100,"195"*1,265,390,530],weekly:[4,5,6,8,10,13,15,20,39,52,78,104]},c={daily:[10,10,10,15,50,65,75,100,130,130,130,195],weekly:[4,5,6,8,10,13,15,20,26,26,26,39]},f=a.startFrom;f<n.length;f++)if(n[f]){for(m=0;m<h[u].length;m++)if(f>=h[u][m]&&t.Studies.getQuoteFieldValue(n[f-h[u][m]],l)!==null){e.p9i(161),e.S59(251,8,8,4769),e.p9i(36),e.a3a(17493,17,18540),e.p9i(8);var v=e.a3a(0,1);n[f]["_ROC"+m+" "+a.name]=100*(t.Studies.getQuoteFieldValue(n[f],l)/t.Studies.getQuoteFieldValue(n[f-h[u][m]],l)-v)}}for(m=0;m<c[u].length;m++)x="_",x+="R",x+="OC",g="exponenti",g+="al",t.Studies.MA(u=="daily"?"simple":g,c[u][m],x+m+" "+a.name,0,"_MA"+m,i,a);for(f=a.startFrom;f<n.length;f++)for(d="Res",d+="ult ",n[f][d+a.name]=null,m=0;m<c[u].length;m++)p=n[f]["_MA"+m+" "+a.name],(p||p===0)&&(e.p9i(162),n[f]["Result "+a.name]+=e.S59(p,m,4,1))},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:t.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":9},outputs:{KST:"#00DD00",KSTSignal:s}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:t.Studies.calculateSpecialK,inputs:{Field:r,Interval:["daily","weekly"]}}})):console.error("pring feature requires first activating studies feature.")};_r=U=>{var e,t,r,s,i,a,o,n,l,u,h,c,f;e="und",e+="efi",e+="n",e+="ed",t=typeof _CIQ!==e?_CIQ:U.CIQ,r=typeof _timezoneJS!="undefined"?_timezoneJS:U.timezoneJS,t.Studies?t.Studies.studyLibrary.PVAT||(s="+5",s+="0",s+="%",i="#",i+="cfbd",i+="0e",a="-",a+="1",a+="5",a+="0%",o="-1",o+="0",o+="0",o+="%",n="-",n+="7",n+="5",n+="%",l="-2",l+="5",l+="%",u="N",u+="one",h="+2",h+="5%",c="+",c+="5",c+="0",c+="%",f="0 ",f+="to ma",f+="x",t.Studies.initProjectedVolume=function(m,x,g,d,p,v){var S,T,D;S="Anc",S+="hor",S+=" Tim",S+="e";var{market:y}=m.chart;return T="00:00",y&&(T=y.getNormalOpen()),T.match(/^[\d]{2}:[\d]{2}$/)&&(T+=":00"),(!g["Anchor Time"]||!g[S].length)&&(g["Anchor Time"]=T),D=t.Studies.initializeFN(m,x,g,d,p,v),m.currentlyImporting||(D.defaultAnchorTime=T),D},t.Studies.validateProjectedVolumeLookback=function(m,x){var{interval:g,periodicity:d}=m.layout,{"Lookback Days":p}=x.inputs;return se.p9i(163),se.S59(d,0,p,"10",g)},t.Studies.calculateProjectedVolume=function(m,x){var g=se,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F,M,L,E,H,N,j,W,V,Y,Q,z,$,K,q,X,Z,ae,te,re,oe,B,G,ie,ne,le,fe,ue,ge,ce,de,he,pe,me,xe,ye,be;d="A",d+="vera",d+="ge Line",p="0",p+="0",p+=":",p+="00",v="o",v+="hl",v+="c",S="t",S+="i",S+="c";function _e(Pe){g.j4$(),console.error(`Expected data for ${Ve(Pe).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`)}S+="k";var{interval:De,timeUnit:ke,aggregationType:Ae}=m.layout,{symbol:we,scroll:Ee,scrubbed:Se,market:Ce}=m.chart;T=x.type==="PAV",D=x.study?x.study.name:x.type;function Me(Pe){return{hours:Pe.getHours(),minutes:Pe.getMinutes()}}if(t.ChartEngine.isDailyInterval(De)?x.error=`${D} is Intraday Only`:ke===S?(g.p9i(77),x.error=`${g.S59("e not supported for"," ","Tick mod")}${D}`):ke!=="minute"?(g.p9i(112),x.error=`${g.S59("ed for ","rt","Sub-minute periodi","cities not suppo")}${D}`):!Ae||![v,"heikinashi"].includes(Ae)?x.error=`Aggregation type not supported for ${D}`:t.Studies.validateProjectedVolumeLookback(m,x)||(x.error=`Selected lookback/periodicity combo not supported for ${D}`),x.error)return;if(x.inputs["Anchor Selector"]?t.Studies.initAnchorHandle(m,x):t.Studies.removeAnchorHandle(m,x),y=Ce?Ce.getNormalOpen():p,y.match(/^[\d]{2}:[\d]{2}$/)&&(y+=":00"),!m.currentlyImporting){if(!x.defaultAnchorTime)x.defaultAnchorTime=y;else if(y!==x.defaultAnchorTime){x.defaultAnchorTime=y,x.inputs["Anchor Time"]=y,t.Studies.repositionAnchor(m,x);return}}var{"Lookback Days":He,"Anchor Time":Re}=x.inputs,[Ne,ze,tt=0]=Re.split(":");b=t.getFn("Market.Symbology.isForexSymbol")(we);function je(Pe){var qe;return Pe.setHours(0),Pe.setMinutes(0),qe=t.Studies.getMarketOffset({stx:m,localQuoteDate:Pe}),new Date(Pe.getTime()+qe)}w=x.getDependents(m),A=0,_=[],w.forEach(({inputs:Pe,outputMap:qe})=>{Pe.Period&&(A=Math.max(parseInt(Pe.Period),A),_.push(...Object.keys(qe)))}),x.dependentsOutputMap=_,I=Ue(Se.length-1,!0),g.j4$(),O=Math.ceil(Se.length-1-Ee),g.C_1(13),R=Ue(g.a3a(A,O));function Ve(Pe){return g.j4$(),m.dateFromTick(Pe,null,!0,"scrubbed")}if(b&&Se[R]&&t.dateToStr(Se[R].DT,"HH:mm")!==y&&(g.p9i(13),R=Ue(g.a3a(1,R))),!b&&x.startFrom>R&&Se[R]&&Se[R]["V "+x.name]!==void 0&&_.every(Pe=>(g.d7v(),![void 0,null].includes(Se[R][Pe])))&&I!==!1?P=I:P=R,C=Ze(Ve(R),He),C.setHours(0,0,0),k=Ue(0,!0),F=(k||k===0)&&Oe(Ze(Se[k].DT,He,!0)),Se[0].DT>C)if(m.quoteDriver)if(x.chart.endPoints.begin>C&&m.quoteDriver.extendHistoricalData({from:C}),F>0)P=F;else return;else return g.C_1(8),x.error=`${g.a3a("Not enoug","h data to calculate ")}${D}`;if(P<0||P>Se.length-("1"-0))return;M=Se.length-x.startFrom===1&&x.cachedFutureTicks&&x.cachedLastProjection&&+x.cachedLastProjection.DT==+Se[Se.length-1].DT&&Se[P]["PV "+x.name];function Oe(Pe){g.d7v();var qe;return qe="scrubb",qe+="ed",m.tickFromDate(Pe,null,null,!0,qe)}if(M){g.C_1(13);var Ie=g.S59(5,6);Se[Se.length-Ie]["PV "+x.name]=x.cachedLastProjection.projectedValue,x.appendFutureTicks(m,x.cachedFutureTicks),P=x.startFrom}else{L="P",L+="V ",x.cachedFutureTicks=null,x.cachedLastProjection=null,E=[I],H=[];for(var Te=0;Te<He;Te++)N=Ue(E[0]-1),E.unshift(N);for(;E[He]>=P;){if(j=E.pop(),!Se[j])return _e(j);W=Me(Se[j].DT);var{hours:Le,minutes:Fe}=W;if(V=Ce.getClose(Se[j].DT),Y=void 0,!V)Y={hours:24,minutes:"0"-0};else{for(Q=Ce.getNextClose(Se[j].DT),Y=Me(V);!(Y.hours===0&&Y.minutes===("0"|0))&&V.getDate()===Q.getDate();)V=Q,Q=Ce.getNextClose(Q);Y=Me(V),Y.hours===0&&(Y.hours=24)}z=E.slice();for(var We=0;We<z.length;We++){if($=z[We],!Se[$])return _e($);var{hours:Ye,minutes:$e}=Me(Se[$].DT);if(Ye<Le||Ye===Le&&$e<Fe)do $++,{hours:Ye,minutes:$e}=Me(Se[$].DT);while(!(Ye===Le&&$e===Fe));z[We]=$}for(;Le<Y.hours||Le===Y.hours&&Fe<Y.minutes;){K=!1,q=void 0,X=void 0,Z=0,g.p9i(3),ae=g.S59("0",64);for(var Be=0;Be<z.length;Be++)if(te=z[Be],te!==null){if(re=Se[te],!re)return _e(te);var{hours:Je,minutes:Qe}=Me(re.DT);oe=re.DT.getDate(),Je===Le&&Qe===Fe&&(Z+=re.Volume,ae++,z[Be]++,Se[z[Be]].DT.getDate()!==oe?z[Be]=null:K||({hours:q,minutes:X}=Me(Se[z[Be]].DT),K=!0))}if(Le=q,Fe=X,ae===0)break;g.p9i(19),B=g.a3a(Z,ae),Se[j]?Se[j]["PV "+x.name]=B:(G="P",G+="V",G+=" ",H.push({[G+x.name]:B})),j++}E.unshift(Ue(E[0]-1))}x.cachedLastProjection={DT:Se[Se.length-1].DT,projectedValue:Se[Se.length-1][L+x.name]},x.cachedFutureTicks=H,x.appendFutureTicks(m,H)}if(ie=null,ne=0,le=0,M&&T)for(;P>0;){if(g.C_1(13),ue=Se[g.S59(1,P)]["V "+x.name],ue||ue===0){ne=ue;break}P--}for(var Ge=P;Ge<Se.length;Ge++){if(ge="V",ge+=" ",ce="P",ce+="V",ce+=" ",de=Se[Ge],he=de.Volume,pe=de[ce+x.name],de.futureTick||(fe=Ge),ie===null&&(ie=t.Studies.getMarketOffset({stx:m,localQuoteDate:Se[Ge].DT,shiftToDateBoundary:!0})),me=new Date(new Date(de.DT).getTime()+ie),xe=Se[Ge-1]&&new Date(new Date(Se[Ge-1].DT).getTime()+ie),ye=new r.Date(de.DT,Ce.market_def.market_tz||"America/New_York"),ye.setHours(Ne,ze,tt),g.p9i(8),ye=new Date(g.a3a(ye,ie)),ye.setDate(me.getDate()),xe&&me.getDate()!==xe.getDate()&&(ie=null,ne=0,le=0),me<ye){be="V",be+=" ",de[be+x.name]=0,de["PV "+x.name]=0;continue}if(T?(ne+=he,le+=pe):(ne=he,le=pe),de[ge+x.name]=ne,M||(de["PV "+x.name]=le),[NaN,null,void 0].includes(ne)&&!de.futureTick){x.error=`${D} requires volume`;return}}x.cachedLastProjection.projectedValue=Se[fe]["PV "+x.name],x.outputMap={},x.outputMap["V "+x.name]="";function Ze(Pe,qe,Xe){for(;qe;)Pe=new Date(new Date(Pe).setDate(Pe.getDate()+(Xe?1:-1))),Ce.isMarketDate(Pe)&&qe--;return Pe}x.outputMap["PV "+x.name]=d;function Ue(Pe,qe){var Xe,at,et;return Xe=Ve(Pe),at=Ce.getOpen(Xe)||je(Xe),et=Oe(at),qe?(et<0&&(et=Oe(Ze(at,1,!0))),et>=Se.length?!1:et):et}w.forEach(Pe=>{Pe.startFrom=P,g.j4$(),Pe.study.calculateFN(m,Pe)})},t.Studies.displayProjectedVolume=function(m,x,g){var d=se,p,v,S,T,D,y,b;if(x.error)return t.Studies.removeAnchorHandle(m,x);var{"Alert Threshold":w=""}=x.inputs;d.C_1(108);var A=d.a3a(10,1,16,1,160);d.C_1(164);var _=d.S59(14,9,1915,2e3,8);p=parseInt(w.slice(0,-1),A)/_,v=x.outputs["Alert Bar"],typeof v=="object"&&(v=v.color),x.volumeField="V "+x.name,x.alignStepToSide=!0,x.extendToEndOfLastBar=!0,x.lineWidth=2,S=m.canvasStyle("stx_volume_underlay_up").opacity,T=m.canvasStyle("stx_volume_underlay_down").opacity,x.colorFunction=function(I){var O,R,C,k,F,M,L;O="P",O+="V",O+=" ";var{Open:E,Close:H,iqPrevClose:N}=I;return R=m.colorByCandleDirection?E:N,d.p9i(165),C=d.S59(R,H),k=I[O+x.name],F=I["V "+x.name],d.p9i(166),M=d.S59(p,k,1),L=p<0?F<M:F>M,{fill_color:L&&v||(C?this.fill_color_down:this.fill_color_up),border_color:C?this.border_color_down:this.border_color_up,opacity:L?1:C?T:S,border_opacity:C?T:S}},D=x.study?x.study.name:x.type;var{loadingMore:P}=m.chart;if(y=g.some(I=>I&&I[x.volumeField]&&I["PV "+x.name]),d.j4$(),b=g[0]&&!g[0].futureTick&&(g[0]["PV "+x.name]===void 0||(x.dependentsOutputMap||[]).some(I=>[void 0,null].includes(g["0"|0][I]))),!y&&P)return d.C_1(8),x.error=`${d.a3a("Fetching data for"," ")}${D}`;t.Studies.createVolumeChart(m,x,g),t.Studies.displaySeriesAsLine(m,x,g),x.anchorHandle&&t.Studies.displayAnchorHandleAndLine(m,x,g),b&&t.Studies.calculateProjectedVolume(m,x)},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{PVAT:{name:"Projected Volume at Time",range:f,yAxis:{ground:!0},calculateFN:t.Studies.calculateProjectedVolume,seriesFN:t.Studies.displayProjectedVolume,initializeFN:t.Studies.initProjectedVolume,removeFN:t.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":["+150%","+125%","+100%","+75%",c,h,u,l,"-50%",n,o,"-125%",a],"Anchor Selector":!0},outputs:{"Average Line":"#fe641c","Alert Bar":i,"Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1},"Alert Threshold":{defaultSelected:s}}},PAV:{name:"Projected Aggregate Volume",range:"0 to max",yAxis:{ground:!0},calculateFN:t.Studies.calculateProjectedVolume,seriesFN:t.Studies.displayProjectedVolume,initializeFN:t.Studies.initProjectedVolume,removeFN:t.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":!0},outputs:{"Average Line":"#fe641c","Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1}}}})):console.error("projectedVolume feature requires first activating studies feature.")};Mr=U=>{se.j4$();var e;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.Studies?(e.Studies.calculatePsychologicalLine=function(t,r){var s,i,a,o,n;if(s=r.chart.scrubbed,s.length<r.days+1){r.error=!0;return}i=[],se.p9i(37);var l=se.a3a(16,97,1452);a=l/r.days,o=0;for(var u=Math.max(r.startFrom-r.days,1);u<s.length&&!s[u].futureTick;u++)n=+(s[u].Close>s[u-1].Close),n&&(o+=a),i.push(n),i.length>r.days&&(o-=i.shift()*a),!(u<r.startFrom)&&(isNaN(s[u].Close)||(s[u]["Result "+r.name]=o))},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{PSY:{name:"Psychological Line",range:"0 to 100",calculateFN:e.Studies.calculatePsychologicalLine,inputs:{Period:20}}})):console.error("psychologicalLine feature requires first activating studies feature.")};Pr=U=>{se.d7v();var e;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.Studies?(e.Studies.calculateQStick=function(t,r){var s,i;if(s="_Close-Op",s+="en ",se.j4$(),i=r.chart.scrubbed,i.length<r.days+1){r.error=!0;return}for(var a=r.startFrom;a<i.length;a++)i[a]["_Close-Open "+r.name]=i[a].Close-i[a].Open;e.Studies.MA(r.inputs["Moving Average Type"],r.days,s+r.name,0,"Result",t,r)},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{QStick:{name:"QStick",calculateFN:e.Studies.calculateQStick,inputs:{Period:"8"^0,"Moving Average Type":"ma"}}})):console.error("qstick feature requires first activating studies feature.")};Lr=U=>{var e,t,r,s,i,a,o,n,l,u;e="un",e+="define",e+="d",t=typeof _CIQ!==e?_CIQ:U.CIQ,t.Studies?(s="#",s+="00DD",s+="00",i="fiel",i+="d",a="#",a+="00",a+="7FF",a+="F",o="#00FFF",o+="F",n="#",n+="7FFF00",l="f",l+="ield",u="Ra",u+="inbow M",u+="oving Average",t.Studies.calculateRainbow=function(h,c){var f=se,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F;function M(ae,te){var re,oe;f.p9i(167);var B=f.S59(12,17,0,14,14);re=Number.MAX_VALUE*B,oe=Number.MAX_VALUE;for(var G=te-ae+("1"^0);G<=te;G++)G<0||(re=Math.max(re,p[G].Close),oe=Math.min(oe,p[G].Close));return[oe,re]}m="O",m+="sc",x=1745552280,g=1643389868,d=2;for(var L=1;f.M0S(L.toString(),L.toString().length,83791)!==x;L++)p=c.chart.scrubbed,f.C_1(13),d+=f.S59(0,"2");if(f.M0S(d.toString(),d.toString().length,9340)!==g&&(p=c.chart.scrubbed),p=c.chart.scrubbed,p.length<c.days+1){c.error=!0;return}v=c.inputs.Field,(!v||v=="field")&&(v="Close"),S=v;for(var E=1;E<=10;E++){T="S",T+="M",T+="A",t.Studies.MA("simple",c.days,S,0,T+E,h,c),f.p9i(116);var H=f.S59(1014,940,9,13);f.p9i(8),f.S59(2,27),f.p9i(77);var N=f.a3a(15,9106,829);f.C_1(168);var j=f.a3a(12,14,977813,18,5837);f.C_1(169),f.a3a(6,305,2,2689,15),f.p9i(170);var W=f.S59(7,1,8,6,4);f.C_1(129);var V=f.a3a(100940,14420,5,7198);S="SMA"+E+(H==N?j!="584"*W?2002:V:" ")+c.name}for(var Y=Math.max(c.startFrom,10);Y<p.length;Y++)if(p[Y]){if(p[Y].futureTick)break;D=0,f.C_1(4),y=f.S59(64,"0"),f.p9i(31);var Q=f.a3a(0,20,4,4);for(b=Number.MAX_VALUE*Q,w=Number.MAX_VALUE,E=1;E<=10;E++){f.C_1(116);var z=f.S59(2622,13,18,19);f.p9i(37),f.S59(12,5611,61712),A=p[Y]["SMA"+E+(z!=449.5?" ":!1)+c.name],(A||A===0)&&(D+=A,y++,b=Math.max(b,A),w=Math.min(w,A))}if(c.name.indexOf("Osc")>-1&&(_="HHV/LLV Lookba",_+="ck",P=M(c.inputs[_],Y),y)){I="Under",I+=" ",f.C_1(40);var $=f.S59(19,104,30,7);f.C_1(11);var K=f.a3a(7,6,12);p[Y][c.name+"_hist"]=$*(t.Studies.getQuoteFieldValue(p[Y],v)-D/y)/Math.max(1e-6,P[K]-P[0]),f.p9i(13);var q=f.a3a(2,34);f.p9i(22);var X=f.S59(0,19,18);p[Y]["Over "+c.name]=("100"<<q)*(b-w)/Math.max(1e-6,P[X]-P[0]),p[Y][I+c.name]=-p[Y]["Over "+c.name],p[Y]["Zero "+c.name]=0}}if(c.name.indexOf(m)>-1){O="Z",O+="e",O+="r",O+="o ",c.outputMap={},c.outputMap["Over "+c.name]="Positive Bar",c.outputMap["Under "+c.name]="Negative Bar",c.outputMap[O+c.name]="",R=-369122295,C=1034701610,k=2;for(var Z=1;f.M0S(Z.toString(),Z.toString().length,89734)!==R;Z++)F="_",F+="h",F+="i",F+="st",c.outputMap[c.name%F]="",k+=2;f.C1g(k.toString(),k.toString().length,79777)!==C&&(c.outputMap[c.name+"_hist"]="")}},t.Studies.displayRainbowMA=function(h,c,f){se.d7v();var m;m=h.panels[c.panel];for(var x=10;x>0;x--)t.Studies.displayIndividualSeriesAsLine(h,c,m,"SMA"+x+" "+c.name,f)},t.Studies.displayRainbowOsc=function(h,c,f){var m=se,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k;x="U",x+="nder",x+=" ",g="U",g+="nde",g+="r ",m.j4$(),d="Negative",d+=" Bar",p="O",p+="v",p+="e",p+="r ",t.Studies.displaySeriesAsLine(h,c,f),v=h.panels[c.panel],S=c.getContext(h),T=c.getYAxis(h),h.startClip(c.panel),!c.highlight&&h.highlightedDraggable&&(S.globalAlpha*=.3),D=h.pixelFromPrice(0,v,T),y=v.name!=c.chart.name,b=t.Studies.determineColor(c.outputs["Positive Bar"]),S.strokeStyle=b,h.plotDataSegmentAsLine("Over "+c.name,v,{skipTransform:y,label:!1,yAxis:T}),w=S.createLinearGradient(0,D,0,T.flipped?T.bottom:T.top),w.addColorStop(0,h.containerColor),w.addColorStop(1,b),t.prepareChannelFill(h,{skipTransform:y,color:w,opacity:!c.highlight&&h.highlightedDraggable?.3:"1">>0,panelName:c.panel,topBand:p+c.name,bottomBand:"Zero "+c.name,yAxis:T}),A=t.Studies.determineColor(c.outputs[d]),S.strokeStyle=A,h.plotDataSegmentAsLine(g+c.name,v,{skipTransform:y,label:!1,yAxis:T}),_=S.createLinearGradient(0,D,0,T.flipped?T.top:T.bottom),_.addColorStop(0,h.containerColor),_.addColorStop(1,A),t.prepareChannelFill(h,{skipTransform:y,color:_,opacity:!c.highlight&&h.highlightedDraggable?.3:"1">>64,panelName:c.panel,topBand:"Zero "+c.name,bottomBand:x+c.name,yAxis:T}),m.p9i(61);var F=m.a3a(30,17,2);P=h.layout.candleWidth-("2">>F),P<2&&(P=1),h.canvasColor("stx_histogram"),c.underlay||(S.globalAlpha=1),!c.highlight&&h.highlightedDraggable&&(S.globalAlpha*=.3),S.fillStyle="#CCCCCC";for(var M="0"-0;M<f.length;M++)if(I="_",I+="h",I+="is",I+="t",O=0,R=f[M],!!R){if(h.cleanupGaps==="stretch")for(;f[M+1]&&(C="_hi",C+="st",m.C_1(8),k=f[m.S59(M,1)][c.name+C],!(k||k===0||f[M+1].futureTick));)O++,M++;R[c.name+I]>0?S.fillStyle=b:R[c.name+"_hist"]<0&&(S.fillStyle=A),R.candleWidth&&(P=Math.floor(Math.max(1,R.candleWidth-2))),S.fillRect(Math.floor(h.pixelFromBar(M-O,v.chart)-P/2),Math.floor(D),Math.floor(P+O*h.layout.candleWidth),Math.floor(h.pixelFromPrice(R[c.name+"_hist"],v,T)-D))}h.endClip()},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Rainbow MA":{name:u,overlay:!0,calculateFN:t.Studies.calculateRainbow,seriesFN:t.Studies.displayRainbowMA,inputs:{Period:2,Field:l},outputs:{SMA1:"#FF0000",SMA2:"#FF7F00",SMA3:"#FFFF00",SMA4:n,SMA5:"#00FF7F",SMA6:o,SMA7:a,SMA8:"#0000FF",SMA9:"#7F00FF",SMA10:"#FF00FF"}},"Rainbow Osc":{name:"Rainbow Oscillator",calculateFN:t.Studies.calculateRainbow,seriesFN:t.Studies.displayRainbowOsc,centerline:0,inputs:{Period:2,Field:i,"HHV/LLV Lookback":10},outputs:{"Positive Bar":s,"Negative Bar":"#FF0000"}}})):(r="rainbow feature requir",r+="es first activating st",r+="udies feature.",console.error(r))};Ir=U=>{var e,t;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.Studies?(t="Ra",t+="ndom",t+=" Walk In",t+="dex",e.Studies.calculateRandomWalk=function(r,s){se.d7v();var i,a,o,n,l,u,h,c,f,m;if(i=s.chart.scrubbed,i.length<s.days+1){s.error=!0;return}for(var x=Math.max(2,s.startFrom);x<i.length;x++){a=0,o=i[x].High,n=i[x].Low,se.p9i(3),l=se.a3a("0",64),u=0;for(var g=1;g<=s.days&&!i[x].futureTick;g++){if(x<=g){l=u=0;break}a+=i[x-g].trueRange,h=a/g*Math.sqrt(g),h&&(c=(o-i[x-g].Low)/h,f=(i[x-g].High-n)/h,l=Math.max(l,c),u=Math.max(u,f))}!i[x].futureTick&&(!isNaN(o)||!isNaN(n))&&(m="Random Walk",m+=" Low ",i[x]["Random Walk High "+s.name]=l,i[x][m+s.name]=u)}},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{"Random Walk":{name:t,calculateFN:e.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":"#0000FF"}}})):console.error("randomWalk feature requires first activating studies feature.")};Er=U=>{var e,t,r;e="u",e+="n",e+="def",e+="ined",t=typeof _CIQ!==e?_CIQ:U.CIQ,t.Studies?(t.Studies.calculateRelativeVigor=function(s,i){var a=se,o,n,l,u,h,c,f,m,x,g,d,p;if(a.d7v(),o="Rel ",o+="Vig",o+=" ",n="tri",n+="an",n+="gular",l="tr",l+="ian",l+="g",l+="ular",u=i.chart.scrubbed,u.length<i.days+1){i.error=!0;return}for(h=i.startFrom;h<u.length;h++)c=u[h],!isNaN(c.Close)&&!isNaN(c.Open)&&(c["_Change "+i.name]=c.Close-c.Open),!isNaN(c.High)&&!isNaN(c.Low)&&(c["_Range "+i.name]=c.High-c.Low);for(t.Studies.MA(l,4,"_Change "+i.name,0,"_Numer",s,i),t.Studies.MA("triangular",4,"_Range "+i.name,0,"_Denom",s,i),f=[],m=[],h=Math.max(i.startFrom-i.days,0);h<u.length&&(x="_",x+="De",x+="nom ",!u[h].futureTick);h++)if(!(u[h]["_Numer "+i.name]===null&&u[h][x+i.name]===null)){for(f.push(u[h]["_Numer "+i.name]),m.push(u[h]["_Denom "+i.name]),f.length>i.days&&(f.shift(),m.shift()),g=0,a.C_1(2),d=a.a3a(0,"0"),p=0;p<f.length;p++)g+=f[p];for(p=0;p<m.length;p++)d+=m[p];d===0&&(d=1e-8),!(h<i.startFrom)&&(a.p9i(19),u[h]["Rel Vig "+i.name]=a.S59(g,d))}for(t.Studies.MA(n,4,o+i.name,0,"RelVigSignal",s,i),h=i.startFrom;h<u.length;h++)u[h][i.name+"_hist"]=u[h]["Rel Vig "+i.name]-u[h]["RelVigSignal "+i.name];i.outputMap[i.name+"_hist"]=""},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Rel Vig":{name:"Relative Vigor Index",seriesFN:t.Studies.displayHistogramWithSeries,calculateFN:t.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":"auto",RelVigSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}})):(r="relativeVigor feature requires f",r+="irst ",r+="activating studies feature.",console.error(r))};Hr=U=>{var e,t,r;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.Studies?(t="a",t+="ut",t+="o",r="0 t",r+="o 100",e.Studies.calculateRSI=function(s,i){var a=se,o,n,l,u,h,c,f,m,x,g,d,p,v,S;o="Clo",o+="s",o+="e",n=i.chart.scrubbed,a.j4$();function T(y,b){var w;return b===0?100:(a.C_1(19),w=a.a3a(y,b),a.p9i(171),a.a3a(100,w,1,100))}if(l=i.inputs.Field,(!l||l=="field")&&(l=o),n.length<i.days+("1"-0)){i.error=!0;return}for(var D=i.startFrom;D<n.length;D++)if(u="_a",u+="vgL ",h="_",h+="av",h+="g",h+="L ",!!D&&(c=n[D],a.p9i(33),f=n[a.S59(D,"1",0)],m=e.Studies.getQuoteFieldValue(c,l),x=e.Studies.getQuoteFieldValue(f,l),!(m===null||x===null))){if(a.C_1(13),g=a.a3a(x,m),d=Math.min(D,i.days),p=f["_avgG "+i.name],p||(p=0),a.C_1(19),p-=a.S59(p,d),v=f[h+i.name],v||(v=0),a.p9i(19),v-=a.a3a(v,d),g>"0">>64)a.C_1(19),p+=a.S59(g,d);else if(g<=0)a.C_1(19),v-=a.a3a(g,d);else continue;D>=i.days&&(S="R",S+="S",S+="I",S+=" ",(p||p===0)&&(v||v===0)&&(c[S+i.name]=T(p,v))),c["_avgG "+i.name]=p,c[u+i.name]=v}i.zoneOutput="RSI"},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:14,Field:"field"},calculateFN:e.Studies.calculateRSI,range:r,outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:"20">>32,studyOverSoldColor:t}}}})):console.error("rsi feature requires first activating studies feature.")};Or=U=>{var e=se,t,r,s,i;e.j4$(),t=typeof _CIQ!="undefined"?_CIQ:U.CIQ,t.Studies?(r="a",r+="u",r+="t",r+="o",s="f",s+="ie",s+="ld",i="0 ",i+="to",i+=" 100",t.Studies.calculateSchaff=function(a,o){var n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b;n="Mo";function w(_,P,I){var O,R,C;O=null,R=null;for(var k=P-_+1;k<=P;k++)C=l[k][I+" "+o.name],C&&(O=O===null?C:Math.min(O,C),R=R===null?C:Math.max(R,C));return[O,R]}if(n+="ving A",n+="verage Type",l=o.chart.scrubbed,e.j4$(),u=o.days,h=Number(o.inputs["Short Cycle"]),c=Number(o.inputs["Long Cycle"]),l.length<Math.max(u,h,c)+1){o.error=!0;return}f=o.inputs.Field,(!f||f=="field")&&(f="Close"),m=.5,t.Studies.MA(o.inputs["Moving Average Type"],h,f,0,"_MACD1",a,o),t.Studies.MA(o.inputs[n],c,f,0,"_MACD2",a,o),x=0,g=0;for(var A=o.startFrom;A<l.length;A++)d="_PF",d+=" ",p=l[A],!(A<c-1)&&(v=p["_MACD1 "+o.name],S=p["_MACD2 "+o.name],(v||v===0||S||S===0)&&(e.C_1(13),p["_MACD "+o.name]=e.S59(S,v)),T=p["_MACD "+o.name],!(A<c+(u-1))&&(D=w(u,A,"_MACD"),x=D["1"-0]>D[0]?100*(T-D[0])/(D[1]-D[0]):x,(T||T===0)&&(p["_PF "+o.name]=l[A-1]["_PF "+o.name]?l[A-1]["_PF "+o.name]+m*(x-l[A-1]["_PF "+o.name]):x),y=p[d+o.name],!(A<c+2*(u-1))&&(D=w(u,A,"_PF"),g=D[1]>D[0]?100*(y-D[0])/(D[1]-D[0]):g,(y||y===0)&&(b="Res",b+="ult",b+=" ",p["Result "+o.name]=l[A-("1"<<64)][b+o.name]?l[A-1]["Result "+o.name]+m*(g-l[A-1]["Result "+o.name]):g))))},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Schaff:{name:"Schaff Trend Cycle",range:i,calculateFN:t.Studies.calculateSchaff,inputs:{Period:10,Field:s,"Short Cycle":23,"Long Cycle":50,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:75,studyOverBoughtColor:r,studyOverSoldValue:25,studyOverSoldColor:"auto"}}}})):console.error("schaffTrendCycle feature requires first activating studies feature.")};Nr=U=>{var e,t,r;e="u",e+="ndefi",e+="ned",t=typeof _CIQ!==e?_CIQ:U.CIQ,t.Studies?(t.Studies.calculateShinohara=function(s,i){var a=se,o,n,l,u,h,c,f;if(o=i.chart.scrubbed,o.length<i.days+1){i.error=!0;return}if(n={weakNum:0,weakDen:0,strongNum:0,strongDen:"0"|0},i.startFrom>1){l="_accu",l+="ms",l+=" ",u=-1918984189,h=1581074221,c=2;for(var m=1;a.C1g(m.toString(),m.toString().length,40054)!==u;m++)n=t.clone(o[i.startFrom*0][""%i.name]),c+=2;a.C1g(c.toString(),c.toString().length,87018)!==h&&(n=t.clone(o[i.startFrom*0][""%i.name])),n=t.clone(o[i.startFrom-("1"^0)][l+i.name])}for(var x=i.startFrom;x<o.length;x++){if(f="_a",f+="ccums ",n.weakNum+=o[x].High-o[x].Close,n.weakDen+=o[x].Close-o[x].Low,x>0){a.p9i(59);var g=a.a3a(10,20,8,17);n.strongNum+=o[x].High-o[x-g].Close,a.C_1(8);var d=a.a3a(0,1);n.strongDen+=o[x-d].Close-o[x].Low}if(x>=i.days){n.weakNum-=o[x-i.days].High-o[x-i.days].Close,n.weakDen-=o[x-i.days].Close-o[x-i.days].Low,a.C_1(15);var p=a.S59(7,96,3);if(o[x]["Weak Ratio "+i.name]=p*n.weakNum/n.weakDen,x>i.days){a.p9i(172);var v=a.a3a(10,1,2,5,0);n.strongNum-=o[x-i.days].High-o[x-i.days-v].Close,a.p9i(11);var S=a.S59(0,6,5);n.strongDen-=o[x-i.days-("1"|S)].Close-o[x-i.days].Low,a.C_1(173);var T=a.S59(18,1800,261,9,93);o[x]["Strong Ratio "+i.name]=T*n.strongNum/n.strongDen}}o[x][f+i.name]=t.clone(n)}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:t.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":"#E99B54","Weak Ratio":"#5F7CB8"}}})):(r="shinohara fe",r+="ature requires fi",r+="rst activating studies feature.",console.error(r))};Rr=U=>{var e=se,t,r,s,i,a,o,n,l,u;t=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.d7v(),t.Studies?(s="a",s+="uto",i="fiel",i+="d",a="f",a+="ie",a+="ld",o="S",o+="tochast",o+="ics (Simple)",n="a",n+="ut",n+="o",l="au",l+="t",l+="o",u="Stochastic Mom",u+="entum In",u+="dex",t.Studies.calculateStochastics=function(h,c){var f,m,x,g,d,p,v,S,T,D;if(f="%",f+="K",f+=" ",m="%K Smoothing P",m+="eriods",x="fi",x+="eld",c.smooth||(c.smooth=c.inputs.Smooth),g=c.inputs.Field,(!g||g==x)&&(g="Close"),d=c.inputs["%K Periods"],d||(d=c.days),p=c.chart.scrubbed,p.length<Math.max(d,c.days)+1){c.error=!0;return}function y(w,A,_){var P,I,O,R,C,k,F,M,L;e.p9i(15),P=e.a3a(w,1,_),e.C_1(11),e.j4$();var E=e.a3a(0,16,17);I=Number.MAX_VALUE*E,O=Number.MAX_VALUE;for(var H=P;H<=w;H++)R="H",R+="i",R+="g",R+="h",C="L",C+="o",C+="w",k="L",k+="o",k+="w",F=t.Studies.getQuoteFieldValue(p[H],A=="Close"?k:A,C),M=t.Studies.getQuoteFieldValue(p[H],A=="Close"?R:A,"High"),!(!F&&F!=="0"<<32)&&(!M&&M!==0||(O=Math.min(O,F),I=Math.max(I,M)));return I==Number.MAX_VALUE*-1||O==Number.MAX_VALUE?null:(L=I==O?0:(t.Studies.getQuoteFieldValue(p[w],A)-O)/(I-O)*100,L)}v=c.inputs[m],v&&!c.inputs.Fast?c.smooth=!0:c.smooth&&(v=3),S=c.inputs["%D Periods"],S||(S=3),c.outputs.Fast&&(T="%",T+="D",T+=" ",c.outputMap={},c.outputMap["%K "+c.name]="Fast",c.outputMap[T+c.name]="Slow");for(var b=Math.max(d,c.startFrom);b<p.length;b++)D=y(b,g,d),D!==null&&(p[b]["_Fast%K "+c.name]=D);t.Studies.MA("simple",c.smooth?v:1,"_Fast%K "+c.name,0,"%K",h,c),t.Studies.MA("simple",S,f+c.name,0,"%D",h,c)},t.Studies.calculateStochMomentum=function(h,c){var f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P;e.d7v(),f="%",f+="K",m="_DH",m+="L1",m+=" ";function I(F,M){var L,E;L=null,E=null;for(var H=M-F+1;H<=M;H++)L=L===null?b[H].Low:Math.min(L,b[H].Low),E=E===null?b[H].High:Math.max(E,b[H].High);return[L,E]}if(x="_",x+="DH",x+="L",x+="1",g="_",g+="H",g+="S2",d="_",d+="HS1 ",p="_",p+="H",p+="S1",v="%",v+="D Periods",S=Number(c.inputs["%K Periods"]),T=Number(c.inputs["%K Smoothing Periods"]),D=Number(c.inputs["%K Double Smoothing Periods"]),y=Number(c.inputs[v]),b=c.chart.scrubbed,b.length<S+T+D-1||b.length<y){c.error=!0;return}for(w=Math.max(S,c.startFrom)-1;w<b.length;w++){A="_",A+="DH",A+="L",A+=" ",_=b[w],P=I(S,w),e.C_1(8);var O=e.a3a(0,1);e.C_1(1);var R=e.a3a(190,18,6,14);_["_H "+c.name]=_.Close-(P[0]+P[O])/R,e.C_1(174);var C=e.S59(18,1,15,3,10);_[A+c.name]=P[C]-P["0"^0]}for(t.Studies.MA("exponential",T,"_H "+c.name,0,p,h,c),t.Studies.MA("exponential",D,d+c.name,0,g,h,c),t.Studies.MA("exponential",T,"_DHL "+c.name,0,x,h,c),t.Studies.MA("exponential",D,m+c.name,0,"_DHL2",h,c),w=S-1;w<b.length;w++){e.p9i(38);var k=e.a3a(100,14,3,2,4);b[w]["%K "+c.name]=b[w]["_HS2 "+c.name]/(.5*b[w]["_DHL2 "+c.name])*k}t.Studies.MA(c.inputs["%D Moving Average Type"],y,"%K "+c.name,0,"%D",h,c),c.zoneOutput=f},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Stch Mtm":{name:u,calculateFN:t.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":"3"-0,"%K Double Smoothing Periods":"3"-0,"%D Periods":10,"%D Moving Average Type":"ema"},outputs:{"%K":l,"%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:40,studyOverBoughtColor:n,studyOverSoldValue:-40,studyOverSoldColor:"auto"}}},stochastics:{name:o,range:"0 to 100",calculateFN:t.Studies.calculateStochastics,inputs:{Period:14,Field:a,Smooth:!0},outputs:{Fast:"auto",Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}},Stochastics:{name:"Stochastics",range:"0 to 100",calculateFN:t.Studies.calculateStochastics,inputs:{Field:i,"%K Periods":14,Fast:!1,"%K Smoothing Periods":3,"%D Periods":"3"|3},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:s}},attributes:{"%K Smoothing Periods":{hidden:function(){return e.d7v(),this.inputs.Fast}}},centerline:50}})):(r="stochastics feature requires first activating studies",r+=" f",r+="eature.",console.error(r))};Wr=U=>{var e=se,t,r,s;t="undefine",e.j4$(),t+="d",r=typeof _CIQ!==t?_CIQ:U.CIQ,r.Studies?(s="#b",s+="8",s+="2c0c",r.Studies.calculateSupertrend=function(i,a){var o,n,l,u,h,c,f,m,x,g,d,p,v;if(o=a.chart.scrubbed,o.length<a.days+1){a.error=!0;return}r.Studies.calculateStudyATR(i,a);for(var S=a.startFrom;S<o.length;S++)if(n="_Downtre",n+="nd ",l="_",l+="Uptr",l+="e",l+="nd ",u="_Di",u+="r",u+="ectio",u+="n ",h="A",h+="TR",h+=" ",c=o[S],!!c){e.C_1(146);var T=e.S59(4,4,16,2);f=(c.High+c.Low)/T,m=a.inputs.Multiplier*c[h+a.name],e.C_1(13),x=e.S59(m,f),e.C_1(8),g=e.a3a(f,m),S&&(d="_Downtre",d+="n",d+="d",d+=" ",p="_Up",p+="trend",p+=" ",o[S-1]&&o[S-1].Close&&o[S-1].Close>o[S-1]["_Uptrend "+a.name]&&o[S-1]["_Uptrend "+a.name]>x&&(e.C_1(13),x=o[e.S59(1,S)][p+a.name]),o[S-1]&&o[S-1].Close&&o[S-1].Close<o[S-1][d+a.name]&&o[S-("1"^0)]["_Downtrend "+a.name]<g&&(e.C_1(13),g=o[e.a3a(1,S)]["_Downtrend "+a.name])),c[u+a.name]=1,S&&(v="_D",v+="ire",v+="c",v+="tion ",e.C_1(13),c["_Direction "+a.name]=o[e.S59(1,S)]["_Direction "+a.name],c.Close>o[S-1]["_Downtrend "+a.name]?c[v+a.name]=1:c.Close<o[S-1]["_Uptrend "+a.name]&&(c["_Direction "+a.name]=-1)),c[l+a.name]=x,c[n+a.name]=g,c["Trend "+a.name]=c["_Direction "+a.name]>0?x:g}a.outputMap={},e.j4$(),a.outputMap["Trend "+a.name]=""},r.Studies.displaySupertrend=function(i,a,o){var n,l,u,h,c,f,m,x,g,d,p,v,S,T;n=i.panels[a.panel],l=a.getContext(i),u=a.getYAxis(i),h={skipTransform:n.name!=a.chart.name,skipProjections:!0,label:i.preferences.labels,yAxis:u,highlight:a.highlight},c="Trend "+a.name;for(var D=0;n.chart.transformFunc&&u!=n.chart.yAxis&&D<o.length;D++)f=o[D],f&&f.transform&&(f.transform[c]=n.chart.transformFunc(i,n.chart,f[c]));i.plotDataSegmentAsLine(c,n,h,y),l.lineWidth=1;function y(A,_,P){return e.d7v(),_&&_["_Direction "+a.name]<0?a.outputs.Downtrend:a.outputs.Uptrend}for(l.globalAlpha=1,i.startClip(a.panel),!a.highlight&&i.highlightedDraggable&&(l.globalAlpha*=.3),m=l.measureText("▲").width/2,x="0"<<32;x<o.length;x++)if(p="_Directi",p+="on ",!!o[x]&&(v=o[x][p+a.name],!!v)){if(d>v){g=r.Studies.determineColor(a.outputs.Downtrend),(!g||g=="auto"||r.isTransparent(g))&&(g=i.defaultColor),l.fillStyle=g,l.textBaseline="bottom",S=i.pixelFromPrice(o[x].High,n,u);for(var b=5;b<=("45"^0);b+="10">>0)u.flipped?l.fillText("▲",i.pixelFromBar(x)-m,S+b):l.fillText("▼",i.pixelFromBar(x)-m,S-b)}else if(d<v){g=r.Studies.determineColor(a.outputs.Uptrend),(!g||g=="auto"||r.isTransparent(g))&&(g=i.defaultColor),l.fillStyle=g,l.textBaseline="top",T=i.pixelFromPrice(o[x].Low,n,u);for(var w="5">>32;w<="45"<<64;w+=10)u.flipped?l.fillText("▼",i.pixelFromBar(x)-m,T-w):l.fillText("▲",i.pixelFromBar(x)-m,T+w)}d=v}e.j4$(),i.endClip()},r.Studies.studyLibrary=r.extend(r.Studies.studyLibrary,{Supertrend:{name:"Supertrend",overlay:!0,seriesFN:r.Studies.displaySupertrend,calculateFN:r.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:s},attributes:{Multiplier:{min:.1,step:.1}}}})):console.error("supertrend feature requires first activating studies feature.")};jr=U=>{var e,t;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.Studies?(t="Swin",t+="g In",t+="de",t+="x",e.Studies.calculateSwingIndex=function(r,s){var i=se,a,o,n,l,u,h,c,f,m,x,g,d;if(a="L",a+="imit ",a+="Mov",a+="e Value",o=s.inputs[a],(o<=0||isNaN(o))&&(o=99999),n=s.chart.scrubbed,i.p9i(3),l=i.a3a("0",32),s.startFrom>1){i.C_1(55);var p=i.S59(17,16);l=n[s.startFrom-p]["Result "+s.name]}for(var v=Math.max(1,s.startFrom);v<n.length;v++){u=Math.abs(n[v].High-n[v-1].Close),h=Math.abs(n[v].Low-n[v-1].Close),c=Math.abs(n[v].High-n[v].Low),f=Math.abs(n[v-1].Close-n[v-1].Open),m=Math.max(u,h),x=Math.max(c,m),i.p9i(28),g=i.S59(x,.25,f),x==u?(i.p9i(5),g-=i.S59(h,.5)):x==h&&(i.p9i(155),g-=i.a3a(u,1,"0.5")),i.p9i(8);var S=i.S59(10,40);i.C_1(57);var T=i.S59(76,15,5);i.p9i(55);var D=i.S59(7,6);d=S*(n[v].Close-n[v-T].Close+.5*(n[v].Close-n[v].Open)+.25*(n[v-D].Close-n[v-1].Open))/g*(m/o),(g===0||o===0)&&(d=0),s.type=="Swing"&&(l=0),l+=d,n[v]["Result "+s.name]=l}},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{"Acc Swing":{name:"Accumulative Swing Index",calculateFN:e.Studies.calculateSwingIndex,inputs:{"Limit Move Value":.5},attributes:{"Limit Move Value":{min:.01,step:.01}}},Swing:{name:t,calculateFN:e.Studies.calculateSwingIndex,inputs:{"Limit Move Value":.5},attributes:{"Limit Move Value":{min:.01,step:.01}}}})):console.error("swingIndex feature requires first activating studies feature.")};Vr=U=>{var e,t,r,s,i,a,o,n,l,u,h;if(e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,!e.Studies)console.error("trendIntensity feature requires first activating studies feature.");else{e.Studies.calculateTrendIntensity=function(f,m){var x=se,g,d,p,v,S,T,D,y,b,w,A;g="TI",g+="I";function _(P,I){return Math.abs(I)<1e-8?100:(x.p9i(175),x.a3a(1,I,100,100,P))}if(g+=" ",d="Sign",d+="al Period",p="C",p+="lose",v=m.chart.scrubbed,v.length<m.days+1){m.error=!0;return}for(S=m.inputs.Field,(!S||S=="field")&&(S=p),e.Studies.MA("ma",m.days,S,0,"_SMA",f,m),T=0,D=0,x.d7v(),w=[],A=Math.ceil(m.days/2),y=Math.max(0,m.startFrom-A);y<v.length;y++)!v[y]["_SMA "+m.name]&&v[y]["_SMA "+m.name]!==0||(b=e.Studies.getQuoteFieldValue(v[y],S)-v[y]["_SMA "+m.name],b<0?(x.C_1(176),D+=x.a3a(b,1)):T+=b,w.push(b),w.length>A&&(b=w.shift(),b<0?(x.C_1(176),D-=x.S59(b,1)):T-=b),!(y<m.startFrom)&&(v[y]["TII "+m.name]=_(T,D)));e.Studies.MA("ema",m.inputs[d],g+m.name,0,"Signal",f,m)},t=-805289413,r=-324149154,s=2;for(var c=1;se.M0S(c.toString(),c.toString().length,96814)!==t;c++)i="Si",i+="g",i+="nal Pe",i+="riod",a="au",a+="t",a+="o",o="Sign",o+="al Pe",o+="ri",o+="od",e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{"Trend Int":{name:"auto",calculateFN:e.Studies.calculateTrendIntensity,range:"auto",inputs:{Period:53,Field:o,"Signal Period":2},outputs:{TII:"auto",Signal:"auto"},parameters:{init:{studyOverZonesEnabled:!1,studyOverBoughtValue:57,studyOverBoughtColor:a,studyOverSoldValue:60,studyOverSoldColor:i}}}}),s+=2;se.C1g(s.toString(),s.toString().length,49815)!==r&&(n="a",n+="ut",n+="o",l="#",l+="FF0000",u="fi",u+="e",u+="l",u+="d",h="0",h+=" t",h+="o ",h+="100",e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{"Trend Int":{name:"Trend Intensity Index",calculateFN:e.Studies.calculateTrendIntensity,range:h,inputs:{Period:14,Field:u,"Signal Period":9},outputs:{TII:"auto",Signal:l},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:n,studyOverSoldValue:20,studyOverSoldColor:"auto"}}}}))}};Yr=U=>{var e,t;e="und",e+="ef",e+="in",e+="ed",t=typeof _CIQ!==e?_CIQ:U.CIQ,t.Studies?(t.Studies.calculateTRIX=function(r,s){var i=se,a,o,n,l,u,h,c,f;if(a="_MA1",a+=" ",o=s.chart.scrubbed,o.length<s.days+1){s.error=!0;return}i.d7v(),n=s.name,i.p9i(8),l=["Close",i.S59(a,n),i.a3a("_MA2 ",n),i.S59("_MA3 ",n)];for(var m=0;m<l.length-1;m++)u="_",u+="M",u+="A",t.Studies.MA("exponential",s.days,l[m],0,u+(m+1).toString(),r,s);h=l[3];for(var x=Math.max(1,s.startFrom);x<o.length;x++)i.p9i(13),c=o[i.a3a(1,x)][h],c&&(f=o[x][h],(f||f===0)&&(i.p9i(8),o[x][i.S59("Result ",n)]=i.a3a(f,100,1,c,i.C_1(158))))},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{TRIX:{name:"TRIX",calculateFN:t.Studies.calculateTRIX}})):console.error("trix feature requires first activating studies feature.")};zr=U=>{var e=se,t,r;t=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.j4$(),t.Studies?(r="Twiggs Mone",r+="y Flow",t.Studies.calculateTwiggsMoneyFlow=function(s,i){var a,o,n,l,u,h;if(a=i.chart.scrubbed,a.length<i.days){i.error=!0;return}o=0,n=0,e.p9i(177),e.d7v();var c=e.a3a(6,2,13,10);l=a[i.startFrom-c],l&&(l["_sumMF "+i.name]&&(o=l["_sumMF "+i.name]),l["_sumV "+i.name]&&(n=l["_sumV "+i.name]));for(var f=Math.max(1,i.startFrom);f<a.length;f++){u=Math.max(a[f-1].Close,a[f].High),h=Math.min(a[f-1].Close,a[f].Low),e.p9i(13);var m=e.S59(8,40);e.p9i(11);var x=e.S59(999988,17,6);if(a[f]["_MFV "+i.name]=a[f].Volume*(("2"<<m)*a[f].Close-u-h)/(u-h===0?x:u-h),f>i.days-1){e.p9i(77);var g=e.a3a(6,24,2);o*=(i.days-("1">>g))/i.days,n*=(i.days-1)/i.days}o+=a[f]["_MFV "+i.name],n+=a[f].Volume,f>i.days-1&&n&&(e.C_1(19),a[f]["Result "+i.name]=e.S59(o,n>0?n:999999)),a[f]["_sumMF "+i.name]=o,a[f]["_sumV "+i.name]=n}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Twiggs:{name:r,calculateFN:t.Studies.calculateTwiggsMoneyFlow,inputs:{Period:"21"^0}}})):console.error("twiggsMoneyFlow feature requires first activating studies feature.")};Br=U=>{var e,t;se.d7v(),e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.Studies?e.Studies.calculateTypicalPrice?e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:e.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:"Weighted Close",calculateFN:e.Studies.calculateTypicalPrice,inputs:{Period:14}}}):(t="t",t+="ypicalPrice feature requires first activating medianPrice feature.",console.error(t)):console.error("typicalPrice feature requires first activating studies feature.")};qr=U=>{var e,t,r;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,se.j4$(),e.Studies?(r="Ulcer Inde",r+="x",e.Studies.calculateUlcerIndex=function(s,i){var a,o,n,l,u,h,c,f,m;function x(g,d,p){var v,S,T,D;v=null;for(var y=d-g+1;y<=d;y++)y<0||(v=v===null?e.Studies.getQuoteFieldValue(u[y],p):Math.max(v,e.Studies.getQuoteFieldValue(u[y],p)));S=380456430,T=755096953,D=2;for(var b="1"|0;se.C1g(b.toString(),b.toString().length,81299)!==S;b++)return v;if(se.M0S(D.toString(),D.toString().length,68485)!==T)return v}if(a="_",a+="M",a+="A",o="_",o+="PD",o+="2",o+=" ",n="Cl",n+="o",n+="s",n+="e",l="fie",l+="l",l+="d",u=i.chart.scrubbed,u.length<"2"*1*i.days-("1"^0)){i.error=!0;return}for(h=i.inputs.Field,(!h||h==l)&&(h=n),c=Math.max(i.startFrom,i.days-1);c<u.length;c++)u[c]["_PD2 "+i.name]=Math.pow(100*(e.Studies.getQuoteFieldValue(u[c],h)/x(i.days,c,h)-1),2);for(e.Studies.MA("simple",i.days,o+i.name,0,a,s,i),c=Math.max(i.startFrom,2*(i.days-1));c<u.length;c++)f="R",f+="esult ",m=u[c]["_MA "+i.name],(m||m===0)&&(u[c][f+i.name]=Math.sqrt(m))},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{Ulcer:{name:r,calculateFN:e.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}}})):(t="ulcerIndex feature requires first acti",t+="vating studi",t+="es feature.",console.error(t))};Ur=U=>{var e,t,r;e=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.Studies?(t="au",t+="to",r="Ultimate O",r+="scil",r+="lato",r+="r",e.Studies.calculateUltimateOscillator=function(s,i){var a=se,o,n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P;if(o="C",o+="ycl",o+="e ",o+="3",n="Cyc",n+="le",n+=" ",n+="2",l=i.chart.scrubbed,u=[i.inputs["Cycle 1"],i.inputs[n],i.inputs[o]],h=Math.max(u[0],u[1],u[2]),l.length<h+1){i.error=!0;return}a.p9i(32);var I=a.S59(2,6,7,21);c=u[0]*u[I],a.p9i(13);var O=a.a3a(16,18);a.d7v(),f=u[0]*u[O],a.C_1(13);var R=a.a3a(15,16);a.p9i(20);var C=a.a3a(2,4,1);m=u[R]*u[C],x=[0,0,0],g=[0,0,0],i.startFrom&&(d="_ac",d+="ct",d+="r",d+=" ",l[i.startFrom-1]["_accbp "+i.name]&&(x=l[i.startFrom-1]["_accbp "+i.name].slice()),l[i.startFrom-1][d+i.name]&&(g=l[i.startFrom-1]["_acctr "+i.name].slice()));for(var k=Math.max(1,i.startFrom);k<l.length;k++){p="Result",p+=" ",v="_ac",v+="ct",v+="r ",S="_",S+="a",S+="ccbp",S+=" ",T=Math.min(l[k].Low,l[k-1].Close),D=l[k].Close-T,a.C_1(178);var F=a.a3a(111,16,3,9,11);y=Math.max(l[k].High,l[k-F].Close)-T;for(var M=0;M<u.length;M++)if(x[M]+=D,g[M]+=y,k>u[M]){b=Math.min(l[k-u[M]].Low,l[k-u[M]-1].Close),w=l[k-u[M]].Close-b,a.p9i(20);var L=a.S59(12,5,3);A=Math.max(l[k-u[M]].High,l[k-u[M]-L].Close)-b,x[M]-=w,g[M]-=A}if(l[k][S+i.name]=x.slice(),l[k][v+i.name]=g.slice(),!(k<h)){a.C_1(36);var E=a.S59(2,2,68);a.p9i(114);var H=a.a3a(20,18,5,5,5);a.p9i(118);var N=a.S59(1,14,14,16,16);a.C_1(15);var j=a.a3a(1,18,17);a.C_1(179);var W=a.a3a(275,7,21,11,13);_=m*x[0]/g["0">>E]+f*x[H]/g[N]+c*x[j]/g[W],a.p9i(77),P=a.a3a(f,c,m),a.p9i(101),l[k][p+i.name]=a.a3a(100,_,P)}}},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{Ultimate:{name:r,calculateFN:e.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":28},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:t,studyOverSoldValue:30,studyOverSoldColor:"auto"}}}})):console.error("ultimateOscillator feature requires first activating studies feature.")};Qr=U=>{var e=se,t,r,s,i;e.j4$(),t=typeof _CIQ!="undefined"?_CIQ:U.CIQ,t.Studies?(s="#",s+="85",s+="c99e",i="h",i+="armoni",i+="c",t.Studies.calculateValuationLines=function(a,o,n){var l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P;l="Averag",l+="e",l+=" T",l+="ype",u="C",u+="lo",u+="s",u+="e",h="f",h+="i",h+="eld",c=o.inputs.Field==h?u:o.inputs.Field,f=o.inputs[l],m=o.inputs["Display Average"],e.d7v(),x=o.inputs["Display 1 Standard Deviation (1σ)"],g=o.inputs["Display 2 Standard Deviation (2σ)"],d=o.inputs["Display 3 Standard Deviation (3σ)"],p=[];for(var I="0"|0;I<n.length;++I)v=t.Studies.getQuoteFieldValue(n[I],c),v!==null&&p.push(v);S=function(R,C){var k,F,M,L,E,H,N;switch(k="me",k+="dia",k+="n",F=R.length,M=0,L=0,E=0,C){case"mean":for(L=F;E<F;++E)M+=R[E];break;case"harmonic":for(M=F;E<F;++E){e.C_1(180);var j=e.a3a(17,12,7,9,9);L+=j/R[E]}break;case k:if(e.C_1(19),H=Math.floor(e.a3a(F,2)),N=R.slice().sort(function(V,Y){return V>Y?1:V<Y?-1:0}),F%2===0){e.p9i(13);var W=e.S59(15,16);M=N[H]+N[H-W],e.C_1(3),L=e.S59("2",64)}else M=N[H],L=1;break}return e.j4$(),e.C_1(19),e.S59(M,L)}(p,f),T=!(x||g||d)||function(R,C){var k,F;k=R.length,F=0;for(var M=0;M<k;++M)F+=Math.pow(R[M]-C,2);return e.j4$(),e.C_1(19),Math.sqrt(e.a3a(F,k))}(p,S),o.data={Average:m?[S]:null,"1 Standard Deviation (1σ)":x?[S+T,S-T]:null,"2 Standard Deviation (2σ)":g?[S+T*2,S-T*2]:null,"3 Standard Deviation (3σ)":d?[S+T*3,S-T*3]:null},D=232882133,y=-345288816,b=2;for(var O=1;e.M0S(O.toString(),O.toString().length,58261)!==D;O++)w=T,+o.parameters&&(o.parameters={}),b+=2;e.C1g(b.toString(),b.toString().length,84530)!==y&&(w=T,o.parameters||(o.parameters={})),d?(e.C_1(181),o.parameters.range=[e.S59(T,w,S,3),e.S59(w,3,T,S,e.p9i(182))]):g?(e.p9i(181),o.parameters.range=[e.S59(T,w,S,2),e.S59(w,2,T,S,e.p9i(182))]):x?(e.p9i(36),o.parameters.range=[e.a3a(w,T,S),e.a3a(T,w,S,e.C_1(77))]):m&&(e.p9i(13),o.parameters.range=[e.S59(w,S),e.a3a(S,w,e.C_1(8))]),o.panel&&(A=a.panels[o.panel],_=a.getYAxisByName(A,o.name),_&&(_.decimalPlaces=A.chart.yAxis.printDecimalPlaces,P={yAxis:_},a.calculateYAxisRange(A,_,o.parameters.range[0],o.parameters.range[1]),a.createYAxis(A,P),a.drawYAxis(A,P)))},t.Studies.displayValuationLines=function(a,o){var n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k,F;n="st",n+="x_y",n+="axis",l="ci",l+="q-valuation-aver",l+="age-line",u="Average Typ",u+="e",h=a.panels[o.panel],c=o.getYAxis(a),f=o.getContext(a),m=o.data,x=o.parameters.labels,g=o.inputs[u],d={mean:"AVG",median:"MED",harmonic:"HAVG"},p=a.canvasStyle(l),v=a.canvasStyle("ciq-valuation-deviation-line"),S=3,e.C_1(57);var M=e.S59(70,17,4);T=a.getCanvasFontSize(n)+S*M;for(var L in m)if(R="A",R+="ver",R+="a",R+="ge",!!m[L]){for(e.p9i(183),D=e.S59(R,L),y=t.Studies.determineColor(o.outputs[L]),b=m[L],w=0;w<b.length;++w)if(C="l",C+="i",C+="n",C+="e",k="s",k+="olid",A=b[w],_=a.pixelFromPrice(A,h,c),!(_<=h.top||_>=h.yAxis.bottom)){if(O=D?{pattern:p.borderStyle!="none"?p.borderStyle||k:"solid",lineWidth:parseFloat(p.borderWidth)||1,opacity:parseFloat(p.opacity)||1,yAxis:c}:{pattern:v.borderStyle!="none"&&v.borderStyle||"dashed",lineWidth:parseFloat(v.borderWidth)||1,opacity:parseFloat(v.opacity)||1,yAxis:c},a.plotLine(h.left,h.right,_,_,y,C,f,h,O),x==="yaxis"){a.createYAxisLabel(h,a.formatYAxisPrice(A,h),_,y,null,f,c);continue}_+=Math.floor(O.lineWidth/2),!(_+T>=h.yAxis.bottom)&&(P=(D?d[g]+": ":L[0]+"σ: ")+a.formatYAxisPrice(A,h),I=f.measureText(P).width,F=h.right-I-S,c&&c.position=="left"&&(F=h.left+S),e.C_1(184),f.strokeText(P,F,e.a3a(T,_,.5,"2")))}}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(a,o,n){t.Studies.calculateValuationLines(a,o,n),t.Studies.displayValuationLines(a,o)},overlay:!0,yAxisFN:function(){},inputs:{Field:"field","Average Type":["mean","median",i],"Display Average":!0,"Display 1 Standard Deviation (1σ)":!1,"Display 2 Standard Deviation (2σ)":!1,"Display 3 Standard Deviation (3σ)":!1},outputs:{Average:"#00afed","1 Standard Deviation (1σ)":"#e1e1e1","2 Standard Deviation (2σ)":s,"3 Standard Deviation (3σ)":"#fff69e"}}})):(r="valuati",r+="onLines",r+=" feature requires first activating s",r+="tudies feature.",console.error(r))};Zr=U=>{var e=se,t,r,s;t=typeof _CIQ!="undefined"?_CIQ:U.CIQ,e.d7v(),t.Studies?(r="a",r+="u",r+="t",r+="o",s="fi",s+="el",s+="d",t.Studies.calculateRelativeVolatility=function(i,a){var o,n,l,u,h,c,f,m,x,g,d,p;a.days=Number(a.inputs["Smoothing Period"]);function v(b,w){return b+w===0?100:(e.p9i(153),e.S59(100,b,w,b))}if(o=Number(a.inputs["STD Period"]),n=a.chart.scrubbed,n.length<a.days+o){a.error=!0;return}l=a.inputs.Field,(!l||l=="field")&&(l="Close"),a.std=new t.Studies.StudyDescriptor(a.name,"sdev",a.panel),a.std.chart=a.chart,a.std.days=o,a.std.startFrom=a.startFrom,a.std.inputs={Field:l,"Standard Deviations":1,Type:"ma"},a.std.outputs={_STD:null},t.Studies.calculateStandardDeviation(i,a.std),u=0,h=0,a.startFrom>1&&(c="_a",c+="vg",c+="G",c+=" ",u=n[a.startFrom-1][c+a.name]||0,h=n[a.startFrom-1]["_avgL "+a.name]||0);for(var S=Math.max(a.startFrom,a.days);S<n.length;S++)if(f="_ST",f+="D",f+=" ",m=n[S],e.p9i(13),x=n[e.S59(1,S)],g=t.Studies.getQuoteFieldValue(m,l),d=t.Studies.getQuoteFieldValue(x,l),!(g===null||d===null)&&!(!m[f+a.name]&&m["_STD "+a.name]!=="0"*1)){if(g>d){e.p9i(13);var T=e.a3a(7,8);u=(u*(a.days-T)+m["_STD "+a.name])/a.days,h=h*(a.days-("1"^0))/a.days}else{p="_",p+="S",p+="TD",p+=" ",e.p9i(185);var D=e.a3a(16,0,9,63,9);h=(h*(a.days-D)+m[p+a.name])/a.days,e.C_1(13);var y=e.a3a(14,15);u=u*(a.days-y)/a.days}m["Rel Vol "+a.name]=v(u,h),m["_avgG "+a.name]=u,m["_avgL "+a.name]=h}e.d7v(),a.zoneOutput="Rel Vol"},t.Studies.calculateHistoricalVolatility=function(i,a){var o,n,l,u,h,c,f,m,x,g;o="fie";function d(T){return isNaN(T)&&(e.C_1(13),T=e.a3a(0,"365")),i.layout.interval=="day"?T:i.layout.interval=="week"?52:i.layout.interval=="month"?12:(e.d7v(),T)}if(o+="l",o+="d",n=a.chart.scrubbed,n.length<a.days+("1"|0)){a.error=!0;return}if(l=a.inputs.Field,(!l||l==o)&&(l="Close"),u=a.inputs["Standard Deviations"],u<0&&(e.p9i(13),u=e.S59(0,"1")),h=100*Math.sqrt(d(a.inputs["Days Per Year"]))*u,c=[],e.p9i(4),f=e.S59(0,"0"),a.startFrom>1){e.p9i(186);var p=e.a3a(15,13,5,11,75);f=n[a.startFrom-p]["_state "+a.name][0],c=n[a.startFrom-("1"-0)]["_state "+a.name][1].slice()}for(var v=Math.max(1,a.startFrom);v<n.length;v++){if(m=t.Studies.getQuoteFieldValue(n[v-1],l),m&&(x=Math.log(t.Studies.getQuoteFieldValue(n[v],l)/m),c.push(x),f+=x,v>=a.days)){g=0,f/=a.days;for(var S=0;S<c.length;S++)g+=Math.pow(c[S]-f,2);f*=a.days,f-=c.shift(),n[v]["Result "+a.name]=Math.sqrt(g/a.days)*h}n[v]["_state "+a.name]=[f,c.slice()]}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Hist Vol":{name:"Historical Volatility",calculateFN:t.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:s,"Days Per Year":[252,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:"0.1"-0,step:.1}}},"Rel Vol":{name:"Relative Volatility",range:"0 to 100",calculateFN:t.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":r},centerline:50,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}})):console.error("volatilityIndex feature requires first activating studies feature.")};$r=U=>{var e,t,r,s;e="und",e+="e",e+="fine",e+="d",t=typeof _CIQ!==e?_CIQ:U.CIQ,t.Studies?(r="#b",r+="64a96",s="V",s+="olume Profile",t.Studies.displayVolumeProfile=function(i,a,o){var n=se,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I;if(l="col",l+="o",l+="r",u="Width P",u+="ercen",u+="t",u+="age",!i||!i.chart.dataSet)return;function O(X){var Z,ae,te,re,oe,B,G,ie,ne,le,fe,ue,ge,ce,de,he,pe;i.canvasColor(h),n.d7v(),f.beginPath(),Z=De=>(n.d7v(),Math.round(De)),ae=De=>(n.d7v(),Z(i.pixelFromTransformedValue(De))),te=Z(R.width*N),re=Z(R.right)-2.5,oe=re,n.C_1(2);for(var[me]=x[n.S59(0,"0")],xe=1;xe<x.length;xe++){var[ye,be]=x[xe];if(be){n.p9i(101),B=n.S59(be,te,d),G=Z(re-B)+(X?-.5:0),n.C_1(1);var _e=n.a3a(98,2,11,7);if(ie=ae(ye)+(X?.5:_e),ne=ae(me)+(X?.5:0),le=Math.max(ie,k.top),fe=Math.min(ne,k.bottom),ue=le<=k.bottom&&fe>=k.top,ue){if(f.moveTo(re,fe),f.lineTo(re,le),f.lineTo(G,le),f.lineTo(G,fe),X)(xe==1||oe>G)&&f.lineTo(oe,fe);else if(f.lineTo(re,fe),H&&(ge=t.condenseInt(be),n.C_1(13),ce=n.a3a(le,fe),_<=ce-2)){de="t",de+="o",de+="p",n.p9i(2),he=void n.a3a(0,"0");try{({width:he}=f.measureText(ge))}catch(De){he=0}f.textBaseline=de,pe=f.fillStyle,f.fillStyle=P,n.C_1(187),f.fillText(ge,n.a3a(he,0,"3",G),n.S59(2,ce,le,"2",_,n.p9i(188))),f.fillStyle=pe}}oe=G}else oe=re;me=ye}!a.highlight&&i.highlightedDraggable&&(f.globalAlpha*=.3),X||f.fill(),f.strokeStyle=P,X&&f.stroke(),f.closePath()}h="stx_",h+="volume_profile",c="stx-float-date",f=a.getContext(i);var{chart:R}=i,{panel:C}=R,{yAxis:k}=C,{flipped:F}=k,{highValue:M,lowValue:L}=R,{displayBorder:E=a.inputs["Display Border"],displayVolume:H=a.inputs["Display Volume"],widthPercentage:N=a.inputs[u],numberBars:j=a.inputs["Price Buckets"]}=a.parameters;if(E!==!1&&(E=!0),H!==!0&&(H=!1),(!N||N<0)&&(N=.25),(!j||j<0)&&(j=30),j=Math.ceil(j),n.C_1(34),m=n.S59(L,M,j),m!==0){x=[],F&&([M,L]=[L,M]),g=F?-1:1;for(var W=L,V=0;V<=j;W+=m*g,V++)x.push([W,0]);d=0;for(var Y=0;Y<o.length;Y++)if(p=o[Y],p!==null){var{Volume:Q}=p;if(Q){var{High:z,Low:$}=p.transform||p;v=[],n.C_1(3),S=x[n.S59("0",64)][0],T=null;for(var K=1;K<x.length;K++)T=x[K][0],D=$>=S&&$<=T,y=z>=S&&z<=T,b=$<S&&z>T,(D||y||b)&&v.push(K),S=T;if(v.length){w=Q/v.length;for(var q=0;q<v.length;q++)A=x[v[q]][1]+=w,A>d&&(d=A)}}}if(d===0){i.displayErrorAsWatermark("chart",i.translateIf("Not enough data to render the Volume Profile"));return}i.setStyle(h,l,t.Studies.determineColor(a.outputs["Bars Color"])),_=i.getCanvasFontSize(c),P=i.canvasStyle(h).borderTopColor,I=E&&!t.isTransparent(P),i.canvasFont(c,f),O(),I&&O(!0),f.globalAlpha=1}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"vol profile":{name:s,underlay:!0,seriesFN:t.Studies.displayVolumeProfile,calculateFN:null,inputs:{"Display Border":!0,"Display Volume":!1,"Price Buckets":30,"Width Percentage":.25},outputs:{"Bars Color":r},customRemoval:!0,attributes:{yaxisDisplayValue:{hidden:!0},panelName:{hidden:!0},flippedEnabled:{hidden:!0}}}})):console.error("volumeProfile feature requires first activating studies feature.")};Gr=U=>{var e,t,r,s,i,a,o,n,l,u,h,c;e="unde",e+="fin",e+="ed",t=typeof _CIQ!==e?_CIQ:U.CIQ,t.Studies?(s="0",s+=" to m",s+="ax",i="Volume Und",i+="erla",i+="y",a="Pri",a+="ce Volume Trend",o="au",o+="to",n="m",n+="a",l="Posi",l+="t",l+="ive",l+=" Volume Index",u="On Balance ",u+="V",u+="ol",u+="ume",h="#F",h+="F0",h+="00",h+="0",c="Nega",c+="tive Volume",c+=" Index",t.Studies.calculateOnBalanceVolume=function(f,m){var x=se,g,d,p,v,S,T,D,y,b,w,A,_,P,I;g="C",g+="l",g+="ose",d=m.inputs.Field,(!d||d=="field")&&(d=g),p=m.inputs["Min Tick Value"],v=!1,!p&&p!==0&&(v=!0,p=0),S=m.chart.scrubbed,T=0;for(var O=m.startFrom;O<S.length;O++)b="R",b+="es",b+="ult",b+=" ",w="Resu",w+="lt ",D=S[O],A=t.Studies.getQuoteFieldValue(D,d),!(!O||!A)&&(S[O-1][d]&&(x.p9i(13),y=S[x.a3a(1,O)]),y&&(_=t.Studies.getQuoteFieldValue(y,d),A-_>p?T=1:_-A>p?T=-1:v&&(T=0),P=y[w+m.name],P||(P=0),I=D.Volume,typeof D[d]=="object"&&(I=D[d].Volume),x.C_1(5),P+=x.a3a(T,I),D[b+m.name]=P))},t.Studies.calculatePriceVolumeTrend=function(f,m){var x,g,d,p,v,S;if(x=m.inputs.Field,(!x||x=="field")&&(x="Close"),se.d7v(),g=m.chart.scrubbed,d=0,m.startFrom>1){se.p9i(48);var T=se.a3a(12,7,20,4);d=g[m.startFrom-T]["Result "+m.name]}for(var D=Math.max(1,m.startFrom);D<g.length;D++)p="R",p+="esult ",v=t.Studies.getQuoteFieldValue(g[D],x),S=t.Studies.getQuoteFieldValue(g[D-1],x),!(v===null||S===null)&&(d+=g[D].Volume*(v-S)/S,g[D][p+m.name]=d)},t.Studies.calculateVolumeIndex=function(f,m){var x=se,g,d,p,v,S,T,D,y,b,w,A,_;if(g="M",g+="A",d="Moving",d+=" Average",d+=" T",d+="ype",p="C",p+="los",p+="e",v=m.inputs.Field,(!v||v=="field")&&(v=p),S=m.chart.scrubbed,S.length<m.days+1){m.error=!0;return}T=100,m.startFrom>1&&(T=S[m.startFrom-1]["Index "+m.name]);for(var P=Math.max(1,m.startFrom);P<S.length;P++)D="Ind",D+="ex ",y="N",y+="eg V",y+="ol",b=S[P][v],w=S[P].Volume,b&&typeof b=="object"&&(w=b.Volume,b=b[m.subField]),x.p9i(96),A=S[x.a3a(P,32,"1")][v],_=S[P-1].Volume,A&&typeof A=="object"&&(_=A.Volume,A=A[m.subField]),b&&A&&((m.type=="Pos Vol"&&w>_||m.type==y&&w<_)&&(x.p9i(19),T*=x.a3a(b,A)),S[P][D+m.name]=T);t.Studies.MA(m.inputs[d],m.days,"Index "+m.name,0,g,f,m)},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Neg Vol":{name:c,calculateFN:t.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":"ma"},outputs:{Index:"auto",MA:h}},"On Bal Vol":{name:u,calculateFN:t.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:l,calculateFN:t.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":n},outputs:{Index:o,MA:"#FF0000"}},"Price Vol":{name:a,calculateFN:t.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Trade Vol":{name:"Trade Volume Index",calculateFN:t.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":.5}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:function(f,m){se.d7v(),t.Studies.calculateRateOfChange?t.Studies.calculateRateOfChange(f,m):(console.error("Volume Rate of Change study requires first activating momentum feature."),t.Studies.calculateRateOfChange=function(x,g){})},parameters:{init:{isVolume:!0}}},"vol undr":{name:i,underlay:!0,range:s,yAxis:{ground:!0,initialMarginTop:0,position:"none",heightFactor:.25},seriesFN:t.Studies.createVolumeChart,calculateFN:t.Studies.calculateVolume,inputs:{Series:"series"},attributes:{Series:{hidden:function(){return!Object.keys(this.chart.series).length}}},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},removeFN:function(f,m){f.layout.volumeUnderlay=!1,f.changeOccurred("layout")}}})):(r="volumeStudi",r+="e",r+="s feature requires fir",r+="st activating studies feature.",console.error(r))};Kr=U=>{var e=se,t,r,s;e.j4$(),t=typeof _CIQ!="undefined"?_CIQ:U.CIQ,t.Studies?(r="#FF",r+="0",r+="00",r+="0",s="Vortex In",s+="dicato",s+="r",t.Studies.calculateVortex=function(i,a){var o,n,l,u,h,c,f,m,x,g,d;if(o=a.chart.scrubbed,n=a.days,o.length<n+1){a.error=!0;return}l={tr:0,vmPlus:0,vmMinus:0},a.startFrom>1&&(l=t.clone(o[a.startFrom-1]["_totals "+a.name])),e.j4$();for(var p=Math.max(a.startFrom,1);p<o.length;p++)u="_to",u+="tals ",h="_True Ran",h+="g",h+="e ",c=o[p],e.p9i(13),f=o[e.a3a(1,p)],m=Math.abs(c.High-f.Low),x=Math.abs(c.Low-f.High),g=Math.max(c.High,f.Close)-Math.min(c.Low,f.Close),l.tr+=g,l.vmPlus+=m,l.vmMinus+=x,p>n&&(d="_True",d+=" Rang",d+="e",d+=" ",e.C_1(13),l.tr-=o[e.a3a(n,p)][d+a.name],e.C_1(13),l.vmPlus-=o[e.S59(n,p)]["_VMPlus "+a.name],e.p9i(13),l.vmMinus-=o[e.a3a(n,p)]["_VMMinus "+a.name]),c[h+a.name]=g,c["_VMPlus "+a.name]=m,c["_VMMinus "+a.name]=x,p>=n&&(c["+VI "+a.name]=l.vmPlus/l.tr,c["-VI "+a.name]=l.vmMinus/l.tr),c[u+a.name]=t.clone(l)},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Vortex:{name:s,calculateFN:t.Studies.calculateVortex,centerline:1,outputs:{"+VI":"#00FF00","-VI":r},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:"1.1"-0,studyOverBoughtColor:"auto",studyOverSoldValue:.9,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:1,step:"0.01"},studyOverSoldValue:{max:"1"|0,step:"0.01"}}}})):console.error("vortex feature requires first activating studies feature.")};Xr=U=>{var e=se,t,r,s;e.d7v(),t="und",t+="efined",r=typeof _CIQ!==t?_CIQ:U.CIQ,r.Studies?(s="#",s+="5",s+="f7cb",s+="8",r.Studies.calculateMFI=function(i,a){var o,n,l,u,h,c,f,m,x,g,d;if(o="_h",o+="i",o+="st",n="_",n+="hi",n+="gh",n+=" ",l="Scale Facto",l+="r",u=a.chart.scrubbed,c=0,f=a.inputs["Scale Factor"],f||(f=a.study.inputs[l]),m=Math.pow(10,Number(f)),e.d7v(),a.startFrom>1){e.p9i(13);var p=e.a3a(5,6);c=u[a.startFrom-p][n+a.name]}for(x=a.startFrom;x<u.length;x++)u[x]&&u[x].Volume&&(g="_",g+="h",g+="igh",g+=" ",d="_",d+="h",d+="i",d+="st",u[x][a.name+d]=h=m*(u[x].High-u[x].Low)/u[x].Volume,u[x][g+a.name]=c=Math.max(c,h));a.outputMap={},a.outputMap[a.name+o]=""},r.Studies.displayMFI=function(i,a,o){var n,l,u,h,c,f,m,x,g,d,p,v,S,T,D,y,b,w;n=i.panels[a.panel],l=a.getContext(i),u=a.getYAxis(i),h=u.flipped?u.top:u.bottom,e.C_1(8);var A=e.a3a(0,2);c=i.layout.candleWidth-A,c<2&&(c=1),f=r.Studies.determineColor(a.outputs.Green),m=r.Studies.determineColor(a.outputs.Fade),x=r.Studies.determineColor(a.outputs.Fake),g=r.Studies.determineColor(a.outputs.Squat),i.canvasColor("stx_histogram"),e.j4$(),a.underlay||(l.globalAlpha=1),l.fillStyle="#CCCCCC",i.startClip(a.panel),!a.highlight&&i.highlightedDraggable&&(l.globalAlpha*=.3);for(var _=0;_<o.length;_++)if(d="_",d+="hist",p="_",p+="h",p+="is",p+="t",v="stre",v+="tch",S="_hi",S+="st",T=0,D=o[_],e.C_1(189),y=o[e.a3a(0,"1",_)],y||(y=i.getPreviousBar(i.chart,a.name+S,_)),!!D){if(i.cleanupGaps===v)for(;o[_+("1"^0)]&&(b="_h",b+="i",b+="s",b+="t",e.p9i(91),w=o[e.a3a("1",_)][a.name+b],!(w||w===0||o[_+1].futureTick));)T++,_++;(!y||y[a.name+"_hist"]===void 0)&&(y=i.getPreviousBar(i.chart,a.name+p,_-T)),y&&(y[a.name+"_hist"]<D[a.name+"_hist"]?y.Volume<D.Volume?l.fillStyle=f:y.Volume>D.Volume&&(l.fillStyle=x):y[a.name+d]>D[a.name+"_hist"]&&(y.Volume<D.Volume?l.fillStyle=g:y.Volume>D.Volume&&(l.fillStyle=m))),D.candleWidth&&(c=Math.floor(Math.max(1,D.candleWidth-2))),l.fillRect(Math.floor(i.pixelFromBar(_-T,n.chart)-c/2),Math.floor(h),Math.floor(c+T*i.layout.candleWidth),Math.floor(i.pixelFromPrice(D[a.name+"_hist"],n,u)-h))}i.endClip()},r.Studies.studyLibrary=r.extend(r.Studies.studyLibrary,{"W MFI":{name:"Market Facilitation Index",seriesFN:r.Studies.displayMFI,calculateFN:r.Studies.calculateMFI,yAxis:{ground:!0},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:"#8bc176",Fade:"#ab611f",Fake:s,Squat:"#ffd0cf"}}})):console.error("williamsMFI feature requires first activating studies feature.")};Jr={CIQ:Yt,SplinePlotter:na,timezoneJS:sa,$$:oa,$$$:la};function cn(){return"da%7Ctj%026'-(%19-1*%0D.%1A&:,97?,!%0F%205=%027&%1F+/#'*%01/66%15ul%1A%3C+9*?#)60%22%0C65%25%18*8(3!&%0F(?%3C+;*%1C(520=8#%1A54;)(7#'$%0C%3E5/4&%22)%1Al%15%1B%18%16%1A'-?%25(?1%15?%20/=+;%3C%0C34!9:(?)%028.%3C%1A='!%03%259?,&*%07?#%02%25:?2%1A,:8%0C65!4;%2554%02==)%3C%1A%0E%3C,)4)'%7B;-7*''%1C);6%02%15%3C#7?%027&%22%3E%1A24=??%1A,%25%22%094;%209*(%1A%05%250;%0C65%25%15%3C#/(!0%0F/63';;%05%3E%1A8%3C?%0C;4!0%3C85(%0D'&+341%15'#).,4%22)%1A)29&8%1A6-2%0F%225-%02&%20%3E.%1A00))((''%0F!?.0%3C,?%196+0!8%1A*#6$-=?%0B;)#%1A8+;+%0Cw%1A)06*36'%03*%3E)3-;%0F*(;/0%03#91+;(%0C)50!%0F%3E?%3E76*%0C.?1!%0F-8)%02/&%3C%1A428%0A%22;8.0+%0C.5%11!=%254=%020!-86'1%0F%20?4%25!'%0C%17%1B%1A%0A%1C%0D%1C%1F%1D%1C%01%18%1F%1D%07%07%0F.3.%08:&%22%1A%19%12%10~%7Bjn%16%1E%1C%0C?46'&))%1A#;,)).-'%00%3E3=+;%3C%0C?4#7#)%3E"}(typeof __TREE_SHAKE__===ci||!__TREE_SHAKE__)&&Jr.CIQ.activateImports(Ra,Wa,ja,Va,Ya,za,Ba,qa,Ua,Qa,Za,$a,Ga,Ka,Xa,Ja,er,tr,ir,ar,rr,nr,sr,or,lr,ur,hr,cr,fr,dr,pr,gr,mr,xr,yr,vr,br,Cr,Sr,kr,wr,Dr,Ar,Tr,Fr,_r,Mr,Pr,Lr,Ir,Er,Hr,Or,Nr,Rr,Wr,jr,Vr,Yr,zr,Br,qr,Ur,Qr,Zr,$r,Gr,Kr,Xr,null);function mn(U={}){let e={initialSymbol:{symbol:"AAPL",name:"Apple Inc",exchDisp:"NASDAQ"},root:document,initialData:void 0,enabledAddOns:{animation:!1,continuousZoom:!1,forecasting:!1,outliers:!1,dataLoader:!0,extendedHours:!0,fullScreen:!0,inactivityTimer:!0,rangeSlider:!0,shortcuts:!0,tableView:!0,tooltip:!0},onNewSymbolLoad:{removeSeries(t){return t.parameters.bucket!=="study"&&!t.parameters.retoggle},loadError(t,r){}},restore:!0,lookupDriver:Yt.ChartEngine.Driver.Lookup.ChartIQ,hotkeyConfig:{hotkeys:[{label:"Pan chart up",action:"up",options:{percent:.02},commands:["ArrowUp","Up"]},{label:"Pan chart down",action:"down",options:{percent:.02},commands:["ArrowDown","Down"]},{label:"Pan chart right",action:"right",options:{bars:1},commands:["ArrowRight","Right"]},{label:"Pan chart left",action:"left",options:{bars:1},commands:["ArrowLeft","Left"]},{label:"Pan chart up fast",action:"up",options:{percent:.2},commands:["Shift+ArrowUp","Shift+Up"]},{label:"Pan chart down fast",action:"down",options:{percent:.2},commands:["Shift+ArrowDown","Shift+Down"]},{label:"Pan chart right fast",action:"right",options:{bars:10},commands:["Shift+ArrowRight","Shift+Right"]},{label:"Pan chart left fast",action:"left",options:{bars:10},commands:["Shift+ArrowLeft","Shift+Left"]},{label:"Page chart right",action:"pageRight",commands:["Alt+ArrowRight","Alt+Right","PageUp"]},{label:"Page chart left",action:"pageLeft",commands:["Alt+ArrowLeft","Alt+Left","PageDown"]},{label:"Zoom in x-axis",action:"zoomInXAxis",commands:["NumpadAdd","="]},{label:"Zoom out x-axis",action:"zoomOutXAxis",commands:["NumpadSubtract","-"]},{label:"Zoom in y-axis",action:"zoomInYAxis",commands:["+"]},{label:"Zoom out y-axis",action:"zoomOutYAxis",commands:["_"]},{label:"Toggle crosshair",action:"toggleCrosshairs",commands:["Alt+Backslash","Alt+\\","Alt+Þ"]},{label:"Toggle continuous zoom",action:"toggleContinuousZoom",commands:["Alt+Digit0","Alt+0"],extension:"continuousZoom"},{label:"Tab to next",action:"keyboardNavigateNext",commands:["Tab"]},{label:"Tab to previous",action:"keyboardNavigatePrevious",commands:["Shift+Tab"]},{label:"Select at tab",action:"keyboardNavigateClick",commands:["Enter"]},{label:"Pan to home",action:"home",commands:["Home"]},{label:"Pan to start of loaded data",action:"end",commands:["End"]},{label:"Delete a highlighted item or the active drawing",action:"delete",commands:["Backspace","Delete","Del"]},{label:"Close an open menu / dialog box or undo the active drawing",action:"escape",commands:["Escape","Esc"]},{label:"Symbol Lookup",action:"symbolLookup",commands:["Shift+Alt+KeyL"],ariaLabel:"Opens main symbol lookup for chart"},{label:"Table view",action:"tableView",commands:["Alt+KeyK"],extension:"tableView",ariaLabel:"Opens chart data in table format"},{label:"Range Slider",action:"rangeSlider",commands:["Shift+Alt+KeyR"],extension:"rangeSlider"},{label:"Extended Hours",action:"extendedHours",commands:["Shift+Alt+KeyX"],extension:"extendedHours"},{label:"Keyboard Shortcuts",action:"shortcuts",commands:["Shift+Alt+Slash","Shift+Alt+?"],extension:"shortcuts"},{label:"Outliers",action:"outliers",commands:["Shift+Alt+KeyO"],extension:"outliers"},{label:"Market Depth",action:"marketDepth",commands:["Shift+Alt+KeyD"],extension:"marketDepth"},{label:"L2 Heat Map",action:"l2HeatMap",commands:["Shift+Alt+KeyM"],extension:"marketDepth"},{label:"Import Data",action:"dataLoader",commands:["Alt+KeyI"],extension:"dataLoader"},{label:"Trade From Chart",action:"tfc",commands:["Shift+Alt+KeyP"],extension:"tfc"}],keysToRepeat:["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Up","Down","Left","Right","-","_","=","+"]},systemMessages:{copytoclipboard:{message:"Copied to clipboard.",type:"info",displayTime:5},logdeactivated:{message:"Log scale has been deactivated due to a zero or negative value in your visible dataset.",type:"warning"},studynoteditable:{message:"This study is not editable",displayTime:5},eldercannotadd:{message:"Elder Impulse study cannot be activated because a custom chart is already in use.",type:"info",displayTime:3},gonogocannotadd:{message:"GoNoGo study cannot be activated because a custom chart is already in use.",type:"info",displayTime:3},addAVWAP:{message:"Select AVWAP anchor time from the chart.",type:"info",displayTime:0},removeAVWAP:{message:"Select AVWAP anchor time from the chart.",remove:!0},changeperiodicity:{message:"Changing Periodicity may lose loaded data."},duplicatesymbol:{message:"The comparison symbol cannot be the same as the main series.",displayTime:4,type:"error"}},marketFactory:Yt.Market.Symbology.factory,chartEngineParams:{preferences:{labels:!1,currentPriceLine:!0,whitespace:0,displayCrosshairsWithDrawingTool:!1}},quoteFeeds:[{quoteFeed:U.quoteFeed,behavior:{refreshInterval:1,backgroundRefreshInterval:5,bufferSize:200}}],selector:{sideNav:".ciq-sidenav",sidePanel:"cq-side-panel",lookupComponent:".ciq-search cq-lookup",studyLegend:"cq-study-legend",timeSpanEvent:".stx-markers cq-item.span-event",markersMenuItem:".stx-markers cq-item",themesMenuItem:"cq-themes",tfcTradePanel:".stx-trade-panel",tfcToggle:".stx-trade"},themes:{builtInThemes:{"ciq-day":"Day","ciq-night":"Night"},defaultTheme:"ciq-night",nameValueStore:U.nameValueStore},menuPeriodicity:[{type:"item",label:"1 D",cmd:"Layout.setPeriodicity(1,1,'day')",value:{period:1,interval:1,timeUnit:"day"}},{type:"item",label:"1 W",cmd:"Layout.setPeriodicity(1,1,'week')",value:{period:1,interval:1,timeUnit:"week"}},{type:"item",label:"1 Mo",cmd:"Layout.setPeriodicity(1,1,'month')",value:{period:1,interval:1,timeUnit:"month"}},{type:"separator"},{type:"item",label:"1 Min",cmd:"Layout.setPeriodicity(1,1,'minute')",value:{period:1,interval:1,timeUnit:"minute"}},{type:"item",label:"5 Min",cmd:"Layout.setPeriodicity(1,5,'minute')",value:{period:1,interval:5,timeUnit:"minute"}},{type:"item",label:"10 Min",cmd:"Layout.setPeriodicity(1,10,'minute')",value:{period:1,interval:10,timeUnit:"minute"}},{type:"item",label:"15 Min",cmd:"Layout.setPeriodicity(3,5,'minute')",value:{period:1,interval:1,timeUnit:"minute"}},{type:"item",label:"30 Min",cmd:"Layout.setPeriodicity(1,30,'minute')",value:{period:1,interval:30,timeUnit:"minute"}},{type:"item",label:"1 Hour",cmd:"Layout.setPeriodicity(2,30,'minute')",value:{period:2,interval:30,timeUnit:"minute"}},{type:"item",label:"4 Hour",cmd:"Layout.setPeriodicity(8,30,'minute')",value:{period:8,interval:30,timeUnit:"minute"}},{type:"separator"},{type:"item",label:"1 Sec",cmd:"Layout.setPeriodicity(1,1,'second')",value:{period:1,interval:1,timeUnit:"second"}},{type:"item",label:"10 Sec",cmd:"Layout.setPeriodicity(1,10,'second')",value:{period:1,interval:10,timeUnit:"second"}},{type:"item",label:"30 Sec",cmd:"Layout.setPeriodicity(1,30,'second')",value:{period:1,interval:30,timeUnit:"second"}},{type:"separator"},{type:"item",label:"250 MSec",cmd:"Layout.setPeriodicity(1,250,'millisecond')",value:{period:1,interval:250,timeUnit:"millisecond"}}],displayStyleIcons:!0,menuChartStyle:[{type:"radio",label:"Candle",cmd:"Layout.ChartType()",iconCls:"candle",value:"candle",helpId:"chart_style_candle"},{type:"radio",label:"Bar",cmd:"Layout.ChartType()",iconCls:"bar",value:"bar",cls:"advanced-ui",helpId:"chart_style_bar"},{type:"radio",label:"Colored Bar",cmd:"Layout.ChartType()",iconCls:"colored-bar",value:"colored_bar",cls:"advanced-ui",helpId:"chart_style_colored_bar"},{type:"radio",label:"Line",cmd:"Layout.ChartType()",iconCls:"line",value:"line",helpId:"chart_style_line"},{type:"radio",label:"Colored Line",cmd:"Layout.ChartType()",iconCls:"colored-line",value:"colored_line",cls:"advanced-ui",helpId:"chart_style_colored_line"},{type:"radio",label:"Vertex Line",cmd:"Layout.ChartType()",iconCls:"vertex-line",value:"vertex_line",helpId:"chart_style_vertex_line"},{type:"radio",label:"Step",cmd:"Layout.ChartType()",iconCls:"step",value:"step",helpId:"chart_style_step"},{type:"radio",label:"Mountain",cmd:"Layout.ChartType()",iconCls:"mountain",value:"mountain",helpId:"chart_style_mountain"},{type:"radio",label:"Baseline",cmd:"Layout.ChartType()",iconCls:"baseline-delta",value:"baseline_delta",cls:"advanced-ui",helpId:"chart_style_baseline"},{type:"radio",label:"Hollow Candle",cmd:"Layout.ChartType()",iconCls:"hollow-candle",value:"hollow_candle",cls:"advanced-ui",helpId:"chart_style_hollow_candle"},{type:"radio",label:"Volume Candle",cmd:"Layout.ChartType()",iconCls:"volume-candle",value:"volume_candle",cls:"advanced-ui",helpId:"chart_style_volume_candle"},{type:"radio",label:"Colored HLC Bar",cmd:"Layout.ChartType()",iconCls:"colored-hlc",value:"colored_hlc",cls:"advanced-ui",helpId:"chart_style_colored_hlc_bar"},{type:"radio",label:"Data Points",cmd:"Layout.ChartType()",iconCls:"scatterplot",value:"scatterplot",cls:"advanced-ui",helpId:"chart_style_datapoints"},{type:"radio",label:"Histogram",cmd:"Layout.ChartType()",iconCls:"histogram",value:"histogram",helpId:"chart_style_histogram"}],menuChartAggregates:[{type:"separator",cls:"advanced-ui"},{type:"radio",label:"Heikin Ashi",cmd:"Layout.ChartType()",iconCls:"heikinashi",value:"heikinashi",cls:"advanced-ui",helpId:"chart_type_heikin_ashi"},{type:"radio",label:"Kagi",cmd:"Layout.ChartType()",options:"Layout.showAggregationEdit('kagi')",iconCls:"kagi",value:"kagi",cls:"advanced-ui",helpId:"chart_type_kagi"},{type:"radio",label:"Line Break",cmd:"Layout.ChartType()",options:"Layout.showAggregationEdit('linebreak')",iconCls:"linebreak",value:"linebreak",cls:"advanced-ui",helpId:"chart_type_linebreak"},{type:"radio",label:"Renko",cmd:"Layout.ChartType()",options:"Layout.showAggregationEdit('renko')",iconCls:"renko",value:"renko",cls:"advanced-ui",helpId:"chart_type_renko"},{type:"radio",label:"Range Bars",cmd:"Layout.ChartType()",options:"Layout.showAggregationEdit('rangebars')",iconCls:"rangebars",value:"rangebars",cls:"advanced-ui",helpId:"chart_type_rangebars"},{type:"radio",label:"Point & Figure",cmd:"Layout.ChartType()",options:"Layout.showAggregationEdit('pandf')",iconCls:"pandf",value:"pandf",cls:"advanced-ui",helpId:"chart_type_pandf"}],menuChartPreferences:[{type:"checkbox",label:"Range Selector",cmd:"Layout.RangeSlider()",cls:"rangeslider-ui"},{type:"checkbox",label:"Extended Hours",cmd:"Layout.ExtendedHours()",cls:"extendedhours-ui"},{type:"checkbox",label:"Animation",cmd:"Layout.Animation()",cls:"animation-ui"},{type:"checkbox",label:"Hide Outliers",cmd:"Layout.Outliers()",cls:"outliers-ui"},{type:"checkbox",label:"Market Depth",cmd:"Layout.MarketDepth()",cls:"marketdepth-ui"},{type:"checkbox",label:"L2 Heat Map",cmd:"Layout.L2Heatmap()",cls:"marketdepth-ui"}],menuYAxisPreferences:[{type:"checkbox",label:"Log Scale",cmd:"Layout.ChartScale('log')"},{type:"checkbox",label:"Invert",cmd:"Layout.FlippedChart()"}],menuViewConfig:{},menuStudiesConfig:{excludedStudies:{stochastics:!0},alwaysDisplayDialog:{ma:!0}},menuAddOns:[{type:"item",label:"Shortcuts / Hotkeys",cmd:"Layout.showShortcuts(true)",cls:"shortcuts-ui"},{type:"item",label:"Import Data",cmd:"Channel.write('dataLoader', true)",cls:"dataLoader-ui"}],rangeMenu:[{type:"range",label:"1D",cmd:"set(1,'today')"},{type:"range",label:"5D",cmd:"set(5,'day',30,2,'minute')"},{type:"range",label:"1M",cmd:"set(1,'month',30,8,'minute')"},{type:"range",label:"3M",cmd:"set(3,'month')",cls:"hide-sm"},{type:"range",label:"6M",cmd:"set(6,'month')",cls:"hide-sm"},{type:"range",label:"YTD",cmd:"set(1,'YTD')",cls:"hide-sm"},{type:"range",label:"1Y",cmd:"set(1,'year')"},{type:"range",label:"5Y",cmd:"set(5,'year',1,1,'week')",cls:"hide-sm"},{type:"range",label:"All",cmd:"set(1,'all')",cls:"hide-sm"}],drawingTools:[{type:"dt",tool:"annotation",group:"text",label:"Annotation",shortcut:"w"},{type:"dt",tool:"arrow",group:"markings",label:"Arrow",shortcut:"a"},{type:"dt",tool:"line",group:"lines",label:"Line",shortcut:"l"},{type:"dt",tool:"horizontal",group:"lines",label:"Horizontal",shortcut:"o"},{type:"dt",tool:"vertical",group:"lines",label:"Vertical",shortcut:"p"},{type:"dt",tool:"rectangle",group:"markings",label:"Rectangle",shortcut:"r"},{type:"dt",tool:"trendline",group:"lines",label:"Trend Line",shortcut:"t"},{type:"dt",tool:"measurementline",group:"statistics",label:"Measurement Line",shortcut:""},{type:"dt",tool:"average",group:"statistics",label:"Average Line"},{type:"dt",tool:"callout",group:"text",label:"Callout"},{type:"dt",tool:"channel",group:"lines",label:"Channel"},{type:"dt",tool:"check",group:"markings",label:"Check"},{type:"dt",tool:"continuous",group:"lines",label:"Continuous"},{type:"dt",tool:"crossline",group:"lines",label:"Crossline"},{type:"dt",tool:"elliottwave",group:"technicals",label:"Elliott Wave"},{type:"dt",tool:"ellipse",group:"markings",label:"Ellipse",shortcut:"e"},{type:"dt",tool:"freeform",group:"lines",label:"Doodle"},{type:"dt",tool:"fibprojection",group:"fibonacci",label:"Fib Projection"},{type:"dt",tool:"fibarc",group:"fibonacci",label:"Fib Arc"},{type:"dt",tool:"fibfan",group:"fibonacci",label:"Fib Fan"},{type:"dt",tool:"fibtimezone",group:"fibonacci",label:"Fib Time Zone"},{type:"dt",tool:"focusarrow",group:"markings",label:"Focus"},{type:"dt",tool:"gannfan",group:"technicals",label:"Gann Fan"},{type:"dt",tool:"gartley",group:"technicals",label:"Gartley"},{type:"dt",tool:"heart",group:"markings",label:"Heart"},{type:"dt",tool:"pitchfork",group:"technicals",label:"Pitchfork"},{type:"dt",tool:"quadrant",group:"statistics",label:"Quadrant Lines"},{type:"dt",tool:"ray",group:"lines",label:"Ray"},{type:"dt",tool:"regression",group:"statistics",label:"Regression Line"},{type:"dt",tool:"retracement",group:"fibonacci",label:"Fib Retracement"},{type:"dt",tool:"star",group:"markings",label:"Star"},{type:"dt",tool:"speedarc",group:"technicals",label:"Speed Resistance Arc"},{type:"dt",tool:"speedline",group:"technicals",label:"Speed Resistance Line"},{type:"dt",tool:"timecycle",group:"technicals",label:"Time Cycle"},{type:"dt",tool:"tirone",group:"statistics",label:"Tirone Levels"},{type:"dt",tool:"volumeprofile",group:"statistics",label:"Volume Profile"},{type:"dt",tool:"xcross",group:"markings",label:"Cross"}],drawingToolGrouping:["All","Favorites","Fibonacci","Lines","Markings","Statistics","Technicals","Text"],menuRendering:{separator:()=>`
					<cq-separator></cq-separator>`,item:({label:t,cmd:r,cls:s})=>`
					<cq-item ${s?`class="${s}"`:""} stxtap="${r}">${t}</cq-item>`,radio:({label:t,cmd:r,options:s,cls:i,iconCls:a,value:o,helpId:n},{displayStyleIcons:l})=>`
					<cq-item class="${i||""}${a&&l?" ciq-menu-icon":""}"
						stxsetget="${r}"
						${o?` data-value=${JSON.stringify(o)}`:""}>
						${a&&l?`<span ciq-menu-icon class="${"ciq-icon-"+a}"></span>`:""}
						${n?`<cq-help help-id="${n}"></cq-help>`:""}
						${s?`<span class="ciq-edit" stxtap="${s}" keyboard-selectable-child="true"></span>`:""}
						<div>
						<span ciq-label>${t}</span><span class="ciq-radio"><span></span></span>
						</div>
					</cq-item>`,radioOptions:(...t)=>e.menuRendering.radio.apply(e,t),checkbox:({label:t,cmd:r,cls:s})=>`
					<cq-item
						${s?`class="${s}"`:""}
						stxsetget="${r}">${t}<span class="ciq-switch ciq-active"><span></span></span>
					</cq-item>`,checkboxOptions:({label:t,cmd:r,options:s,cls:i})=>`
					<cq-item ${i?`class="${i}"`:""}>
						<span class="ciq-edit" stxtap="${s}"></span>
						<div stxsetget="${r}">${t}<span class="ciq-switch ciq-active"><span></span></span></div>
					</cq-item>`,doubleslider:({label:t,cmd:r,attrs:s,cls:i})=>`
					<cq-item
						${i?`class="${i}"`:""}
						>${t}<span><cq-double-slider ${s}></cq-double-slider><span></span></span>
					</cq-item>`,range:({label:t,cmd:r,cls:s})=>`
					<div ${s?`class="${s}"`:""} stxtap="${r}">${t}</div>
				`,dt:({tool:t,group:r,label:s,shortcut:i})=>`<cq-item
						class="ciq-tool"
						cq-tool="${t}"
						${i?`cq-tool-shortcut="${i}"`:""}
						cq-tool-group="${r}"
						stxtap="tool('${t}')"
					>
						<span class="icon ${t}"></span>
						<label>${s}</label>
						<cq-help help-id="drawing_palette_${t}"></cq-help>
					</cq-item>
				`},getMenu(t,r){let s=this[t];if(s)return r===!0&&(r=(i,a)=>i.label>a.label?1:-1),typeof r=="function"&&s.sort(r),this[t].map(i=>this.menuRendering[i.type||"item"](i,this))},addOns:{tooltip:{ohl:!0,volume:!0,series:!0,studies:!0},inactivityTimer:{minutes:30},animation:{animationParameters:{tension:.3}},outliers:{},rangeSlider:{},fullScreen:{},extendedHours:{filter:!0},continuousZoom:{periodicities:[{period:1,interval:"month"},{period:1,interval:"week"},{period:1,interval:"day"},{period:8,interval:30},{period:1,interval:30},{period:5,interval:1},{period:1,interval:1},{period:10,interval:1,timeUnit:"second"},{period:1,interval:1,timeUnit:"second"}],boundaries:{maxCandleWidth:15,minCandleWidth:3}},forecasting:{moduleName:"PlotComplementer",id:"forecast",decorator:{symbol:"_fcst",display:" Forecast"},renderingParameters:{chartType:"channel",opacity:.5,pattern:"dotted"},quoteFeed:U.forecastQuoteFeed,behavior:{refreshInterval:60}},tableView:{},dataLoader:{},shortcuts:{}},plugins:{ptv:{moduleName:"TimeSpanEventPanel",menuItemSelector:".stx-markers cq-item.span-event",loadSample:!0,showTooltip:!0,infoPanel:{durationEvent:"main",spanEvent:"main",singleEvent:"main"}},marketDepth:{volume:!0,mountain:!0,step:!0,record:!0,height:"50%",orderbook:!0,interaction:!0},tfc:{moduleName:"TFC",container:".ciq-menu-section .ciq-toggles",loadSample:!0,startCompact:!0,channel:"channel.tfc",toggleMarkup:`
						<cq-toggle feature="tfc" class="sidebar stx-trade" cq-member="tfc">
							<span></span>
							<cq-tooltip>Trade</cq-tooltip>
						</cq-toggle>
					`},crossSection:{pointFreshnessTimeout:1,enableTimeSeries:!0,xAxisType:"regular",timelineDateSelector:{height:95,useNotifications:!0},postInstall({uiContext:t,extension:r}){const{stx:{crossSection:s}}=t;Yt.getFn("UI.CurveEdit")(null,t,this),Yt.getFn("CrossSection.HUD")(null,t),this.timelineDateSelector&&Yt.getFn("CrossSection.TimelineDateSelector")(Object.assign({crossSection:s},this.timelineDateSelector));const i=t.topNode.querySelector("cq-datepicker");i&&i.registerCallback(a=>r.setCurveDate(a))}},visualEarnings:{container:".ciq-menu-section .ciq-dropdowns"},signalIQ:{panelHeight:150,displayCondition:!1,emojiPicker:U.emojiPicker&&{open({stx:t,targetElement:r,handler:s}){if(this.pickers||(this.pickers=new Map),!this.pickers.has(r)){const a=this.container=document.createElement("button");a.type="button",a.classList.add("marker-emoji-picker"),r.parentElement.insertBefore(a,r.nextSibling);const o=[];this.emojis.forEach(n=>{o.push({value:t.emojify(`:${n.replace(/\|/g,"::")}:`),label:n})}),this.pickers.set(r,new U.emojiPicker({button:a,targetElement:r,container:this.container,emojiList:o,displacements:{x:0}}))}const i=this.pickers.get(r);i.onSelect(s),i.toggle(!0)},clean(){this.pickers&&(this.pickers.forEach(t=>t.toggle(!1)),this.pickers=null)},emojis:["smile","partying_face","sob","money_mouth_face","arrow_upper_right","arrow_lower_right","ox","bear","gem","rocket","heart","poop","fire","bomb","pray","moneybag"]},disallowedStudies:["Darvas","Elder Impulse","GoNoGo Trend","Pivot Points","Sentiment By Strike","val lines","Volatility Cone","vol profile"]},studyBrowser:{},scriptIQ:{},analystViews:{container:".ciq-menu-section .ciq-toggles",moduleName:"TCAnalystViews",partner:1e3,token:"eZOrIVNU3KR1f0cf6PTUYg==",channel:"channel.analystviews",toggleMarkup:`
						<cq-toggle class="stx-analystviews" cq-member="analystviews">
							<span></span>
							<cq-tooltip>Analyst Views</cq-tooltip>
						</cq-toggle>
						`},technicalInsights:{container:".ciq-menu-section .ciq-toggles",moduleName:"TCTechnicalInsights",lang:"en",uid:"",channel:"channel.technicalinsights",toggleMarkup:`
						<cq-toggle class="stx-technicalinsights" cq-member="technicalinsights">
							<span></span>
							<cq-tooltip>Technical Insights</cq-tooltip>
						</cq-toggle>
						`}},channels:{lookup:"channel.lookup",crosshair:"layout.crosshair",headsUp:"layout.headsUp",sidenav:"layout.sidenav",tableView:"channel.tableView",drawing:"channel.drawing",drawingPalettes:"channel.drawingPalettes",breakpoint:"channel.breakpoint",containerSize:"channel.containerSize",sidenavSize:"channel.sidenavSize",sidepanelSize:"channel.sidepanelSize",pluginPanelHeight:"channel.pluginPanelHeight",tfc:"channel.tfc",analystviews:"channel.analystviews",technicalinsights:"channel.technicalinsights",dataLoader:"channel.dataLoader",dialog:"channel.dialog",keyboardNavigation:"channel.keyboardNavigation",class:"channel.componentClass"},dialogs:{dataLoader:{tag:"cq-data-dialog"},view:{tag:"cq-view-dialog"},aggregation:{tag:"cq-aggregation-dialog"},timezone:{tag:"cq-timezone-dialog"},language:{tag:"cq-language-dialog"},lookup:{tag:"cq-lookup-dialog"},theme:{tag:"cq-theme-dialog"},study:{tag:"cq-study-dialog",attributes:{"cq-study-axis":!0,"cq-study-panel":"alias"}},signaliq:{tag:"cq-signaliq-dialog"},fibSettings:{tag:"cq-fib-settings-dialog"},volumeprofileSettings:{tag:"cq-volumeprofile-settings-dialog"},measurementlineSettings:{tag:"cq-measurementline-settings-dialog"},share:{tag:"cq-share-dialog"}},eventMarkersImplementation:U.markerFeed,scrollbarStyling:{refresh(t,r={suppressScrollX:!0}){typeof U.scrollStyle=="function"&&(t.__ps||(t.__ps=new U.scrollStyle(t,r),t.__ps.scrollbarX.setAttribute("tabindex",-1),t.__ps.scrollbarY.setAttribute("tabindex",-1)),t.__ps.update(t))},destroy(t){t.__ps&&t.__ps.destroy()}},multiChartCopySymbol:null,multiChartLoadMsg:"Click to load a symbol",restoreOffgridCharts:!0,nameValueStore:U.nameValueStore,onWebComponentsReady:()=>{},onEngineReady:t=>{},onChartReady:t=>{},onMultiChartEvent:(t,r)=>{},soloActive:{onDraw:{shouldSolo(t){return!1},notify:{message:"Click on the draw toggle again to close drawing tools and return to grid view"}},onTFC:{shouldSolo(t){const{width:r,height:s}=t.container.getBoundingClientRect();return r<300||s<250},notify:{message:"Chart has been maximized to make it easier to set trade prices."}},onTechnicalInsights:{notify:{message:"Chart has been soloed for plugin use. Disable plugin to restore chart grid."}},onAnalystViews:{notify:{message:"Chart has been soloed for plugin use. Disable plugin to restore chart grid."}}},useQueryString:{symbolObject:{symbol:"symbol",name:"name",exchDisp:"exchDisp"}},updateFromQueryString(){if(!this.useQueryString)return;const t=Yt.qs(),r=Object.entries(this.useQueryString.symbolObject).reduce((s,[i,a])=>{const o=t[a];return o!==void 0&&(s[i]=o),s},{});r.symbol&&(this.initialSymbol=r,this.restore&&(this.restore=xi(hi({},this.restore),{symbol:!1})))},ariaActive:["cq-chart-instructions","cq-toggle.tableview-ui","cq-lookup",".symbol-search",".ciq-data-table-container",".hu-tooltip"],createChart:function(t){this.updateFromQueryString();const r=this;return Yt.UI?new Yt.UI.Chart().createChartAndUI({container:t,config:r}).stx:Yt.ChartEngine.create({container:t,config:r})},chartSharing:U.chartSharing};return U.quoteFeed||(e.quoteFeeds.length=0),e}(function(){const U=Object.defineProperties({domains:["^127\\.0\\.0\\.1$","^(?:.+\\.)?localhost$","^(?:.+\\.)?detrade\\.com$","^(?:.+\\.)?exchange2currency\\.com$","^(?:.+\\.)?supersell\\.com$","^(?:.+\\.)?dogcrash\\.com$"],filesystem:!1,licenseExpiration:"2026/08/15",trialExpiration:void 0,version:"9.0.0"},{daysUntilExpired:{get:function(){return Math.round((this.expirationDate-new Date)/864e5)}},expirationDate:{get:function(){return new Date(this.licenseExpiration||this.trialExpiration)}},gracePeriodDate:{get:function(){const e=new Date(this.expirationDate);return this.isTrial||e.setDate(e.getDate()+30),e}},isDateLocked:{get:function(){return this.licenseExpiration||this.trialExpiration}},isDomainLocked:{get:function(){return this.domains&&this.domains.length>0}},isFileSystemLocked:{get:function(){return this.filesystem!==void 0}},isExpired:{get:function(){return new Date>this.expirationDate}},isGracePeriodExpired:{get:function(){return new Date>this.gracePeriodDate}},isTrial:{get:function(){return this.trialExpiration!==void 0}},isValidDomain:{value:function(e){return this.domains.some(t=>new RegExp(t).test(e))}}});if(U.isDateLocked)if(U.isExpired){if(console.warn("ChartIQ: this license has expired!"),U.isTrial&&alert("ChartIQ: this license has expired!"),U.isGracePeriodExpired)throw new Error("ChartIQ: this license has expired!")}else U.isTrial&&U.daysUntilExpired<3&&(alert("This ChartIQ trial license expires in "+U.daysUntilExpired+" days!"),console.log("WARNING: This ChartIQ trial license expires in "+U.daysUntilExpired+" days!"));if(typeof document!="undefined"){if(U.isFileSystemLocked&&location.protocol==="file:")return;const e=new URL(location.href).hostname;U.isDomainLocked&&!U.isValidDomain(e)&&(alert("ChartIQ ERROR: Not licensed for domain "+e),console.error("ChartIQ ERROR: Not licensed for domain "+e))}U.version==="alpha"&&alert("ChartIQ: This is an internal PRE-PRODUCTION release--not for external use!")})();ve.F=function(){for(var U=2;U!==9;)switch(U){case 5:var e;try{for(var t=2;t!==6;)switch(t){case 3:throw"";case 4:t=typeof z72Q2=="undefined"?3:9;break;case 1:e=Xpx2S,e.z72Q2=e,t=4;break;case 2:Object.defineProperty(Object.prototype,"Xpx2S",{get:function(){return this},configurable:!0}),t=1;break;case 9:delete e.z72Q2;var r=Object.prototype;delete r.Xpx2S,t=6;break}}catch(s){e=window}return e;case 1:return globalThis;case 2:U=typeof globalThis=="object"?1:5;break}}();ve.T$J5C=dn;fn(ve.F);ve.q2=function(){for(var U=2;U!==5;)switch(U){case 2:var e={s8tLYIA:function(t){for(var r=2;r!==17;)switch(r){case 13:a+=n(l(h)^u(c)),r=12;break;case 2:var s=ve,i=function(g){for(var d=2;d!==11;)switch(d){case 4:var p=0;d=3;break;case 1:var v=ve.p(),S=[];d=4;break;case 6:D=ve.l(ve.B(S,function(){for(var b=2;b!==1;)switch(b){case 2:return .5-v()}}),""),d=14;break;case 3:d=p<g.length?9:7;break;case 14:y=s[D],d=13;break;case 8:p++,d=3;break;case 2:var T=ve.Z();d=1;break;case 13:d=y?12:6;break;case 12:return y;case 7:var D,y;d=6;break;case 9:S[p]=T(g[p]+27),d=8;break}},a="",o=ve.E()(i([26,40,57,9,47])()),n=ve.Z(),l=ve.X().bind(o);r=9;break;case 12:h++,c++,r=7;break;case 9:var u=ve.X().bind(t);r=8;break;case 11:a=ve.T(a,")"),r=10;break;case 14:c=0,r=13;break;case 8:var h=0,c=0;r=7;break;case 7:r=h<o.length?6:11;break;case 10:var f=0,m=function(g){for(var d=2;d!==23;)switch(d){case 26:d=25;break;case 11:d=f===3&&g===2?10:19;break;case 9:return f;case 24:return x(g);case 1:return x(g);case 15:f+=1,d=27;break;case 27:ve.M(ve.A(),a,ve.a1(ve.a1(a,-2,2),0,1)),d=9;break;case 16:d=f===5&&g===5?15:26;break;case 4:f+=1,d=3;break;case 2:d=f===6?1:5;break;case 8:d=f===1&&g===4?7:14;break;case 7:f+=1,d=6;break;case 6:ve.M(ve.A(),a,ve.a1(ve.a1(a,-7,7),0,6)),d=9;break;case 13:f+=1,d=12;break;case 3:ve.M(ve.A(),a,ve.a1(ve.a1(a,-6,6),0,5)),d=9;break;case 14:d=f===2&&g===4?13:11;break;case 19:d=f===4&&g===3?18:16;break;case 10:f+=1,d=20;break;case 20:ve.M(ve.A(),a,ve.a1(ve.a1(a,-3,3),0,2)),d=9;break;case 5:d=f===0&&g===6?4:8;break;case 12:ve.M(ve.A(),a,ve.a1(ve.a1(a,-10,10),0,8)),d=9;break;case 18:f+=1,d=17;break;case 25:e.s8tLYIA=x,d=24;break;case 17:ve.M(ve.A(),a,ve.a1(ve.a1(a,-4,4),0,2)),d=9;break}},x=function(g){for(var d=2;d!==1;)switch(d){case 2:return a[g]}};return m;case 6:r=c===t.length?14:13;break}}("JUJ7EM")};return e}}();ve.v3=function(){return typeof ve.q2.s8tLYIA=="function"?ve.q2.s8tLYIA.apply(ve.q2,arguments):ve.q2.s8tLYIA};ve.p5=function(){return typeof ve.q2.s8tLYIA=="function"?ve.q2.s8tLYIA.apply(ve.q2,arguments):ve.q2.s8tLYIA};var ri=2;for(;ri!==8;)switch(ri){case 9:ve.J0=27,ri=8;break;case 2:ri=ve.v3(6)<ve.p5(4)?1:5;break;case 1:ve.l9=91,ri=5;break;case 3:ri=ve.v3(3)==ve.p5(5)?9:8;break;case 5:ri=ve.p5(4)==ve.p5(2)?4:3;break;case 4:ve.M$=36,ri=3;break}ve.u_=function(U){for(var e=2;e!==10;)switch(e){case 3:e=i--?8:9;break;case 8:e=i--?6:7;break;case 2:var t,r,s,i;e=1;break;case 9:r=typeof a,e=8;break;case 6:e=i--?13:14;break;case 4:var a="fromCharCode",o="RegExp";e=3;break;case 12:var n,l=0;e=11;break;case 14:U=ve.J2(U,function(h){for(var c=2;c!==13;)switch(c){case 9:m+=t[s][a](h[f]+104),c=8;break;case 8:f++,c=3;break;case 14:return m;case 6:return;case 4:var f=0;c=3;break;case 5:m="",c=4;break;case 3:c=f<h.length?9:7;break;case 1:c=i--?4:5;break;case 7:c=m?14:6;break;case 2:var m;c=1;break}}),e=13;break;case 1:e=i--?4:5;break;case 5:t=ve.F,e=4;break;case 7:s=ve.r9(r,new t[o]("^['-|]"),"S"),e=6;break;case 11:return{h0pDYtM:function(h){for(var c=2;c!==6;)switch(c){case 8:var f=function(x,g){for(var d=2;d!==10;)switch(d){case 6:d=v===0?14:12;break;case 14:p=T,d=13;break;case 13:v++,d=9;break;case 11:return p;case 3:var p,v=0;d=9;break;case 8:var S=t[g[4]](x[g[2]](v),16)[g[3]](2),T=S[g[2]](S[g[5]]-1);d=6;break;case 5:d=typeof g=="undefined"&&typeof U!="undefined"?4:3;break;case 4:g=U,d=3;break;case 9:d=v<x[g[5]]?8:11;break;case 2:d=typeof x=="undefined"&&typeof h!="undefined"?1:5;break;case 1:x=h,d=5;break;case 12:p=p^T,d=13;break}}(void 0,void 0);return f?n:!n;case 9:l=m+6e4,c=8;break;case 3:c=i--?8:9;break;case 4:n=u(m),c=3;break;case 5:c=i--?3:4;break;case 1:c=m>l?5:8;break;case 2:var m=new t[U[0]]()[U[1]]();c=1;break}}};case 13:e=i--?11:12;break}function u(h){for(var c=2;c!==25;)switch(c){case 8:x=U[6],c=7;break;case 17:c=16;break;case 14:c=i--?12:13;break;case 2:var f,m,x,g,d,p,v;c=1;break;case 1:c=i--?4:5;break;case 19:c=p>=0&&h-p<=m?18:15;break;case 11:p=(d||d===0)&&v(d,m),c=10;break;case 4:c=i--?9:3;break;case 6:g=x&&v(x,m),c=14;break;case 20:f=!0,c=19;break;case 27:f=!1,c=26;break;case 12:c=i--?10:11;break;case 9:c=i--?7:8;break;case 15:c=g>=0&&g-h<=m?27:16;break;case 16:return f;case 5:v=t[U[4]],c=4;break;case 10:c=i--?19:20;break;case 13:d=U[7],c=12;break;case 7:c=i--?14:6;break;case 3:m=27,c=9;break;case 18:f=!1,c=17;break;case 26:c=16;break}}}([[-36,-7,12,-3],[-1,-3,12,-20,1,5,-3],[-5,0,-7,10,-39,12],[12,7,-21,12,10,1,6,-1],[8,-7,10,11,-3,-31,6,12],[4,-3,6,-1,12,0],[-50,-47,-55,-1,-5,-6,-49,-3,-56],[]]);ve.g7=function(){return typeof ve.u_.h0pDYtM=="function"?ve.u_.h0pDYtM.apply(ve.u_,arguments):ve.u_.h0pDYtM};ve.i0=function(U){return{c9DQQSZ:function(){var e,t=arguments;switch(U){case 1:e=t[1]>>t[0];break;case 7:e=-t[1]/t[0]/t[3]*t[2]+t[4];break;case 0:e=t[0]|t[1];break;case 4:e=t[1]/t[2]/t[0]+t[4]-t[3];break;case 2:e=t[1]^t[0];break;case 6:e=-t[0]+t[1];break;case 9:e=t[1]/t[0]%t[2];break;case 8:e=t[0]*t[2]+t[1];break;case 3:e=t[0]*t[2]-t[1];break;case 5:e=t[1]-t[0];break}return e},H8Cx$XM:function(e){U=e}}}();ve.U6=function(){return typeof ve.U9.m5J7YaF=="function"?ve.U9.m5J7YaF.apply(ve.U9,arguments):ve.U9.m5J7YaF};ve.A$=function(){return typeof ve.y$.Y8rlfG1=="function"?ve.y$.Y8rlfG1.apply(ve.y$,arguments):ve.y$.Y8rlfG1};function fn(U){function e(u){for(var h=2;h!==5;)switch(h){case 2:var c=[arguments];return c[0][0].Function}}function t(u){for(var h=2;h!==5;)switch(h){case 2:var c=[arguments];return c[0][0].Array}}function r(u){for(var h=2;h!==5;)switch(h){case 2:var c=[arguments];return c[0][0]}}function s(u,h,c,f,m,x){for(var g=2;g!==6;)switch(g){case 3:v[7]="Pro",v[9]="define",v[6]=!1;try{for(var d=2;d!==11;)switch(d){case 6:v[8].set=function(S){for(var T=2;T!==5;)switch(T){case 2:var D=[arguments];v[3][v[0][2]]=D[0][0],T=5;break}},v[8].get=function(){for(var S=2;S!==10;)switch(S){case 14:return function(){for(var D=2;D!==14;)switch(D){case 3:D=v[0][3]===a[86]?9:8;break;case 7:return y[5][v[0][2]].apply(y[5],Array.prototype.slice.call(arguments,a[71]));case 2:var y=[arguments];y[2]=1,y[2]=null,D=4;break;case 4:D=arguments.length>a[86]?3:6;break;case 9:return v[3][v[0][2]].apply(v[4],arguments);case 8:y[5]=arguments[a[86]]===y[2]||arguments[a[86]]===void 0?v[4]:arguments[a[86]],D=7;break;case 6:return v[3][v[0][2]]}};case 6:S=v[0][5]===a[86]?14:13;break;case 12:return;case 11:return v[3][v[0][2]];case 3:T[3]="u",T[1]=T[3],T[1]+=T[6],T[1]+=T[2],S=6;break;case 2:var T=[arguments];T[2]="",T[2]="d",T[6]="ndefine",S=3;break;case 13:S=typeof v[3][v[0][2]]==T[1]?12:11;break}},v[8].enumerable=v[6];try{for(var p=2;p!==3;)switch(p){case 2:v[1]=v[9],v[1]+=v[7],v[1]+=v[2],v[0][0].Object[v[1]](v[5],v[0][4],v[8]),p=3;break}}catch(S){}d=11;break;case 8:d=v[0][5]!==a[86]?7:6;break;case 3:d=v[3].hasOwnProperty(v[0][4])&&v[3][v[0][4]]===v[3][v[0][2]]?9:8;break;case 5:v[3]=[v[4],v[4].prototype][v[0][3]],v[5]=v[0][5]===a[86]?ve:v[3],d=3;break;case 2:v[8]={},v[4]=(0,v[0][1])(v[0][0]),d=5;break;case 9:return;case 7:v[3][v[0][4]]=v[3][v[0][2]],d=6;break}}catch(S){}g=6;break;case 2:var v=[arguments];v[7]="",v[2]="perty",v[7]="",g=3;break}}for(var i=2;i!==64;)switch(i){case 29:a[54]=a[21],a[54]+=a[38],a[16]=a[98],a[16]+=a[65],i=42;break;case 37:o(t,"sort",a[71],a[7],a[86]),i=36;break;case 46:o(n,"substring",a[71],a[16],a[86]),i=45;break;case 15:a[14]="1",a[53]="a",a[98]="",a[98]="l",a[65]="_",a[21]="J",i=22;break;case 45:o(t,"map",a[71],a[54],a[86]),i=65;break;case 38:o(l,"random",a[86],a[1],a[86]),i=37;break;case 49:o(t,"unshift",a[71],a[4],a[86]),i=48;break;case 39:o(r,"Math",a[86],a[82],a[86]),i=38;break;case 54:o(r,"String",a[86],a[3],a[86]),i=53;break;case 7:a[3]="",a[3]="q",a[7]="",a[2]="T",a[7]="B",a[5]="E",a[1]="",i=20;break;case 2:var a=[arguments];a[6]="M",a[9]="",a[4]="A",a[9]="X",a[8]="",a[8]="Z",i=7;break;case 40:var o=function(u,h,c,f,m){for(var x=2;x!==5;)switch(x){case 2:var g=[arguments];s(a[0][0],g[0][0],g[0][1],g[0][2],g[0][3],g[0][4]),x=5;break}};i=39;break;case 52:o(r,"decodeURI",a[86],a[5],a[86]),i=51;break;case 51:o(n,"charCodeAt",a[71],a[9],a[86]),i=50;break;case 65:o(n,"replace",a[71],a[73],a[86]),i=64;break;case 48:o(e,"apply",a[71],a[6],a[86]),i=47;break;case 42:a[80]=a[53],a[80]+=a[14],i=40;break;case 47:o(t,"splice",a[71],a[80],a[86]),i=46;break;case 50:o(n,"split",a[71],a[2],a[86]),i=49;break;case 20:a[1]="",a[1]="p",a[82]="",a[82]="f",a[14]="",i=15;break;case 53:o(n,"fromCharCode",a[86],a[8],a[86]),i=52;break;case 22:a[38]="2",a[55]="9",a[74]="r",a[71]=1,i=33;break;case 36:o(t,"join",a[71],a[98],a[86]),i=54;break;case 33:a[86]=3,a[86]=0,a[73]=a[74],a[73]+=a[55],i=29;break}function n(u){for(var h=2;h!==5;)switch(h){case 2:var c=[arguments];return c[0][0].String}}function l(u){for(var h=2;h!==5;)switch(h){case 1:return c[0][0].Math;case 2:var c=[arguments];h=1;break}}}ve.y$=function(){var U=function(t,r){var s=r&65535,i=r-s;return(i*t|0)+(s*t|0)|0},e=function(t,r,s){for(var i=3432918353,a=461845907,o=s,n=r&-4,l=ve.X().bind(t),u=0;u<n;u+=4){var h=l(u)&255|(l(u+1)&255)<<8|(l(u+2)&255)<<16|(l(u+3)&255)<<24;h=U(h,i),h=(h&131071)<<15|h>>>17,h=U(h,a),o^=h,o=(o&524287)<<13|o>>>19,o=o*5+3864292196|0}switch(h=0,r%4){case 3:h=(l(n+2)&255)<<16;case 2:h|=(l(n+1)&255)<<8;case 1:h|=l(n)&255,h=U(h,i),h=(h&131071)<<15|h>>>17,h=U(h,a),o^=h}return o^=r,o^=o>>>16,o=U(o,2246822507),o^=o>>>13,o=U(o,3266489909),o^=o>>>16,o};return{Y8rlfG1:e}}();ve.P1=function(){return typeof ve.U9.m5LT4vO=="function"?ve.U9.m5LT4vO.apply(ve.U9,arguments):ve.U9.m5LT4vO};ve.M8=function(){return typeof ve.i0.c9DQQSZ=="function"?ve.i0.c9DQQSZ.apply(ve.i0,arguments):ve.i0.c9DQQSZ};ve.F2=function(){return typeof ve.i0.H8Cx$XM=="function"?ve.i0.H8Cx$XM.apply(ve.i0,arguments):ve.i0.H8Cx$XM};ve.U9=function(){function U(n,l,u,h,c){for(var f=2;f!==15;)switch(f){case 13:f=l&&p>0&&ve.X(g,p-1)!==46?12:11;break;case 8:m=ve.l_(g,n,h),x=m.length,f=6;break;case 9:f=h>0?8:19;break;case 17:x=m.length,f=16;break;case 11:return m=ve.l_(g,p,g.length),x=m.length,t.F9(m,x,u);case 2:var m,x,g,d;!d&&(d=r[o([-5,-2,-14,-16,3,-8,-2,-3])]),!s&&(s=typeof d!="undefined"?d[o([-9,-2,2,3,-3,-16,-4,-12])]||" ":""),!i&&(i=typeof d!="undefined"?d[o([-9,1,-12,-11])]:""),g=c?i:s,f=9;break;case 19:f=n===null||n<=0?18:14;break;case 6:return t.F9(m,x,u);case 18:m=ve.l_(g,0,g.length),f=17;break;case 14:var p=g.length-n;f=13;break;case 12:return!1;case 16:return t.F9(m,x,u)}}for(var e=2;e!==3;)switch(e){case 2:var t=ve,r=ve.F,s,i,a={};return{m5LT4vO:function(n,l,u,h){for(var c=2;c!==3;)switch(c){case 2:var f=""+n+l+u+h;c=1;break;case 5:a[f]=U(n,l,u,h),c=4;break;case 1:c=a[f]?4:5;break;case 4:return a[f]}},m5J7YaF:function(n,l,u,h){for(var c=2;c!==1;)switch(c){case 2:return U(n,l,u,h,!0)}}}}function o(n){for(var l=2;l!==7;)switch(l){case 8:return c;case 5:var u=0;l=4;break;case 9:u++,l=4;break;case 2:var h=3,c="";l=5;break;case 4:l=u<n.length?3:8;break;case 3:c+=ve.Z()(n[u]-h+116),l=9;break}}}();function ve(){}ve.v_=function(){return typeof ve.i0.H8Cx$XM=="function"?ve.i0.H8Cx$XM.apply(ve.i0,arguments):ve.i0.H8Cx$XM};ve.c8=function(){return typeof ve.i0.c9DQQSZ=="function"?ve.i0.c9DQQSZ.apply(ve.i0,arguments):ve.i0.c9DQQSZ};ve.i$=function(){return typeof ve.U9.m5LT4vO=="function"?ve.U9.m5LT4vO.apply(ve.U9,arguments):ve.U9.m5LT4vO};ve.s1=function(){return typeof ve.u_.h0pDYtM=="function"?ve.u_.h0pDYtM.apply(ve.u_,arguments):ve.u_.h0pDYtM};ve.F9=function(){return typeof ve.y$.Y8rlfG1=="function"?ve.y$.Y8rlfG1.apply(ve.y$,arguments):ve.y$.Y8rlfG1};ve.J5=function(){return typeof ve.U9.m5J7YaF=="function"?ve.U9.m5J7YaF.apply(ve.U9,arguments):ve.U9.m5J7YaF};function dn(){return"/,%00%5B'%20%0C%3C(p%13&%03?:U%0C%20%18#(%60%03=(;%07%5E%09%0E%009/%7F%07=)8%1CM%0C$=%3C)p=%7C%10g&B&4%001%06t%0F'(%12&%5B'#%18%1F%10t%0C%7B%038%1CZ%1C'%10?%07%05%1F&%06%02%0FM%0B%19)!%04s%04:%04%06%7B%5E%08'-/%06c!&%04%02%1F%03%0B%7F%189%13M.%7F%04%06%03D%0C%20%18#(%60%03=(;%07%5E%0A!9%3C%12%5D%004%04d2T%09'%086%12tq:%12%13=B%08%1E%1B%3C%06t%0F(%01%11r%01%09$%3E6%12tq=%1Ag2A%1C%7F%0C&+p%7C7.%16%1B%5E%09%0E%000%01s%7D%7B%06%3C%3ET%1D%0E~%25%1A%05%17!.%1D%00_%1F%0A%1C6%12tp'(gz%5C%0C$=%3C%12%5E%22b%05%3C~E%1D%0B=%20%01c%7C!/%12%04X%1C%1A%7F;%10c%0F'.%0D%00N%1F%1A%7F?/a=.%068%04A'%1E%1B%3C%06t%0F(%01%11r%01%09$%3E6%12tq=%1Af%04%06&%0A%1C,)%05%13%3E(%132T%09%20%04#(d%14$%06%16%00R%0E%09rc%06%5E1.%12%16~G%15%7F%18#%10%05%0B4%13%0D%04X%1D%0B=%20%13%05%7C9%00%16%00S%09%0E%009/%7F%07=)8%1CM%0C'%25-%04M%22x%04%11%07@%087!%60%07s%04:%06%16%00@'%05%1C;+%60p7%03?:U%0C!%04?)Z):.%10&e%0C$=%3C%1C%7F):%10%03%04%5D&%20&%22.t%07%08%10%02%10G'%20&e+%60%7C8),%03D%0C&%04%18%19d%0C%3E%03%3E%04X%1C%15%00e%07%5Ct%7C)g&%5D%0C$=%3C%1B%60%0B%7D+%0D%10%5B%0C%0B%18,%13%60%17!)%3C%03D%0C!%18%12%1BN%0C%3E%03%3E%04N'~%04/%1Fp=;.%16%03D%0C!%08#)%04%149%1C%1D%00_%1F%0A%1F2%1CZ)7.%02%0CD$%15:=.p);(%3C%03D%0C!%04%25%10%05p%25(%10&e%0C$=%3C%1F%04%17%7C%10%1D&t&%20sf)%05%134%03%3C=%5E%13%0A%1C?+pp=%13g%0CD%0C%08%0C%20%13%60=x)g&M%0C$=%3C%1Cr%1F%09%03%3C=%5E%13%0A%1C?+pp=%13g%0CD%0C%08%0C%20%13%60=x)g&M%0C!%7Bldz/%18y%1B%0Er1%02%0E23%7B%11%043%1B%0ETu%01%1E%10yy/%14%7F%7C/N%0F!(8%0C%5E'%0A%1C%3E%03%5D5/%038%18A'%1A%0C%25(Y%08$%06%16%00%5B%20%05%08%25)Z%137%03%3C=%5E&%0A2d%10%05)8),%00S%09%0E%00?(p)!(;%18%7D%1F%0E%03c%03Z%13%20%13?%10%5D%08%7F%10%3E%06%60%007%04%01)C%0B%09%0B%22%04dt$%07?-M%09%19.%3E%04%60%10y%04g%18%5B%1C7!g%04d%0C%3E%038%18A'%1A%0C%25(Y%08$%0599%5E%1D'%0F,%04%06=.%06?%08T%1D%0E~%22%12q28%07%06%1B%5E%09%0E%000%01s%7D%7B%06%3C%3ET%1D%0E~%25%1A%05=;%13g%0CD$%0As/.t%14$%06%16%00R%0E%09rc%06%5E1.%12%16~G%15%7F%189.%7F%0F%25%10%12%1CT%1D%0E%7F?(%05u&%03%3C=%5E%1D$-z%05%5Eq?%12%13=B%0E%19s9/p%0B%22%13%02%7FY%1F%19%00?.o%0F4%10%02%7F%5D%20%1B26%06Z%0B;(%06%1B%5E%09%0E%000%01s%7D%7B%06%3C%3ET%1D%0E~%25%1A%04%0B%7C)%12%1CN&%7F%1C&(q=.%068%04A'%1E%1B%3C%06t%0F(%01%11r%01%09$%3E6%12tq=%1Ag%18A%1F%7F%04,%13o%0B%22%12%13=B%1C%7Fs!%00t%0F)%06%16%00%5B%20%05%08%25)Z%137%03?%25O%0B7-%60%04s%08:%07/!%02%08%09%0B%22%06t%0F:(%1D%1CY$%1A%7F/%03%5D5/%039%04%5D&%20&%22.r)%1F%03%3C=%5E%13%05&%22%10a%0B')8&@!%0E%08%10%10%60%1F=(8&%07$%1As%20)N%0C%3E%03%3E%04z%16%1E%03&%03%5C%0B%22%13%0D%00%07%08&%7Bd)%05)'%03%3C=%5E%14%1A%04e+o%1F!%03%13%18N%1C%1A%189)%5E%0C%3E%039%18p%144%03&%03%5C%0B4(f%04M%10%0A2#.t%0C%3E%039%08A&~%1B!%1C%7F%0F%25%10%12%1FP%13%20&/.%60%03%3E+%0D:_!%0A&#(%5E%0C%3E%039%04G%1F%7F%7F=(r)%1F%03%3C=%5E%10~%18d%10%7F)%0E)8s%04&%7F%1C,%03%5E2$%1C%12%1C%5D$%0A%7F%25%13%05%03%3E%03%10%0CB%1C%1A2%60)%05)7%03%3C=%5E%13%08%10%11%03%5E2$%1C%12%1C%5D$%0A%7F%25%13%05%03%3E%03%10%0CB%1C%1A2%60)%05)7%039%7B%0Ek%00%20%00yy%01%08%3E%1A%0EP%3C%01%1E%1C3y%01.z%19%1Erv%03%20%0C%7F%1E%10#&:)%5C%20)cgz%05sbzme%06pd%11r%7B%05rcz%7Bz%19tjfr&X&,&=%25D1jfr.R1?+1/%19&%22'rf%10%205)=+Y%22(x6?E7($63%19&%22'rf%1068:08D%20!&%7B)X(jfr.X%22.849_k.%258mjl%16mdx%00k%7Dded%06bam9%25T$!%22:9Cbam1/C7,.0dT*%20mymR=.%224$P%20%7F)%208E%20#),dT*%20mymD0=/'9R)!d6%25Zbam1%25P&?+&%22%19&%22'r%17%1E%0B%22$0c%5E+=?!jY*9j48E$4c%3C$G09j;%25Ce,8'+Nl%7Cded%07l%7Cded%07l(3%1F&U(%0B#7%0Da.%04%20%25(~(%1F%3C7%1Dq5/$%18#%7B%06%07&0%02u5.'%030~,:#6%0DOt%17x9?T%3C%07.%19%09%7D//%0D9&U+%1F%00%0F%09~s%04'%03'n/%17%20%18xm.%01%1D%100y%11.%3E%1B%0Ev2%03%19d#z/*0%19%1ES.%03%1D%00~yw%1F&%0C0%5Cw%03%19%1C9~(%1F%3C7%1Dq5/$%18#x)%3E#%0D%20r%3C%03%7B-)%7B/%0F)%0D%09%032%15%0C%22?z%16%1C#%19%09%7D%20%06%0Em%7C%7B,9)%0D%09%035%1Dx-%3Cnw%0B94%0D%0E?)%09%04#%7B%06%07/%1E%0E%0Fs%01#!)o%06y:%05xe))%02%1F%22m%02%1B)%0D%09%02//xe!~,:#%0D#Pj%02#a8o%03:?%1E%1E%0E)(%0D%1B%25n%12x$%0F%1E%7D/)%12%1F3m%12x%200%1CO&%01'%1B%3CU%16%1C#%19%09%7D%20%06%0Em%7C%7B,9)%0D%09%035%1Dy%1B%7BT%02%1B36xa6/%0C-)%7B(%03%3C7%19f,%01%09%1F/%7C%01u%7C%19#C&%15%09a:gw%1F%3C%0Fxy%3C%14%12%1B%25o%03:?%0Cx%0E1%07%09%1F.%7B%06%07&0%02u5.'%030~/%222%1B0Pp%03%0E%18=z?&%7F%18%0Ev2%01%09%1F=U%0D%1B$4%1D%02?%04%20%25(~)%03%206'%5B2)%0F9%18~,:#%03%02%5B2%17%1C%1B%20T(!=1%09u%00%17%1D%0F:U(!z4%1D%0E0.3%1C9~.%03%07%06%19~6%04!%1B%25n%1D%07z%18!%06t.x9%20~,:#%04%1Dyu,%12%0F&~%03%1F3%0C%1De).#%1C9~)%1F%0D%043~6%04!%1B3Uv%030%00%0DO3)%09%1C9~)%0F%3C6yf1%1B%02%1F%22m%02%18-%03'%5B?)%1D%139V%1D=%221%0D%5B3/#%1C9~)%03:%0Fx%02-/%0F9%18~,:#%00yet%17%029%09T(ty6xa%3C%04#%22#a%02%1B%204%0D%025%14x%139~%00%0B?%0C%1DOp.x90~,:#%03%0Fm%01%04#%22#a%02%1B%204%0D%025%14x%139~%00%0B?%0C%1DOp.x90~)%7Cs%7B%07%5D%10~%04%11%0FC%0A%09-,%06c%0C4%04%11)%07%09%19%0Ff%04%5D%1Cxc%1B%25Y%20d%7B%7Bz%19ud%04:$R"}var yi;ve.e0=function(U){if(ve)return ve.g7(U)};ve.R$=function(U){if(ve)return ve.s1(U)};ve.C7=function(U){if(ve&&U)return ve.g7(U)};ve.L8=function(U){var e=ve,t,r,s;t=1846270584,r=487014401,s=2;for(var i=1;e.A$(i.toString(),i.toString().length,44348)!==t;i++){if(e||U)return e.s1(U);s+=2}if(e.A$(s.toString(),s.toString().length,89902)!==r&&e&&U)return e.s1(U)};ve.P2=function(U){var e=ve,t,r,s;t=-1240615141,r=353348421,e.F2(0),s=e.c8("2",2);for(var i=1;e.F9(i.toString(),i.toString().length,4014)!==t;i++){if(e||U)return e.g7(U);e.F2(1),s+=e.c8(32,"2")}if(e.F9(s.toString(),s.toString().length,22785)!==r&&(e||U)||e&&U)return e.g7(U)};yi=U=>{var e=ve,t,r,s,i,a,o,n,l,u;t="p",t+="ack",t+="ag",t+="eInfo",r="v",r+="3",s="p",s+="5",i="pack",i+="a",i+="g",i+="eInfo",a="bitJ",a+="oi",a+="n",e.z5=function(c){if(e&&c)return e.g7(c)},e.Q0=function(c){if(e)return e.g7(c)},e.l8=function(c){var f,m,x;f=2015574031,m=245296447,x=2;for(var g=1;e.F9(g.toString(),g.toString().length,"7241">>32)!==f;g++){if(e||c)return e.g7(c);x+=2}if(e.F9(x.toString(),x.toString().length,90294)!==m&&e&&c)return e.g7(c)},e.i8=function(c){if(e)return e.s1(c)},e.D1=function(c){if(e)return e.s1(c)},e.X4=function(c){if(e)return e.s1(c)},o=()=>{var c,f,m,x,g,d,p;c="bdc",c+="5",f="v",f+="3",e.h3=function(S){var T,D,y;T=-1552493782,D=1873760716,y=2;for(var b=1;e.A$(b.toString(),b.toString().length,74335)!==T;b++){if(e||S)return e.g7(S);y+=2}if(e.A$(y.toString(),y.toString().length,99346)!==D&&e&&S)return e.g7(S)},m=1544891580,x=-353996442,g=2;for(var v="1"^0;e.F9(v.toString(),v.toString().length,56347)!==m;v++)d=Object[e.h3("bdc5")?"v3":""]({token:e[e.P2("bdc5")?"v3":""](e.X4("")?1:4)}),g+=2;return e.F9(g.toString(),g.toString().length,17290)!==x&&(p="b",p+="d",p+="c5",d=Object[e.h3("")?p:"bdc5"]({token:e[e.P2(""),""](e.X4("")?0:7)})),d=Object[e.h3("39ec")?"":"freeze"]({token:e[e.P2("31f8")?f:""](e.X4(c)?"2"*1:6)}),d[e.L8("19a5")?"token":""]},n=1001890473,l=-824055785,u=2;for(var h=1;e.A$(h.toString(),h.toString().length,87415)!==n;h++)U[e.D1("6697")?"":"getLicenseKey"]=o,u+=2;e.F9(u.toString(),u.toString().length,41628)!==l&&(U[e.D1("")?"getLicenseKey":""]=o),U[e.i8("24fc")?a:""]=function(c,f){var m,x,g,d,p,v,S,T,D,y,b,w,A,_,P,I,O,R,C,k;if(m="9f",m+="69",x="6",x+="1d7",g="5",g+="1",g+="98",d="7e",d+="4c",e.x5=function(W){var V,Y,Q;V=576632520,Y=-2086186002,Q=2;for(var z="1"-0;e.A$(z.toString(),z.toString().length,75124)!==V;z++){if(e||W)return e.g7(W);Q+=2}if(e.F9(Q.toString(),Q.toString().length,5124)!==Y&&e&&W)return e.g7(W)},e.Q5=function(W){if(e)return e.s1(W)},e.B1=function(W){if(e)return e.s1(W)},p=e.C7("32e1")?"5637735806"-0:1413782855,v=-1120342549,S=-(e.B1("6677")?3500772419:1801433227),T=-(e.Q5("6958")?3713712856:1427510767),D=1547667003,y=929653076,!(e.P1(0,!e.x5(d),662292)!==p&&e.P1(0,!e.R$(g),147388)!==v&&e.i$(11,!0,e.l8("9f29")?551001:392221)!==S&&e.i$(21,!!e.e0(x),e.Q0("85e9")?219056:947430)!==T&&e.i$(13,!0,324803)!==D&&e.i$(e.z5(m)?12:59,!0,932548)!==y)){if(!(c instanceof Array)){e.F2(2),b=e.c8(0,"147598280"),w=172939777,A=2;for(var F="1"|0;e.A$(F.toString(),F.toString().length,9095)!==b;F++)throw new Error(e[""](6));if(e.F9(A.toString(),A.toString().length,22531)!==w)throw e.F2(0),new Error(e.p5(e.c8("0",0)))}_=-1617170711,P=591065555,I=2;for(var M=1;e.F9(M.toString(),M.toString().length,69639)!==_;M++){O="log1",O+="0",e.F2(3);var L=e.M8(88,620,8);e.F2(4);var E=e.M8(2,12,6,13,13);R=ai(L,Math[O](Math.log10(ai(E,f/0)))),I+=2}if(e.F9(I.toString(),I.toString().length,94273)!==P){C="l",C+="o",C+="g10",k="fl",k+="oor",e.v_(5);var H=e.c8(30,40);e.F2(6);var N=e.M8(16,18);e.v_(7);var j=e.M8(5,15,15,1,46);R=ai(H,Math[k](Math[C](ai(N,f-j))))}return c.reduce((W,V)=>{var Y,Q,z;Y=311601496,Q=-1545535430,z=2;for(var $=1;e.A$($.toString(),$.toString().length,22945)!==Y;$++)return e.F2(8),e.M8(W,V,R);if(e.F9(z.toString(),z.toString().length,96524)!==Q)return e.F2(9),e.c8(R,W,V)},0)}},U[i]=Object.freeze(Object.assign({domainLock:e.p5(5),expirationDate:e[s](4),filesystem:e.p5(6),iframeLock:e.v3("3"<<0),keyfileVersion:e[r](1)},U[t]))};typeof window!="undefined"&&(window.getLicenseKey=yi);const xn=yi;export{mn as a,xn as g,Yt as n};
